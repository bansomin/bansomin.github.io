!function(){"use strict";class e{constructor(){}static init(){Laya.ClassUtils.regClass}}e.width=750,e.height=1334,e.scaleMode="fixedwidth",e.screenMode="none",e.alignV="top",e.alignH="left",e.startScene="main/Attention.scene",e.sceneRoot="",e.debug=!1,e.stat=!1,e.physicsDebug=!1,e.exportSceneToJson=!0,e.init();class t extends Laya.EventDispatcher{constructor(){super(),this._retryMaxCnt=3}destroy(){this.offAll(Laya.Event.COMPLETE),this.offAll(Laya.Event.ERROR),this._hr&&(this._hr.offAllCaller(this),this._hr=null),this._retryCnt=null,this._retryMaxCnt=null}setRetryInfo(e=3){this._retryMaxCnt=e}send(e,t=null,i="get",n="text",s=null){this._retryCnt=0,this._url=e,this._data=t,this._method=i,this._responseType=n,this._headers=s,this.sendNow(e,t,i,n,s)}sendNow(e,t=null,i="get",n="text",s=null){this._hr&&this._hr.offAllCaller(this);let a=this._hr=new Laya.HttpRequest;a.http.timeout=5e3,this._retryCnt++,a.once(Laya.Event.ERROR,this,this.onError),a.once(Laya.Event.COMPLETE,this,this.onComplete),console.log("http请求:"+e+", retry="+this._retryCnt),a.send(e,t,i,n,s)}onError(e){this._retryCnt<this._retryMaxCnt?Laya.systemTimer.frameOnce(2,this,this.sendNow,[this._url,this._data,this._method,this._responseType,this._headers]):this.event(Laya.Event.ERROR,e)}onComplete(e){this.event(Laya.Event.COMPLETE,e)}}var i;!function(e){var i=Laya.Sprite,n=Laya.Text,s=Laya.Event,a=Laya.Pool,o=Laya.Browser;function findChildByPath(e,t){if(!e)return null;let i=t.split("."),n=e;for(let e=0;e<i.length;e++)if(!(n="_"==i[e]?n.parent:n.getChildByName(i[e])))return null;return n}function stopPart(e){e.particleSystem.stop();for(let t=0;t<e.numChildren;t++)e.getChildAt(t).particleSystem.stop()}let h;e.channel="none",e.ver=0,e.useWorker=!0,e.uid="-1",e.sessionkey="",e.focus=!0,e.videoAdShow=!1,e.token="",e.isTourist="true",e.stageScale=1,e.transactionId="",e.init=function(t="none"){if(console.log(">>>:初始化ZY包，当前渠道:"+t),e.channel=t,e.key="49c36198149c7366553160d5263d2cc9",e.noice=e.md5(Laya.Browser.now()+","+Math.random()),"wx"===t||"zj"===t||"oppo"===t||"vivo"===t||"qq"===t||"bd"===t){let i;if("wx"===t?i=wx:"zj"===t?i=window.tt:"oppo"===t||"vivo"==t?i=window.qg:"qq"===t?i=window.qq:"bd"===t&&(i=window.swan),i.setKeepScreenOn&&i.setKeepScreenOn({keepScreenOn:!0}),"oppo"===t&&(i.setLoadingProgress({progress:0}),i.reportMonitor("game_scene",0)),"wx"===t||"zj"===t||"qq"==t||"bd"===t){let e=i.getSystemInfoSync();console.log(JSON.stringify(e))}"wx"!==t&&"vivo"!==t&&"qq"!==t&&"bd"!==t||(i.onAudioInterruptionBegin(()=>{console.log("失去焦点"),e.focus=!1,e.eventBus.event(Laya.Event.BLUR)}),i.onAudioInterruptionEnd(()=>{console.log("获得焦点"),e.focus=!0,e.eventBus.event(Laya.Event.FOCUS)})),i.onShow(()=>{console.log("获得焦点"),e.focus=!0,e.eventBus.event(Laya.Event.FOCUS)}),i.onHide(()=>{console.log("失去焦点"),e.focus=!1,e.eventBus.event(Laya.Event.BLUR)})}else"yl"===t||(Laya.stage.on(Laya.Event.FOCUS,this,()=>{e.eventBus.event(Laya.Event.FOCUS)}),Laya.stage.on(Laya.Event.BLUR,this,()=>{e.eventBus.event(Laya.Event.BLUR)}));e.stage.init(),e.sound.init(),e.touchManager.init(),e.timerManager.init()},e.reportEvent=function(t,i=null){"zj"===e.channel?(i=i||{},window.tt.reportAnalytics(t,i),console.log("reportAnalytics:  ",t,i)):"bd"===e.channel&&(i=i||{},window.swan.reportAnalytics(t,i),console.log("reportAnalytics:  ",t,i))},e.exitMiniProgram=function(){"wx"===e.channel&&wx.exitMiniProgram({})},e.logined=!1,e.hasRequsetLogin=!0,e.login=function(t){if(e.hasRequsetLogin=!1,e.msg.showFull2("登录中,请稍后..."),"wx"===e.channel)window.wx.login({success(i){i.code?(console.log("登陆成功:"+i.code),e.requestLogin(t,e.channel,i.code)):(e.hasRequsetLogin=!0,e.msg.show("登陆失败，数据将在下次登陆时保存"),e.eventBus.event("LOGINFAIL"))},fail(t){e.hasRequsetLogin=!0,e.msg.show("登陆失败，数据将在下次登陆时保存"),e.eventBus.event("LOGINFAIL")}});else if("qq"==e.channel)window.qq.login({success(i){i.code?(console.log("登陆成功:"+i.code),e.requestLogin(t,e.channel,i.code)):(e.hasRequsetLogin=!0,e.msg.show("登陆失败，数据将在下次登陆时保存"),e.eventBus.event("LOGINFAIL"))},fail(t){e.hasRequsetLogin=!0,e.msg.show("登陆失败，数据将在下次登陆时保存"),e.eventBus.event("LOGINFAIL")}});else if("zj"===e.channel)window.tt.login({force:!1,success:function(i){e.requestLogin(t,e.channel,i.code,i.anonymousCode)},fail:function(t){e.hasRequsetLogin=!0,e.msg.show("登陆失败，数据将在下次登陆时保存"),e.eventBus.event("LOGINFAIL")}});else if("vivo"==e.channel||"oppo"==e.channel)window.qg.login({success:function(i){console.log(">>>:login接口返回信息:",i),e.isTourist=i.isTourist,e.token=i.token,e.requestLogin(t,e.channel,i.token)},fail:function(t){console.log(">>>:登陆失败",t),e.hasRequsetLogin=!0,e.msg.hide(),e.eventBus.event("LOGINFAIL")}});else if("hw"===e.channel){if(Laya.Browser.window.superSDK.isReady()){console.log("sdk准备完成！！");let e=this;Laya.Browser.window.superSDK.getUser(function(i){console.log("获取用户信息！！"),e.requestLoginHw(t,i)})}}else if("bd"===e.channel)window.swan.login({success:function(i){e.isTourist="false",i.code?(console.log("登陆成功:"+i.code),e.requestLogin(t,e.channel,i.code)):(e.hasRequsetLogin=!0,e.msg.hide(),e.eventBus.event("LOGINFAIL"))},fail:function(t){console.log(">>>:登陆失败",t),e.hasRequsetLogin=!0,e.msg.hide(),e.eventBus.event("LOGINFAIL")}});else if("si399"===e.channel){let n=window.location.search;var i=(n=n.substring(1,n.length)).substring(1).split("&");let s=[];for(let e=0;e<i.length;e++)s[e]=i[e].split("=")[1];e.requestLogin4399(t,s)}else e.channel},e.requestLogin4399=function(i,n){let s={};Laya.systemTimer.once(5100,s,()=>{e.hasRequsetLogin=!0,e.msg.show("登陆失败，数据将在下次登陆时保存"),e.eventBus.event("LOGINFAIL")});let a=Laya.LocalStorage.getItem(i+"zyClient");a&&""!=a||(a=e.md5(Laya.Browser.now()+","+Math.random()),Laya.LocalStorage.setItem(i+"zyClient",a));let o=Laya.Browser.now(),h=Math.floor(o/1e3);console.log("noice="+e.noice+",client="+a);let l="hwlogin?sha="+e.md5(e.md5(e.key+e.noice)+o+":"+a+"::"+e.noice)+"&noice="+e.noice+"&time="+o+"&client="+a;l=l+"&token="+n.token+"&game="+i+"&channel=si399&openid="+n.openid+"&gameid="+n.cpInfo.gameid+"&channelkey="+n.cpInfo.channelkey+"&tspan="+h;let r=new t;r.once(Laya.Event.ERROR,this,t=>{console.log(">>>:login error:"+JSON.stringify(t)),Laya.systemTimer.clearAll(s),e.hasRequsetLogin=!0,e.msg.show("登陆失败，数据将在下次登陆时保存"),e.eventBus.event("LOGINFAIL")}),r.once(Laya.Event.COMPLETE,this,t=>{console.log(">>>:login response:"+JSON.stringify(t)),Laya.systemTimer.clearAll(s),e.hasRequsetLogin=!0,0==t.code&&t.data?(t=t.data).uid&&""!=t.uid?(e.uid=t.uid,e.logined=!0,e.loginData=t.dat,e.gid=t.gid,e.sec=t.sec,t.session_key&&(e.sessionkey=t.session_key),e.msg.hide(),e.eventBus.event("LOGINED",[t])):(console.log("登陆失败1"),e.uid="-1",t.anonymous_openid&&""!=t.anonymous_openid?e.msg.show("游客登录成功"):e.msg.show("登陆失败1，数据将在下次登陆时保存"),e.eventBus.event("LOGINFAIL")):(console.log("登陆失败2"),e.msg.show("登陆失败2，数据将在下次登陆时保存"),e.eventBus.event("LOGINFAIL"))}),console.log(">>>:login:"+l),r.send("https://api.smartjoygames.com/zy/"+l,"","get","json")},e.requestLoginHw=function(i,n){let s={};Laya.systemTimer.once(5100,s,()=>{e.hasRequsetLogin=!0,e.msg.show("登陆失败，数据将在下次登陆时保存"),e.eventBus.event("LOGINFAIL")});let a=Laya.LocalStorage.getItem(i+"zyClient");a&&""!=a||(a=e.md5(Laya.Browser.now()+","+Math.random()),Laya.LocalStorage.setItem(i+"zyClient",a));let o=Laya.Browser.now(),h=Math.floor(o/1e3);console.log("noice="+e.noice+",client="+a);let l="hwlogin?sha="+e.md5(e.md5(e.key+e.noice)+o+":"+a+"::"+e.noice)+"&noice="+e.noice+"&time="+o+"&client="+a;l=l+"&token="+n.token+"&game="+i+"&channel=hw&openid="+n.openid+"&gameid="+n.cpInfo.gameid+"&channelkey="+n.cpInfo.channelkey+"&tspan="+h;let r=new t;r.once(Laya.Event.ERROR,this,t=>{console.log(">>>:login error:"+JSON.stringify(t)),Laya.systemTimer.clearAll(s),e.hasRequsetLogin=!0,e.msg.show("登陆失败，数据将在下次登陆时保存"),e.eventBus.event("LOGINFAIL")}),r.once(Laya.Event.COMPLETE,this,t=>{console.log(">>>:login response:"+JSON.stringify(t)),Laya.systemTimer.clearAll(s),e.hasRequsetLogin=!0,0==t.code&&t.data?(t=t.data).uid&&""!=t.uid?(e.uid=t.uid,e.logined=!0,e.loginData=t.dat,e.gid=t.gid,e.sec=t.sec,t.session_key&&(e.sessionkey=t.session_key),e.msg.hide(),e.eventBus.event("LOGINED",[t])):(console.log("登陆失败1"),e.uid="-1",t.anonymous_openid&&""!=t.anonymous_openid?e.msg.show("游客登录成功"):e.msg.show("登陆失败1，数据将在下次登陆时保存"),e.eventBus.event("LOGINFAIL")):(console.log("登陆失败2"),e.msg.show("登陆失败2，数据将在下次登陆时保存"),e.eventBus.event("LOGINFAIL"))}),console.log(">>>:login:"+l),r.send("https://api.smartjoygames.com/zy/"+l,"","get","json")},e.requestLogin=function(i,n,s,a=""){let o={};Laya.systemTimer.once(5100,o,()=>{e.hasRequsetLogin=!0,e.msg.show("登陆失败，数据将在下次登陆时保存"),e.eventBus.event("LOGINFAIL")});let h=Laya.LocalStorage.getItem(i+"zyClient");h&&""!=h||(h=e.md5(Laya.Browser.now()+","+Math.random()),Laya.LocalStorage.setItem(i+"zyClient",h));let l=Laya.Browser.now(),r="";if("wx"==n||"qq"==n){let e=wx.getLaunchOptionsSync();e&&e.query&&e.query.gid&&(r=e.query.gid)}console.log("noice="+e.noice+",client="+h);let p="login?sha="+e.md5(e.md5(e.key+e.noice)+l+":"+h+"::"+e.noice)+"&noice="+e.noice+"&time="+l+"&client="+h;p=p+"&code="+s+"&game="+i+"&channel="+n+"&anonymous_code="+a+"&parent="+r;let d=new t;d.once(Laya.Event.ERROR,this,t=>{console.log(">>>:login error:"+JSON.stringify(t)),Laya.systemTimer.clearAll(o),e.hasRequsetLogin=!0,e.msg.show("登陆失败，数据将在下次登陆时保存"),e.eventBus.event("LOGINFAIL")}),d.once(Laya.Event.COMPLETE,this,t=>{console.log(">>>:login response:"+JSON.stringify(t)),Laya.systemTimer.clearAll(o),e.hasRequsetLogin=!0,0==t.code&&t.data?(t=t.data).openid&&""!=t.openid?(e.uid=t.openid,e.logined=!0,e.loginData=t.dat,e.gid=t.gid,e.sec=t.sec,t.session_key&&(e.sessionkey=t.session_key),e.msg.hide(),e.eventBus.event("LOGINED",[t])):(console.log("登陆失败1"),e.uid="-1",t.anonymous_openid&&""!=t.anonymous_openid?e.msg.show("游客登录成功"):e.msg.show("登陆失败1，数据将在下次登陆时保存"),e.eventBus.event("LOGINFAIL")):(console.log("登陆失败2"),e.msg.show("登陆失败2，数据将在下次登陆时保存"),e.eventBus.event("LOGINFAIL"))}),console.log(">>>:login:"+p),d.send("https://api.smartjoygames.com/zy/"+p,"","get","json")},e.Channel={wx:"wx",zj:"zj",qq:"qq",oppo:"oppo",vivo:"vivo",mz:"mz",bd:"bd",si399:"si399"},e.codeStr=function(e){let t=(e=(e=(e=(e=(e=e.replace(/:/g,"\r")).replace(/ /g,"")).replace(/"/g,"\n")).replace(/'/g,"\n")).replace(/,/g," ")).length,i="";for(;t>10;)t-=10,i+=e.substr(t,10);t>0&&(i+=e.substr(0,t)),t=i.length;let n="";for(;t>3;)t-=3,n+=i.substr(t,3);return t>0&&(n+=i.substr(0,t)),n},e.findChild=function(e,t){return e.name==t?e:function _findChild(e,t){for(var i=[],n=0;n<e.length;n++){var s=e[n];if(s.name==t)return s;s.numChildren&&(i=i.concat(s._children))}return i.length?_findChild(i,t):null}(e._children,t)},e.findParent=function findParent(e,t){return e.parent?e.parent.name==t?e.parent:findParent(e.parent,t):null},e.shuffle=function(e){for(var t,i,n=e.length;n;)i=Math.floor(Math.random()*n--),t=e[n],e[n]=e[i],e[i]=t},e.findChildByPath=findChildByPath,e.addScript3D=function(e,t,i){let n=findChildByPath(e,t);return n?n.addComponent(i):null},e.stopPart=stopPart,e.playPart=function(e){stopPart(e),e.particleSystem.play();for(let t=0;t<e.numChildren;t++)e.getChildAt(t).particleSystem.play()},e.setCollisionGroup=function setCollisionGroup(e,t,i=0){let n;if((n=e.getComponent(Laya.PhysicsCollider))?(n.collisionGroup=t,i>0&&(n.canCollideWith=i)):(n=e.getComponent(Laya.Rigidbody3D))&&(n.collisionGroup=t,i>0&&(n.canCollideWith=i)),e.numChildren>0)for(let i=0;i<e.numChildren;i++)setCollisionGroup(e.getChildAt(i),t)},e.getNodeByWeight=function(e,t="weight"){let i=0;for(let n=0;n<e.length;n++){const s=e[n];s&&s[t]&&(i+=s[t])}let n=Math.random()*i;for(let s=0;s<e.length;s++){const a=e[s];if(a&&a[t]&&n>=(i-=a[t]))return a}return console.error("权重算法有问题，没有随机出合法值!!!!!!"),e[0]},e.setCollisionGroupSingle=function(t,i,n,s=0){let a;if(a=i?e.findChildByPath(t,i):t){let e;(e=a.getComponent(Laya.PhysicsCollider))?(e.collisionGroup=n,s>0&&(e.canCollideWith=s)):(e=a.getComponent(Laya.Rigidbody3D))&&(e.collisionGroup=n,s>0&&(e.canCollideWith=s))}},e.disableCollider=function disableCollider(e){let t;if((t=e.getComponent(Laya.PhysicsCollider))?t.enabled=!1:(t=e.getComponent(Laya.Rigidbody3D))&&(t.enabled=!1),e.numChildren>0)for(let t=0;t<e.numChildren;t++)disableCollider(e.getChildAt(t))},e.activeCollider=function activeCollider(e){let t;if((t=e.getComponent(Laya.PhysicsCollider))?t.enabled=!0:(t=e.getComponent(Laya.Rigidbody3D))&&(t.enabled=!0),e.numChildren>0)for(let t=0;t<e.numChildren;t++)activeCollider(e.getChildAt(t))},e.clearArray=function(e){if(e&&e instanceof Array)for(;e.length>0;)e.pop()},e.posSprite3D=function(e,t,i,n,s=!0){s?(e.transform.localPosition.setValue(t,i,n),e.transform.localPosition=e.transform.localPosition):(e.transform.position.setValue(t,i,n),e.transform.position=e.transform.position)},e.eventBus=new Laya.EventDispatcher,function(e){e[e.UNDER_3D=0]="UNDER_3D",e[e.D3=1]="D3",e[e.BOTTOM=2]="BOTTOM",e[e.MIDDLE=3]="MIDDLE",e[e.TOP=4]="TOP"}(h=e.Layer||(e.Layer={}));var l=new class{constructor(){this.hexcase=0,this.b64pad="",this.chrsz=8}hex_md5(e){return this.binl2hex(this.core_md5(this.str2binl(e),e.length*this.chrsz))}b64_md5(e){return this.binl2b64(this.core_md5(this.str2binl(e),e.length*this.chrsz))}str_md5(e){return this.binl2str(this.core_md5(this.str2binl(e),e.length*this.chrsz))}hex_hmac_md5(e,t){return this.binl2hex(this.core_hmac_md5(e,t))}b64_hmac_md5(e,t){return this.binl2b64(this.core_hmac_md5(e,t))}str_hmac_md5(e,t){return this.binl2str(this.core_hmac_md5(e,t))}core_md5(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var i=1732584193,n=-271733879,s=-1732584194,a=271733878,o=0;o<e.length;o+=16){var h=i,l=n,r=s,p=a;i=this.md5_ff(i,n,s,a,e[o+0],7,-680876936),a=this.md5_ff(a,i,n,s,e[o+1],12,-389564586),s=this.md5_ff(s,a,i,n,e[o+2],17,606105819),n=this.md5_ff(n,s,a,i,e[o+3],22,-1044525330),i=this.md5_ff(i,n,s,a,e[o+4],7,-176418897),a=this.md5_ff(a,i,n,s,e[o+5],12,1200080426),s=this.md5_ff(s,a,i,n,e[o+6],17,-1473231341),n=this.md5_ff(n,s,a,i,e[o+7],22,-45705983),i=this.md5_ff(i,n,s,a,e[o+8],7,1770035416),a=this.md5_ff(a,i,n,s,e[o+9],12,-1958414417),s=this.md5_ff(s,a,i,n,e[o+10],17,-42063),n=this.md5_ff(n,s,a,i,e[o+11],22,-1990404162),i=this.md5_ff(i,n,s,a,e[o+12],7,1804603682),a=this.md5_ff(a,i,n,s,e[o+13],12,-40341101),s=this.md5_ff(s,a,i,n,e[o+14],17,-1502002290),n=this.md5_ff(n,s,a,i,e[o+15],22,1236535329),i=this.md5_gg(i,n,s,a,e[o+1],5,-165796510),a=this.md5_gg(a,i,n,s,e[o+6],9,-1069501632),s=this.md5_gg(s,a,i,n,e[o+11],14,643717713),n=this.md5_gg(n,s,a,i,e[o+0],20,-373897302),i=this.md5_gg(i,n,s,a,e[o+5],5,-701558691),a=this.md5_gg(a,i,n,s,e[o+10],9,38016083),s=this.md5_gg(s,a,i,n,e[o+15],14,-660478335),n=this.md5_gg(n,s,a,i,e[o+4],20,-405537848),i=this.md5_gg(i,n,s,a,e[o+9],5,568446438),a=this.md5_gg(a,i,n,s,e[o+14],9,-1019803690),s=this.md5_gg(s,a,i,n,e[o+3],14,-187363961),n=this.md5_gg(n,s,a,i,e[o+8],20,1163531501),i=this.md5_gg(i,n,s,a,e[o+13],5,-1444681467),a=this.md5_gg(a,i,n,s,e[o+2],9,-51403784),s=this.md5_gg(s,a,i,n,e[o+7],14,1735328473),n=this.md5_gg(n,s,a,i,e[o+12],20,-1926607734),i=this.md5_hh(i,n,s,a,e[o+5],4,-378558),a=this.md5_hh(a,i,n,s,e[o+8],11,-2022574463),s=this.md5_hh(s,a,i,n,e[o+11],16,1839030562),n=this.md5_hh(n,s,a,i,e[o+14],23,-35309556),i=this.md5_hh(i,n,s,a,e[o+1],4,-1530992060),a=this.md5_hh(a,i,n,s,e[o+4],11,1272893353),s=this.md5_hh(s,a,i,n,e[o+7],16,-155497632),n=this.md5_hh(n,s,a,i,e[o+10],23,-1094730640),i=this.md5_hh(i,n,s,a,e[o+13],4,681279174),a=this.md5_hh(a,i,n,s,e[o+0],11,-358537222),s=this.md5_hh(s,a,i,n,e[o+3],16,-722521979),n=this.md5_hh(n,s,a,i,e[o+6],23,76029189),i=this.md5_hh(i,n,s,a,e[o+9],4,-640364487),a=this.md5_hh(a,i,n,s,e[o+12],11,-421815835),s=this.md5_hh(s,a,i,n,e[o+15],16,530742520),n=this.md5_hh(n,s,a,i,e[o+2],23,-995338651),i=this.md5_ii(i,n,s,a,e[o+0],6,-198630844),a=this.md5_ii(a,i,n,s,e[o+7],10,1126891415),s=this.md5_ii(s,a,i,n,e[o+14],15,-1416354905),n=this.md5_ii(n,s,a,i,e[o+5],21,-57434055),i=this.md5_ii(i,n,s,a,e[o+12],6,1700485571),a=this.md5_ii(a,i,n,s,e[o+3],10,-1894986606),s=this.md5_ii(s,a,i,n,e[o+10],15,-1051523),n=this.md5_ii(n,s,a,i,e[o+1],21,-2054922799),i=this.md5_ii(i,n,s,a,e[o+8],6,1873313359),a=this.md5_ii(a,i,n,s,e[o+15],10,-30611744),s=this.md5_ii(s,a,i,n,e[o+6],15,-1560198380),n=this.md5_ii(n,s,a,i,e[o+13],21,1309151649),i=this.md5_ii(i,n,s,a,e[o+4],6,-145523070),a=this.md5_ii(a,i,n,s,e[o+11],10,-1120210379),s=this.md5_ii(s,a,i,n,e[o+2],15,718787259),n=this.md5_ii(n,s,a,i,e[o+9],21,-343485551),i=this.safe_add(i,h),n=this.safe_add(n,l),s=this.safe_add(s,r),a=this.safe_add(a,p)}return Array(i,n,s,a)}md5_cmn(e,t,i,n,s,a){return this.safe_add(this.bit_rol(this.safe_add(this.safe_add(t,e),this.safe_add(n,a)),s),i)}md5_ff(e,t,i,n,s,a,o){return this.md5_cmn(t&i|~t&n,e,t,s,a,o)}md5_gg(e,t,i,n,s,a,o){return this.md5_cmn(t&n|i&~n,e,t,s,a,o)}md5_hh(e,t,i,n,s,a,o){return this.md5_cmn(t^i^n,e,t,s,a,o)}md5_ii(e,t,i,n,s,a,o){return this.md5_cmn(i^(t|~n),e,t,s,a,o)}core_hmac_md5(e,t){var i=this.str2binl(e);i.length>16&&(i=this.core_md5(i,e.length*this.chrsz));for(var n=Array(16),s=Array(16),a=0;a<16;a++)n[a]=909522486^i[a],s[a]=1549556828^i[a];var o=this.core_md5(n.concat(this.str2binl(t)),512+t.length*this.chrsz);return this.core_md5(s.concat(o),640)}safe_add(e,t){var i=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(i>>16)<<16|65535&i}bit_rol(e,t){return e<<t|e>>>32-t}str2binl(e){for(var t=Array(),i=(1<<this.chrsz)-1,n=0;n<e.length*this.chrsz;n+=this.chrsz)t[n>>5]|=(e.charCodeAt(n/this.chrsz)&i)<<n%32;return t}binl2str(e){for(var t="",i=(1<<this.chrsz)-1,n=0;n<32*e.length;n+=this.chrsz)t+=String.fromCharCode(e[n>>5]>>>n%32&i);return t}binl2hex(e){for(var t=this.hexcase?"0123456789ABCDEF":"0123456789abcdef",i="",n=0;n<4*e.length;n++)i+=t.charAt(e[n>>2]>>n%4*8+4&15)+t.charAt(e[n>>2]>>n%4*8&15);return i}binl2b64(e){for(var t="",i=0;i<4*e.length;i+=3)for(var n=(e[i>>2]>>i%4*8&255)<<16|(e[i+1>>2]>>(i+1)%4*8&255)<<8|e[i+2>>2]>>(i+2)%4*8&255,s=0;s<4;s++)8*i+6*s>32*e.length?t+=this.b64pad:t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(n>>6*(3-s)&63);return t}};e.md5=l.hex_md5.bind(l);class r{constructor(){this._hasInited=!1}init(){if(this._hasInited)throw"init方法无需调用，框架底层会自动调用"}}let p;!function(e){e[e.FULL=0]="FULL",e[e.BOX=1]="BOX",e[e.CUSTOM1=2]="CUSTOM1",e[e.CUSTOM2=3]="CUSTOM2",e[e.CUSTOM3=4]="CUSTOM3"}(p=e.LoadingUIStyle||(e.LoadingUIStyle={})),e.preload=function(t,i,n,s){"wx"===e.channel||"zj"===e.channel?Laya.MiniAdpter.nativefiles=t:"oppo"===e.channel?Laya.QGMiniAdapter.nativefiles=t:"vivo"===e.channel?Laya.VVMiniAdapter.nativefiles=t:"qq"===e.channel?Laya.QQMiniAdapter.nativefiles=t:"bd"===e.channel&&(Laya.BMiniAdapter.nativefiles=t),e.stage.setLoadingUI(s),t&&t.length>0?Laya.loader.load(t,Laya.Handler.create(null,()=>{s.init(),e.stage.showLoading(""),n&&n.call(i)})):(s.init(),e.stage.showLoading(""),Laya.systemTimer.frameOnce(1,this,()=>{n&&n.call(i)}))},e.load=function(t,i,n){e.stage.load(t,i,n)},e.bindSceneUI=function(t,i,n){e.stage.bindSceneUI(t,i,n)};class d{static getVector3(e=0,t=0,i=0){return d.vector3.setValue(e,t,i),d.vector3}static getVector2(e=0,t=0){return d.vector2.setValue(e,t),d.vector2}static getVector4(e=0,t=0,i=0,n=0){return d.vector4.setValue(e,t,i,n),d.vector4}static getPoint(e=0,t=0){return d.point.setTo(e,t),d.point}}d.vector3=new Laya.Vector3,d.UP=new Laya.Vector3(0,1,0),d.FORWARD=new Laya.Vector3(0,0,1),d.vector2=new Laya.Vector2,d.vector4=new Laya.Vector4,d.point=new Laya.Point,d.ray=new Laya.Ray(new Laya.Vector3,new Laya.Vector3),e.Temp=d;class g{constructor(){this._sceneName="",this._status=NaN}start(){e.stage.__addCtrl(this)}bindAssets(t,i,n,s=!1){e.stage.bindAssets(t,i,n,s)}bindAssets3D(t,i,n=!1){e.stage.bindAssets3D(t,i,n)}createChildren(e){}layoutChildren(){}beforeEnterScene(e){}afterEnterScene(e){}__beforeEnter(e){this.stopFrameLoop(),this.beforeEnterScene(e)}__afterEnter(e){this._sceneName=e,this.createChildren(e),this.layoutChildren()}__layoutChildren(){this.layoutChildren()}__afterAllEnter(e){this.afterEnterScene(e)}get status(){return this._status}get intStatus(){return Math.floor(this._status)}changeStatus(e){this._status!==e&&(this._status=e,this.handleChangeStatus(e))}handleChangeStatus(e){}frameLoop(){}startFrameLoop(){Laya.systemTimer.frameLoop(1,this,this.frameLoop)}stopFrameLoop(){Laya.systemTimer.clear(this,this.frameLoop)}loadAssets(e,t,i,n){}}e.BaseCtrl=g;class c extends g{constructor(){super()}beforeEnterScene(t){if(t===c.SCENE_NAME){e.stage.setLoadingStatus(0,.1,"正在加载配置",!1),console.log(">>>:加载预加载资源："),console.log("   ---------------------------------");let i=this.loadList;for(let e=0;e<i.length;e++){const n=i[e];console.log("   #"+n),"string"==typeof n?n.lastIndexOf(".png")>0||n.lastIndexOf(".jpg")>0?this.bindAssets(n,Laya.Loader.IMAGE,t,!1):n.lastIndexOf(".atlas")>0?this.bindAssets(n,Laya.Loader.ATLAS,t,!1):(n.lastIndexOf(".json")>0||n.lastIndexOf(".ani")>0)&&this.bindAssets(n,Laya.Loader.JSON,t,!1):n&&n.url&&n.type&&this.bindAssets(n.url,n.type,t,!1)}console.log("   ---------------------------------")}}createChildren(t){t===c.SCENE_NAME?this.onComplete&&this.onCompleteCaller&&this.onComplete.call(this.onCompleteCaller):e.stage.setLoadingStatus(0,1)}afterEnterScene(t){t===c.SCENE_NAME&&(e.stage.setLoadingStatus(.1,.9),e.stage.enterScene(this.enterSceneName))}}var m;c.SCENE_NAME="ZY_FIRST";e.stage=new class extends r{constructor(){super(),this._sceneName="",this._progressFlag=.8,this._loadingProgressFrom=0,this._loadingTotalProgress=1,this._loadingInfo="",this._loadingAutoHide=!0}init(){super.init();let e=Laya.stage;this._under3dLayer=e.addChild(new i),this._3dLayer=e.addChild(new i),this._bottomLayer=e.addChild(new i),this._gameLayer=e.addChild(new i),this._uiLayer=e.addChild(new i),this._loadingLayer=e.addChild(new i),this._resList={},this._ctrlList=[],this._sceneUICls={},this._sceneUI=null,Laya.stage.on(Laya.Event.RESIZE,this,()=>{this.resizeView(this._under3dLayer),this.resizeView(this._bottomLayer),this.resizeView(this._gameLayer),this.resizeView(this._uiLayer),this.resizeView(this._loadingLayer);for(let e=0;e<this._ctrlList.length;e++)this._ctrlList[e].__layoutChildren()})}get notchWidth(){let t,i;if("wx"===e.channel){let e=(t=window.wx).getSystemInfoSync();if(t.getMenuButtonBoundingClientRect){let n=t.getMenuButtonBoundingClientRect(),s=e.windowWidth-n.left;i=Math.floor(s/e.windowHeight*Laya.stage.height),console.log("MenuButtonBoundingClientRect",n)}else i=0}else if("zj"===e.channel){let e=(t=window.tt).getSystemInfoSync();if(t.getMenuButtonLayout){let n=t.getMenuButtonLayout(),s=e.windowWidth-n.left;i=Math.floor(s/e.windowHeight*Laya.stage.height),console.log("getSystemInfoSync",n)}else i=0}else i=0;return i}get notchHeight(){let t,i;if("wx"===e.channel||"qq"===e.channel||"bd"===e.channel){"wx"==e.channel?t=window.wx:"qq"==e.channel?t=window.qq:"bd"===e.channel&&(t=window.swan);let n=t.getSystemInfoSync();if(t.getMenuButtonBoundingClientRect){let e=t.getMenuButtonBoundingClientRect(),s=e.top+e.height;i=Math.floor(s/n.windowHeight*Laya.stage.height),console.log("MenuButtonBoundingClientRect",e)}else i=0}else if("zj"===e.channel){let e=(t=window.tt).getSystemInfoSync();if(t.getMenuButtonLayout){let n=t.getMenuButtonLayout(),s=n.top+n.height;i=Math.floor(s/e.windowHeight*Laya.stage.height),console.log("getSystemInfoSync",n)}else i=0}else if("oppo"===e.channel){let e=(t=window.qg).getSystemInfoSync(),n=e.notchHeight+140;i=Math.floor(n/e.windowHeight*Laya.stage.height)}else if("vivo"===e.channel){t=window.qg;let e=window.qg.getSystemInfoSync(),n=window.qg.getNotchHeightSync().height+140;i=Math.floor(n/e.screenHeight*Laya.stage.height)}else i=0;return i}receiveShadow(e){if(e instanceof Laya.MeshSprite3D?e.meshRenderer.receiveShadow=!0:e instanceof Laya.SkinnedMeshSprite3D&&(e.skinnedMeshRenderer.receiveShadow=!0),e.numChildren>0)for(let t=0;t<e.numChildren;t++)this.receiveShadow(e.getChildAt(t))}castShadow(e){if(e instanceof Laya.MeshSprite3D?e.meshRenderer.castShadow=!0:e instanceof Laya.SkinnedMeshSprite3D&&(e.skinnedMeshRenderer.castShadow=!0),e.numChildren>0)for(let t=0;t<e.numChildren;t++)this.castShadow(e.getChildAt(t))}resizeView(e){for(let t=0;t<e.numChildren;t++){const i=e.getChildAt(t);i instanceof Laya.View&&i.size(Laya.stage.width,Laya.stage.height).pos(0,0)}}load(e,t,i){this._tmpList=this._tmpList||[];let n=[];for(let t=0;t<e.length;t++){const i=e[t];"string"==typeof i?(i.lastIndexOf(".png")>0||i.lastIndexOf(".jpg")>0?n.push({url:i,type:Laya.Loader.IMAGE}):i.lastIndexOf(".atlas")>0?n.push({url:i,type:Laya.Loader.ATLAS}):i.lastIndexOf(".json")>0||i.lastIndexOf(".ani")>0?n.push({url:i,type:Laya.Loader.JSON}):n.push(i),this._tmpList.push(i)):i&&i.url&&i.type&&(n.push(i),this._tmpList.push(i.url))}Laya.loader.create(n,Laya.Handler.create(null,()=>{i&&i.call(t)}))}bindSceneUI(e,t,i){this._sceneUICls[e]=t;for(let t=0;t<i.length;t++){const n=i[t];"string"==typeof n?n.lastIndexOf(".png")>0||n.lastIndexOf(".jpg")>0?this.bindAssets(n,Laya.Loader.IMAGE,e,!1):n.lastIndexOf(".atlas")>0?this.bindAssets(n,Laya.Loader.ATLAS,e,!1):(n.lastIndexOf(".json")>0||n.lastIndexOf(".ani")>0)&&this.bindAssets(n,Laya.Loader.JSON,e,!1):n&&n.url&&n.type&&this.bindAssets(n.url,n.type,e,!1)}}getLayer(e){return e==h.UNDER_3D?this._under3dLayer:e==h.D3?this._3dLayer:e==h.BOTTOM?this._bottomLayer:e==h.MIDDLE?this._gameLayer:e==h.TOP?this._uiLayer:void 0}__addCtrl(e){this._ctrlList.push(e)}addChild(t,i){return t instanceof Laya.View&&!(t instanceof Laya.Dialog)?t.size(Laya.stage.width,Laya.stage.height).pos(0,0):!this._scene3D&&t instanceof Laya.Scene3D&&(this._scene3D=t,e.eventBus.event("SCENE3D_ADDED",this._sceneName)),this.getLayer(i).addChild(t)}get scene3D(){return this._scene3D}get sceneUI(){return this._sceneUI}get sceneName(){return this._sceneName}clearScene(){let e;this._sceneUI=null,this._under3dLayer.destroyChildren(),this._under3dLayer.removeChildren(),this._bottomLayer.destroyChildren(),this._bottomLayer.removeChildren(),this._gameLayer.destroyChildren(),this._gameLayer.removeChildren(),this._uiLayer.destroyChildren(),this._uiLayer.removeChildren(),this._scene3D=null;for(let t=0;t<this._3dLayer.numChildren;t++)(e=this._3dLayer.getChildAt(t))instanceof Laya.Scene3D&&e.destroy(!0);this._3dLayer.destroyChildren(),this._3dLayer.removeChildren();let t=this._resList[this._sceneName];for(let e=0;t&&e<t.length;e++){const i=t[e];let n;"string"==typeof i?n=i:i.hasOwnProperty("url")&&(n=i.url);let s=Laya.loader.getRes(n);s&&s.destroy&&s.destroy(!0),s=null,Laya.loader.clearRes(n)}if(t=this._tmpClearList)for(;t.length>0;){const e=t.pop();let i;"string"==typeof e?i=e:e.hasOwnProperty("url")&&(i=e.url);let n=Laya.loader.getRes(i);n&&n.destroy&&n.destroy(!0),n=null,Laya.loader.clearRes(i)}t=this._dynamicResClearList;for(let e=0;t&&e<t.length;e++){const i=t[e];let n;"string"==typeof i?n=i:i.hasOwnProperty("url")&&(n=i.url);let s=Laya.loader.getRes(n);s&&s.destroy&&s.destroy(!0),s=null,Laya.loader.clearRes(n)}this._dynamicResClearList=null,Laya.Resource.destroyUnusedResources()}showLoading(e){this._loadingLayer.addChild(this._loadingUI.show(p.FULL,null,null,e)).size(Laya.stage.width,Laya.stage.height)}hideLoading(){this._loadingLayer.removeChildren()}setLoadProgress(e){this._loadingUI.setProgress(this._loadingProgressFrom+e*this._loadingTotalProgress)}enterScene(e){console.log(">>>:enter scene:"+e),this.showLoading(e),Laya.timer.scale=1,this._dynamicResList&&(this._dynamicResClearList=this._dynamicResList.concat()),this._dynamicResList=[],this._tmpList&&(this._tmpClearList=this._tmpList.concat()),this._tmpList=[],Laya.timer.frameOnce(2,this,this.enterSceneLater,[e])}start(e,t,i,n){(m=new c).start(),m.onCompleteCaller=i,m.onComplete=n,m.enterSceneName=e,m.loadList=t,this.enterScene(c.SCENE_NAME)}set firstScene(e){m.enterSceneName=e}setLoadingStatus(e,t,i="",n=!0){this._loadingProgressFrom=e,this._loadingTotalProgress=t,this._loadingInfo=i,this._loadingAutoHide=n}enterSceneLater(t){if(this.beforeResLoaded(t),e.eventBus.event("BEFORE_ENTER_SCENE",t),this.clearScene(),this._sceneName=t,this._resList[t]){let i=e.assetsManger.checkLoadZip(t);i&&i.length>0?(this._loadingUI.setInfo("资源更新中["+e.assetsManger.getSizeStr(i)+"],只需更新一次，请耐心等待..."),e.assetsManger.checkAndLoad(i,this,e=>{this._loadingUI.setProgress(this._loadingProgressFrom+e*this._progressFlag*this._loadingTotalProgress)},e=>{},()=>{this._loadingUI.setInfo("资源更新完毕，游戏载入中..."),this.loadRes(t)})?this._progressFlag=.8:this._progressFlag=0):this.loadRes(t)}else this.afterResLoaded(t)}loadRes(t){let i,n=this._dynamicResList;i=n?this._resList[t].concat(n):this._resList[t].concat(),Laya.loader.create(i,Laya.Handler.create(this,i=>{console.log("["+t+"]资源载入完成"),this._sceneUICls[t]&&(this._sceneUI=new this._sceneUICls[t]),this._sceneUI&&this.addChild(this._sceneUI,e.Layer.MIDDLE),e.hasRequsetLogin?this.afterResLoaded(t):(e.msg.show("载入完毕，等待登陆中..."),e.eventBus.once("LOGINED",this,this.afterResLoaded,[t]),e.eventBus.once("LOGINFAIL",this,this.afterResLoaded,[t]))}),Laya.Handler.create(this,e=>{this._loadingUI.setProgress(this._loadingProgressFrom+(e*(1-this._progressFlag)+this._progressFlag)*this._loadingTotalProgress)}))}beforeResLoaded(e){for(let t=0;t<this._ctrlList.length;t++)this._ctrlList[t].__beforeEnter(e)}afterResLoaded(t){for(let e=0;e<this._ctrlList.length;e++)this._ctrlList[e].__afterEnter(t);e.eventBus.event("AFTER_ENTER_SCENE",t),Laya.systemTimer.frameOnce(2,this,()=>{this._loadingAutoHide&&this.hideLoading();for(let e=0;e<this._ctrlList.length;e++)this._ctrlList[e].__afterAllEnter(t)})}bindAssets(e,t,i,n){e&&""!==e&&(n?(this._dynamicResList||(this._dynamicResList=[]),this._dynamicResList.push({url:e,type:t})):(this._resList[i]||(this._resList[i]=[]),this._resList[i].push({url:e,type:t})))}bindAssets3D(e,t,i){e&&""!==e&&(i?(this._dynamicResList||(this._dynamicResList=[]),this._dynamicResList.indexOf(e)<0&&this._dynamicResList.push(e)):(this._resList[t]||(this._resList[t]=[]),this._resList[t].indexOf(e)<0&&this._resList[t].push(e)))}setLoadingUI(e){this._loadingUI=e}setLoadingInfo(e){this._loadingUI.setInfo(e)}get loadingUI(){return this._loadingUI}createView(e){return this.createViewFromJson(Laya.loader.getRes(e))}createNow(e,t,i){let n;if(e.type){if(Laya[e.type]){n=new Laya[e.type];let t=e.props;if(t)for(const e in t)t.hasOwnProperty(e)&&("var"==e?i&&(i[t[e]]=n):n[e]=t[e])}i||(i=n),t&&t.addChild(n);let s=e.child;if(s&&s.length>0)for(let e=0;e<s.length;e++){const t=s[e];this.createNow(t,n,i)}}return n}createViewFromJson(e){return this.createNow(e,null,null)}};var _=0;class y extends Laya.EventDispatcher{constructor(){super(),this._audioReady=!1,this._playing=!1,this._audioId=++_,this._audio=document.createElement("audio"),this._audio.preload=!0,this._audio.addEventListener("ended",this.onAudioEnded.bind(this)),this._onMusicReady=this.onMusicReady.bind(this),document.addEventListener("mousedown",this._onMusicReady),document.addEventListener("touchstart",this._onMusicReady)}get audioID(){return this._audioId}__canRecover(){return!this.hasListener("complete")}clear(e=!0){}get volume(){return this._audio.hasOwnProperty("volume")?this._audio.volume:1}set volume(e){e<0&&(e=0),e>1&&(e=1),this._audio.hasOwnProperty("volume")&&(this._audio.volume=e)}onAudioEnded(){if(console.log("audio ended!"),this._playedTimes++,this._playedTimes>=this._curLoops&&0!=this._curLoops)return this.event("complete",this),void(this._playing=!1);this._audio.play()}onMusicReady(){console.log("mousedown!"),this._audioReady=!0,document.removeEventListener("mousedown",this._onMusicReady),document.removeEventListener("touchstart",this._onMusicReady),this._audio.src?(console.log("play:"+this._audio.src),this._playing&&this._audio.play()):(console.log("audio load"),this._audio.src="",this._audio.load())}get src(){return this._audio.src}playSrc(e,t){this._audio.src=e,this._curLoops=t,this._playedTimes=0,0===t?(this._audio.loop=!0,console.log("loop")):this._audio.loop=!1,this._audioReady&&this._audio.play(),this._playing=!0}pause(){this._playing&&(this._audio.pause(),this._playing=!1)}play(){this._playing||(this._playing=!0,this._audioReady&&this._audio.play())}resume(){this.play()}stop(){this._playing&&(this._audio.pause(),this._audio.currentTime=0,this._playing=!1)}}class u extends Laya.EventDispatcher{constructor(){super(),this._audioId=++_,"wx"===e.channel?this._audio=wx.createInnerAudioContext():"qq"===e.channel?this._audio=window.qq.createInnerAudioContext():"zj"===e.channel?this._audio=window.tt.createInnerAudioContext():"oppo"===e.channel||"vivo"==e.channel?this._audio=window.qg.createInnerAudioContext():"bd"===e.channel?this._audio=window.swan.createInnerAudioContext():e.channel,this._audio.obeyMuteSwitch&&(this._audio.obeyMuteSwitch=!0),this.onMusicEnded=this.onMusicEnded.bind(this),this.onMusicError=this.onMusicError.bind(this),this.onMusicPlay=this.onMusicPlay.bind(this),this._audio.onEnded(this.onMusicEnded),this._audio.onError(this.onMusicError),this._audio.onPlay(this.onMusicPlay),this._info={src:"",loops:1,playCnt:0},this._palying=!1}get volume(){return void 0!==this._audio.volume?this._audio.volume:1}set volume(e){e<0&&(e=0),e>1&&(e=1),void 0!==this._audio.volume&&(this._audio.volume=e)}get audioID(){return this._audioId}playSrc(e,t){this._info.src=e,this._info.loops=t,this._info.playCnt=0,this._audio.src=e,this._audio.autoplay=!0,this._palying=!1,this.play()}play(){this._palying||(this._audio.src&&""!=this._audio.src?(this._palying=!0,this._audio.play()):console.warn("ZY>>:没有指定声音地址，请先调用playSrc接口"))}onMusicPlay(){this._palying=!0}onMusicEnded(){this._info.playCnt++,this._palying=!1,this._info.playCnt<this._info.loops||0==this._info.loops?(this._audio.src=this._info.src,this.play()):(this.event("complete",this),this.__canRecover()&&this.clear())}pause(){this._palying=!1,this._audio.pause()}resume(){this.play()}stop(){this._palying=!1,this._audio.stop()}clear(t=!0){this._palying=!1,this._audio.stop(),this._info={src:"",loops:1,playCnt:0},this.offAll(),t&&("wx"===e.channel?(console.log("销毁音轨:"+this._audioId),this._info=null,this._palying=null,this._audioId=null,this._audio.offEnded(this.onMusicEnded),this._audio.offError(this.onMusicError),this._audio.offPlay(this.onMusicPlay),this._audio.destroy(),this._audio=null):Laya.Pool.recover("__SOUND_CHANNEL",this))}onMusicError(e){console.log("music error:"+JSON.stringify(e)+","+this._info.src)}get src(){return this._info.src}__canRecover(){return!this.hasListener("complete")}}e.sound=new class extends r{constructor(){super(),this.basePath=""}set bMusic(e){this._bMusic=e}set bSound(e){this._bSound=e}init(){super.init(),"false"!=Laya.Utils.getQueryString("sound")&&("wx"===e.channel||"zj"===e.channel||"oppo"===e.channel||"vivo"==e.channel||"qq"==e.channel||"bd"===e.channel||"yl"===e.channel?this._audioSoundChannel=new u:this._audioSoundChannel=new y,this._audioSoundChannel.on("complete",this,e=>{}),this._onlySoundList={})}createSoundChannel(){return Laya.Utils.getQueryString("sound"),"wx"===e.channel||"zj"===e.channel||"oppo"===e.channel||"vivo"==e.channel||"qq"==e.channel||"bd"===e.channel||"yl"===e.channel?Laya.Pool.getItemByClass("__SOUND_CHANNEL",u):null}playMusic(t,i=0,n=null,s=null){if(this._bMusic&&!e.videoAdShow){if("false"==Laya.Utils.getQueryString("sound"))return null;if(this._audioSoundChannel)return null!=s&&null!=n&&this._audioSoundChannel.once("complete",n,s),this._audioSoundChannel.playSrc(this.basePath+t,i),this._audioSoundChannel;console.log("ZY>>:playMusic->没有可用的 audioSoundChannel，检查渠道是否不支持，再不懂问一下公司技术")}}stopMusic(){this._audioSoundChannel&&this._audioSoundChannel.stop()}get musicSoundChannel(){return this._audioSoundChannel}playSound(t,i=1,n=!1,s=null,a=null){if(!this._bSound||e.videoAdShow)return void(s&&a&&a.call(s));if("false"==Laya.Utils.getQueryString("sound"))return null;let o;if(n){if(!(o=this._onlySoundList[t]||this.createSoundChannel()))return void console.log("ZY>>:playSound->没有可用的 audioSoundChannel，检查渠道是否不支持，再不懂问一下公司技术");this._onlySoundList[t]=o,o.once("complete",this,()=>{this._onlySoundList[t]=null,s&&a&&a.call(s,o)}),o.stop(),o.playSrc(this.basePath+t,i)}else{if(!(o=this.createSoundChannel()))return void console.log("ZY>>:playSound->没有可用的 audioSoundChannel，检查渠道是否不支持，再不懂问一下公司技术");s&&a&&o.once("complete",s,a),o.playSrc(this.basePath+t,i)}return o}stopSound(){if(this._onlySoundList&&this._onlySoundList.length>0)for(let e=0;e<this._onlySoundList.length;e++)this._onlySoundList[e].stop()}};class b{constructor(){}static instance(){return b.me?b.me:(b.me=new b,b.me)}init(){this._body||(this._body=new i,this._bg=this._body.addChild(new i),this._text=new n,this._text.fontSize=38,this._text.align="center",this._text.valign="middle",this._text.size(Laya.stage.width/e.stageScale,42),this._text.color="#ffffff",this._body.addChild(this._text),this._body.mouseEnabled=!0,this._body.on(s.MOUSE_DOWN,this,e=>{console.log("\b阻止鼠标事件"),e.stopPropagation()}),Laya.stage.on("resize",this,()=>{this._body.size(Laya.stage.width/e.stageScale,Laya.stage.height/e.stageScale)}),this._body.zOrder=1e4)}showFull(t,i=0,n=!0){this.init();let s=Laya.stage;this._bg.graphics.clear(),this._bg.graphics.drawRect(0,0,s.width/e.stageScale,s.height/e.stageScale,"#000000"),this._bg.alpha=.7,this._text.text=t,this._body.mouseEnabled=n,s.addChild(this._body),this._text.size(s.width/e.stageScale,42),this._text.pos(0,Math.floor((s.height/e.stageScale-42)/2)),i&&i>0&&Laya.timer.once(i,this,this.hide)}showFull2(t,i=0){this.init();let n=Laya.stage;this._body.size(n.width/e.stageScale,n.height/e.stageScale),this._bg.graphics.clear(),this._bg.size(n.width/e.stageScale,n.height/e.stageScale),this._bg.graphics.drawRect(0,Math.floor(n.height/e.stageScale/2-25),n.width/e.stageScale,50,"#000000"),this._bg.alpha=.7,this._text.text=t,this._body.mouseEnabled=!0,n.addChild(this._body),this._text.size(n.width/e.stageScale,42),this._text.pos(0,Math.floor((n.height/e.stageScale-42)/2)),i&&i>0&&Laya.timer.once(i,this,this.hide)}show(t,i=4e3){this.init();let n=Laya.stage;this._body.size(n.width/e.stageScale,n.height/e.stageScale),this._bg.graphics.clear(),this._bg.graphics.drawRect(0,Math.floor(n.height/e.stageScale/2-25),n.width/e.stageScale,50,"#000000"),this._bg.alpha=.7,this._text.text=t,this._body.mouseEnabled=!1,n.addChild(this._body),this._text.size(n.width/e.stageScale,42),this._text.pos(0,Math.floor((n.height/e.stageScale-42)/2)),i&&i>0&&Laya.timer.once(i,this,this.hide)}hide(){this._body.removeSelf()}}e.msg=new b;let f,v,w,I,k,x,L;e.assetsManger=new class{constructor(){}init(t,i){if(this._cfg=t,this._resHost=i,this._cfg.set.channel.indexOf(e.channel)>-1){let t,i;if("wx"===e.channel?t=window.wx:"zj"===e.channel?t=window.tt:"oppo"===e.channel||"vivo"==e.channel?t=window.qg:"qq"===e.channel?t=window.qq:"bd"===e.channel&&(t=window.swan),t.getSystemInfoSync){let e=t.getSystemInfoSync();this._platform=e.platform}let n=this._cfg.set.path;i=(i=t.env.USER_DATA_PATH)+"/"+n,e.sound.basePath=i+"/",console.log("ZY>>:设置声音播放路径:"+e.sound.basePath+",平台:"+this._platform)}}getUrl(t){return"none"===e.channel?t:(0==t.indexOf("/")&&(t=t.substr(1)),this._resHost+t)}rmdirSync(t){let i;"wx"===e.channel?i=wx:"zj"===e.channel?i=window.tt:"oppo"===e.channel||"vivo"==e.channel?i=window.qg:"qq"==e.channel?i=window.qq:"bd"===e.channel&&(i=window.swan),console.log("尝试删除目录:"+i.env.USER_DATA_PATH+"/"+t);try{i.getFileSystemManager().rmdirSync(i.env.USER_DATA_PATH+"/"+t,!0)}catch(e){console.log("删除目录:"+t+"失败."),console.log(e)}}mkdirFile(t){let i;if("wx"===e.channel?i=wx.getFileSystemManager():"zj"===e.channel?i=window.tt.getFileSystemManager():"oppo"===e.channel?i=window.qg.getFileSystemManager():"vivo"==e.channel?i=window.qg:"qq"==e.channel?i=window.qq:"bd"===e.channel&&(i=window.swan.getFileSystemManager()),i)try{"wx"===e.channel||"zj"===e.channel||"qq"==e.channel?i.mkdir({dirPath:t,recursive:!0,success:()=>{console.log(">>>:mkdir success!")},fail:e=>{console.log(">>>:mkdir error!",e)}}):"oppo"===e.channel?i.mkdir({dirPath:t,success:()=>{console.log(">>>:mkdir success!")},fail:e=>{console.log(">>>:mkdir error!",e)}}):"vivo"==e.channel?i.mkdir({uri:t,success:()=>{console.log(">>>:mkdir success!")},fail:e=>{console.log(">>>:mkdir error!",e)}}):"bd"===e.channel&&i.mkdir({dirPath:t,success:()=>{console.log(">>>:mkdir success!")},fail:e=>{console.log(">>>:mkdir error!",e)}})}catch(e){}}get fileRoot(){return"wx"===e.channel?window.wx.env.USER_DATA_PATH:"zj"===e.channel?window.tt.env.USER_DATA_PATH:"oppo"===e.channel||"vivo"==e.channel?window.qg.env.USER_DATA_PATH:"qq"===e.channel?window.qq.env.USER_DATA_PATH:"bd"===e.channel?window.swan.env.USER_DATA_PATH:""}copyFile(t,i,n,s){let a;"wx"===e.channel?a=wx.getFileSystemManager():"zj"===e.channel?a=window.tt.getFileSystemManager():"oppo"===e.channel||"vivo"===e.channel?a=window.qg.getFileSystemManager():"qq"===e.channel?a=window.qq.getFileSystemManager():"bd"===e.channel&&(a=window.swan.getFileSystemManager());let o=i.substr(0,i.lastIndexOf("/"));console.log(">>>:copy from "+t+" to"+i);try{a.accessSync(o)}catch(e){this.mkdirFile(o)}a&&a.copyFile({srcPath:t,destPath:i,success:()=>{console.log(">>>:copy success!"),n&&s&&s.call(n,!0)},fail:e=>{console.log(">>>:copy error!",e,t,i),n&&s&&s.call(n,!1)}})}getSizeStr(e){if(!e)return"0M";let t=0;for(let i=0;i<e.length;i++){const n=e[i],s=this._cfg[n];s&&s.hasOwnProperty("size")&&(t+=s.size)}return Math.floor(100*t)/100+"M"}checkLoadZip(t){if(this._cfg.set.channel.indexOf(e.channel)>-1){let e=[],i=this._cfg.set.any;if(i)for(let t=0;t<i.length;t++)e.push(i[t]);if(i=this._cfg.set[t])for(let t=0;t<i.length;t++)e.push(i[t]);return e}return null}checkAndLoad(t,i,n,s,a){let o=0,h=[];for(let e=0;e<t.length;e++)this.check(t[e])||h.push(t[e]);if(h.length<1)return a.call(i),console.log("无需下载任何zip资源"),e.stage.setLoadingInfo(""),!1;e.stage.setLoadingInfo("资源更新中["+e.assetsManger.getSizeStr(t)+"],只需更新一次，请耐心等待...");let l=h[o],r=this;function progress(e){n.call(i,(o+e)/h.length)}function error(e){s.call(i,e)}return this.download(l,this,progress,error,function complete(){++o,console.log("完成一个资源"),o>=h.length?a.call(i):(l=h[o],r.download(l,this,progress,error,complete))}),!0}setUrlBase(){let t,i;if(this._cfg.set.channel.indexOf(e.channel)<0)return;"wx"===e.channel?t=window.wx:"zj"===e.channel?t=window.tt:"oppo"===e.channel||"vivo"==e.channel?t=window.qg:"qq"===e.channel?t=window.qq:"bd"===e.channel&&(t=window.swan);let n=this._cfg.set.path;i=(i=t.env.USER_DATA_PATH)+"/"+n,Laya.URL.basePath=i+"/",console.log("设置URL.basePath:"+i+"/")}readAllFilesInfo(){if("oppo"===e.channel){let e=window.qg.env.USER_DATA_PATH;console.log("获取所有文件列表....................................");let t,i=window.qg.getFileSystemManager();try{t=i.statSync(e,!0)}catch(e){console.log(e)}let n=0;if(t)for(let e=0;e<t.length;e++){const i=t[e];i&&i.path&&i.path.indexOf(".")>0&&(n+=i.stats.size)}console.log(t),console.log(n)}}check(t){let i,n,s=this._cfg[t];"wx"===e.channel?i=window.wx:"zj"===e.channel?i=window.tt:"oppo"===e.channel||"vivo"==e.channel?i=window.qg:"qq"===e.channel?i=window.qq:"bd"===e.channel&&(i=window.swan);let a,o=this._cfg.set.path;n=(n=i.env.USER_DATA_PATH)+"/"+o;let h=null;if("vivo"==e.channel){const e=i.readFileSync({uri:n+"/"+t+"ver.txt",encoding:"utf8"});"string"==typeof e?(h=null,console.log(`handling fail, error message = ${e}`)):(h=e.text,console.log("handling success, text: "+e.text))}else{a=i.getFileSystemManager();try{h=a.readFileSync(n+"/"+t+"ver.txt","utf8")}catch(e){console.log(e),h=null}}if(h)if(h!=s.ver)h=null;else{let t=!0;for(let o=0;o<s.files.length;o++){const h=s.files[o];console.log("check path:"+n+"/"+h);try{"vivo"==e.channel?i.accessFile({uri:n+"/"+h}):a.accessSync(n+"/"+h)}catch(e){t=!1;break}}t||(h=null)}return console.log("检查是否需要加载:"+t),!!h||(console.log("结果:"+t+" 需要加载"),!1)}vivoDownload(t,i,n,s,a,o=0){if("vivo"!==e.channel)return;let h,l,r=this._cfg[t],p=this._cfg.set.path;if(!r&&s)return void s.call(i,"cfg error");h=window.qg,l=(l=h.env.USER_DATA_PATH)+"/"+p,console.log("需要下载更新资源");let d=r.dir.length,g=0,c=this;for(let m=0;m<d;m++){const _=r.dir[m];console.log(h.env.USER_DATA_PATH+"/"+p+"/"+_),h.rmdir({uri:h.env.USER_DATA_PATH+"/"+p+"/"+_,success:function(e){console.log(`rmdir success: ${e}`)},fail:function(e,t){console.log(`rmdir fail, code = ${t}`)},complete:function(){(g+=1)==d&&(console.log("---------开始下载----------:"+r.url),h.download({url:r.url,success:function(e){h.unzipFile({srcUri:e.tempFilePath,dstUri:l,success:function(n){console.log("解压成功"),h.deleteFile({uri:e.tempFilePath,success:function(e){console.log("删除 success")},fail:function(e,t){console.log(`删除 fail, code = ${t}`)}});const s=h.writeFileSync({uri:l+"/"+t+"ver.txt",text:r.ver.toString(),encoding:"utf8"});"success"===s?console.log("写入 success"):console.log(`写入 fail, result = ${s}`),a.call(i)},fail:function(e,t){console.log(e),s.call(i,e.errMsg)}})},fail:function(h,l){console.log(h,l),++o<5?(console.log("重新加载:"+t+",retry="+o),e.msg.showFull("加载失败，正在重试("+o+")...",0,!1),Laya.startTimer.once(100,c,c.download,[t,i,n,s,a,o])):s.call(i,"fail")}}).onProgressUpdate(e=>{n.call(i,e.progress/100)}))}})}}download(t,i,n,s,a,o=0){if("vivo"==e.channel)return void this.vivoDownload(t,i,n,s,a,o);let h,l,r,p=this._cfg[t],d=this._cfg.set.path;if(!p&&s)return void s.call(i,"cfg error");"wx"===e.channel?h=window.wx:"zj"===e.channel?h=window.tt:"oppo"===e.channel||"vivo"==e.channel?h=window.qg:"qq"===e.channel?h=window.qq:"bd"===e.channel&&(h=window.swan),l=(l=h.env.USER_DATA_PATH)+"/"+d,"vivo"!==e.channel&&(r=h.getFileSystemManager()),console.log("需要下载更新资源");for(let e=0;e<p.dir.length;e++){const t=p.dir[e];this.rmdirSync(d+"/"+t)}let g,c=this;function unzip(n){r.unzip({zipFilePath:n.tempFilePath,targetPath:l,success:()=>{console.log("解压成功"),"bd"==e.channel?r.unlink({filePath:n.tempFilePath}):r.removeSavedFile({filePath:n.tempFilePath});try{r.writeFileSync(l+"/"+t+"ver.txt",p.ver.toString(),"utf8")}catch(e){return void console.log("写入version.txt失败:"+e)}console.log("写入版本号成功"),a.call(i)},fail:t=>{e.eventBus.event("FAILED_LOAD"),console.log(t),s.call(i,t.errMsg),"wx"===e.channel?e.msg.showFull("解压资源失败，请重启微信后再试"):"oppo"===e.channel&&(e.msg.showFull("解压资源失败，请重启小游戏后再试"),Laya.stage.once("mousedown",c,()=>{h.exitApplication("")}))},complete:()=>{}})}if(g="ios"==this._platform?p.url_ios||p.url:"android"==this._platform&&p.url_android||p.url,console.log("---------开始下载----------:"+g),console.log("time="+Laya.Browser.now()),"vivo"!=e.channel){let p={url:g,success(t){if("qq"==e.channel||"bd"==e.channel){let i;try{r.accessSync(l),i=!1}catch(e){i=!0,console.log(e)}i?r.mkdir({dirPath:l,recursive:!0,success:()=>{unzip(t)},fail:t=>{console.log(">>>:download mkdir error!",t),e.msg.show("创建文件路径失败，请重试。")}}):unzip(t)}else unzip(t)},fail(h){console.log(h),++o<5?(console.log("重新加载:"+t+",retry="+o),e.msg.showFull("加载失败，正在重试("+o+")...",0,!1),console.log("time="+Laya.Browser.now()),Laya.startTimer.once(100,c,c.download,[t,i,n,s,a,o])):(s.call(i,"fail"),"wx"===e.channel&&(e.msg.showFull("网络异常，请稍后再试(点击任意地方退出游戏)",0,!1),Laya.stage.once(Laya.Event.MOUSE_DOWN,this,()=>{wx.exitMiniProgram({})})))},complete(e){console.log(e)}};"bd"!=e.channel&&(p.timeout=5e4),h.downloadFile(p).onProgressUpdate(e=>{n.call(i,e.progress/100)})}}},function(e){e[e.Nothing=0]="Nothing",e[e.Began=1]="Began",e[e.Ended=2]="Ended",e[e.Moved=3]="Moved",e[e.Stationary=4]="Stationary"}(f=e.TouchPhase||(e.TouchPhase={}));class C{constructor(){this.phase=0,this.mouseX=0,this.mouseY=0,this.deltaX=0,this.deltaY=0,this.position=new Laya.Vector2}}e.Touch=C;e.touchManager=new class{constructor(){}init(){this._mouseDown=!1,Laya.stage.on(Laya.Event.MOUSE_DOWN,this,this.onMouseDown),Laya.stage.on(Laya.Event.MOUSE_UP,this,this.onMouseUp),Laya.stage.on(Laya.Event.MOUSE_MOVE,this,this.onMouseMove),Laya.stage.on(Laya.Event.MOUSE_OUT,this,this.onMouseUp),Laya.updateTimer.frameLoop(1,this,this.onUpdate),this._touch=new C}get touch(){return this._touch}onMouseDown(e){this._mouseDown||(this._touch.phase=f.Began,this._touch.mouseX=e.stageX,this._touch.mouseY=e.stageY,this._touch.position.x=this._touch.mouseX,this._touch.position.y=this._touch.mouseY,this._touch.deltaX=0,this._touch.deltaY=0,this._mouseDown=!0,this._touchId=e.touchId)}onMouseUp(e){this._mouseDown&&this._touchId===e.touchId&&(this._touch.phase=f.Ended,this._touch.deltaX=e.stageX-this._touch.mouseX,this._touch.deltaY=e.stageY-this._touch.mouseY,this._touch.mouseX=e.stageX,this._touch.mouseY=e.stageY,this._touch.position.x=this._touch.mouseX,this._touch.position.y=this._touch.mouseY,this._mouseDown=!1)}onMouseMove(e){this._mouseDown&&this._touchId===e.touchId&&(this._touch.phase=f.Moved,this._touch.deltaX=e.stageX-this._touch.mouseX,this._touch.deltaY=e.stageY-this._touch.mouseY,this._touch.mouseX=e.stageX,this._touch.mouseY=e.stageY,this._touch.position.x=this._touch.mouseX,this._touch.position.y=this._touch.mouseY)}onUpdate(){this._mouseDown?this._touch.phase=f.Stationary:this._touch.phase=f.Nothing}};e.Dictionary=class{constructor(){this._values=[],this._keys=[]}has(e){return this._keys.indexOf(e)>-1}add(e,t){this._values.push(t),this._keys.push(e)}delete(e){let t=this._keys.indexOf(e);if(t<0)return!1;this._keys.splice(t,1),this._values.splice(t,1)}get(e){let t=this._keys.indexOf(e);if(!(t<0))return this._values[t]}clear(){for(;this._keys.length>0;)this._keys.pop();for(;this._values.length>0;)this._values.pop()}};e.math=new class{distance(e,t){let i=e.x-t.x,n=e.y-t.y,s=e.z||0-t.z||0,a=e.w||0-t.w||0;return Math.sqrt(i*i+n*n+s*s+a*a)}distanceSquared(e,t){let i=e.x-t.x,n=e.y-t.y,s=e.z||0-t.z||0,a=e.w||0-t.w||0;return i*i+n*n+s*s+a*a}};class S{constructor(){}stop(){Laya.systemTimer.clearAll(this),this._ani=null,this._animationList=null,this._times=-1,this._i=0,this._caller&&this._completeHandler&&this._completeHandler.call(this._caller,this),Laya.Pool.recover("AnimatorTriggerAnimation",this)}loop(){this._times<0?this._times=Math.floor(this._ani.getControllerLayer(this._layer).getCurrentPlayState().normalizedTime):this._ani.getCurrentAnimatorPlayState(this._layer).normalizedTime-this._times>=1&&(this._i>=this._animationList.length-1?this.stop():(++this._i,this._times=-1,this._ani.play(this._animationList[this._i],this._layer,0)))}get animator(){return this._ani}trigger(e,t,i=0,n,s){this._ani=e,this._animationList=t,this._layer=i,this._caller=n,this._completeHandler=s,t.length<1?this.stop():(this._i=0,e.play(t[0],i,0),1!=t.length?(this._times=-1,Laya.systemTimer.frameLoop(1,this,this.loop)):this.stop())}}e.timerManager=new class{constructor(){}init(){this._time=this._lastTime=Laya.Browser.now(),this.delta=0,this.totalFrames=0,Laya.systemTimer.frameLoop(1,this,this.loop)}loop(){let e=Laya.Browser.now();this.delta=(e-this._lastTime)*Laya.timer.scale,this._time+=this.delta,this._lastTime=e,++this.totalFrames}get now(){return this._time}};e.animatorTrigger=new class{constructor(){this._list=[]}completeHandler(e){let t=this._list.indexOf(e);t>-1&&this._list.splice(t,1)}playTrigger(e,t,i=0){let n;this.stopTrigger(e),(n=Laya.Pool.getItemByClass("AnimatorTriggerAnimation",S)).trigger(e,t,i,this,this.completeHandler),this._list.push(n)}stopTrigger(e){for(let t=0;t<this._list.length;t++){const i=this._list[t];if(i.animator===e){i.stop();break}}}};class A{constructor(){this.gid=0,this.repeat=1,this._count=0}static to(e,t,i,n=null,s=null,o=0,h=!1,l=!0,r=!0){return a.getItemByClass("zy.tween",A)._create(e,t,i,n,s,o,h,!0,l,!0,r)}static from(e,t,i,n=null,s=null,o=0,h=!1,l=!0,r=!0){return a.getItemByClass("zy.tween",A)._create(e,t,i,n,s,o,h,!1,l,!0,r)}_create(e,t,i,n,s,a,o,h,l,r,p){if(!e)throw new Error("Tween:target is null");this._target=e,this._duration=i,this._ease=n||t.ease||A.easeNone,this._complete=s||t.complete,this._delay=a,this._props=[],this._usedTimer=0,this._usedPool=l,this._delayParam=null,this.update=t.update,this._timeScale=p;var d=e.$_GID||(e.$_GID=Laya.Utils.getGID());return A.tweenMap[d]?(o&&A.clearTween(e),A.tweenMap[d].push(this)):A.tweenMap[d]=[this],r?a<=0?this.firstStart(e,t,h):(this._delayParam=[e,t,h],p?Laya.timer.once(a,this,this.firstStart,this._delayParam):Laya.systemTimer.once(a,this,this.firstStart,this._delayParam)):this._initProps(e,t,h),this}firstStart(e,t,i){this._delayParam=null,e.destroyed?this.clear():(this._usedTimer=0,this._initProps(e,t,i),this._beginLoop())}_initProps(e,t,i){for(var n in t)if("number"==typeof e[n]){var s=i?e[n]:t[n],a=i?t[n]:e[n];this._props.push([n,s,a-s]),i||(e[n]=s)}}_beginLoop(){this._lastTimer=o.now(),Laya.systemTimer.frameLoop(1,this,this._doEase)}_doEase(){let e=o.now();this._updateEase(e-this._lastTimer),this._lastTimer=e}_updateEase(e){this._timeScale&&(e*=Laya.timer.scale);var t=this._target;if(t){if(t.destroyed)return A.clearTween(t);this._usedTimer+=e;var i=this._usedTimer;if(!(i<0)){if(i>=this._duration)return this.complete();for(var n=i>0?this._ease(i,0,1,this._duration):0,s=this._props,a=0,o=s.length;a<o;a++){var h=s[a];t[h[0]]=h[1]+n*h[2]}this.update&&this.update.run()}}}set progress(e){this._usedTimer=e*this._duration}complete(){if(this._target){Laya.systemTimer.runTimer(this,this.firstStart);for(var e=this._target,t=this._props,i=this._complete,n=0,s=t.length;n<s;n++){var a=t[n];e[a[0]]=a[1]+a[2]}this.update&&this.update.run(),this._count++,0!=this.repeat&&this._count>=this.repeat?(this.clear(),i&&i.run()):this.restart()}}pause(){Laya.systemTimer.clear(this,this._beginLoop),Laya.systemTimer.clear(this,this._doEase),Laya.systemTimer.clear(this,this.firstStart)}static clearAll(e){if(e&&e.$_GID){var t=A.tweenMap[e.$_GID];if(t){for(var i=0,n=t.length;i<n;i++)t[i]._clear();t.length=0}}}static clear(e){e.clear()}static clearTween(e){A.clearAll(e)}clear(){this._target&&(this._remove(),this._clear())}_clear(){this.pause(),Laya.systemTimer.clear(this,this.firstStart),this._complete=null,this._target=null,this._ease=null,this._props=null,this._delayParam=null,this.repeat=1,this._usedPool&&(this.update=null,a.recover("tween",this))}recover(){this._usedPool=!0,this._clear()}_remove(){var e=A.tweenMap[this._target.$_GID];if(e)for(var t=0,i=e.length;t<i;t++)if(e[t]===this){e.splice(t,1);break}}restart(){if(this.pause(),this._delayParam)Laya.systemTimer.once(this._delay,this,this.firstStart,this._delayParam);else{for(var e=this._props,t=0,i=e.length;t<i;t++){var n=e[t];this._target[n[0]]=n[1]}this._usedTimer=0,Laya.systemTimer.once(this._delay,this,this._beginLoop)}}resume(){this._usedTimer>=this._duration||(this._delayParam?this._usedTimer<0?Laya.systemTimer.once(-this._usedTimer,this,this.firstStart,this._delayParam):this.firstStart.apply(this,this._delayParam):this._beginLoop())}static easeNone(e,t,i,n){return i*e/n+t}}A.tweenMap=[],e.Tween=A,function(e){e[e.reborn=0]="reborn",e[e.fivegold=1]="fivegold",e[e.open=2]="open",e[e.taskpause=3]="taskpause",e[e.tasksetting=4]="tasksetting",e[e.taskrestart=5]="taskrestart",e[e.trynew=6]="trynew",e[e.signin=7]="signin",e[e.redraw=8]="redraw",e[e.prize=9]="prize",e[e.freejew=10]="freejew",e[e.map=11]="map",e[e.soon=12]="soon",e[e.encup=13]="encup",e[e.moregl=14]="moregl"}(v=e.wxAd||(e.wxAd={})),function(e){e[e.cool=0]="cool",e[e.open=1]="open",e[e.soon=2]="soon",e[e.reborn=3]="reborn",e[e.fivegold=4]="fivegold",e[e.taskrestart=5]="taskrestart",e[e.encup=6]="encup",e[e.map=7]="map",e[e.freejew=8]="freejew",e[e.prize=9]="prize",e[e.signin=10]="signin",e[e.trynew=11]="trynew",e[e.record=12]="record",e[e.knowledge=13]="knowledge",e[e.gift=14]="gift"}(w=e.ylAd||(e.ylAd={})),function(e){e[e.reborn=0]="reborn",e[e.fivegold=1]="fivegold",e[e.taskpause=2]="taskpause",e[e.soon=3]="soon",e[e.open=4]="open",e[e.encup=5]="encup",e[e.map=6]="map",e[e.freejew=7]="freejew",e[e.prize=8]="prize",e[e.redraw=9]="redraw",e[e.signin=10]="signin",e[e.trynew=11]="trynew",e[e.record=12]="record",e[e.moregl=13]="moregl"}(I=e.vivoAd||(e.vivoAd={})),function(e){e[e.task=0]="task",e[e.reborn=1]="reborn",e[e.signin=2]="signin",e[e.prize=3]="prize",e[e.pause=4]="pause",e[e.freejew=5]="freejew",e[e.record=6]="record",e[e.new=7]="new"}(k=e.vivoBannerAd||(e.vivoBannerAd={})),function(e){e[e.reborn=0]="reborn",e[e.fivegold=1]="fivegold",e[e.taskpause=2]="taskpause",e[e.signin=3]="signin",e[e.soon=4]="soon",e[e.open=5]="open",e[e.encup=6]="encup",e[e.map=7]="map",e[e.freejew=8]="freejew",e[e.prize=9]="prize",e[e.trynew=10]="trynew",e[e.moregl=11]="moregl",e[e.record=12]="record"}(x=e.oppoAd||(e.oppoAd={})),function(e){e[e.pause=0]="pause",e[e.restart=1]="restart",e[e.record=2]="record",e[e.freejew=3]="freejew",e[e.task=4]="task",e[e.new=5]="new"}(L=e.oppoBannerAd||(e.oppoBannerAd={}));class z{static get instance(){return z._instance||(z._instance=new z),z._instance}aldSendEvent(e,t=null){if(Laya.Browser.window.wx.aldSendEvent)if(console.log("事件："+e+" 参数："+(t?t.toString():"空")),t)try{Laya.Browser.window.wx.aldSendEvent(e,t)}catch(e){console.log("上传错误")}else try{Laya.Browser.window.wx.aldSendEvent(e)}catch(e){console.log("上传错误")}}}e.AldCtrl=z;class T{static get instance(){return T._instance||(T._instance=new T),T._instance}tmSendEvent(t,i=null){if(("wx"===e.channel||"qq"===e.channel)&&Laya.Browser.window.wx.tmSDK.sendEvent)if(console.log("事件："+t+" 参数："+(i||"空")),i)try{Laya.Browser.window.wx.tmSDK.sendEvent(t,i)}catch(e){console.log("上传错误")}else try{Laya.Browser.window.wx.tmSDK.sendEvent(t,{})}catch(e){console.log("上传错误")}}}e.TmCtrl=T,e.tmShare=function(t){wx.tmSDK.getShareTemplates&&wx.tmSDK.getShareTemplates().then(i=>{let n=i[t][0];n&&(wx.shareAppMessage({title:n.title,imageUrl:n.image,query:"gid="+e.gid}),wx.tmSDK.shareAppMessage&&wx.tmSDK.shareAppMessage({scene:t,title:n.title,imageUrl:n.image,query:"gid="+e.gid}))})},e.showShareMenu=function(){if("qq"==e.channel){window.qq.showShareMenu({showShareItems:["qq","qzone","wechatFriends","wechatMoment"]});let e=[null,["开局一条龙，快来试玩吧！","https://zy-1257315588.file.myqcloud.com/zoo/share_img/share7.jpg"],["园长，快进来看看你的动物怎么样了？","https://zy-1257315588.file.myqcloud.com/zoo/share_img/share8.jpg"],["太魔性啦！这谁顶得住啊？","https://zy-1257315588.file.myqcloud.com/zoo/share_img/share9.jpg"]],t=Math.floor(2*Math.random()+1);window.qq.onShareAppMessage(()=>({title:e[t][0],imageUrl:e[t][1]}))}else"wx"==e.channel&&(wx.showShareMenu({withShareTicket:!0,menus:["shareAppMessage","shareTimeline"]}),wx.tmSDK.getShareTemplates&&wx.tmSDK.getShareTemplates().then(t=>{let i=t.initiative[0];i&&(wx.onShareTimeline(()=>({title:i.title,imageUrl:i.image,query:"gid="+e.gid})),wx.tmSDK.onShareAppMessage&&wx.tmSDK.onShareAppMessage(function(){return{scene:"initiative",title:i.title,imageUrl:i.image,query:"gid="+e.gid}}))}))};class B{constructor(){this.showTimes=0}}e.BannerData=B,e.ad=new class{constructor(){this._adWidth=0,this._adHeight=0,this._atLeastLength=1,this._showTimes=1,this._canBanner=!1,this.isADing=!1}onBannerResize(e){console.log("real size, width: ",e.width," height :",e.height),this._adWidth=e.width,this._adHeight=e.height,this._adHeight<2&&(this._adHeight=89)}init(t,i,n,s,a){let o;if("zj"==e.channel?o=window.tt:"wx"==e.channel?o=wx:"vivo"==e.channel||"oppo"==e.channel?o=window.qg:"qq"==e.channel?o=window.qq:"bd"===e.channel?o=window.swan:"hw"===e.channel?o=window.hbs:e.channel,this.onBannerResize=this.onBannerResize.bind(this),this.onBannerClose=this.onBannerClose.bind(this),this._lastBannerShowTime=0,"wx"==e.channel){if(t&&t.length>0)for(let e=0;e<t.length;e++)Laya.timer.once(1e3*e,this,()=>{o.createRewardedVideoAd?(this._videoAd=this._videoAd||[],this._videoAd[e]=o.createRewardedVideoAd({adUnitId:t[e],multiton:!0}),this._videoAd[e].onError(this.onVideoAdError.bind(this,e)),this._videoAd[e].onClose(this.onVideoAdClose.bind(this))):console.log("不创建激励视频")})}else if("qq"==e.channel)o.createRewardedVideoAd?(this._videoAd=o.createRewardedVideoAd({adUnitId:t[0]}),this._videoAd.onLoad(()=>{console.log("QQ激励视频加载成功")}),this._videoAd.onError(this.onQQVideoAdError.bind(this)),this._videoAd.onClose(this.onVideoAdClose.bind(this))):console.log("不创建激励视频");else if("zj"==e.channel)this._videoAdId=t[0];else if("vivo"==e.channel||"oppo"==e.channel){if(t&&t.length>0&&("oppo"==e.channel?this._videoAd=o.createRewardedVideoAd({adUnitId:t[0]}):"vivo"==e.channel&&(o.getSystemInfoSync().platformVersionCode>=1041?this._videoAd=o.createRewardedVideoAd({posId:t[0]}):e.msg.show("版本过低，没有广告")),console.log(">>>:激励视频初始化."),this._videoAd.onLoad(this.onVoideAdLoad.bind(this)),this._videoAd.onClose(this.onVideoAdClose.bind(this)),this._videoAd.onError(this.onOppoVideoAdError.bind(this))),i&&i.length>0)if("vivo"==e.channel)this._bannerId=i[0],this._bannerShowed=!1,console.log(">>>:初始化vivo banner  id="+this._bannerId);else{let e=o.getSystemInfoSync(),t=Math.floor(e.screenWidth);t<300&&(t=300),this._bannerAd=o.createBannerAd({adUnitId:i[0],style:{left:Math.floor((e.screenWidth-t)/2),top:100,width:t}}),this._bannerAd.onError(e=>{console.log("banner 广告加载失败:"+e.errCode)}),this._bannerAd.onLoad(()=>{console.log("banner 广告加载成功: ")});var h=this;this._bannerAd.onResize(e=>{h._adWidth=e.width,h._adHeight=e.height,h._adHeight<2&&(h._adHeight=89)})}}else if("bd"===e.channel)t&&t.length>0&&(this._videoAd=o.createRewardedVideoAd({adUnitId:t[0],appSid:"b75f5a14"}),this._videoAd.onLoad(()=>{console.log("百度激励视频加载成功")}),this._videoAd.onError(this.onQQVideoAdError.bind(this)),this._videoAd.onClose(this.onVideoAdClose.bind(this))),Laya.systemTimer.once(5e3,this,()=>{if(i&&i.length>0){let t=o.getSystemInfoSync(),n=Math.floor(t.screenWidth);n<300&&(n=300),this._bannerAd=o.createBannerAd({adUnitId:i[0],appSid:"b75f5a14",style:{left:Math.floor((t.screenWidth-n)/2),top:100,width:n}}),this._bannerAd.onError(e=>{console.log("banner 广告加载失败:"+e.errCode)}),this._bannerAd.onLoad(()=>{console.log("banner 广告加载成功: ")});var e=this;this._adWidth=n,this._bannerAd.onResize(t=>{e._adWidth=t.width,e._adHeight=t.height,e._adHeight<2&&(e._adHeight=89)})}});else if("hw"===e.channel)o&&o.createRewardedVideoAd?(this._videoAd=o.createRewardedVideoAd({adUnitId:t[0],success:e=>{console.log("ad demo : loadAndShowVideoAd createRewardedVideoAd: success")},fail:(e,t)=>{console.log("ad demo : loadAndShowVideoAd createRewardedVideoAd fail: "+e+","+t)},complete:()=>{console.log("ad demo : loadAndShowVideoAd createRewardedVideoAd complete")}}),this._videoAd.onLoad(()=>{console.log("华为 激励视频加载成功")}),this._videoAd.onError(this.onQQVideoAdError.bind(this)),this._videoAd.onClose(this.onVideoAdClose.bind(this))):console.log("不创建激励视频");else if("yl"===e.channel&&t&&t.length>0)for(let e=0;e<t.length;e++)Laya.timer.once(1e3*e,this,()=>{o.createRewardedVideoAd?(this._videoAd=this._videoAd||[],this._videoAd[e]=o.createRewardedVideoAd({adUnitId:t[e]}),this._videoAd[e].onError(this.onVideoAdError.bind(this,e)),this._videoAd[e].onClose(this.onVideoAdClose.bind(this))):console.log("不创建激励视频")});if(("zj"==e.channel&&o.createBannerAd||"wx"==e.channel||"qq"==e.channel)&&i&&i.length>0){for(this._canBanner=!0,this._ids=[];i.length;){var l=Math.floor(Math.random()*i.length);this._ids.push(i[l]),i.splice(l,1)}this._banners=[],this.isNoBanners=!0,this._isFirstLoad=!0,this._ids.length&&e.ad.createBannerAd(this._ids[0]),Laya.timer.loop(2e4,this,e.ad.checkIsLoaded)}if(("wx"==e.channel||"oppo"==e.channel||"qq"==e.channel)&&s&&s.length>0?e.ad._insertAd||(o.createInterstitialAd&&(console.log("插屏id:"+s[0]),e.ad._insertAd=o.createInterstitialAd({adUnitId:s[0]})),e.ad._insertAd&&(e.ad._insertAd.onError(e=>{console.log("插屏 广告加载失败"+e)}),e.ad._insertAd.onClose(()=>{console.log("插屏广告关闭")}),e.ad._insertAd.onLoad(()=>{console.log("插屏 广告加载成功")}))):"zj"==e.channel?s&&s.length>0&&(e.ad._insertAdId=s[0]):"vivo"==e.channel&&s&&s.length>0&&(e.ad._insertAd=o.createInterstitialAd({posId:s[0]}),e.ad._insertAd.onError(e=>{console.log("插屏广告加载失败",e)}),e.ad._insertAd.onClose(()=>{console.log("插屏广告关闭")}),e.ad._insertAd.onLoad(()=>{console.log("插屏 广告加载成功")})),"oppo"==e.channel||"vivo"==e.channel){if(n&&n.length>0){this._nativeAdInfos={},this._nativeAdLoadTimes={};let t="oppo"==e.channel?1e3:1e4;for(let i=0;i<n.length;i++)Laya.systemTimer.once(i*t,this,()=>{var t;o.createNativeAd?(this._nativeAd=this._nativeAd||[],t="vivo"==e.channel?o.createNativeAd({posId:n[i]}):o.createNativeAd({adUnitId:n[i]}),this._nativeAd[n[i]]=t,t.onLoad(this.onNativeAdLoad.bind(this,n[i])),t.onError(this.onNativeAdError.bind(this,n[i])),console.log(">>>:创建oppo原生广告,adUnitId="+n[i]),Laya.systemTimer.once(1e3,this._nativeAd[n[i]],this._nativeAd[n[i]].load)):console.log("不创建原生视频")})}}else if("wx"==e.channel){if(console.log("微信创建原生广告:",n[0]),o.getSystemInfoSync().SDKVersion>="2.11.1"&&n&&n.length>0)if(this._nativeAdInfos={},this._nativeAdLoadTimes={},o.createCustomAd){let e=Laya.Browser.clientWidth/Laya.stage.width,t=550*e+3,i=866*e;this._nativeAd=o.createCustomAd({adUnitId:n[0],adIntervals:40,style:{left:t,top:i,fixed:1}}),this._nativeAd.onLoad(this.onWxNativeAdLoad.bind(this)),this._nativeAd.onError(this.onWxNativeAdError.bind(this)),console.log(">>>:创建wx原生广告,adUnitId="+n)}else console.log("不创建原生视频")}else"hw"===e.channel&&o&&o.createNativeAd&&(this._nativeAdInfos={},this._nativeAdLoadTimes={},console.log("华为创建原生广告:",n[0]),this._nativeAd=this._nativeAd||[],this._nativeAd[n[0]]=o.createNativeAd({adUnitId:n[0],success:e=>{console.log("loadNativeAd loadNativeAd : success")},fail:(e,t)=>{console.log("loadNativeAd loadNativeAd fail: "+e+","+t)},complete:()=>{console.log("loadNativeAd loadNativeAd : complete")}}),this._nativeAd.onLoad(this.onNativeAdLoad.bind(this,n[0])),this._nativeAd.onError(this.onNativeAdError.bind(this,n[0])));"wx"==e.channel&&a&&a.length>0&&(e.ad._girdAd||(o.createGridAd&&(e.ad._girdAd=o.createGridAd({adUnitId:a[0],adIntervals:15,style:{left:600,top:400,width:100,height:100},adTheme:"white",gridCount:5})),e.ad._girdAd&&(e.ad._girdAd.onLoad(()=>{console.log("Grid 广告加载成功")}),e.ad._girdAd.onError(e=>{console.log(e)}))))}showCustomAd(){console.log("微信原生广告展示"),this._nativeAd&&0==this._nativeAd.isShow()&&(console.log("微信原生广告展示成功"),console.log(this._nativeAd),this._nativeAd.show())}hideCustomAd(){console.log("微信原生广告隐藏"),this._nativeAd&&1==this._nativeAd.isShow()&&(console.log("微信原生广告隐藏成功"),this._nativeAd.hide())}onWxNativeAdLoad(e){console.log("微信原生广告加载成功"),console.log(e)}onWxNativeAdError(e){console.log("微信原生广告加载失败"),console.log(e)}onNativeAdLoad(t,i){if(this._nativeAd[t]&&(console.log(">>>:原生广告数据加载成功["+t+"],40s后刷新",i.adList),i.adList))if("oppo"==e.channel){for(let e=0;e<i.adList.length;e++){const n=i.adList[e];this._nativeAd[t].reportAdShow({adId:n.adId})}this._nativeAdLoadTimes[t]=Laya.Browser.now(),this._nativeAdInfos[t]=i.adList,e.eventBus.event("NATIVE_AD_LOADED",[t]),Laya.systemTimer.clearAll(this._nativeAd[t]),Laya.systemTimer.once(4e4,this._nativeAd[t],this._nativeAd[t].load)}else if("vivo"==e.channel){let n=i.adList.pop();this._nativeAd[t].reportAdShow({adId:n.adId.toString()}),this._nativeAdLoadTimes[t]=Laya.Browser.now(),this._nativeAdInfos[t]=[n],e.eventBus.event("NATIVE_AD_LOADED",[t]),Laya.systemTimer.clearAll(this._nativeAd[t]),Laya.systemTimer.once(4e4,this._nativeAd[t],this._nativeAd[t].load)}else if("hw"===e.channel){let n=i.adList.pop();this._nativeAd[t].reportAdShow({adId:n.adId}),this._nativeAdLoadTimes[t]=Laya.Browser.now(),this._nativeAdInfos[t]=i.adList,e.eventBus.event("NATIVE_AD_LOADED",[t]),Laya.systemTimer.clearAll(this._nativeAd[t]),Laya.systemTimer.once(4e4,this._nativeAd[t],this._nativeAd[t].load)}}onNativeAdError(e,t){this._nativeAd[e]&&(console.log(">>>:原生广告加载失败["+e+"]:",t),console.log(">>>:10s后再试"),Laya.systemTimer.once(1e4,this._nativeAd[e],this._nativeAd[e].load))}getNativeAdList(e){return this._nativeAdInfos?this._nativeAdInfos[e]:(console.log("原生广告未创建"),null)}reportNativeClick(e,t){console.log(">>>原生广告banner点击"),this._nativeAd[e]&&(console.log(">>>原生广告banner上报"),this._nativeAd[e].reportAdClick({adId:t}),this._nativeAdLoadTimes[e]&&Laya.Browser.now()-this._nativeAdLoadTimes[e]<5e3||(Laya.systemTimer.clearAll(this._nativeAd[e]),this._nativeAd[e].load()))}reShowBanner(){this._bannerAd&&(this._bannerAd.offClose(this.onBannerClose),this._bannerAd.destroy()),this._bannerAd=qg.createBannerAd({posId:this._bannerId}),console.log("创建了vivo的banner:"+this._bannerId),this._bannerAd.onClose(this.onBannerClose),this._bannerShowed=!1,this.showBannerNow()}showBannerNow(e=!1){if(Laya.systemTimer.clear(this,this.reShowBanner),this._vivoBannerActive&&!this._bannerShowed&&(this._bannerAd||(this._bannerAd=qg.createBannerAd({posId:this._bannerId}),this._bannerAd.onClose(this.onBannerClose),this._bannerAd.onResize(this.onBannerResize),console.log("创建了vivo的banner:"+this._bannerId),"86f86432c21f4d7ea2d139a996399c3e"!=this._bannerId&&console.log("!!!!!!!!banner id 错误了！！！！！！！！！！！")),this._bannerAd)){let t=this._bannerAd.show();console.log("_bannerAd.show!!"),console.log(t),t&&t.then(()=>{console.log("banner广告展示成功"),this._lastBannerShowTime=Laya.Browser.now(),this._bannerShowed=!0}).catch(t=>{switch(t.code){case 30003:console.log("新用户1天内不能曝光Banner，请将手机时间调整为1天后，退出游戏重新进入");break;case 30009:return console.log("10秒内调用广告次数超过1次，10秒后再调用"),void this.onBannerClose(10100);case 30002:return console.log("加载广告失败，重新加载广告"),void this.onBannerClose(10100);default:console.log("banner广告展示失败"),console.log(JSON.stringify(t))}e||(this._bannerAd&&(this._bannerAd.offClose(this.onBannerClose),this._bannerAd.destroy()),this._bannerAd=qg.createBannerAd({posId:this._bannerId}),this._bannerAd.onClose(this.onBannerClose),this._bannerAd.onResize(this.onBannerResize),console.log("创建了vivo的banner:"+this._bannerId),this.showBannerNow(!0))})}}onBannerClose(e=null){this._bannerAd&&(this._bannerAd.offClose(this.onBannerClose),this._bannerAd.destroy()),this._bannerAd=null,console.log(">>>:vivo的banner被手动关闭，20s后再次创建"),this._bannerShowed=!1,this._lastBannerHideTime=Laya.Browser.now(),e=e||2e4,Laya.systemTimer.once(e,this,this.reShowBanner)}onVoideAdLoad(){this._videoAd&&("oppo"==e.channel?(console.log(">>>:激励视频加载成功,显示它"),this._videoAd.show()):console.log(">>>:激励视频加载成功"))}showGirdAd(){e.ad._girdAd&&e.ad._girdAd.show().catch(e=>console.log(e)).then(()=>console.log("Grid 广告显示"))}hideGirdAd(){e.ad._girdAd&&e.ad._girdAd.hide()}showInsertAd(t,i,n){e.ad._insertAd&&(e.ad._insertAd.show(),this._insertCaller=t,this._insertCallback=i,this._insertParam=n)}showZjInsertAd(){e.ad._insertAd&&(e.ad._insertAd.destroy(),e.ad._insertAd=null),e.ad._insertAd=window.tt.createInterstitialAd({adUnitId:e.ad._insertAdId}),e.ad._insertAd.load().then(()=>{e.ad._insertAd.show()}).catch(e=>{console.log(e)})}checkIsLoaded(){e.ad._isFirstLoad&&(e.ad._isFirstLoad=!1),e.ad.isNoBanners&&(e.ad._isReloaded=!0),e.ad._banners.length<e.ad._atLeastLength?e.ad.start(0):Laya.timer.clear(this,e.ad.checkIsLoaded)}start(t){if(this._canBanner){var i=-1;for(let n=t;n<e.ad._ids.length;n++)e.ad.isPushed(e.ad._ids[n])||(i++,Laya.timer.once(1e3*i,this,()=>{e.ad.createBannerAd(e.ad._ids[n])},null,!1))}}isPushed(t){for(var i=0;i<e.ad._banners.length;i++)if(e.ad._banners[i].id==t)return!0;return!1}createBannerAd(t){let i;if("zj"==e.channel?i=window.tt:"wx"==e.channel?i=wx:"vivo"==e.channel||"oppo"==e.channel?i=window.qg:"qq"==e.channel?i=window.qq:"bd"===e.channel&&(i=window.swan),i.createBannerAd&&this._canBanner){console.log("banner 创建:"+t);let o=i.getSystemInfoSync(),h=Math.floor(.8*o.screenWidth);h<300&&(h=300);var n=i.createBannerAd({adUnitId:t,style:{left:Math.floor((o.screenWidth-h)/2),top:100,width:h},adIntervals:40});n.onError(t=>{console.log("banner 广告加载失败:"+t.errCode),e.ad._hasBannerLoadError=!0,Laya.timer.once(6e4,e.ad,e.ad.resetBannerLoadError)}),n.onLoad(()=>{console.log("banner 广告加载成功: ")});var s=this;if(n.onResize(e=>{s._adWidth=e.width,s._adHeight=e.height,s._adHeight<2&&(s._adHeight=89)}),!e.ad.isPushed(t)){console.log("banner 广告PUSH成功:"),e.ad.isNoBanners&&console.log("第一个广告加载成功"),e.ad.isNoBanners=!1;var a=new B;a.id=t,a.banner=n,e.ad._banners.push(a)}}else e.ad._isNoAdsSend||(e.ad._isNoAdsSend=!0)}onQQVideoAdError(e){e&&e.errCode&&(console.log(">>>:video广告组件出现问题"+JSON.stringify(e)),this._fetchRVADErrCount=this._fetchRVADErrCount||[],this._fetchRVADErrCount<20&&(this._fetchRVADErrCount++,this._videoAd&&this._videoAd.load()))}onOppoVideoAdError(t){e.msg.show("广告视频拉取失败，请稍后再试"),this._videoEvent&&e.eventBus.event("FAILED_AD",this._videoEvent)}resetBannerLoadError(){e.ad._hasBannerLoadError=!1}onVideoAdError(e,t=0){e&&e.errCode&&(parseInt(e.errCode),console.log(">>>:video广告组件出现问题"+JSON.stringify(e)),this._fetchRVADErrCount=this._fetchRVADErrCount||[],this._fetchRVADErrCount[t]<20&&this.reloadRVAD(t))}reloadRVAD(e){this._fetchRVADErrCount[e]++,this._videoAd[e].load.then(()=>{console.log("onError之后 手动load成功"),this._fetchRVADErrCount[e]=0}).catch(e=>{console.log("手动load err"+e)})}onVideoAdClose(t){this.isADing=!1,e.eventBus.event("VIDEO_CLOSE"),this._videoCallback&&this._videoCaller&&("vivo"==e.channel&&(e.videoAdShow=!1),t.isEnded?this._videoCallback.call(this._videoCaller,!0,this._videoParam):this._videoCallback.call(this._videoCaller,!1))}showVivoVideo(t,i,n=0,s,a){this._videoAd?(console.log(">>>:开始加载激励视频"),this._fetchRVADErrCount=0,this._videoCaller=t,this._videoCallback=i,this._videoParam=a,this._videoAd.show().then(()=>{e.sound.stopMusic(),e.sound.stopSound(),e.videoAdShow=!0,console.log("激励视频广告展示完成")}).catch(t=>{e.msg.show("广告视频拉取失败，请稍后再试"),console.log("激励视频广告展示失败",JSON.stringify(t))})):(e.msg.show("广告视频尚未初始化，请重启游戏后再试一次"),i&&i.call(t,!1))}showOPPOVideo(t,i,n,s){this._videoAd?(console.log(">>>:开始加载激励视频"),this._fetchRVADErrCount=0,this._videoCaller=t,this._videoCallback=i,this._videoEvent=n,this._videoParam=s,this._videoAd.load()):(e.msg.show("广告视频尚未初始化，请重启游戏后再试一次"),i&&i.call(t,!1))}showVideoAd(t,i,n=0,s,a,o=!1){if("wx"==e.channel)n=n>=3?3:n;else{if("qq"==e.channel||"bd"===e.channel||"hw"===e.channel)return void this.showQQVideoAd(t,i,s,a);if("zj"==e.channel)return void this.showZjVideoAd(t,i,s,a,o)}if(!this._videoAd||!this._videoAd[n])return void i.call(t,!0,a);this._videoCaller=t,this._videoCallback=i,this._videoParam=a,this.isADing=!0;let h=this._videoAd[n];console.log(">>>:voide准备显示",h,n),h.show().then(()=>{s&&e.eventBus.event("CLICK_AD",s),console.log(">>>:video广告显示成功")}).catch(e=>{console.log(">>>:voide广告组件出现问题",e),h.load().then(()=>(console.log("手动加载成功"),h.show()))})}showQQVideoAd(t,i,n,s){this._videoCaller=t,this._videoCallback=i,this._videoParam=s,this.isADing=!0;let a=this._videoAd;console.log(">>>:voide准备显示",a),a.show().then(()=>{"bd"==e.channel&&(e.sound.stopMusic(),e.sound.stopSound()),n&&e.eventBus.event("CLICK_AD",n),console.log(">>>:video广告显示成功")}).catch(e=>{console.log(">>>:voide广告组件出现问题",e),a.load().then(()=>(console.log("手动加载成功"),a.show()))})}showZjVideoAd(t,i,n,s,a=!1){if(this._videoAd)this.zjVideo(t,i,n,s,a);else if(this._videoAdId){let o=window.tt;if(o.createRewardedVideoAd){this._videoAd=o.createRewardedVideoAd({adUnitId:this._videoAdId}),this._videoAd.onError(this.onZjVideoAdError.bind(this)),this._videoAd.onClose(this.onVideoAdClose.bind(this)),this._videoCaller=t,this._videoCallback=i,this._videoParam=s;let h=this._videoAd;console.log(">>>:voide准备显示",h),h.show().then(()=>{n&&e.eventBus.event("CLICK_AD",n),console.log(">>>:video广告显示成功")}).catch(t=>{a?this._videoCallback.call(this._videoCaller,!0,!0):(e.msg.show("广告视频拉取失败，请稍后再试"),console.log(">>>:voide广告组件出现问题",t),h.load().then(()=>(console.log("手动加载成功"),h.show())))})}else console.log("不创建激励视频")}}onZjVideoAdError(e){e&&e.errCode&&(parseInt(e.errCode),console.log(">>>:video广告组件出现问题"+JSON.stringify(e)),this._fetchRVADErrCount=this._fetchRVADErrCount||0,this._fetchRVADErrCount<20&&this.reZjloadRVAD())}reZjloadRVAD(){this._videoAd&&this._videoAd.load&&this._videoAd.load.then(()=>{console.log("onError之后 手动load成功"),this._fetchRVADErrCount=0}).catch(e=>{console.log("手动load err"+e)})}zjVideo(t,i,n,s,a=!1){this._videoCaller=t,this._videoCallback=i,this._videoParam=s;let o=this._videoAd;console.log(">>>:voide准备显示",o),o.show().then(()=>{n&&e.eventBus.event("CLICK_AD",n),console.log(">>>:video广告显示成功")}).catch(t=>{a?this._videoCallback.call(this._videoCaller,!0,!0):(e.msg.show("广告视频拉取失败，请稍后再试"),console.log(">>>:voide广告组件出现问题",t),o.load().then(()=>(console.log("手动加载成功"),o.show())))})}showQGbanner(t,i=0){if("vivo"==e.channel){let e=Laya.Browser.now();if(e-this._lastBannerHideTime<15e3||e-this._lastBannerShowTime<15e3)return;this._vivoBannerActive=!0,console.log(">>>:显示vivo的banner"),this.showBannerNow()}else if(this._bannerAd){let e=window.qg.getSystemInfoSync();e&&e.windowWidth&&e.windowHeight&&(this._bannerAd.style.left=Math.floor((e.windowWidth-this._adWidth)/2),this._bannerAd.style.top=e.windowHeight-i-this._adHeight),console.log("展示banner: "),this._bannerAd.show()}}showBDbanner(e=0){if(this._bannerAd){let t=Laya.Browser.now();if(t-this._lastBannerHideTime<3e4||t-this._lastBannerShowTime<3e4)return;this._lastBannerShowTime=t;let i=window.swan.getSystemInfoSync();i&&i.screenWidth&&i.screenHeight&&(this._bannerAd.style.left=Math.floor((i.screenWidth-this._adWidth)/2),this._bannerAd.style.top=i.screenHeight-e-(this._adHeight||Math.floor(210*i.screenHeight/Laya.stage.height))),console.log("展示banner: "),this._bannerAd.show()}}showTTBanner(t=0){if(console.log("展示banner!!!!! "),e.ad._banners&&e.ad._banners.length&&this._canBanner){var i=e.ad.getBannerData();if(i){let n;"zj"==e.channel?n=window.tt:"wx"==e.channel?n=wx:"qq"==e.channel&&(n=window.qq);let s=n.getSystemInfoSync();s&&s.windowWidth&&s.windowHeight&&(i.banner.style.left=Math.floor((s.windowWidth-this._adWidth)/2),i.banner.style.top=s.windowHeight-t-this._adHeight),console.log("展示banner: "+i.id),i.showTimes++,i.banner.show(),i.isShow=!0}}}getBannerData(){if(e.ad._banners.length){for(var t=0;t<e.ad._banners.length;t++)if((s=e.ad._banners[t]).isShow)return s;var i=99,n=0;for(t=0;t<e.ad._banners.length;t++){var s;if(!(s=e.ad._banners[t]).isTouched){if(0==s.showTimes)return s;s.showTimes<i&&(i=s.showTimes,n=t)}}return e.ad._banners[n]}return null}hideBanner(t=!0){if("oppo"==e.channel||"bd"===e.channel)this._bannerAd&&(this._bannerAd.hide(),"bd"===e.channel&&(this._lastBannerHideTime=Laya.Browser.now()));else if("vivo"==e.channel)console.log(">>>:隐藏vivo的banner,"+this._bannerShowed+","+this._vivoBannerActive),Laya.systemTimer.clear(this,this.reShowBanner),this._bannerAd&&this._vivoBannerActive&&(console.log("!!!this._bannerAd.hide()"),this._bannerAd.hide(),this._lastBannerHideTime=Laya.Browser.now()),this._vivoBannerActive=!1,this._bannerShowed=!1;else if(e.ad._banners&&e.ad._banners.length){for(var i=0;i<e.ad._banners.length;i++){var n=e.ad._banners[i];n.isShow&&(n.isShow=!1,n.isTouched=t,n.banner.hide())}e.ad.checkDestroy()}}checkDestroy(){if(e.ad._banners.length>=e.ad._atLeastLength&&!e.ad._hasBannerLoadError)for(var t=0;t<e.ad._banners.length;t++){var i=e.ad._banners[t];if(i.isTouched||i.showTimes>=e.ad._showTimes)return i.banner.destroy(),e.ad._banners.splice(t,1),e.ad.createBannerAd(i.id),void console.log("banner 广告销毁: "+i.id)}}get bannerHeight(){let t;if("zj"==e.channel?t=window.tt:"wx"==e.channel?t=wx:"oppo"==e.channel||"vivo"==e.channel?t=window.qg:"qq"==e.channel?t=window.qq:"bd"===e.channel&&(t=window.swan),t&&t.getSystemInfoSync){let i=t.getSystemInfoSync();if("vivo"==e.channel){0==this._adHeight&&(this._adHeight=113);let e=Math.floor(this._adHeight/i.screenHeight*Laya.stage.height);return console.log("bottom : "+e),e||0}if("bd"==e.channel){0==this._adHeight&&(this._adHeight=Math.floor(210*i.screenHeight/Laya.stage.height));let e=Math.floor(this._adHeight/i.screenHeight*Laya.stage.height);return console.log("bottom : "+e),e||0}{let e=Math.floor(this._adHeight/i.windowHeight*Laya.stage.height);return console.log("bottom : "+e),e||0}}return 0}}}(i||(i={}));var n,s,a,o,h,l,r=Laya.View,p=Laya.ClassUtils.regClass;!function(e){!function(e){class t extends r{constructor(){super()}createChildren(){super.createChildren(),this.createView(t.uiView)}}t.uiView={type:"View",props:{width:750,height:1334},compId:2,child:[{type:"Image",props:{top:0,skin:"question/di.png",right:0,left:0,bottom:0},compId:3},{type:"Image",props:{x:38,width:178,var:"topUI",top:72,skin:"question/gdi.png",sizeGrid:"1,1,1,1",left:38,height:40},compId:8,child:[{type:"Sprite",props:{y:-8,x:-22,texture:"question/jb.png"},compId:9},{type:"Button",props:{y:-10,x:177,var:"btnAddCoin",stateNum:1,skin:"question/tj.png"},compId:10},{type:"Label",props:{y:7,x:27,width:148,var:"gold1",valign:"middle",text:"123",height:32,fontSize:32,color:"#030303",align:"center"},compId:11,child:[{type:"Label",props:{y:-3,x:-2,width:148,var:"gold2",valign:"middle",text:"123",height:32,fontSize:32,color:"#fef790",align:"center"},compId:12}]}]},{type:"Box",props:{var:"boxMain",top:0,right:0,left:0,bottom:0},compId:22,child:[{type:"Image",props:{y:232,x:94,skin:"question/zs.png"},compId:6},{type:"Image",props:{y:532,x:135,skin:"question/guiz.png"},compId:5},{type:"Button",props:{x:16,width:240,var:"btnBack",stateNum:1,skin:"question/2_1.png",sizeGrid:"4,25,25,25",height:108,bottom:16},compId:13,child:[{type:"Image",props:{y:-49,x:0,width:240,skin:"question/2.png",sizeGrid:"25,25,28,26",height:130},compId:14,child:[{type:"Image",props:{y:19,x:49,skin:"question/fanhui.png"},compId:15}]}]},{type:"Button",props:{x:277,width:460,var:"btnStart",stateNum:1,skin:"question/1_1.png",sizeGrid:"4,25,25,25",height:108,bottom:16},compId:17,child:[{type:"Image",props:{y:-49,x:0,width:460,var:"imgBg",skin:"question/1.png",sizeGrid:"25,25,28,26",height:130},compId:18,child:[{type:"Image",props:{y:19,x:158,var:"imgText",skin:"question/ks2.png"},compId:19},{type:"Label",props:{y:112,x:230,var:"labelCount",text:"每日免费一次",fontSize:28,color:"#ffffff",anchorY:.5,anchorX:.5},compId:20},{type:"Image",props:{y:28,x:37,var:"imgVideo",skin:"question/sp.png"},compId:21},{type:"Image",props:{y:32,x:27,visible:!1,var:"imgGold",skin:"question/jb.png"},compId:120,child:[{type:"Label",props:{y:12,x:57,text:"50",fontSize:40,color:"#ffffff"},compId:121}]}]}]}]},{type:"Box",props:{y:0,x:0,visible:!1,var:"boxAnswer",top:0,right:0,left:0,bottom:0},compId:77,child:[{type:"Box",props:{x:135,var:"boxQ0",centerY:-304},compId:46,child:[{type:"Image",props:{width:480,skin:"question/di2.png",sizeGrid:"24,26,26,23",height:246},compId:23},{type:"Label",props:{y:42,x:16,wordWrap:!0,width:36,valign:"top",text:"1.",leading:10,height:77,fontSize:31,font:"SimHei",color:"#6a4c47"},compId:115},{type:"Label",props:{y:42,x:32,wordWrap:!0,width:433,valign:"top",text:"鲨鱼喜欢摇晃渔船，是因为它想挠痒痒嘛?",name:"labelQ",leading:10,height:77,fontSize:31,font:"SimHei",color:"#6a4c47",align:"center"},compId:25},{type:"Button",props:{y:173,x:61,stateNum:1,skin:"question/zq.png",name:"btnTrue"},compId:26,child:[{type:"Image",props:{y:-5,x:0,skin:"question/quan.png"},compId:27}]},{type:"Button",props:{y:173,x:225,stateNum:1,skin:"question/cw.png",name:"btnFalse"},compId:28,child:[{type:"Image",props:{y:-5,x:0,skin:"question/quan.png"},compId:29}]},{type:"Image",props:{y:99,x:426,skin:"question/gou2.png",name:"imgAnswerState",anchorY:.5,anchorX:.5},compId:30},{type:"Button",props:{y:200,x:378,stateNum:1,skin:"question/zsd2.png",name:"btnKn"},compId:44,child:[{type:"Image",props:{y:-39,x:0,skin:"question/zsd.png"},compId:45},{type:"Image",props:{y:-39,x:27.5,width:33,visible:!1,skin:"btn/btnRed1.png",height:22},compId:123}]}]},{type:"Box",props:{x:135,var:"boxQ1",centerY:-40},compId:57,child:[{type:"Image",props:{width:480,skin:"question/di2.png",sizeGrid:"24,26,26,23",height:246},compId:58},{type:"Label",props:{y:42,x:16,wordWrap:!0,width:36,valign:"top",text:"2.",leading:10,height:77,fontSize:31,font:"SimHei",color:"#6a4c47"},compId:116},{type:"Label",props:{y:42,x:32,wordWrap:!0,width:433,valign:"top",text:"鲨鱼喜欢摇晃渔船，是因为它想挠痒痒嘛?",name:"labelQ",leading:10,height:77,fontSize:31,font:"SimHei",color:"#6a4c47",align:"center"},compId:117},{type:"Button",props:{y:173,x:61,stateNum:1,skin:"question/zq.png",name:"btnTrue"},compId:60,child:[{type:"Image",props:{y:-5,x:0,skin:"question/quan.png"},compId:61}]},{type:"Button",props:{y:173,x:225,stateNum:1,skin:"question/cw.png",name:"btnFalse"},compId:62,child:[{type:"Image",props:{y:-5,x:0,skin:"question/quan.png"},compId:63}]},{type:"Image",props:{y:99,x:426,skin:"question/gou2.png",name:"imgAnswerState",anchorY:.5,anchorX:.5},compId:64},{type:"Button",props:{y:200,x:378,stateNum:1,skin:"question/zsd2.png",name:"btnKn"},compId:65,child:[{type:"Image",props:{y:-39,x:0,skin:"question/zsd.png"},compId:66},{type:"Image",props:{y:-39,x:27,width:33,visible:!1,skin:"btn/btnRed1.png",height:22},compId:124}]}]},{type:"Box",props:{x:135,var:"boxQ2",centerY:224},compId:67,child:[{type:"Image",props:{width:480,skin:"question/di2.png",sizeGrid:"24,26,26,23",height:246},compId:68},{type:"Label",props:{y:42,x:16,wordWrap:!0,width:36,valign:"top",text:"3.",leading:10,height:77,fontSize:31,font:"SimHei",color:"#6a4c47"},compId:118},{type:"Label",props:{y:42,x:32,wordWrap:!0,width:433,valign:"top",text:"鲨鱼喜欢摇晃渔船，是因为它想挠痒痒嘛?",name:"labelQ",leading:10,height:77,fontSize:31,font:"SimHei",color:"#6a4c47",align:"center"},compId:119},{type:"Button",props:{y:173,x:61,stateNum:1,skin:"question/zq.png",name:"btnTrue"},compId:70,child:[{type:"Image",props:{y:-5,x:0,skin:"question/quan.png"},compId:71}]},{type:"Button",props:{y:173,x:225,stateNum:1,skin:"question/cw.png",name:"btnFalse"},compId:72,child:[{type:"Image",props:{y:-5,x:0,skin:"question/quan.png"},compId:73}]},{type:"Image",props:{y:99,x:426,skin:"question/gou2.png",name:"imgAnswerState",anchorY:.5,anchorX:.5},compId:74},{type:"Button",props:{y:200,x:378,stateNum:1,skin:"question/zsd2.png",name:"btnKn"},compId:75,child:[{type:"Image",props:{y:-39,x:0,skin:"question/zsd.png"},compId:76},{type:"Image",props:{y:-39,x:27,width:33,visible:!1,skin:"btn/btnRed1.png",height:22},compId:125}]}]},{type:"Button",props:{x:145,width:460,var:"btnSubmit",stateNum:1,skin:"question/3_1.png",sizeGrid:"5,24,26,26",height:100,bottom:60},compId:31,child:[{type:"Image",props:{y:-55,x:0,width:460,skin:"question/3.png",sizeGrid:"23,26,27,27",height:131},compId:32,child:[{type:"Image",props:{y:30,x:159,skin:"question/jj1.png"},compId:33}]}]},{type:"Image",props:{y:862,x:561,visible:!1,var:"bubble",skin:"main/img_bubble.png"},compId:126}]},{type:"Box",props:{visible:!1,var:"boxPop",top:0,right:0,left:0,bottom:0},compId:43,child:[{type:"Image",props:{y:376,x:44,skin:"question/tanchuang.png"},compId:34},{type:"Label",props:{y:495,x:96,wordWrap:!0,width:566,valign:"middle",text:"如果答错一题会失去所有奖励哦要不要再检查一遍？",leading:30,height:122,fontSize:40,font:"SimHei",color:"#6a4c47",align:"center"},compId:36},{type:"Button",props:{y:776,x:110,width:240,var:"btnCheck",stateNum:1,skin:"question/2_1.png",sizeGrid:"5,28,25,25",height:67},compId:37,child:[{type:"Image",props:{y:-37,x:0,width:240,skin:"question/2.png",sizeGrid:"24,26,27,24",height:90},compId:38,child:[{type:"Image",props:{y:27,x:38,skin:"question/jcyx.png"},compId:39}]}]},{type:"Button",props:{y:776,x:410,width:240,var:"btnSureSubmit",stateNum:1,skin:"question/1_1.png",sizeGrid:"5,28,25,25",height:67},compId:40,child:[{type:"Image",props:{y:-37,x:0,width:240,skin:"question/1.png",sizeGrid:"24,26,27,24",height:90},compId:41,child:[{type:"Image",props:{y:27,x:38,skin:"question/qrjj.png"},compId:42}]}]}]},{type:"Box",props:{visible:!1,var:"boxResult",top:0,right:0,left:0,bottom:0},compId:112,child:[{type:"Image",props:{y:200,width:750,skin:"question/di3.png",sizeGrid:"1,1,1,1",height:894,centerX:0,alpha:.7},compId:83},{type:"Button",props:{y:267,x:653,width:91,var:"btnResultClose",stateNum:1,skin:"question/close1.png",sizeGrid:"0,33,33,28",height:47},compId:113,child:[{type:"Image",props:{y:-40,x:0,skin:"question/close2.png"},compId:114}]},{type:"Image",props:{y:406,x:384,var:"imgTitle",skin:"question/jxnl.png",anchorY:.5,anchorX:.5},compId:84},{type:"Box",props:{y:557,x:253,var:"boxSuccess"},compId:93,child:[{type:"Label",props:{y:-.5,x:50,text:"恭喜获得",strokeColor:"#000000",stroke:5,fontSize:36,font:"SimHei",color:"#ffffff"},compId:85},{type:"Label",props:{y:49.5,x:50,var:"labelHat",text:"稀有帽子",strokeColor:"#000000",stroke:5,fontSize:36,font:"SimHei",color:"#df53cc"},compId:86},{type:"Label",props:{y:131.5,var:"labelRewardCount",text:"+1",strokeColor:"#000000",stroke:5,fontSize:72,font:"SimHei",color:"#ffffff"},compId:87,child:[{type:"Image",props:{y:30,var:"imgIcon",skin:"question/hat.png",right:-159,anchorY:.5,anchorX:.5},compId:88}]}]},{type:"Box",props:{y:639,x:186,var:"boxFail"},compId:95,child:[{type:"Image",props:{y:-131,x:26,skin:"question/zsd3.png"},compId:94},{type:"Image",props:{y:0,x:0,width:375,skin:"question/di2.png",sizeGrid:"24,26,26,23",height:192},compId:96},{type:"Label",props:{y:29,x:7,wordWrap:!0,width:359,valign:"middle",text:"1.鲨鱼喜欢摇晃渔船，是因为它想挠痒痒嘛?",name:"labelQ",leading:10,height:77,fontSize:25,font:"SimHei",color:"#6a4c47",align:"center"},compId:97},{type:"Image",props:{y:130,x:38,stateNum:1,skin:"question/zq.png",name:"btnTrue"},compId:98},{type:"Image",props:{y:131,x:158,stateNum:1,skin:"question/cw.png",name:"btnFalse"},compId:100},{type:"Button",props:{y:154.5,x:263,stateNum:1,skin:"question/zsd2.png",name:"btnKn"},compId:103,child:[{type:"Image",props:{y:-39,x:0,skin:"question/zsd.png"},compId:104}]},{type:"Image",props:{y:13,x:278,skin:"question/arrow.png",name:"arrow"},compId:111}]},{type:"Button",props:{y:948,x:145,width:460,var:"btnDouble",stateNum:1,skin:"question/1_1.png",sizeGrid:"4,24,24,26",height:72},compId:89,child:[{type:"Image",props:{y:-84,x:0,width:460,skin:"question/1.png",sizeGrid:"24,27,27,24",height:132},compId:90,child:[{type:"Image",props:{y:38,x:42,skin:"question/video.png"},compId:92},{type:"Image",props:{y:30,x:124,skin:"question/double.png"},compId:91}]}]},{type:"Button",props:{y:948,x:145,width:460,var:"btnFail",stateNum:1,skin:"question/1_1.png",sizeGrid:"4,24,24,26",height:72},compId:105,child:[{type:"Image",props:{y:-84,x:0,width:460,skin:"question/1.png",sizeGrid:"24,27,27,24",height:132},compId:106,child:[{type:"Image",props:{y:38,x:42,skin:"question/video.png"},compId:108},{type:"Label",props:{y:42,x:128,text:"获得 50",name:"labelCount",fontSize:60,color:"#e9fed6"},compId:109},{type:"Image",props:{y:38,x:352,skin:"question/jb.png"},compId:110}]}]}]},{type:"Box",props:{y:0,x:0,visible:!1,var:"boxKn",top:0,right:0,left:0,bottom:0},compId:82,child:[{type:"Image",props:{y:376,x:44,skin:"question/tanchuang.png"},compId:78},{type:"Label",props:{y:448,x:153,wordWrap:!0,width:460,var:"labelQuestion",valign:"middle",text:"1.鲨鱼喜欢摇晃渔船，是因为它想挠痒痒嘛?",leading:10,height:77,fontSize:31,font:"SimHei",color:"#6a4c47",align:"center"},compId:79},{type:"Label",props:{y:548,x:130,wordWrap:!0,width:516,var:"labelAnswer",valign:"top",text:"1.鲨鱼喜欢摇晃渔船，是因为它想挠痒痒嘛?",leading:5,height:353,fontSize:31,font:"SimHei",color:"#6a4c47",align:"left"},compId:80},{type:"Button",props:{y:398,x:631,var:"btnClose",stateNum:1,skin:"question/qx.png"},compId:81}]},{type:"Box",props:{y:0,x:0,visible:!1,var:"vivoActive",centerY:0,centerX:0},compId:127,child:[{type:"Image",props:{width:690,skin:"main/vivo_di.png",sizeGrid:"24,21,27,19",name:"imgbg",height:900,centerY:0,centerX:0},compId:128},{type:"Image",props:{width:244,skin:"btn/btnColor1Up.png",sizeGrid:"20,18,22,19",height:74,centerX:0,bottom:50},compId:129,child:[{type:"Image",props:{y:-20,x:0,width:244,skin:"btn/btnColor2Up.png",sizeGrid:"19,21,19,20",height:74},compId:130,child:[{type:"Image",props:{skin:"main/vivo_go.png",centerY:0,centerX:0},compId:131}]}]},{type:"Image",props:{width:80,skin:"main/adbg.png",sizeGrid:"1,1,1,1",right:0,height:35,bottom:25},compId:132,child:[{type:"Label",props:{text:"广告",fontSize:25,color:"#ffffff",centerY:0,centerX:0},compId:133}]},{type:"Label",props:{text:"疯狂动物园",name:"title",fontSize:48,color:"#6f2e00",centerY:62,centerX:-2},compId:134},{type:"Label",props:{y:616,text:"疯狂动物园疯狂开跑",name:"title2",fontSize:36,color:"#6f2e00",centerX:0},compId:135},{type:"Image",props:{y:10,x:10,width:670,top:10,sizeGrid:"28,23,25,20",name:"imgPicture",height:353,centerX:0},compId:136},{type:"Image",props:{y:30,x:612,top:20,skin:"main/vivo_cancel.png",right:20,name:"imgClose"},compId:137}]}],loadList:["question/di.png","question/gdi.png","question/jb.png","question/tj.png","question/zs.png","question/guiz.png","question/2_1.png","question/2.png","question/fanhui.png","question/1_1.png","question/1.png","question/ks2.png","question/sp.png","question/di2.png","question/zq.png","question/quan.png","question/cw.png","question/gou2.png","question/zsd2.png","question/zsd.png","btn/btnRed1.png","question/3_1.png","question/3.png","question/jj1.png","main/img_bubble.png","question/tanchuang.png","question/jcyx.png","question/qrjj.png","question/di3.png","question/close1.png","question/close2.png","question/jxnl.png","question/hat.png","question/zsd3.png","question/arrow.png","question/video.png","question/double.png","question/qx.png","main/vivo_di.png","btn/btnColor1Up.png","btn/btnColor2Up.png","main/vivo_go.png","main/adbg.png","main/vivo_cancel.png"],loadList3D:[]},e.AnswerQuestionUI=t,p("ui.main.AnswerQuestionUI",t);class i extends r{constructor(){super()}createChildren(){super.createChildren(),this.createView(i.uiView)}}i.uiView={type:"View",props:{width:750,height:1360},compId:2,child:[{type:"Image",props:{var:"imgMask",top:0,skin:"main/img_blackMask.png",sizeGrid:"1,1,1,1",right:0,left:0,bottom:0,alpha:.6},compId:3},{type:"Image",props:{x:0,skin:"main/blackMask.png",sizeGrid:"1,1,1,1",right:0,left:0,height:250,centerY:0,alpha:.8},compId:5},{type:"Box",props:{width:750,var:"boxMain",height:1136,centerX:0,bottom:0},compId:14,child:[{type:"Image",props:{y:518,x:-27,width:806,skin:"btn/img_0.png",sizeGrid:"28,28,28,28",height:280},compId:115},{type:"Image",props:{y:0,x:0,width:315,skin:"btn/img_1.png",sizeGrid:"28,28,28,28",height:284},compId:15},{type:"Image",props:{y:30,x:21,width:275,skin:"btn/img_0.png",sizeGrid:"28,28,28,28",height:65},compId:16},{type:"Image",props:{y:39.5,x:68.5,skin:"attention/img_13.png"},compId:17},{type:"Image",props:{y:406,skin:"main/img_tip_zi0.png",centerX:0},compId:19},{type:"Image",props:{y:122,x:0,width:750,skin:"attention/img_8.png",sizeGrid:"2,2,2,2",height:664},compId:20},{type:"Image",props:{y:433,x:11,width:730,skin:"btn/img_0.png",sizeGrid:"28,28,28,28",height:340},compId:21},{type:"Image",props:{y:132,x:10.5,width:730,skin:"btn/img_0.png",sizeGrid:"28,28,28,28",height:280},compId:63},{type:"Image",props:{y:160,x:237.5,skin:"attention/img_17.png"},compId:64},{type:"Image",props:{y:217,x:21,width:710,skin:"btn/img_2.png",sizeGrid:"28,28,28,28",height:185},compId:80},{type:"Image",props:{y:227,x:371,width:351,skin:"btn/img_1.png",sizeGrid:"29,26,28,28",height:75},compId:75},{type:"Image",props:{y:249,x:400.5,width:292,skin:"attention/img_9.png",height:31},compId:76},{type:"Button",props:{y:356,x:446.5,width:200,var:"btnGain",stateNum:1,skin:"btn/img_4.png",sizeGrid:"11,24,27,24",height:35},compId:40,child:[{type:"Image",props:{y:-40,width:244,skin:"btn/img_5.png",sizeGrid:"24,24,24,24",right:0,left:0,height:60},compId:41,child:[{type:"Image",props:{skin:"attention/img_15.png",name:"img",centerY:0,centerX:0},compId:42}]}]},{type:"Image",props:{y:239.5,x:98.5,skin:"attention/img_20.png"},compId:81},{type:"Button",props:{y:1026,x:19,width:710,var:"btnBack",stateNum:1,skin:"btn/img_7.png",sizeGrid:"11,24,27,24",height:89,bottom:33},compId:56,child:[{type:"Image",props:{y:-40,width:244,skin:"btn/img_8.png",sizeGrid:"24,24,24,24",right:0,left:0,height:108},compId:57,child:[{type:"Image",props:{skin:"daymission/img_17.png",centerY:0,centerX:0},compId:58}]}]},{type:"Sprite",props:{y:-118,x:322,texture:"attention/7.png"},compId:96},{type:"Box",props:{y:443,x:20,width:400,height:100},compId:45,child:[{type:"Image",props:{y:0,x:0,width:400,skin:"btn/img_2.png",sizeGrid:"28,28,28,28",height:100},compId:46},{type:"Image",props:{y:37,x:10,skin:"attention/img_16.png"},compId:83},{type:"Image",props:{y:20,x:330,skin:"attention/img_12.png"},compId:97}]},{type:"Box",props:{y:553,x:20,width:400,height:100},compId:102,child:[{type:"Image",props:{y:0,x:0,width:400,skin:"btn/img_2.png",sizeGrid:"28,28,28,28",height:100},compId:103},{type:"Image",props:{y:37,x:10,skin:"attention/img_22.png"},compId:104},{type:"Image",props:{y:20,x:330,skin:"attention/img_21.png"},compId:105}]},{type:"Box",props:{y:663,x:19,width:400,height:100},compId:106,child:[{type:"Image",props:{y:0,x:0,width:400,skin:"btn/img_2.png",sizeGrid:"28,28,28,28",height:100},compId:107},{type:"Image",props:{y:37,x:10,skin:"attention/img_23.png"},compId:108},{type:"Image",props:{y:20,x:330,skin:"attention/img_11.png"},compId:109}]},{type:"Box",props:{y:443,x:431.5,width:300,height:320},compId:110,child:[{type:"Image",props:{y:0,x:0,width:300,skin:"btn/img_2.png",sizeGrid:"28,28,28,28",height:320},compId:111},{type:"Image",props:{y:24,x:21.5,skin:"attention/img_24.png"},compId:112},{type:"Image",props:{y:101,x:64,width:172,skin:"attention/img_14.png",height:197},compId:114}]}]}],loadList:["main/img_blackMask.png","main/blackMask.png","btn/img_0.png","btn/img_1.png","attention/img_13.png","main/img_tip_zi0.png","attention/img_8.png","attention/img_17.png","btn/img_2.png","attention/img_9.png","btn/img_4.png","btn/img_5.png","attention/img_15.png","attention/img_20.png","btn/img_7.png","btn/img_8.png","daymission/img_17.png","attention/7.png","attention/img_16.png","attention/img_12.png","attention/img_22.png","attention/img_21.png","attention/img_23.png","attention/img_11.png","attention/img_24.png","attention/img_14.png"],loadList3D:[]},e.AttentionUI=i,p("ui.main.AttentionUI",i);class n extends r{constructor(){super()}createChildren(){super.createChildren(),this.createView(n.uiView)}}n.uiView={type:"View",props:{width:750,height:1360,fontSize:30},compId:2,child:[{type:"Image",props:{var:"imgMask",top:0,skin:"main/img_blackMask.png",sizeGrid:"1,1,1,1",right:0,left:0,bottom:0,alpha:.6},compId:3},{type:"Box",props:{width:750,var:"boxMain",top:0,centerX:0,bottom:0},compId:14,child:[{type:"Button",props:{x:0,width:375,var:"btnDayTask",stateNum:1,skin:"daymission/tab2.png",sizeGrid:"25,25,13,22",height:95,bottom:1e3},compId:222,child:[{type:"Image",props:{y:16.5,x:91,skin:"daymission/tabIcon2.png",name:"imgIcon"},compId:223},{type:"Image",props:{y:34,x:167.5,skin:"daymission/rw2.png",name:"imgText"},compId:224}]},{type:"Button",props:{x:375,width:375,var:"btnCollectProgress",stateNum:1,skin:"daymission/tab3.png",sizeGrid:"25,25,13,22",height:95,bottom:1e3},compId:225,child:[{type:"Image",props:{y:16.5,x:91,skin:"daymission/tabIcon3.png",name:"imgIcon"},compId:226},{type:"Image",props:{y:34,x:167.5,skin:"daymission/jd1.png",name:"imgText"},compId:227}]},{type:"Box",props:{width:750,var:"boxMu",height:750,centerX:0,bottom:250},compId:200,child:[{type:"Image",props:{y:281,skin:"main/img_tip_zi0.png",centerX:0},compId:19},{type:"Image",props:{y:-3,x:0,width:750,skin:"daymission/di.png",sizeGrid:"1,1,1,1",height:749},compId:20},{type:"Image",props:{y:299,x:10,width:730,skin:"btn/img_grey_1.png",sizeGrid:"28,28,28,28",height:435},compId:21},{type:"Image",props:{y:7,x:10,width:730,skin:"btn/img_grey_1.png",sizeGrid:"28,28,28,28",height:280},compId:63,child:[{type:"Image",props:{y:36,x:233,width:256,skin:"daymission/img_13.png",height:33},compId:64},{type:"Image",props:{y:95,x:194,width:160,skin:"btn/img_grey_3.png",sizeGrid:"28,28,28,28",height:90},compId:66},{type:"Image",props:{y:140,x:232,skin:"daymission/img_11.png",anchorY:.5,anchorX:.5},compId:67},{type:"Label",props:{y:119,x:258,width:87,valign:"middle",text:"30",rotation:0,height:43,fontSize:30,font:"SimHei",color:"#f1fcf7",bold:!0,align:"center"},compId:69},{type:"Image",props:{y:95,x:376,width:160,skin:"btn/img_grey_3.png",sizeGrid:"28,28,28,28",height:90},compId:70},{type:"Label",props:{y:118,x:442,width:87,valign:"middle",text:"5",rotation:0,height:43,fontSize:30,font:"SimHei",color:"#f1fcf7",bold:!0,align:"center"},compId:72},{type:"Image",props:{y:141,x:423,width:67,skin:"daymission/img_10.png",height:54,anchorY:.5,anchorX:.5},compId:71},{type:"Image",props:{y:222,x:10,width:480,skin:"btn/img_2_s.png",sizeGrid:"11,11,11,11",height:30},compId:77},{type:"Image",props:{y:222,x:10,width:30,var:"imgSlider",skin:"btn/img_3_s.png",sizeGrid:"11,11,11,11",height:30},compId:78},{type:"Image",props:{y:69,x:529,width:190,skin:"btn/img_19.png",sizeGrid:"14,10,14,13",height:35},compId:75},{type:"Image",props:{y:76,x:546,width:156,skin:"daymission/img_18.png",height:21},compId:76},{type:"Label",props:{y:226,x:189,width:87,var:"labelSlider",valign:"middle",text:"0/8",rotation:0,height:22,fontSize:20,font:"SimHei",color:"#f1fcf7",bold:!0,align:"center"},compId:79}]},{type:"Panel",props:{y:309,x:20,width:707,var:"panel",height:415},compId:80,child:[{type:"Box",props:{y:0,x:0,width:710,height:950},compId:81,child:[{type:"Box",props:{y:1,x:0,width:710,height:110},compId:45,child:[{type:"Image",props:{y:0,x:0,width:710,skin:"btn/img_grey_2.png",sizeGrid:"28,28,28,28",height:110},compId:46},{type:"Image",props:{y:29,x:328,width:110,skin:"btn/img_3_m.png",sizeGrid:"17,18,18,17",height:54},compId:48},{type:"Label",props:{y:27,x:25,width:276,valign:"middle",text:"幸运转盘中抽2次(1/2)",name:"labelTip",height:63,fontSize:26,font:"SimHei",color:"#ffffff",bold:!0,align:"left"},compId:49},{type:"Label",props:{y:39.5,x:368,width:63,valign:"middle",text:"200",name:"labelGold",height:31,fontSize:30,font:"SimHei",color:"#f1fcf7",bold:!0,align:"center"},compId:52},{type:"Image",props:{y:58.5,x:353,skin:"daymission/img_9.png",anchorY:.5,anchorX:.5},compId:53},{type:"Button",props:{y:55,x:488,width:210,var:"btn0",stateNum:1,skin:"btn/img_weiwan1.png",sizeGrid:"11,24,27,24",name:"btn",height:35},compId:40,child:[{type:"Image",props:{y:-40,width:244,skin:"btn/img_purple_0.png",sizeGrid:"24,24,24,24",right:0,left:0,height:60},compId:41,child:[{type:"Image",props:{skin:"daymission/img_14.png",name:"img",centerY:0,centerX:0},compId:42}]}]}]},{type:"Box",props:{y:121,x:0,width:710,height:110},compId:91,child:[{type:"Image",props:{y:0,x:0,width:710,skin:"btn/img_grey_2.png",sizeGrid:"28,28,28,28",height:110},compId:92},{type:"Image",props:{y:29,x:328,width:110,skin:"btn/img_3_m.png",sizeGrid:"17,18,18,17",height:54},compId:93},{type:"Label",props:{y:27,x:25,width:276,valign:"middle",text:"幸运转盘中抽2次(1/2)",name:"labelTip",height:63,fontSize:26,font:"SimHei",color:"#ffffff",bold:!0,align:"left"},compId:94},{type:"Label",props:{y:39.5,x:368,width:63,valign:"middle",text:"200",name:"labelGold",height:31,fontSize:30,font:"SimHei",color:"#f1fcf7",bold:!0,align:"center"},compId:95},{type:"Image",props:{y:58.5,x:353,skin:"daymission/img_9.png",anchorY:.5,anchorX:.5},compId:96},{type:"Button",props:{y:55,x:488,width:210,var:"btn1",stateNum:1,skin:"daymission/img_5.png",sizeGrid:"11,24,27,24",name:"btn",height:35},compId:97,child:[{type:"Image",props:{y:-40,width:244,skin:"btn/img_6.png",sizeGrid:"24,24,24,24",right:0,left:0,height:60},compId:98,child:[{type:"Image",props:{skin:"daymission/img_14.png",name:"img",centerY:0,centerX:0},compId:99}]}]}]},{type:"Box",props:{y:241,x:0,width:710,height:110},compId:109,child:[{type:"Image",props:{y:0,x:0,width:710,skin:"btn/img_grey_2.png",sizeGrid:"28,28,28,28",height:110},compId:110},{type:"Image",props:{y:29,x:328,width:110,skin:"btn/img_3_m.png",sizeGrid:"17,18,18,17",height:54},compId:111},{type:"Label",props:{y:27,x:25,width:276,valign:"middle",text:"幸运转盘中抽2次(1/2)",name:"labelTip",height:63,fontSize:26,font:"SimHei",color:"#ffffff",bold:!0,align:"left"},compId:112},{type:"Label",props:{y:39.5,x:368,width:63,valign:"middle",text:"200",name:"labelGold",height:31,fontSize:30,font:"SimHei",color:"#f1fcf7",bold:!0,align:"center"},compId:113},{type:"Image",props:{y:58.5,x:353,skin:"daymission/img_9.png",anchorY:.5,anchorX:.5},compId:114},{type:"Button",props:{y:55,x:488,width:210,var:"btn2",stateNum:1,skin:"daymission/img_5.png",sizeGrid:"11,24,27,24",name:"btn",height:35},compId:115,child:[{type:"Image",props:{y:-40,width:244,skin:"btn/img_6.png",sizeGrid:"24,24,24,24",right:0,left:0,height:60},compId:116,child:[{type:"Image",props:{skin:"daymission/img_14.png",name:"img",centerY:0,centerX:0},compId:117}]}]}]},{type:"Box",props:{y:361,x:0,width:710,height:110},compId:127,child:[{type:"Image",props:{y:0,x:0,width:710,skin:"btn/img_grey_2.png",sizeGrid:"28,28,28,28",height:110},compId:128},{type:"Image",props:{y:29,x:328,width:110,skin:"btn/img_3_m.png",sizeGrid:"17,18,18,17",height:54},compId:129},{type:"Label",props:{y:27,x:25,width:276,valign:"middle",text:"幸运转盘中抽2次(1/2)",name:"labelTip",height:63,fontSize:26,font:"SimHei",color:"#ffffff",bold:!0,align:"left"},compId:130},{type:"Label",props:{y:39.5,x:368,width:63,valign:"middle",text:"200",name:"labelGold",height:31,fontSize:30,font:"SimHei",color:"#f1fcf7",bold:!0,align:"center"},compId:131},{type:"Image",props:{y:58.5,x:353,skin:"daymission/img_9.png",anchorY:.5,anchorX:.5},compId:132},{type:"Button",props:{y:55,x:488,width:210,var:"btn3",stateNum:1,skin:"daymission/img_5.png",sizeGrid:"11,24,27,24",name:"btn",height:35},compId:133,child:[{type:"Image",props:{y:-40,width:244,skin:"btn/img_6.png",sizeGrid:"24,24,24,24",right:0,left:0,height:60},compId:134,child:[{type:"Image",props:{skin:"daymission/img_14.png",name:"img",centerY:0,centerX:0},compId:135}]}]}]},{type:"Box",props:{y:480,x:0,width:710,height:110},compId:136,child:[{type:"Image",props:{y:0,x:0,width:710,skin:"btn/img_grey_2.png",sizeGrid:"28,28,28,28",height:110},compId:137},{type:"Image",props:{y:29,x:328,width:110,skin:"btn/img_3_m.png",sizeGrid:"17,18,18,17",height:54},compId:138},{type:"Label",props:{y:27,x:25,width:276,valign:"middle",text:"幸运转盘中抽2次(1/2)",name:"labelTip",height:63,fontSize:26,font:"SimHei",color:"#ffffff",bold:!0,align:"left"},compId:139},{type:"Label",props:{y:39.5,x:368,width:63,valign:"middle",text:"200",name:"labelGold",height:31,fontSize:30,font:"SimHei",color:"#f1fcf7",bold:!0,align:"center"},compId:140},{type:"Image",props:{y:58.5,x:353,skin:"daymission/img_9.png",anchorY:.5,anchorX:.5},compId:141},{type:"Button",props:{y:55,x:488,width:210,var:"btn4",stateNum:1,skin:"daymission/img_5.png",sizeGrid:"11,24,27,24",name:"btn",height:35},compId:142,child:[{type:"Image",props:{y:-40,width:244,skin:"btn/img_6.png",sizeGrid:"24,24,24,24",right:0,left:0,height:60},compId:143,child:[{type:"Image",props:{skin:"daymission/img_14.png",name:"img",centerY:0,centerX:0},compId:144}]}]}]},{type:"Box",props:{y:600,x:0,width:710,height:110},compId:145,child:[{type:"Image",props:{y:0,x:0,width:710,skin:"btn/img_grey_2.png",sizeGrid:"28,28,28,28",height:110},compId:146},{type:"Image",props:{y:29,x:328,width:110,skin:"btn/img_3_m.png",sizeGrid:"17,18,18,17",height:54},compId:147},{type:"Label",props:{y:27,x:25,width:276,valign:"middle",text:"幸运转盘中抽2次(1/2)",name:"labelTip",height:63,fontSize:26,font:"SimHei",color:"#ffffff",bold:!0,align:"left"},compId:148},{type:"Label",props:{y:39.5,x:368,width:63,valign:"middle",text:"200",name:"labelGold",height:31,fontSize:30,font:"SimHei",color:"#f1fcf7",bold:!0,align:"center"},compId:149},{type:"Image",props:{y:58.5,x:353,skin:"daymission/img_9.png",anchorY:.5,anchorX:.5},compId:150},{type:"Button",props:{y:55,x:488,width:210,var:"btn5",stateNum:1,skin:"daymission/img_5.png",sizeGrid:"11,24,27,24",name:"btn",height:35},compId:151,child:[{type:"Image",props:{y:-40,width:244,skin:"btn/img_6.png",sizeGrid:"24,24,24,24",right:0,left:0,height:60},compId:152,child:[{type:"Image",props:{skin:"daymission/img_14.png",name:"img",centerY:0,centerX:0},compId:153}]}]}]},{type:"Box",props:{y:720,x:0,width:710,height:110},compId:154,child:[{type:"Image",props:{y:0,x:0,width:710,skin:"btn/img_grey_2.png",sizeGrid:"28,28,28,28",height:110},compId:155},{type:"Image",props:{y:29,x:328,width:110,skin:"btn/img_3_m.png",sizeGrid:"17,18,18,17",height:54},compId:156},{type:"Label",props:{y:27,x:25,width:276,valign:"middle",text:"幸运转盘中抽2次(1/2)",name:"labelTip",height:63,fontSize:26,font:"SimHei",color:"#ffffff",bold:!0,align:"left"},compId:157},{type:"Label",props:{y:39.5,x:368,width:63,valign:"middle",text:"200",name:"labelGold",height:31,fontSize:30,font:"SimHei",color:"#f1fcf7",bold:!0,align:"center"},compId:158},{type:"Image",props:{y:58.5,x:353,skin:"daymission/img_9.png",anchorY:.5,anchorX:.5},compId:159},{type:"Button",props:{y:55,x:488,width:210,var:"btn6",stateNum:1,skin:"daymission/img_5.png",sizeGrid:"11,24,27,24",name:"btn",height:35},compId:160,child:[{type:"Image",props:{y:-40,width:244,skin:"btn/img_6.png",sizeGrid:"24,24,24,24",right:0,left:0,height:60},compId:161,child:[{type:"Image",props:{skin:"daymission/img_14.png",name:"img",centerY:0,centerX:0},compId:162}]}]}]},{type:"Box",props:{y:840,x:0,width:710,height:110},compId:163,child:[{type:"Image",props:{y:0,x:0,width:710,skin:"btn/img_grey_2.png",sizeGrid:"28,28,28,28",height:110},compId:164},{type:"Image",props:{y:29,x:328,width:110,skin:"btn/img_3_m.png",sizeGrid:"17,18,18,17",height:54},compId:165},{type:"Label",props:{y:27,x:25,width:276,valign:"middle",text:"幸运转盘中抽2次(1/2)",name:"labelTip",height:63,fontSize:26,font:"SimHei",color:"#ffffff",bold:!0,align:"left"},compId:166},{type:"Label",props:{y:39.5,x:368,width:63,valign:"middle",text:"200",name:"labelGold",height:31,fontSize:30,font:"SimHei",color:"#f1fcf7",bold:!0,align:"center"},compId:167},{type:"Image",props:{y:58.5,x:353,skin:"daymission/img_9.png",anchorY:.5,anchorX:.5},compId:168},{type:"Button",props:{y:55,x:488,width:210,var:"btn7",stateNum:1,skin:"daymission/img_5.png",sizeGrid:"11,24,27,24",name:"btn",height:35},compId:169,child:[{type:"Image",props:{y:-40,width:244,skin:"btn/img_6.png",sizeGrid:"24,24,24,24",right:0,left:0,height:60},compId:170,child:[{type:"Image",props:{skin:"daymission/img_14.png",name:"img",centerY:0,centerX:0},compId:171}]}]}]},{type:"Box",props:{y:241,x:0,width:710,visible:!1,var:"oppoActive",name:"oppoActive",height:110},compId:209,child:[{type:"Image",props:{y:0,x:0,width:710,skin:"btn/img_grey_2.png",sizeGrid:"28,28,28,28",height:110},compId:213,child:[{type:"Image",props:{width:62,skin:"shop/remai_bg.png",height:58},compId:484,child:[{type:"Label",props:{text:"广告",rotation:-45,fontSize:20,color:"#ff0501",centerY:10,centerX:-11,bold:!0},compId:486}]}]},{type:"Image",props:{y:55,x:488,width:210,stateNum:1,skin:"daymission/img_5.png",sizeGrid:"11,24,27,24",height:35},compId:210,child:[{type:"Image",props:{y:-40,width:244,skin:"btn/img_6.png",sizeGrid:"24,24,24,24",right:0,left:0,height:60},compId:211,child:[{type:"Image",props:{skin:"daymission/img_xz.png",centerY:0,centerX:0},compId:215}]}]}]}]}]},{type:"Button",props:{y:247,x:508,width:210,var:"btnGain",stateNum:1,skin:"btn/img_4.png",sizeGrid:"11,24,27,24",height:35},compId:196,child:[{type:"Image",props:{y:-40,width:244,skin:"btn/img_5.png",sizeGrid:"24,24,24,24",right:0,left:0,height:60},compId:197,child:[{type:"Image",props:{skin:"daymission/img_23.png",name:"img",centerY:0,centerX:0},compId:198}]}]}]},{type:"Box",props:{width:750,visible:!1,var:"boxCollectPro",height:750,centerX:0,bottom:250},compId:228,child:[{type:"Image",props:{y:-3,x:0,width:750,skin:"daymission/sjjd_di1.png",sizeGrid:"1,1,1,1",height:749},compId:233},{type:"Image",props:{y:299,x:10,width:730,skin:"daymission/di1.png",sizeGrid:"28,28,28,28",height:435},compId:234},{type:"Image",props:{y:7,x:10,width:730,var:"imgAchievement",skin:"daymission/di1.png",sizeGrid:"28,28,28,28",height:280},compId:235,child:[{type:"Image",props:{y:19,x:336,skin:"daymission/cj.png"},compId:236},{type:"Label",props:{y:78,x:55,valign:"middle",text:"获得 888888 金币",rotation:0,name:"txt0",fontSize:30,font:"SimHei",color:"#feeee0",bold:!0,align:"center"},compId:239},{type:"Label",props:{y:128,x:55,valign:"middle",text:"获得 888888 金币",rotation:0,name:"txt1",fontSize:30,font:"SimHei",color:"#feeee0",bold:!0,align:"center"},compId:330},{type:"Label",props:{y:178,x:55,valign:"middle",text:"获得 888888 金币",rotation:0,name:"txt2",fontSize:30,font:"SimHei",color:"#feeee0",bold:!0,align:"center"},compId:331},{type:"Label",props:{y:78,x:429,valign:"middle",text:"获得 888888 金币",rotation:0,name:"txt3",fontSize:30,font:"SimHei",color:"#feeee0",bold:!0,align:"center"},compId:332},{type:"Label",props:{y:128,x:429,valign:"middle",text:"获得 888888 金币",rotation:0,name:"txt4",fontSize:30,font:"SimHei",color:"#feeee0",bold:!0,align:"center"},compId:333},{type:"Label",props:{y:178,x:429,valign:"middle",text:"获得 888888 金币",rotation:0,name:"txt5",fontSize:30,font:"SimHei",color:"#feeee0",bold:!0,align:"center"},compId:334}]},{type:"Panel",props:{y:309,x:20,width:707,name:"panel",height:415},compId:248,child:[{type:"Box",props:{y:0,x:0,width:710,height:610},compId:249,child:[{type:"Image",props:{y:15.5,x:158,width:410,skin:"daymission/di2.png",sizeGrid:"21,21,21,21",height:53},compId:489,child:[{type:"Image",props:{y:27,x:205,skin:"daymission/sjzjd.png",anchorY:.5,anchorX:.5},compId:336}]},{type:"Box",props:{y:90,x:0,width:710,height:150},compId:250,child:[{type:"Image",props:{y:0,x:0,width:710,skin:"daymission/fanhui.png",sizeGrid:"28,28,28,28",height:150},compId:251},{type:"Image",props:{y:79,x:328,width:105,skin:"daymission/coin_di.png",sizeGrid:"17,18,18,17",height:52},compId:252},{type:"Label",props:{y:72,x:25,width:276,valign:"middle",text:"完成进度14%",name:"labelTip2",height:63,fontSize:24,font:"SimHei",color:"#feeee0",bold:!0,align:"left"},compId:253},{type:"Label",props:{y:34,x:354,width:276,valign:"middle",text:"最高分 149237米",name:"labelTip",height:63,fontSize:32,font:"SimHei",color:"#ffffff",bold:!0,anchorY:.5,anchorX:.5,align:"left"},compId:337},{type:"Label",props:{y:91.5,x:366,width:63,valign:"middle",text:"10000",name:"labelGold",height:31,fontSize:18,font:"SimHei",color:"#ffc490",bold:!0,align:"center"},compId:254},{type:"Image",props:{y:107,x:353,width:28,skin:"daymission/img_9.png",height:32,anchorY:.5,anchorX:.5},compId:255},{type:"Button",props:{y:99,x:529,width:150,stateNum:1,skin:"btn/img_weiwan1.png",sizeGrid:"11,24,27,24",name:"btn",height:35},compId:256,child:[{type:"Image",props:{y:-26,width:150,skin:"btn/img_purple_0.png",sizeGrid:"24,24,24,24",left:0,height:50},compId:257,child:[{type:"Image",props:{skin:"daymission/img_24.png",name:"img",centerY:0,centerX:0},compId:258}]}]}]},{type:"Box",props:{y:250,x:0,width:710,height:110},compId:338,child:[{type:"Image",props:{y:0,x:0,width:710,skin:"daymission/fanhui.png",sizeGrid:"28,28,28,28",height:110},compId:339},{type:"Image",props:{y:9,x:328,width:105,skin:"daymission/coin_di.png",sizeGrid:"17,18,18,17",height:52},compId:340},{type:"Label",props:{y:-4,x:25,width:276,valign:"middle",text:"完成进度14%",name:"labelTip",height:63,fontSize:24,font:"SimHei",color:"#feeee0",bold:!0,align:"left"},compId:341},{type:"Label",props:{y:21.5,x:366,width:63,valign:"middle",text:"10000",name:"labelGold",height:31,fontSize:18,font:"SimHei",color:"#ffc490",bold:!0,align:"center"},compId:343},{type:"Image",props:{y:37,x:353,width:28,skin:"daymission/img_9.png",height:32,anchorY:.5,anchorX:.5},compId:344},{type:"Button",props:{y:60,x:529,width:150,stateNum:1,skin:"btn/img_weiwan1.png",sizeGrid:"11,24,27,24",name:"btn",height:35},compId:345,child:[{type:"Image",props:{y:-26,width:150,skin:"btn/img_purple_0.png",sizeGrid:"24,24,24,24",left:0,height:50},compId:346,child:[{type:"Image",props:{skin:"daymission/img_24.png",name:"img",centerY:0,centerX:0},compId:347}]}]},{type:"Image",props:{y:74,x:22,width:460,skin:"daymission/jdt_di.png",sizeGrid:"11,11,10,11"},compId:348},{type:"Image",props:{y:74,x:22,width:0,skin:"daymission/jdt.png",sizeGrid:"10,10,11,9",name:"imgProgress"},compId:349}]},{type:"Box",props:{y:370,x:0,width:710,height:110},compId:350,child:[{type:"Image",props:{y:0,x:0,width:710,skin:"daymission/fanhui.png",sizeGrid:"28,28,28,28",height:110},compId:351},{type:"Image",props:{y:9,x:328,width:105,skin:"daymission/coin_di.png",sizeGrid:"17,18,18,17",height:52},compId:352},{type:"Label",props:{y:-4,x:25,width:276,valign:"middle",text:"完成进度14%",name:"labelTip",height:63,fontSize:24,font:"SimHei",color:"#feeee0",bold:!0,align:"left"},compId:353},{type:"Label",props:{y:21.5,x:366,width:63,valign:"middle",text:"10000",name:"labelGold",height:31,fontSize:18,font:"SimHei",color:"#ffc490",bold:!0,align:"center"},compId:354},{type:"Image",props:{y:37,x:353,width:28,skin:"daymission/img_9.png",height:32,anchorY:.5,anchorX:.5},compId:355},{type:"Button",props:{y:60,x:529,width:150,stateNum:1,skin:"btn/img_weiwan1.png",sizeGrid:"11,24,27,24",name:"btn",height:35},compId:356,child:[{type:"Image",props:{y:-26,width:150,skin:"btn/img_purple_0.png",sizeGrid:"24,24,24,24",left:0,height:50},compId:357,child:[{type:"Image",props:{skin:"daymission/img_24.png",name:"img",centerY:0,centerX:0},compId:358}]}]},{type:"Image",props:{y:74,x:22,width:460,skin:"daymission/jdt_di.png",sizeGrid:"11,11,10,11"},compId:359},{type:"Image",props:{y:74,x:22,width:0,skin:"daymission/jdt.png",sizeGrid:"10,10,11,9",name:"imgProgress"},compId:360}]},{type:"Box",props:{y:490,x:0,width:710,height:110},compId:361,child:[{type:"Image",props:{y:0,x:0,width:710,skin:"daymission/fanhui.png",sizeGrid:"28,28,28,28",height:110},compId:362},{type:"Image",props:{y:9,x:328,width:105,skin:"daymission/coin_di.png",sizeGrid:"17,18,18,17",height:52},compId:363},{type:"Label",props:{y:-4,x:25,width:276,valign:"middle",text:"完成进度14%",name:"labelTip",height:63,fontSize:24,font:"SimHei",color:"#feeee0",bold:!0,align:"left"},compId:364},{type:"Label",props:{y:21.5,x:366,width:63,valign:"middle",text:"10000",name:"labelGold",height:31,fontSize:18,font:"SimHei",color:"#ffc490",bold:!0,align:"center"},compId:365},{type:"Image",props:{y:37,x:353,width:28,skin:"daymission/img_9.png",height:32,anchorY:.5,anchorX:.5},compId:366},{type:"Button",props:{y:60,x:529,width:150,stateNum:1,skin:"btn/img_weiwan1.png",sizeGrid:"11,24,27,24",name:"btn",height:35},compId:367,child:[{type:"Image",props:{y:-26,width:150,skin:"btn/img_purple_0.png",sizeGrid:"24,24,24,24",left:0,height:50},compId:368,child:[{type:"Image",props:{skin:"daymission/img_24.png",name:"img",centerY:0,centerX:0},compId:369}]}]},{type:"Image",props:{y:74,x:22,width:460,skin:"daymission/jdt_di.png",sizeGrid:"11,11,10,11"},compId:370},{type:"Image",props:{y:74,x:22,width:0,skin:"daymission/jdt.png",sizeGrid:"10,10,11,9",name:"imgProgress"},compId:371}]}]},{type:"Box",props:{y:620,x:0,width:710,height:460},compId:383,child:[{type:"Image",props:{y:15,x:158,width:410,skin:"daymission/di2.png",sizeGrid:"21,21,21,21",height:53},compId:485,child:[{type:"Image",props:{y:27,x:205,skin:"daymission/xscy.png",anchorY:.5,anchorX:.5},compId:490}]},{type:"Box",props:{y:90,x:0,width:710,height:110},compId:395,child:[{type:"Image",props:{y:0,x:0,width:710,skin:"daymission/fanhui.png",sizeGrid:"28,28,28,28",height:110},compId:396},{type:"Image",props:{y:9,x:328,width:105,skin:"daymission/coin_di.png",sizeGrid:"17,18,18,17",height:52},compId:397},{type:"Label",props:{y:-4,x:25,width:276,valign:"middle",text:"完成进度14%",name:"labelTip",height:63,fontSize:24,font:"SimHei",color:"#feeee0",bold:!0,align:"left"},compId:398},{type:"Label",props:{y:21.5,x:366,width:63,valign:"middle",text:"10000",name:"labelGold",height:31,fontSize:18,font:"SimHei",color:"#ffc490",bold:!0,align:"center"},compId:399},{type:"Image",props:{y:37,x:353,width:28,skin:"daymission/img_9.png",height:32,anchorY:.5,anchorX:.5},compId:400},{type:"Button",props:{y:60,x:529,width:150,stateNum:1,skin:"btn/img_weiwan1.png",sizeGrid:"11,24,27,24",name:"btn",height:35},compId:401,child:[{type:"Image",props:{y:-26,width:150,skin:"btn/img_purple_0.png",sizeGrid:"24,24,24,24",left:0,height:50},compId:402,child:[{type:"Image",props:{skin:"daymission/img_24.png",name:"img",centerY:0,centerX:0},compId:403}]}]},{type:"Image",props:{y:74,x:22,width:460,skin:"daymission/jdt_di.png",sizeGrid:"11,11,10,11"},compId:404},{type:"Image",props:{y:74,x:22,width:0,skin:"daymission/jdt.png",sizeGrid:"10,10,11,9",name:"imgProgress"},compId:405}]},{type:"Box",props:{y:210,x:0,width:710,height:110},compId:406,child:[{type:"Image",props:{y:0,x:0,width:710,skin:"daymission/fanhui.png",sizeGrid:"28,28,28,28",height:110},compId:407},{type:"Image",props:{y:9,x:328,width:105,skin:"daymission/coin_di.png",sizeGrid:"17,18,18,17",height:52},compId:408},{type:"Label",props:{y:-4,x:25,width:276,valign:"middle",text:"完成进度14%",name:"labelTip",height:63,fontSize:24,font:"SimHei",color:"#feeee0",bold:!0,align:"left"},compId:409},{type:"Label",props:{y:21.5,x:366,width:63,valign:"middle",text:"10000",name:"labelGold",height:31,fontSize:18,font:"SimHei",color:"#ffc490",bold:!0,align:"center"},compId:410},{type:"Image",props:{y:37,x:353,width:28,skin:"daymission/img_9.png",height:32,anchorY:.5,anchorX:.5},compId:411},{type:"Button",props:{y:60,x:529,width:150,stateNum:1,skin:"btn/img_weiwan1.png",sizeGrid:"11,24,27,24",name:"btn",height:35},compId:412,child:[{type:"Image",props:{y:-26,width:150,skin:"btn/img_purple_0.png",sizeGrid:"24,24,24,24",left:0,height:50},compId:413,child:[{type:"Image",props:{skin:"daymission/img_24.png",name:"img",centerY:0,centerX:0},compId:414}]}]},{type:"Image",props:{y:74,x:22,width:460,skin:"daymission/jdt_di.png",sizeGrid:"11,11,10,11"},compId:415},{type:"Image",props:{y:74,x:22,width:0,skin:"daymission/jdt.png",sizeGrid:"10,10,11,9",name:"imgProgress"},compId:416}]},{type:"Box",props:{y:330,x:0,width:710,height:110},compId:417,child:[{type:"Image",props:{y:0,x:0,width:710,skin:"daymission/fanhui.png",sizeGrid:"28,28,28,28",height:110},compId:418},{type:"Image",props:{y:9,x:328,width:105,skin:"daymission/coin_di.png",sizeGrid:"17,18,18,17",height:52},compId:419},{type:"Label",props:{y:-4,x:25,width:276,valign:"middle",text:"完成进度14%",name:"labelTip",height:63,fontSize:24,font:"SimHei",color:"#feeee0",bold:!0,align:"left"},compId:420},{type:"Label",props:{y:21.5,x:366,width:63,valign:"middle",text:"10000",name:"labelGold",height:31,fontSize:18,font:"SimHei",color:"#ffc490",bold:!0,align:"center"},compId:421},{type:"Image",props:{y:37,x:353,width:28,skin:"daymission/img_9.png",height:32,anchorY:.5,anchorX:.5},compId:422},{type:"Button",props:{y:60,x:529,width:150,stateNum:1,skin:"btn/img_weiwan1.png",sizeGrid:"11,24,27,24",name:"btn",height:35},compId:423,child:[{type:"Image",props:{y:-26,width:150,skin:"btn/img_purple_0.png",sizeGrid:"24,24,24,24",left:0,height:50},compId:424,child:[{type:"Image",props:{skin:"daymission/img_24.png",name:"img",centerY:0,centerX:0},compId:425}]}]},{type:"Image",props:{y:74,x:22,width:460,skin:"daymission/jdt_di.png",sizeGrid:"11,11,10,11"},compId:426},{type:"Image",props:{y:74,x:22,width:0,skin:"daymission/jdt.png",sizeGrid:"10,10,11,9",name:"imgProgress"},compId:427}]}]},{type:"Box",props:{y:1090,x:0,width:710,height:460},compId:439,child:[{type:"Image",props:{y:15,x:158,width:410,skin:"daymission/di2.png",sizeGrid:"21,21,21,21",height:53},compId:487,child:[{type:"Image",props:{y:27,x:205,skin:"daymission/cl.png",anchorY:.5,anchorX:.5},compId:488}]},{type:"Box",props:{y:90,x:0,width:710,height:110},compId:451,child:[{type:"Image",props:{y:0,x:0,width:710,skin:"daymission/fanhui.png",sizeGrid:"28,28,28,28",height:110},compId:452},{type:"Image",props:{y:9,x:328,width:105,skin:"daymission/coin_di.png",sizeGrid:"17,18,18,17",height:52},compId:453},{type:"Label",props:{y:-4,x:25,width:276,valign:"middle",text:"完成进度14%",name:"labelTip",height:63,fontSize:24,font:"SimHei",color:"#feeee0",bold:!0,align:"left"},compId:454},{type:"Label",props:{y:21.5,x:366,width:63,valign:"middle",text:"10000",name:"labelGold",height:31,fontSize:18,font:"SimHei",color:"#ffc490",bold:!0,align:"center"},compId:455},{type:"Image",props:{y:37,x:353,width:28,skin:"daymission/img_9.png",height:32,anchorY:.5,anchorX:.5},compId:456},{type:"Button",props:{y:60,x:529,width:150,stateNum:1,skin:"btn/img_weiwan1.png",sizeGrid:"11,24,27,24",name:"btn",height:35},compId:457,child:[{type:"Image",props:{y:-26,width:150,skin:"btn/img_purple_0.png",sizeGrid:"24,24,24,24",left:0,height:50},compId:458,child:[{type:"Image",props:{skin:"daymission/img_24.png",name:"img",centerY:0,centerX:0},compId:459}]}]},{type:"Image",props:{y:74,x:22,width:460,skin:"daymission/jdt_di.png",sizeGrid:"11,11,10,11"},compId:460},{type:"Image",props:{y:74,x:22,width:0,skin:"daymission/jdt.png",sizeGrid:"10,10,11,9",name:"imgProgress"},compId:461}]},{type:"Box",props:{y:210,x:0,width:710,height:110},compId:462,child:[{type:"Image",props:{y:0,x:0,width:710,skin:"daymission/fanhui.png",sizeGrid:"28,28,28,28",height:110},compId:463},{type:"Image",props:{y:9,x:328,width:105,skin:"daymission/coin_di.png",sizeGrid:"17,18,18,17",height:52},compId:464},{type:"Label",props:{y:-4,x:25,width:276,valign:"middle",text:"完成进度14%",name:"labelTip",height:63,fontSize:24,font:"SimHei",color:"#feeee0",bold:!0,align:"left"},compId:465},{type:"Label",props:{y:21.5,x:366,width:63,valign:"middle",text:"10000",name:"labelGold",height:31,fontSize:18,font:"SimHei",color:"#ffc490",bold:!0,align:"center"},compId:466},{type:"Image",props:{y:37,x:353,width:28,skin:"daymission/img_9.png",height:32,anchorY:.5,anchorX:.5},compId:467},{type:"Button",props:{y:60,x:529,width:150,stateNum:1,skin:"btn/img_weiwan1.png",sizeGrid:"11,24,27,24",name:"btn",height:35},compId:468,child:[{type:"Image",props:{y:-26,width:150,skin:"btn/img_purple_0.png",sizeGrid:"24,24,24,24",left:0,height:50},compId:469,child:[{type:"Image",props:{skin:"daymission/img_24.png",name:"img",centerY:0,centerX:0},compId:470}]}]},{type:"Image",props:{y:74,x:22,width:460,skin:"daymission/jdt_di.png",sizeGrid:"11,11,10,11"},compId:471},{type:"Image",props:{y:74,x:22,width:0,skin:"daymission/jdt.png",sizeGrid:"10,10,11,9",name:"imgProgress"},compId:472}]},{type:"Box",props:{y:330,x:0,width:710,height:110},compId:473,child:[{type:"Image",props:{y:0,x:0,width:710,skin:"daymission/fanhui.png",sizeGrid:"28,28,28,28",height:110},compId:474},{type:"Image",props:{y:9,x:328,width:105,skin:"daymission/coin_di.png",sizeGrid:"17,18,18,17",height:52},compId:475},{type:"Label",props:{y:-4,x:25,width:276,valign:"middle",text:"完成进度14%",name:"labelTip",height:63,fontSize:24,font:"SimHei",color:"#feeee0",bold:!0,align:"left"},compId:476},{type:"Label",props:{y:21.5,x:366,width:63,valign:"middle",text:"10000",name:"labelGold",height:31,fontSize:18,font:"SimHei",color:"#ffc490",bold:!0,align:"center"},compId:477},{type:"Image",props:{y:37,x:353,width:28,skin:"daymission/img_9.png",height:32,anchorY:.5,anchorX:.5},compId:478},{type:"Button",props:{y:60,x:529,width:150,stateNum:1,skin:"btn/img_weiwan1.png",sizeGrid:"11,24,27,24",name:"btn",height:35},compId:479,child:[{type:"Image",props:{y:-26,width:150,skin:"btn/img_purple_0.png",sizeGrid:"24,24,24,24",left:0,height:50},compId:480,child:[{type:"Image",props:{skin:"daymission/img_24.png",name:"img",centerY:0,centerX:0},compId:481}]}]},{type:"Image",props:{y:74,x:22,width:460,skin:"daymission/jdt_di.png",sizeGrid:"11,11,10,11"},compId:482},{type:"Image",props:{y:74,x:22,width:0,skin:"daymission/jdt.png",sizeGrid:"10,10,11,9",name:"imgProgress"},compId:483}]}]}]}]},{type:"Button",props:{x:20,width:710,var:"btnBack",stateNum:1,skin:"btn/img_7.png",sizeGrid:"11,24,27,24",height:89,bottom:0},compId:56,child:[{type:"Image",props:{y:-40,width:244,skin:"btn/img_8.png",sizeGrid:"24,24,24,24",right:0,left:0,height:108},compId:57,child:[{type:"Image",props:{skin:"daymission/img_17.png",centerY:0,centerX:0},compId:58}]}]},{type:"Box",props:{y:0,x:0,visible:!1,var:"vivoActive",centerY:0,centerX:0},compId:491,child:[{type:"Image",props:{width:690,skin:"main/vivo_di.png",sizeGrid:"24,21,27,19",name:"imgbg",height:900,centerY:0,centerX:0},compId:492},{type:"Image",props:{width:244,skin:"btn/btnColor1Up.png",sizeGrid:"20,18,22,19",height:74,centerX:0,bottom:50},compId:493,child:[{type:"Image",props:{y:-20,x:0,width:244,skin:"btn/btnColor2Up.png",sizeGrid:"19,21,19,20",height:74},compId:494,child:[{type:"Image",props:{skin:"main/vivo_go.png",centerY:0,centerX:0},compId:495}]}]},{type:"Image",props:{width:80,skin:"main/adbg.png",sizeGrid:"1,1,1,1",right:0,height:35,bottom:25},compId:496,child:[{type:"Label",props:{text:"广告",fontSize:25,color:"#ffffff",centerY:0,centerX:0},compId:497}]},{type:"Label",props:{text:"疯狂动物园",name:"title",fontSize:48,color:"#6f2e00",centerY:62,centerX:-2},compId:498},{type:"Label",props:{y:616,text:"疯狂动物园疯狂开跑",name:"title2",fontSize:36,color:"#6f2e00",centerX:0},compId:499},{type:"Image",props:{y:10,x:10,width:670,top:10,skin:"btn/btnColor2Up.png",sizeGrid:"28,23,25,20",name:"imgPicture",height:353,centerX:0},compId:500},{type:"Image",props:{y:30,x:612,top:20,skin:"main/vivo_cancel.png",right:20,name:"imgClose"},compId:501}]}]},{type:"Box",props:{y:0,x:0,width:631,visible:!1,var:"boxTip",height:635,centerY:0,centerX:0},compId:184,child:[{type:"Image",props:{y:384,x:212,var:"tipMask",skin:"main/blackMask.png",sizeGrid:"5,5,5,5",centerY:0,centerX:0},compId:185},{type:"Image",props:{y:182,x:316,width:207,skin:"setting/img_icon_1.png",name:"icon",height:207,anchorY:.5,anchorX:.5},compId:186},{type:"Label",props:{y:310,x:173,width:285,valign:"middle",text:"X100",name:"label",height:96,fontSize:50,font:"SimHei",color:"#ffffff",bold:!0,align:"center"},compId:187},{type:"Button",props:{y:489,width:374,var:"btnCloseTip",stateNum:1,skin:"btn/img_4.png",sizeGrid:"24,24,24,24",height:110,centerX:0},compId:188,child:[{type:"Image",props:{y:-40,width:244,skin:"btn/img_5.png",sizeGrid:"24,24,24,24",right:0,left:0,height:130},compId:189,child:[{type:"Image",props:{skin:"hat/img_queding.png",centerY:0,centerX:0},compId:190}]}]},{type:"Box",props:{y:0,width:610,name:"twoAward",height:438,centerX:0},compId:191,child:[{type:"Image",props:{y:182,x:143,width:207,skin:"setting/img_icon_1.png",name:"icon0",height:207,anchorY:.5,anchorX:.5},compId:192},{type:"Label",props:{y:310,x:0,width:285,valign:"middle",text:"X30",name:"label0",height:96,fontSize:50,font:"SimHei",color:"#ffffff",bold:!0,align:"center"},compId:193},{type:"Image",props:{y:182,x:465,width:207,skin:"setting/img_icon_0.png",name:"icon1",height:207,anchorY:.5,anchorX:.5},compId:194},{type:"Label",props:{y:310,x:322,width:285,valign:"middle",text:"X5",name:"label1",height:96,fontSize:50,font:"SimHei",color:"#ffffff",bold:!0,align:"center"},compId:195}]}]}],loadList:["main/img_blackMask.png","daymission/tab2.png","daymission/tabIcon2.png","daymission/rw2.png","daymission/tab3.png","daymission/tabIcon3.png","daymission/jd1.png","main/img_tip_zi0.png","daymission/di.png","btn/img_grey_1.png","daymission/img_13.png","btn/img_grey_3.png","daymission/img_11.png","daymission/img_10.png","btn/img_2_s.png","btn/img_3_s.png","btn/img_19.png","daymission/img_18.png","btn/img_grey_2.png","btn/img_3_m.png","daymission/img_9.png","btn/img_weiwan1.png","btn/img_purple_0.png","daymission/img_14.png","daymission/img_5.png","btn/img_6.png","shop/remai_bg.png","daymission/img_xz.png","btn/img_4.png","btn/img_5.png","daymission/img_23.png","daymission/sjjd_di1.png","daymission/di1.png","daymission/cj.png","daymission/di2.png","daymission/sjzjd.png","daymission/fanhui.png","daymission/coin_di.png","daymission/img_24.png","daymission/jdt_di.png","daymission/jdt.png","daymission/xscy.png","daymission/cl.png","btn/img_7.png","btn/img_8.png","daymission/img_17.png","main/vivo_di.png","btn/btnColor1Up.png","btn/btnColor2Up.png","main/vivo_go.png","main/adbg.png","main/vivo_cancel.png","main/blackMask.png","setting/img_icon_1.png","hat/img_queding.png","setting/img_icon_0.png"],loadList3D:[]},e.DayMissionUI=n,p("ui.main.DayMissionUI",n);class s extends r{constructor(){super()}createChildren(){super.createChildren(),this.createView(s.uiView)}}s.uiView={type:"View",props:{width:750,height:1360},compId:2,child:[{type:"Image",props:{y:0,x:0,visible:!1,var:"imgMask",top:0,skin:"main/blackMask.png",sizeGrid:"2,2,2,2",right:0,left:0,bottom:0},compId:20},{type:"Box",props:{var:"box0",top:100,right:0,left:0,bottom:0},compId:22,child:[{type:"Label",props:{wordWrap:!0,width:622,visible:!1,var:"labelTip",valign:"middle",text:"骑乘稀有动物可以解锁各种帽子！",height:185,fontSize:48,color:"#ffffff",centerX:0,bottom:300,bold:!0,align:"center"},compId:70},{type:"Label",props:{y:126,x:-13,width:419,var:"labelName",valign:"middle",text:"牛仔帽",height:124,fontSize:65,color:"#ffffff",centerX:0,bold:!0,align:"center"},compId:18},{type:"Label",props:{x:-13,width:213,var:"labelAmount",valign:"middle",text:"1/266",right:24,height:81,fontSize:48,color:"#ffffff",bold:!0,align:"right"},compId:19},{type:"Box",props:{y:-87,x:-13,var:"box2",right:13,left:13,bottom:15},compId:21,child:[{type:"Button",props:{width:240,var:"btnDesignPlayer",stateNum:1,skin:"btn/img_btnTop2.png",sizeGrid:"11,24,27,24",height:110},compId:9,child:[{type:"Image",props:{y:-40,width:244,skin:"btn/img_btnTop1.png",sizeGrid:"24,24,24,24",right:0,left:0,height:130},compId:10,child:[{type:"Image",props:{skin:"hat/img_juesedingzhi.png",centerY:0,centerX:0},compId:11}]}]},{type:"Button",props:{x:260,width:460,var:"btnGear",stateNum:1,skin:"btn/img_4.png",sizeGrid:"24,24,24,24",height:110},compId:15,child:[{type:"Image",props:{y:-40,width:244,skin:"btn/img_5.png",sizeGrid:"24,24,24,24",right:0,left:0,height:130},compId:16,child:[{type:"Image",props:{width:144,skin:"hat/img_zhuangbei.png",height:77,centerY:0,centerX:0},compId:17}]}]}]}]},{type:"Box",props:{y:0,x:0,var:"box1",top:100,right:0,left:0,bottom:0},compId:33,child:[{type:"Image",props:{y:0,x:18,width:133,skin:"btn/img_di0.png",sizeGrid:"28,28,28,30",height:258},compId:48,child:[{type:"Button",props:{y:51,x:14,width:103,var:"btnMan",stateNum:1,skin:"btn/img_nan2.png",sizeGrid:"12,24,30,24",height:67},compId:45,child:[{type:"Image",props:{y:-40,width:103,skin:"btn/img_main_3.png",sizeGrid:"20,27,29,34",left:0,height:89},compId:46,child:[{type:"Image",props:{skin:"hat/img_nan.png",centerY:0,centerX:0},compId:47}]}]},{type:"Button",props:{y:178,x:14,width:103,var:"btnWoman",stateNum:1,skin:"btn/img_nv2.png",sizeGrid:"12,24,30,24",height:67},compId:53,child:[{type:"Image",props:{y:-40,width:103,skin:"btn/img_nv1.png",sizeGrid:"20,27,29,34",left:0,height:89},compId:54,child:[{type:"Image",props:{skin:"hat/img_nv.png",centerY:0,centerX:0},compId:55}]}]}]},{type:"Image",props:{y:0,x:601,width:133,var:"imgBtnHat",skin:"btn/img_di0.png",sizeGrid:"28,28,28,30",height:128},compId:49,child:[{type:"Button",props:{width:103,var:"btnHat",top:50,stateNum:1,skin:"btn/btnRed2.png",sizeGrid:"12,24,30,24",left:15,height:67},compId:50,child:[{type:"Image",props:{y:-40,width:103,skin:"btn/btnRed1.png",sizeGrid:"20,27,29,34",left:0,height:89},compId:51,child:[{type:"Image",props:{width:72,var:"imgHat",skin:"hat/img_topup.png",height:75,centerY:0,centerX:0},compId:52}]}]}]},{type:"Image",props:{y:539,x:15,width:133,visible:!1,skin:"btn/img_di0.png",sizeGrid:"28,28,28,30",height:364},compId:43,child:[{type:"Image",props:{y:137,x:17,skin:"hat/img_leftlogo.png"},compId:62},{type:"Button",props:{y:54,x:16,width:103,var:"btnColorUp",stateNum:1,skin:"btn/img_leftBtn2.png",sizeGrid:"12,24,30,24",height:67},compId:56,child:[{type:"Image",props:{y:-40,width:103,skin:"btn/img_leftBtn1.png",sizeGrid:"20,27,29,34",left:0,height:89},compId:57,child:[{type:"Image",props:{skin:"hat/img_up0.png",centerY:0,centerX:0},compId:58}]}]},{type:"Button",props:{y:282,x:16,width:103,var:"btnColorDown",stateNum:1,skin:"btn/img_leftBtn2.png",sizeGrid:"12,24,30,24",height:67},compId:59,child:[{type:"Image",props:{y:-40,width:103,skin:"btn/img_leftBtn1.png",sizeGrid:"20,27,29,34",left:0,height:89},compId:60,child:[{type:"Image",props:{skin:"hat/img_down0.png",centerY:0,centerX:0},compId:61}]}]}]},{type:"Button",props:{y:1135,x:15,var:"btnSure",stateNum:1,skin:"btn/btnGreen2.png",sizeGrid:"24,24,24,24",right:15,left:15,height:110,bottom:15},compId:3,child:[{type:"Image",props:{y:-40,width:244,skin:"btn/btnGreen1.png",sizeGrid:"24,24,24,24",right:0,left:0,height:130},compId:4,child:[{type:"Image",props:{skin:"hat/img_queding.png",centerY:0,centerX:0},compId:5}]}]},{type:"Box",props:{width:364,height:133,centerX:0,bottom:200},compId:71,child:[{type:"Image",props:{y:0,x:-7,width:377,skin:"btn/img_di0.png",sizeGrid:"25,25,25,25",height:136},compId:44},{type:"Image",props:{y:15,x:139,width:87,skin:"hat/img_rightlog.png",height:103},compId:63},{type:"Button",props:{y:54,x:16,width:103,var:"btnClothUp",stateNum:1,skin:"btn/img_btnTop2.png",sizeGrid:"12,24,30,24",height:67},compId:64,child:[{type:"Image",props:{y:-40,width:103,skin:"btn/img_8.png",sizeGrid:"20,27,29,34",left:0,height:89},compId:66,child:[{type:"Image",props:{width:56,skin:"hat/img_up1.png",rotation:-90,height:35,centerY:44,centerX:8},compId:67}]}]},{type:"Button",props:{y:54,x:244,width:103,var:"btnClothDown",stateNum:1,skin:"btn/img_btnTop2.png",sizeGrid:"12,24,30,24",height:67},compId:65,child:[{type:"Image",props:{y:-40,width:103,skin:"btn/img_8.png",sizeGrid:"20,27,29,34",left:0,height:89},compId:68,child:[{type:"Image",props:{skin:"hat/img_down1.png",rotation:-90,centerY:44,centerX:14},compId:69}]}]}]}]},{type:"Box",props:{y:0,x:0,visible:!1,var:"vivoActive",centerY:0,centerX:0},compId:72,child:[{type:"Image",props:{width:690,skin:"main/vivo_di.png",sizeGrid:"24,21,27,19",name:"imgbg",height:900,centerY:0,centerX:0},compId:73},{type:"Image",props:{width:244,skin:"btn/btnColor1Up.png",sizeGrid:"20,18,22,19",height:74,centerX:0,bottom:50},compId:74,child:[{type:"Image",props:{y:-20,x:0,width:244,skin:"btn/btnColor2Up.png",sizeGrid:"19,21,19,20",height:74},compId:75,child:[{type:"Image",props:{skin:"main/vivo_go.png",centerY:0,centerX:0},compId:76}]}]},{type:"Image",props:{width:80,skin:"main/adbg.png",sizeGrid:"1,1,1,1",right:0,height:35,bottom:25},compId:77,child:[{type:"Label",props:{text:"广告",fontSize:25,color:"#ffffff",centerY:0,centerX:0},compId:78}]},{type:"Label",props:{text:"疯狂动物园",name:"title",fontSize:48,color:"#6f2e00",centerY:62,centerX:-2},compId:79},{type:"Label",props:{y:616,text:"疯狂动物园疯狂开跑",name:"title2",fontSize:36,color:"#6f2e00",centerX:0},compId:80},{type:"Image",props:{y:10,x:10,width:670,top:10,skin:"btn/btnColor2Up.png",sizeGrid:"28,23,25,20",name:"imgPicture",height:353,centerX:0},compId:81},{type:"Image",props:{y:30,x:612,top:20,skin:"main/vivo_cancel.png",right:20,name:"imgClose"},compId:82}]}],loadList:["main/blackMask.png","btn/img_btnTop2.png","btn/img_btnTop1.png","hat/img_juesedingzhi.png","btn/img_4.png","btn/img_5.png","hat/img_zhuangbei.png","btn/img_di0.png","btn/img_nan2.png","btn/img_main_3.png","hat/img_nan.png","btn/img_nv2.png","btn/img_nv1.png","hat/img_nv.png","btn/btnRed2.png","btn/btnRed1.png","hat/img_topup.png","hat/img_leftlogo.png","btn/img_leftBtn2.png","btn/img_leftBtn1.png","hat/img_up0.png","hat/img_down0.png","btn/btnGreen2.png","btn/btnGreen1.png","hat/img_queding.png","hat/img_rightlog.png","btn/img_8.png","hat/img_up1.png","hat/img_down1.png","main/vivo_di.png","btn/btnColor1Up.png","btn/btnColor2Up.png","main/vivo_go.png","main/adbg.png","main/vivo_cancel.png"],loadList3D:[]},e.DesignPlayerUI=s,p("ui.main.DesignPlayerUI",s);class a extends r{constructor(){super()}createChildren(){super.createChildren(),this.createView(a.uiView)}}a.uiView={type:"View",props:{y:0,width:750,height:1360,anchorY:0},compId:2,child:[{type:"Image",props:{top:0,skin:"main/blackMask.png",sizeGrid:"2,2,2,2",right:0,left:0,bottom:0},compId:4},{type:"Box",props:{x:0,width:750,var:"boxMain",height:1327,centerY:0},compId:43,child:[{type:"Image",props:{y:23,skin:"endangeredanimals/img_3.png",sizeGrid:"0,2,0,2",right:0,left:0,height:143},compId:5,child:[{type:"Image",props:{y:34,x:237.5,skin:"endangeredanimals/img_zi_0.png"},compId:16},{type:"Label",props:{y:90,x:206,width:338,var:"labelTime",text:"5时46分46秒",height:52,fontSize:40,font:"SimHei",color:"#faebd0",bold:!0,align:"center"},compId:17}]},{type:"Image",props:{y:206,x:160.5,width:429,skin:"endangeredanimals/img_2.png",sizeGrid:"0,26,25,23",height:404},compId:7,child:[{type:"Image",props:{y:-57,x:36,width:357,var:"iconBig",height:357},compId:109},{type:"Button",props:{y:315,x:27,width:375,var:"btnSearch",stateNum:1,skin:"btn/btnRed2.png",sizeGrid:"24,24,24,24",height:66},compId:8,child:[{type:"Image",props:{y:-40,width:244,skin:"btn/btnRed1.png",sizeGrid:"24,24,24,24",right:0,left:0,height:80},compId:9,child:[{type:"Image",props:{var:"imgBtnZi",skin:"endangeredanimals/img_zi_4.png",centerY:0,centerX:0},compId:10}]}]}]},{type:"Box",props:{x:0,width:750,height:679,bottom:10},compId:42,child:[{type:"Image",props:{skin:"endangeredanimals/img_0.png",sizeGrid:"0,13,0,100",right:0,left:0,height:144},compId:6,child:[{type:"Image",props:{y:32,x:269,skin:"endangeredanimals/img_zi_1.png"},compId:40},{type:"Image",props:{y:88,x:296,skin:"endangeredanimals/img_zi_2.png"},compId:41}]},{type:"Image",props:{y:152,x:13,width:234,skin:"endangeredanimals/img_1.png",sizeGrid:"0,26,25,23",height:379},compId:18,child:[{type:"Image",props:{y:71,x:27,width:180,var:"icon0",height:180},compId:104},{type:"Button",props:{y:314,x:18,width:198,var:"btn0",stateNum:1,skin:"btn/btnGreen2.png",sizeGrid:"16,24,32,24",height:44},compId:11,child:[{type:"Image",props:{y:-34,skin:"btn/btnGreen1.png",sizeGrid:"24,24,24,24",right:0,left:0,height:60},compId:12,child:[{type:"Image",props:{y:4,x:5,width:189,var:"imgLight0",skin:"main/button_patchHilight0.png",height:47,sizeGrid:"24,24,24,24"},compId:13},{type:"Label",props:{y:15,x:0,width:170,text:"购买",name:"labelGold",height:30,fontSize:34,font:"SimHei",color:"#4a6e3e",centerX:0,bold:!0,align:"center"},compId:55,child:[{type:"Label",props:{y:-4,x:0,width:170,text:"购买",name:"labelGold2",height:34,fontSize:34,font:"SimHei",color:"#e9fed6",bold:!0,align:"center"},compId:56}]}]}]},{type:"Label",props:{y:1,width:232,var:"label0",valign:"middle",text:"宇宙甜心鸵鸟",height:60,fontSize:30,font:"SimHei",color:"#ffffff",centerX:0,bold:!0,align:"center"},compId:37},{type:"Button",props:{y:231,x:18,width:198,var:"btnTry0",stateNum:1,skin:"btn/btnRed2.png",sizeGrid:"16,24,32,24",height:44},compId:44,child:[{type:"Image",props:{y:-34,skin:"btn/btnRed1.png",sizeGrid:"24,24,24,24",right:0,left:0,height:60},compId:45,child:[{type:"Image",props:{skin:"endangeredanimals/free.png",centerY:0,centerX:30},compId:46},{type:"Image",props:{width:55,skin:"endangeredanimals/img_ad.png",height:36,centerY:0,centerX:-35},compId:95},{type:"Image",props:{y:0,x:0,var:"btnTryLight0",top:0,skin:"preload/button_patchHilight0.png",sizeGrid:"24,24,24,24",right:0,left:0,bottom:0},compId:112}]}]}]},{type:"Image",props:{y:152,x:258,width:234,skin:"endangeredanimals/img_1.png",sizeGrid:"0,26,25,23",height:379},compId:22,child:[{type:"Image",props:{y:28,x:27,width:180,var:"icon1",height:180},compId:110},{type:"Button",props:{y:314,x:18,width:198,var:"btn1",stateNum:1,skin:"btn/btnGreen2.png",sizeGrid:"16,24,32,24",height:44},compId:23,child:[{type:"Image",props:{y:-34,skin:"btn/btnGreen1.png",sizeGrid:"24,24,24,24",right:0,left:0,height:60},compId:24,child:[{type:"Image",props:{y:4,x:5,width:189,var:"imgLight1",skin:"main/button_patchHilight0.png",height:47,sizeGrid:"24,24,24,24"},compId:25},{type:"Label",props:{y:15,x:0,width:170,text:"购买",name:"labelGold",height:30,fontSize:34,font:"SimHei",color:"#4a6e3e",centerX:0,bold:!0,align:"center"},compId:53,child:[{type:"Label",props:{y:-4,x:0,width:170,text:"购买",name:"labelGold2",height:34,fontSize:34,font:"SimHei",color:"#e9fed6",bold:!0,align:"center"},compId:54}]}]}]},{type:"Label",props:{y:1,x:0,width:232,var:"label1",valign:"middle",text:"宇宙甜心鸵鸟",height:60,fontSize:30,font:"SimHei",color:"#ffffff",centerX:0,bold:!0,align:"center"},compId:38},{type:"Button",props:{y:231,x:18,width:198,var:"btnTry1",stateNum:1,skin:"btn/btnRed2.png",sizeGrid:"16,24,32,24",height:44},compId:96,child:[{type:"Image",props:{y:-34,skin:"btn/btnRed1.png",sizeGrid:"24,24,24,24",right:0,left:0,height:60},compId:97,child:[{type:"Image",props:{skin:"endangeredanimals/free.png",centerY:0,centerX:30},compId:98},{type:"Image",props:{width:55,skin:"endangeredanimals/img_ad.png",height:36,centerY:0,centerX:-35},compId:99},{type:"Image",props:{y:0,x:0,var:"btnTryLight1",top:0,skin:"preload/button_patchHilight0.png",sizeGrid:"24,24,24,24",right:0,left:0,bottom:0},compId:114}]}]}]},{type:"Image",props:{y:152,x:503,width:234,skin:"endangeredanimals/img_1.png",sizeGrid:"0,26,25,23",height:379},compId:28,child:[{type:"Image",props:{y:28,x:27,width:180,var:"icon2",height:180},compId:111},{type:"Button",props:{y:314,x:18,width:198,var:"btn2",stateNum:1,skin:"btn/btnGreen2.png",sizeGrid:"16,24,32,24",height:44},compId:29,child:[{type:"Image",props:{y:-34,skin:"btn/btnGreen1.png",sizeGrid:"24,24,24,24",right:0,left:0,height:60},compId:30,child:[{type:"Image",props:{y:4,x:5,width:189,var:"imgLight2",skin:"main/button_patchHilight0.png",height:47,sizeGrid:"24,24,24,24"},compId:31},{type:"Label",props:{y:15,width:170,text:"购买",name:"labelGold",height:30,fontSize:34,font:"SimHei",color:"#4a6e3e",centerX:0,bold:!0,align:"center"},compId:32,child:[{type:"Label",props:{y:-4,x:0,width:170,text:"购买",name:"labelGold2",height:34,fontSize:34,font:"SimHei",color:"#e9fed6",bold:!0,align:"center"},compId:33}]}]}]},{type:"Label",props:{y:1,x:0,width:232,var:"label2",valign:"middle",text:"宇宙甜心鸵鸟",height:60,fontSize:30,font:"SimHei",color:"#ffffff",centerX:0,bold:!0,align:"center"},compId:39},{type:"Button",props:{y:231,x:18,width:198,var:"btnTry2",stateNum:1,skin:"btn/btnRed2.png",sizeGrid:"16,24,32,24",height:44},compId:100,child:[{type:"Image",props:{y:-34,skin:"btn/btnRed1.png",sizeGrid:"24,24,24,24",right:0,left:0,height:60},compId:101,child:[{type:"Image",props:{skin:"endangeredanimals/free.png",centerY:0,centerX:30},compId:102},{type:"Image",props:{width:55,skin:"endangeredanimals/img_ad.png",height:36,centerY:0,centerX:-35},compId:103},{type:"Image",props:{y:0,x:0,var:"btnTryLight2",top:0,skin:"preload/button_patchHilight0.png",sizeGrid:"24,24,24,24",right:0,left:0,bottom:0},compId:113}]}]}]},{type:"Button",props:{y:587,var:"btnBack",stateNum:1,skin:"btn/btnColor1Down.png",sizeGrid:"24,24,24,24",right:13,left:13,height:92},compId:34,child:[{type:"Image",props:{y:-40,width:724,skin:"btn/btnColor1Up.png",sizeGrid:"24,24,24,24",right:0,left:0,height:102},compId:35,child:[{type:"Image",props:{skin:"main/fanhui.png",centerY:0,centerX:0},compId:36}]}]}]},{type:"Box",props:{y:0,x:0,visible:!1,var:"vivoActive",centerY:0,centerX:0},compId:115,child:[{type:"Image",props:{width:690,skin:"main/vivo_di.png",sizeGrid:"24,21,27,19",name:"imgbg",height:900,centerY:0,centerX:0},compId:116},{type:"Image",props:{width:244,skin:"btn/btnColor1Up.png",sizeGrid:"20,18,22,19",height:74,centerX:0,bottom:50},compId:117,child:[{type:"Image",props:{y:-20,x:0,width:244,skin:"btn/btnColor2Up.png",sizeGrid:"19,21,19,20",height:74},compId:118,child:[{type:"Image",props:{skin:"main/vivo_go.png",centerY:0,centerX:0},compId:119}]}]},{type:"Image",props:{width:80,skin:"main/adbg.png",sizeGrid:"1,1,1,1",right:0,height:35,bottom:25},compId:120,child:[{type:"Label",props:{text:"广告",fontSize:25,color:"#ffffff",centerY:0,centerX:0},compId:121}]},{type:"Label",props:{text:"疯狂动物园",name:"title",fontSize:48,color:"#6f2e00",centerY:62,centerX:-2},compId:122},{type:"Label",props:{y:616,text:"疯狂动物园疯狂开跑",name:"title2",fontSize:36,color:"#6f2e00",centerX:0},compId:123},{type:"Image",props:{y:10,x:10,width:670,top:10,sizeGrid:"28,23,25,20",name:"imgPicture",height:353,centerX:0},compId:124},{type:"Image",props:{y:30,x:612,top:20,skin:"main/vivo_cancel.png",right:20,name:"imgClose"},compId:125}]}]},{type:"Box",props:{visible:!1,var:"boxTip",top:0,right:0,left:0,bottom:0},compId:57,child:[{type:"Image",props:{y:-320,x:0,width:750,skin:"main/img_blackMask.png",sizeGrid:"2,2,2,2",height:2e3,centerY:0,alpha:.8},compId:87},{type:"Image",props:{width:690,skin:"btn/img_tip_0.png",sizeGrid:"28,28,28,28",height:486,centerY:0,centerX:0},compId:59,child:[{type:"Image",props:{y:101,x:10,width:670,skin:"btn/img_tip_1.png",sizeGrid:"28,28,28,28",height:372},compId:60},{type:"Image",props:{y:137,x:40,width:610,skin:"btn/img_tip_0.png",sizeGrid:"28,28,28,28",height:192},compId:61},{type:"Image",props:{y:25,x:303,skin:"shop/img_tip_6.png",centerX:0},compId:62},{type:"Button",props:{y:395,x:388,width:190,var:"btnSure",stateNum:1,skin:"btn/img_tip_5.png",sizeGrid:"11,24,27,24",height:58},compId:63,child:[{type:"Image",props:{y:-40,width:244,skin:"btn/btnColor2Up.png",sizeGrid:"24,24,24,24",right:0,left:0,height:74},compId:64,child:[{type:"Image",props:{skin:"shop/img_tip_7.png",centerY:0,centerX:0},compId:65}]}]},{type:"Button",props:{y:395,x:113,width:190,var:"btnCancel",stateNum:1,skin:"btn/img_tip_2.png",sizeGrid:"11,24,27,24",height:58},compId:66,child:[{type:"Image",props:{y:-40,width:244,skin:"btn/img_tip_3.png",sizeGrid:"24,24,24,24",right:0,left:0,height:74},compId:67,child:[{type:"Image",props:{skin:"shop/img_tip_8.png",centerY:0,centerX:0},compId:68}]}]},{type:"Label",props:{y:153,x:57.5,wordWrap:!0,width:576,var:"labelTip",valign:"middle",text:"这是提示",leading:8,height:160,fontSize:40,font:"SimHei",color:"#ffffff",bold:!0,align:"center"},compId:69}]}]},{type:"Box",props:{visible:!1,var:"boxBuy",top:0,right:0,left:0,bottom:0},compId:58,child:[{type:"Image",props:{x:0,width:750,skin:"main/img_blackMask.png",sizeGrid:"2,2,2,2",height:2e3,centerY:0,alpha:.8},compId:86},{type:"Image",props:{width:690,skin:"btn/img_tip_0.png",sizeGrid:"28,28,28,28",height:486,centerY:0,centerX:0},compId:70,child:[{type:"Image",props:{y:101,x:10,width:670,skin:"btn/img_tip_1.png",sizeGrid:"28,28,28,28",height:372},compId:71},{type:"Image",props:{y:25,x:207,skin:"shop/img_buy_0.png",centerX:0},compId:72},{type:"Button",props:{y:329,x:85,width:520,var:"btnJew",stateNum:1,skin:"btn/img_tip_5.png",sizeGrid:"11,24,27,24",height:58},compId:73,child:[{type:"Image",props:{y:-40,width:244,skin:"btn/btnColor2Up.png",sizeGrid:"24,24,24,24",right:0,left:0,height:74},compId:74,child:[{type:"Image",props:{skin:"shop/img_buy_4.png",centerY:0,centerX:-100},compId:75},{type:"Image",props:{y:14.5,x:313,skin:"shop/img_buy_2.png"},compId:76},{type:"Label",props:{y:22,x:374,width:102,var:"labelJew",text:"X1000",height:30,fontSize:30,font:"SimHei",color:"#ffffff",bold:!0},compId:77}]}]},{type:"Button",props:{y:214,x:85,width:520,var:"btnGold",stateNum:1,skin:"btn/img_tip_2.png",sizeGrid:"11,24,27,24",height:58},compId:78,child:[{type:"Image",props:{y:-40,width:244,skin:"btn/img_tip_3.png",sizeGrid:"24,24,24,24",right:0,left:0,height:74},compId:79,child:[{type:"Image",props:{skin:"shop/img_buy_3.png",centerY:3,centerX:-99},compId:80},{type:"Image",props:{y:15,x:315,skin:"shop/img_buy_1.png"},compId:81},{type:"Label",props:{y:22,x:374,width:102,var:"labelGold",text:"X1000",height:30,fontSize:30,font:"SimHei",color:"#ffffff",bold:!0},compId:82}]}]},{type:"Button",props:{y:50,x:609,width:69,visible:!0,var:"btnCloseBuy",stateNum:1,skin:"btn/btnColor1Down.png",sizeGrid:"24,24,24,24",height:43},compId:83,child:[{type:"Image",props:{y:-40,width:69,skin:"btn/btnColor1Up.png",sizeGrid:"24,24,24,24",right:0,left:0,height:65},compId:84,child:[{type:"Image",props:{skin:"main/close.png",centerY:0,centerX:0},compId:85}]}]}]}]}],loadList:["main/blackMask.png","endangeredanimals/img_3.png","endangeredanimals/img_zi_0.png","endangeredanimals/img_2.png","btn/btnRed2.png","btn/btnRed1.png","endangeredanimals/img_zi_4.png","endangeredanimals/img_0.png","endangeredanimals/img_zi_1.png","endangeredanimals/img_zi_2.png","endangeredanimals/img_1.png","btn/btnGreen2.png","btn/btnGreen1.png","main/button_patchHilight0.png","endangeredanimals/free.png","endangeredanimals/img_ad.png","preload/button_patchHilight0.png","btn/btnColor1Down.png","btn/btnColor1Up.png","main/fanhui.png","main/vivo_di.png","btn/btnColor2Up.png","main/vivo_go.png","main/adbg.png","main/vivo_cancel.png","main/img_blackMask.png","btn/img_tip_0.png","btn/img_tip_1.png","shop/img_tip_6.png","btn/img_tip_5.png","shop/img_tip_7.png","btn/img_tip_2.png","btn/img_tip_3.png","shop/img_tip_8.png","shop/img_buy_0.png","shop/img_buy_4.png","shop/img_buy_2.png","shop/img_buy_3.png","shop/img_buy_1.png","main/close.png"],loadList3D:[]},e.EndangeredAnimalsUI=a,p("ui.main.EndangeredAnimalsUI",a);class o extends r{constructor(){super()}createChildren(){super.createChildren(),this.createView(o.uiView)}}o.uiView={type:"View",props:{width:750,height:1334},compId:2,child:[{type:"Button",props:{y:0,x:0,var:"imgMask",top:0,stateNum:1,skin:"main/img_blackMask.png",sizeGrid:"1,1,1,1",right:0,left:0,bottom:0,alpha:.6},compId:23},{type:"Box",props:{width:750,height:1064,centerY:0,centerX:0},compId:35,child:[{type:"Image",props:{y:172,x:96,width:553,skin:"giftbag/gqdi.png",sizeGrid:"10,25,36,22",height:624},compId:4},{type:"Image",props:{y:90,x:60,skin:"giftbag/gqtitle.png"},compId:5},{type:"Image",props:{y:215,x:130,width:490,skin:"giftbag/gqcontent.png",sizeGrid:"25,24,24,22",height:389},compId:6},{type:"Image",props:{y:534,x:496,skin:"giftbag/gqqq.png"},compId:7},{type:"Image",props:{y:283,x:341,var:"imgHat",skin:"giftbag/gqhat.png"},compId:8},{type:"Box",props:{y:239,x:166,var:"boxReward"},compId:36,child:[{type:"Image",props:{y:36,x:1,skin:"giftbag/gqgold.png"},compId:9,child:[{type:"Image",props:{y:4,x:28,skin:"giftbag/gqlight.png"},compId:10},{type:"Image",props:{y:9,x:133,skin:"giftbag/gqlight.png"},compId:11},{type:"Image",props:{y:83,x:159,width:18,skin:"giftbag/gqlight.png",scaleY:.5,scaleX:.5,height:18},compId:12},{type:"Image",props:{y:98,x:-1,width:18,skin:"giftbag/gqlight.png",scaleY:.5,scaleX:.5,height:18},compId:14},{type:"Image",props:{y:-36,x:21,width:18,skin:"giftbag/gqlight.png",scaleY:.5,scaleX:.5,height:18},compId:15}]},{type:"Image",props:{y:189,x:23,width:37,skin:"main/coin.png",height:44},compId:16},{type:"Image",props:{y:254,x:23,width:42,skin:"main/icon_jew.png",height:35},compId:17},{type:"Label",props:{y:195,x:71,var:"textGold",text:"x500",fontSize:35,color:"#ffffff"},compId:18},{type:"Label",props:{y:250,x:76,var:"textDiamond",text:"x10",fontSize:35,color:"#ffffff"},compId:19}]},{type:"Button",props:{y:895,x:220.5,width:335,var:"btnDouble",stateNum:1,skin:"giftbag/gqvbtnbg.png",sizeGrid:"32,30,32,29",height:60},compId:24,child:[{type:"Image",props:{y:-41,x:0,width:335,var:"imgBg",skin:"giftbag/gqbtn.png",sizeGrid:"28,30,28,30",height:83},compId:25,child:[{type:"Image",props:{y:18.5,x:108,var:"imgText",skin:"giftbag/gqdouble.png"},compId:26},{type:"Image",props:{y:8,x:13,var:"imgVideo",skin:"giftbag/gqvideo.png"},compId:28}]}]},{type:"Button",props:{y:1007,x:308,var:"btnNormal",stateNum:1,skin:"giftbag/gqptlq.png"},compId:31},{type:"Button",props:{y:24,x:664,width:62,visible:!0,var:"btnclose",stateNum:1,skin:"btn/btnColor1Down.png",sizeGrid:"24,24,24,24",height:54},compId:32,child:[{type:"Image",props:{y:-19,width:62,skin:"btn/btnColor1Up.png",sizeGrid:"24,24,24,24",right:0,left:0,height:63},compId:33,child:[{type:"Image",props:{width:33,skin:"main/close.png",height:37,centerY:0,centerX:0},compId:34}]}]},{type:"Label",props:{y:627,x:134,text:"说明:\\n活动时间： 截止到10月11日\\n活动期间每日都有神秘礼包等你来领取，\\n请不要错过快来领取吧",leading:9,fontSize:22,color:"#ffffff"},compId:22}]}],loadList:["main/img_blackMask.png","giftbag/gqdi.png","giftbag/gqtitle.png","giftbag/gqcontent.png","giftbag/gqqq.png","giftbag/gqhat.png","giftbag/gqgold.png","giftbag/gqlight.png","main/coin.png","main/icon_jew.png","giftbag/gqvbtnbg.png","giftbag/gqbtn.png","giftbag/gqdouble.png","giftbag/gqvideo.png","giftbag/gqptlq.png","btn/btnColor1Down.png","btn/btnColor1Up.png","main/close.png"],loadList3D:[]},e.FestivalActivityUI=o,p("ui.main.FestivalActivityUI",o);class h extends r{constructor(){super()}createChildren(){super.createChildren(),this.createView(h.uiView)}}h.uiView={type:"View",props:{width:750,height:1360},compId:2,child:[{type:"Image",props:{var:"imgMask",top:0,skin:"main/blackMask.png",sizeGrid:"1,1,1,1",right:0,left:0,bottom:0},compId:3},{type:"Box",props:{width:691,var:"boxMain",height:702,centerY:0,centerX:0},compId:13,child:[{type:"Image",props:{y:0,x:70,width:550,skin:"btn/img_main_2.png",sizeGrid:"28,28,28,28",height:85},compId:14},{type:"Image",props:{y:19.5,x:253.5,width:183,skin:"freejew/img_main_10.png",height:46},compId:15},{type:"Image",props:{y:110,x:0,width:690,skin:"btn/img_main_2.png",sizeGrid:"28,28,28,28",height:440},compId:16},{type:"Image",props:{y:120,x:10,width:670,skin:"btn/img_main_1.png",sizeGrid:"28,28,28,28",height:420},compId:17},{type:"Button",props:{y:613,x:266,width:425,var:"btnGain",stateNum:1,skin:"btn/img_main_4.png",sizeGrid:"11,24,27,24",height:89},compId:10,child:[{type:"Image",props:{y:-40,width:244,skin:"btn/img_main_3.png",sizeGrid:"24,24,24,24",right:0,left:0,height:104},compId:11,child:[{type:"Image",props:{y:22,x:141,skin:"freejew/img_main_8.png"},compId:12},{type:"Image",props:{y:14.5,x:36,width:72,skin:"freejew/img_main_11.png",height:75},compId:22}]}]},{type:"Button",props:{y:613,x:0,width:245,var:"btnBack",stateNum:1,skin:"btn/img_7.png",sizeGrid:"11,24,27,24",height:89},compId:7,child:[{type:"Image",props:{y:-40,width:244,skin:"btn/img_8.png",sizeGrid:"24,24,24,24",right:0,left:0,height:104},compId:8,child:[{type:"Image",props:{skin:"freejew/img_main_9.png",centerY:0,centerX:0},compId:9}]}]},{type:"Box",props:{x:155,width:380,var:"wxOnly",height:80,centerY:140},compId:61,child:[{type:"Image",props:{y:0,x:0,width:380,skin:"btn/img_main_2.png",sizeGrid:"28,28,28,28",height:80},compId:21,child:[{type:"Image",props:{y:23,x:42,width:264,skin:"freejew/img_main_12.png",height:33},compId:23},{type:"Label",props:{y:24,x:318,width:57,var:"labelShengyu",text:"6",height:30,fontSize:34,font:"SimHei",color:"#fbfb93",bold:!0,align:"left"},compId:24}]}]},{type:"Box",props:{width:380,var:"wxExcept",height:310,centerY:-65,centerX:0},compId:62,child:[{type:"Image",props:{width:380,skin:"btn/img_main_2.png",sizeGrid:"28,28,28,28",height:310},compId:18,child:[{type:"Image",props:{y:118,x:190,width:159,skin:"freejew/img_7.png",height:128,anchorY:.5,anchorX:.5},compId:19},{type:"Label",props:{y:203,x:131,width:118,var:"labelGainjew0",text:"6",height:61,fontSize:60,font:"SimHei",color:"#fbfb93",bold:!0,align:"center"},compId:20}]}]}]},{type:"Box",props:{y:1138,x:0,visible:!1,var:"oppoActive",right:0,left:0,bottom:0},compId:63,child:[{type:"Image",props:{width:750,skin:"main/di.png",sizeGrid:"1,1,1,1",name:"imgbg",height:210},compId:64},{type:"Image",props:{y:14,x:10,width:730,skin:"main/di1.png",sizeGrid:"27,30,33,32",height:184},compId:65},{type:"Image",props:{y:29,x:19,width:154,skin:"main/logodi.png",sizeGrid:"32,32,34,33",height:154},compId:66},{type:"Image",props:{width:60,skin:"main/adbg.png",sizeGrid:"1,1,1,1",height:26},compId:67,child:[{type:"Label",props:{y:3,x:9,text:"广告",fontSize:20,color:"#ffffff"},compId:68}]},{type:"Image",props:{y:100,x:575,width:156,skin:"main/ckgg.png",sizeGrid:"6,18,22,15",height:36},compId:69,child:[{type:"Image",props:{y:-20,x:0,width:156,skin:"main/ckgg1.png",sizeGrid:"19,21,19,20",height:47},compId:70},{type:"Label",props:{y:-8.5,x:32,text:"查看广告",fontSize:24,color:"#fffce7"},compId:71}]},{type:"Image",props:{y:22,x:692,skin:"main/qx.png",name:"imgClose"},compId:72},{type:"Image",props:{y:106,x:96,width:116,name:"imgIcon",height:116,anchorY:.5,anchorX:.5},compId:73},{type:"Label",props:{y:55,x:203,text:"疯狂动物园",name:"title",fontSize:30,color:"#fefefe"},compId:74},{type:"Label",props:{y:130,x:203,text:"疯狂动物园疯狂开跑",name:"title2",fontSize:22,color:"#ffffff"},compId:75}]},{type:"Box",props:{y:0,x:0,width:691,visible:!1,var:"boxTip",height:702,centerY:0,centerX:0},compId:43,child:[{type:"Image",props:{y:0,x:70,width:550,skin:"btn/img_purple_2.png",sizeGrid:"28,28,28,28",height:85},compId:44},{type:"Image",props:{y:19.5,x:253.5,width:183,skin:"freejew/img_5.png",height:45},compId:45},{type:"Image",props:{y:110,x:0,width:690,skin:"btn/img_purple_1.png",sizeGrid:"28,28,28,28",height:440},compId:46},{type:"Image",props:{y:120,x:10,width:670,skin:"btn/img_purple_3.png",sizeGrid:"28,28,28,28",height:420},compId:47},{type:"Image",props:{y:175,x:155.5,width:380,skin:"btn/img_purple_1.png",sizeGrid:"28,28,28,28",height:310},compId:48},{type:"Image",props:{y:293,x:344,skin:"freejew/img_7.png",anchorY:.5,anchorX:.5},compId:49},{type:"Label",props:{y:378,x:285,width:118,var:"labelGainjew1",text:"6",height:61,fontSize:60,font:"SimHei",color:"#ffffff",bold:!0,align:"center"},compId:50},{type:"Button",props:{y:613,x:133,width:422,var:"btnCloseTip",stateNum:1,skin:"btn/img_4.png",sizeGrid:"11,24,27,24",height:89},compId:57,child:[{type:"Image",props:{y:-40,width:244,skin:"btn/img_5.png",sizeGrid:"24,24,24,24",right:0,left:0,height:104},compId:58,child:[{type:"Image",props:{skin:"freejew/img_6.png",centerY:0,centerX:0},compId:59}]}]}]},{type:"Box",props:{y:0,x:0,visible:!1,var:"vivoActive",centerY:0,centerX:0},compId:76,child:[{type:"Image",props:{width:690,skin:"main/vivo_di.png",sizeGrid:"24,21,27,19",name:"imgbg",height:900,centerY:0,centerX:0},compId:77},{type:"Image",props:{width:244,skin:"btn/btnColor1Up.png",sizeGrid:"20,18,22,19",height:74,centerX:0,bottom:50},compId:78,child:[{type:"Image",props:{y:-20,x:0,width:244,skin:"btn/btnColor2Up.png",sizeGrid:"19,21,19,20",height:74},compId:79,child:[{type:"Image",props:{skin:"main/vivo_go.png",centerY:0,centerX:0},compId:80}]}]},{type:"Image",props:{width:80,skin:"main/adbg.png",sizeGrid:"1,1,1,1",right:0,height:35,bottom:25},compId:81,child:[{type:"Label",props:{text:"广告",fontSize:25,color:"#ffffff",centerY:0,centerX:0},compId:82}]},{type:"Label",props:{text:"疯狂动物园",name:"title",fontSize:48,color:"#6f2e00",centerY:62,centerX:-2},compId:83},{type:"Label",props:{y:616,text:"疯狂动物园疯狂开跑",name:"title2",fontSize:36,color:"#6f2e00",centerX:0},compId:84},{type:"Image",props:{y:10,x:10,width:670,top:10,sizeGrid:"28,23,25,20",name:"imgPicture",height:353,centerX:0},compId:85},{type:"Image",props:{y:30,x:612,top:20,skin:"main/vivo_cancel.png",right:20,name:"imgClose"},compId:86}]}],loadList:["main/blackMask.png","btn/img_main_2.png","freejew/img_main_10.png","btn/img_main_1.png","btn/img_main_4.png","btn/img_main_3.png","freejew/img_main_8.png","freejew/img_main_11.png","btn/img_7.png","btn/img_8.png","freejew/img_main_9.png","freejew/img_main_12.png","freejew/img_7.png","main/di.png","main/di1.png","main/logodi.png","main/adbg.png","main/ckgg.png","main/ckgg1.png","main/qx.png","btn/img_purple_2.png","freejew/img_5.png","btn/img_purple_1.png","btn/img_purple_3.png","btn/img_4.png","btn/img_5.png","freejew/img_6.png","main/vivo_di.png","btn/btnColor1Up.png","btn/btnColor2Up.png","main/vivo_go.png","main/vivo_cancel.png"],loadList3D:[]},e.FreeJewUI=h,p("ui.main.FreeJewUI",h);class l extends r{constructor(){super()}createChildren(){super.createChildren(),this.createView(l.uiView)}}l.uiView={type:"View",props:{width:750,height:1380},compId:2,child:[{type:"Box",props:{y:70,var:"topBox",right:0,left:0,height:100},compId:8,child:[{type:"Image",props:{y:25,skin:"main/coin.png",right:70},compId:4},{type:"Label",props:{y:29.5,width:250,var:"gold1",valign:"middle",text:"0",right:139,height:50,fontSize:50,color:"#030303",align:"right"},compId:6,child:[{type:"Label",props:{y:-4,x:-2,width:250,var:"gold2",valign:"middle",text:"0",height:50,fontSize:50,color:"#fef790",align:"right"},compId:7}]},{type:"Label",props:{y:75,width:171,visible:!1,var:"gold3",valign:"middle",text:"(+1)",right:139,height:50,fontSize:50,color:"#030303",align:"right"},compId:234,child:[{type:"Label",props:{y:-4,x:-2,width:171,var:"gold4",valign:"middle",text:"(+1)",height:50,fontSize:50,color:"#fef790",align:"right"},compId:235}]},{type:"Image",props:{y:32,x:65,var:"mi",skin:"main/m.png"},compId:10},{type:"Text",props:{y:32,x:23,width:417,var:"distance2",text:"0",height:60,fontSize:60,color:"#2d2d2d",bold:!1,runtime:"laya.display.Text"},compId:75},{type:"Text",props:{y:29,x:20,width:417,var:"distance",text:"0",height:60,fontSize:60,color:"#ffffff",bold:!1,runtime:"laya.display.Text"},compId:11},{type:"Button",props:{y:32,x:694,width:35,var:"btnPause",stateNum:3,skin:"main/Time-out.png",height:35},compId:97},{type:"Label",props:{x:38,width:153,visible:!1,var:"taskTarget",top:100,text:"0 / 1",height:32,fontSize:60,color:"#fdf6be",bold:!0},compId:307},{type:"Image",props:{y:-20,width:284,visible:!1,var:"qq_next",skin:"friend/friend_di3.png",sizeGrid:"18,13,15,24",left:5,height:120},compId:769,child:[{type:"Image",props:{skin:"friend/friend_di4.png",left:10,centerY:0},compId:770,child:[{type:"Image",props:{var:"headimg_next",skin:"friend/friend_tx.png",centerY:0,centerX:0},compId:771}]},{type:"Box",props:{y:33,x:84,width:196,var:"bNext",height:67},compId:773,child:[{type:"Label",props:{top:0,text:"下一个目标",fontSize:24,color:"#ffffff",centerX:0,bold:!0},compId:772},{type:"Label",props:{text:"556",right:0,left:0,fontSize:36,color:"#ffec97",bottom:0,align:"center"},compId:774}]},{type:"Image",props:{y:44.5,x:118.5,var:"transcend",skin:"friend/friend_cgcy.png"},compId:775,child:[{type:"Image",props:{y:5,x:107,skin:"friend/friend_cgcy2.png"},compId:776}]}]}]},{type:"Image",props:{y:1240,x:0,var:"botPause",skin:"main/blackMask.png",sizeGrid:"2,2,2,2",right:0,left:0,height:140,bottom:0},compId:83,child:[{type:"Image",props:{skin:"main/pause.png",centerY:-1e3,centerX:0},compId:160},{type:"Box",props:{y:-705,x:0,width:750,var:"boxPauseTask",height:685},compId:195,child:[{type:"Image",props:{y:176,x:0,width:750,visible:!1,var:"imgTask1",skin:"main/img_parse_bg1.png",sizeGrid:"2,2,2,2",height:156},compId:185,child:[{type:"Label",props:{x:16,wordWrap:!0,width:529,var:"task1",valign:"middle",text:"更换一个任务？",height:124,fontSize:50,font:"Microsoft YaHei",color:"#ffffff",centerY:0,bold:!0,align:"center"},compId:186},{type:"Button",props:{x:583,width:152,var:"btnAd1",stateNum:1,skin:"btn/btnGreen2.png",sizeGrid:"24,24,24,24",right:15,height:80,centerY:20},compId:187,child:[{type:"Image",props:{y:-40,width:244,skin:"btn/btnGreen1.png",sizeGrid:"24,24,24,24",right:0,left:0,height:100},compId:188,child:[{type:"Image",props:{y:11.5,x:41,skin:"main/ad.png"},compId:189}]}]},{type:"Image",props:{y:78,x:659,skin:"main/img_parse_star0.png",name:"star",anchorY:.5,anchorX:.5},compId:302}]},{type:"Image",props:{y:352,x:0,width:750,visible:!1,var:"imgTask2",skin:"main/img_parse_bg1.png",sizeGrid:"2,2,2,2",height:156},compId:190,child:[{type:"Label",props:{x:16,wordWrap:!0,width:529,var:"task2",valign:"middle",text:"更换一个任务？",height:124,fontSize:50,font:"Microsoft YaHei",color:"#ffffff",centerY:0,bold:!0,align:"center"},compId:191},{type:"Button",props:{x:583,width:152,var:"btnAd2",stateNum:1,skin:"btn/btnGreen2.png",sizeGrid:"24,24,24,24",right:15,height:80,centerY:20},compId:192,child:[{type:"Image",props:{y:-40,width:244,skin:"btn/btnGreen1.png",sizeGrid:"24,24,24,24",right:0,left:0,height:100},compId:193,child:[{type:"Image",props:{y:11.5,x:41,skin:"main/ad.png"},compId:194}]}]},{type:"Image",props:{y:78,x:659,skin:"main/img_parse_star0.png",name:"star",anchorY:.5,anchorX:.5},compId:303}]},{type:"Image",props:{y:530,x:0,visible:!1,var:"imgChange",skin:"main/pauseb.png"},compId:196,child:[{type:"Label",props:{x:16,width:529,valign:"middle",text:"更换一个任务？",height:124,fontSize:50,font:"Microsoft YaHei",color:"#ffffff",centerY:0,bold:!0,align:"center"},compId:197},{type:"Button",props:{x:583,width:152,var:"btnAd",stateNum:1,skin:"btn/btnGreen2.png",sizeGrid:"24,24,24,24",right:15,height:80,centerY:20},compId:198,child:[{type:"Image",props:{y:-40,width:244,skin:"btn/btnGreen1.png",sizeGrid:"24,24,24,24",right:0,left:0,height:100},compId:199,child:[{type:"Image",props:{y:11.5,x:41,skin:"main/ad.png"},compId:200}]}]}]},{type:"Box",props:{var:"imgTask0"},compId:509,child:[{type:"Image",props:{y:0,x:0,width:750,skin:"main/img_parse_bg1.png",sizeGrid:"2,2,2,2",height:130,alpha:.5},compId:159},{type:"Label",props:{y:0,x:16,wordWrap:!0,width:529,var:"task0",valign:"middle",text:"更换一个任务？",height:124,fontSize:50,font:"Microsoft YaHei",color:"#ffffff",centerY:0,bold:!0,align:"center"},compId:510},{type:"Button",props:{x:583,width:152,var:"btnAd0",stateNum:1,skin:"btn/btnGreen2.png",sizeGrid:"24,24,24,24",right:15,height:80,centerY:20},compId:511,child:[{type:"Image",props:{y:-40,width:244,skin:"btn/btnGreen1.png",sizeGrid:"24,24,24,24",right:0,left:0,height:100},compId:513,child:[{type:"Image",props:{y:11.5,x:41,skin:"main/ad.png"},compId:514}]}]},{type:"Image",props:{x:659,skin:"main/img_parse_star0.png",name:"star",centerY:0,anchorY:.5,anchorX:.5},compId:512}]}]},{type:"Box",props:{x:5,width:740,var:"boxNormal",height:122,bottom:20},compId:331,child:[{type:"Button",props:{y:20,x:316,width:414,var:"btnContinue2",stateNum:1,skin:"btn/btnGreen2.png",sizeGrid:"24,24,24,24",right:20,height:80},compId:87,child:[{type:"Image",props:{y:-40,width:244,skin:"btn/btnGreen1.png",sizeGrid:"24,24,24,24",right:0,left:0,height:100},compId:88,child:[{type:"Image",props:{skin:"main/jixu.png",centerY:0,centerX:10},compId:92}]}]},{type:"Button",props:{y:20,x:20,width:267,var:"btnZoo2",stateNum:1,skin:"btn/btnColor1Down.png",sizeGrid:"24,24,24,24",name:"btnZoo",height:80},compId:84,child:[{type:"Image",props:{y:-40,width:244,skin:"btn/btnColor1Up.png",sizeGrid:"24,24,24,24",right:0,left:0,height:100},compId:85,child:[{type:"Image",props:{skin:"main/zoo.png",centerY:0,centerX:0},compId:86}]}]}]},{type:"Box",props:{x:5,width:740,visible:!1,var:"boxPhoto",height:122,bottom:20},compId:332,child:[{type:"Button",props:{y:42,width:332,var:"btncontinue3",stateNum:1,skin:"btn/btnGreen2.png",sizeGrid:"24,24,24,24",right:177,height:80},compId:328,child:[{type:"Image",props:{y:-40,width:244,skin:"btn/btnGreen1.png",sizeGrid:"24,24,24,24",right:0,left:0,height:100},compId:329,child:[{type:"Image",props:{skin:"main/jixu.png",centerY:0,centerX:0},compId:330}]}]},{type:"Button",props:{y:42,x:14,width:193,var:"btnZoo3",stateNum:1,skin:"btn/btnColor1Down.png",sizeGrid:"24,24,24,24",height:80},compId:333,child:[{type:"Image",props:{y:-40,width:244,skin:"btn/btnColor1Up.png",sizeGrid:"24,24,24,24",right:0,left:0,height:100},compId:334,child:[{type:"Image",props:{skin:"main/zoo.png",centerY:0,centerX:0},compId:335}]}]},{type:"Button",props:{y:42,x:584,width:146,var:"btnPhoto",stateNum:1,skin:"btn/img_shop2listdi.png",sizeGrid:"24,24,24,24",height:80},compId:336,child:[{type:"Image",props:{y:-40,width:244,skin:"btn/img_shop2list.png",sizeGrid:"24,24,24,24",right:0,left:0,height:100},compId:337,child:[{type:"Image",props:{y:15.5,x:34.5,skin:"main/photo.png"},compId:339}]}]}]},{type:"Box",props:{y:-565,x:0,width:750,visible:!1,var:"changeTaskPause",sizeGrid:"2,2,2,2",right:0,left:0,height:130},compId:517,child:[{type:"Image",props:{width:750,skin:"setting/img_bg_2.png",sizeGrid:"2,2,2,2",left:0,height:130,alpha:.6},compId:518},{type:"Label",props:{wordWrap:!0,width:500,valign:"middle",text:"观看广告立即免费刷新任务",left:14,height:130,fontSize:40,color:"#ffffff",align:"center"},compId:519},{type:"Button",props:{x:572,width:160,var:"btnChangeTaskPause",stateNum:1,skin:"btn/btnGreen2.png",sizeGrid:"9,24,32,24",height:80,centerY:25},compId:520,child:[{type:"Image",props:{y:-40,width:160,skin:"btn/btnGreen1.png",sizeGrid:"24,24,24,24",left:0,height:100},compId:521,child:[{type:"Image",props:{var:"otherTaskPause",skin:"setting/img_ad.png",centerY:0,centerX:0},compId:522},{type:"Label",props:{y:0,visible:!1,var:"hwTaskPause",text:"50",right:20,left:20,fontSize:50,color:"#ffffff",centerY:0,bold:!0},compId:676,child:[{type:"Image",props:{y:-7,skin:"setting/img_icon_1.png",right:0},compId:677}]}]}]}]},{type:"Box",props:{y:560,x:0,width:750,visible:!1,var:"lockMapPause",sizeGrid:"2,2,2,2",right:0,left:0,height:130},compId:533,child:[{type:"Image",props:{width:750,skin:"setting/img_bg_2.png",sizeGrid:"2,2,2,2",left:0,height:130,alpha:.6},compId:534},{type:"Label",props:{wordWrap:!0,width:500,valign:"middle",text:"完成此任务需要解锁新地图",left:14,height:130,fontSize:40,color:"#ffffff",align:"center"},compId:535},{type:"Button",props:{x:572,width:160,var:"btnLockPause",stateNum:1,skin:"btn/btnGreen2.png",sizeGrid:"9,24,32,24",height:80,centerY:25},compId:536,child:[{type:"Image",props:{y:-40,width:160,skin:"btn/btnGreen1.png",sizeGrid:"24,24,24,24",left:0,height:100},compId:537,child:[{type:"Image",props:{skin:"main/lockmap.png",centerY:0,centerX:0},compId:538}]}]}]}]},{type:"Label",props:{var:"tapInfo",text:"按住屏幕不放开始游戏",fontSize:50,color:"#000000",centerX:0,bottom:100},compId:19,child:[{type:"Label",props:{y:-3,x:0,text:"按住屏幕不放开始游戏",fontSize:50,color:"#ffffff"},compId:20}]},{type:"Sprite",props:{y:244,x:359,var:"warnInfo"},compId:31,child:[{type:"Sprite",props:{y:-58,x:-57,texture:"main/circle3.png",name:"bg"},compId:32},{type:"Sprite",props:{y:1,x:0,texture:"main/circle1.png",pivotY:70,pivotX:70,name:"circle"},compId:33},{type:"Sprite",props:{y:-26,x:-33,texture:"main/heart.png",name:"heart"},compId:34},{type:"Animation",props:{y:1,x:0,width:0,source:"main/warnning.ani",rotation:0,name:"warn",height:0,autoPlay:!0},compId:35},{type:"Sprite",props:{y:0,x:0,width:114,pivotY:57,pivotX:57,name:"progress",height:114},compId:36,child:[{type:"Sprite",props:{y:0,x:0,name:"left"},compId:37,child:[{type:"Sprite",props:{y:57,x:57,texture:"main/redCircle1.png",rotation:0,pivotY:57,pivotX:57},compId:38},{type:"Sprite",props:{x:57,renderType:"mask"},compId:39,child:[{type:"Rect",props:{width:57,lineWidth:1,height:114,fillColor:"#ff0000"},compId:40}]}]},{type:"Sprite",props:{y:0,x:0,rotation:0,name:"right"},compId:41,child:[{type:"Sprite",props:{y:57,x:57,texture:"main/redCircle1.png",rotation:180,pivotY:57,pivotX:57},compId:42},{type:"Sprite",props:{renderType:"mask"},compId:43,child:[{type:"Rect",props:{width:57,lineWidth:1,height:114,fillColor:"#ff0000"},compId:44}]}]}]}]},{type:"Box",props:{width:750,var:"screenshoot",top:0,left:0,bottom:0},compId:46,child:[{type:"Box",props:{y:268,var:"newInfo",right:0,left:0,height:264},compId:47,child:[{type:"Image",props:{y:1,skin:"main/red.png",sizeGrid:"1,1,1,1",right:0,left:0,height:264,alpha:.5},compId:48},{type:"Label",props:{y:40,text:"你交到了新朋友",right:0,left:4,fontSize:72,color:"#000000",align:"center"},compId:49},{type:"Label",props:{y:35,text:"你交到了新朋友",right:0,left:0,fontSize:72,color:"#FF72FB",align:"center"},compId:50},{type:"Label",props:{y:135,var:"animalName1",text:"非洲象",right:0,left:4,height:100,fontSize:100,color:"#000000",align:"center"},compId:51},{type:"Label",props:{y:129,var:"animalName0",text:"非洲象",right:0,left:0,height:100,fontSize:100,color:"#FDEF8F",align:"center"},compId:52}]},{type:"Box",props:{var:"newNotice",right:0,left:0,height:900,centerY:0},compId:53,child:[{type:"Sprite",props:{y:790,x:734,texture:"main/rollArrow.png",scaleX:-1,alpha:.6},compId:55},{type:"Sprite",props:{y:790,x:21,texture:"main/rollArrow.png",alpha:.6},compId:56}]},{type:"Box",props:{var:"tabAreaBox",right:0,left:0,height:200,bottom:0},compId:58,child:[{type:"Image",props:{y:0,skin:"main/blackMask.png",sizeGrid:"1,1,1,1",right:0,left:0,height:200,alpha:.6},compId:59},{type:"Image",props:{y:20,x:295,skin:"main/tapCircle.png",centerX:0,bottom:20},compId:60}]},{type:"Box",props:{x:0,width:750,var:"animalBook",height:750,centerY:44},compId:61,child:[{type:"Sprite",props:{y:0,x:-122,width:737,texture:"main/photobook.png",rotation:-10,height:737},compId:62},{type:"Box",props:{y:227,x:389,width:400,var:"animalPic",rotation:-10,height:400,anchorY:.5,anchorX:.5},compId:63,child:[{type:"Rect",props:{y:20,x:-40,width:420,lineWidth:1,height:490,fillColor:"#5f5c5c"},compId:64},{type:"Rect",props:{y:-10,x:-10,width:420,lineWidth:1,height:490,fillColor:"#ffffff"},compId:65},{type:"Label",props:{width:400,var:"animalPicName",text:"披风野牛",left:0,height:56,fontSize:54,color:"#000000",bottom:-70,align:"center"},compId:66},{type:"Sprite",props:{y:0,x:0,width:400,var:"animalImg",height:400},compId:67},{type:"Image",props:{y:0,x:0,width:100,var:"bofang",skin:"main/bofang.png",height:100,centerY:0,centerX:0},compId:475},{type:"Button",props:{width:400,var:"btnPhotoShare",height:400},compId:476},{type:"Button",props:{y:400,x:319,width:91,var:"btnRefresh",stateNum:1,skin:"main/refresh_name.png",height:42},compId:525}]}]},{type:"Box",props:{visible:!1,var:"qgSure",right:0,left:0,height:200,bottom:0},compId:571,child:[{type:"Button",props:{y:0,x:0,width:696,var:"btnContinue4",stateNum:1,skin:"btn/btnGreen2.png",sizeGrid:"24,24,24,24",left:27,height:110,bottom:10},compId:593,child:[{type:"Image",props:{y:-40,width:244,skin:"btn/btnGreen1.png",sizeGrid:"24,24,24,24",right:0,left:0,height:130},compId:594,child:[{type:"Image",props:{skin:"hat/img_queding.png",centerY:0,centerX:0},compId:595}]}]}]},{type:"Box",props:{visible:!1,var:"otherSure",right:0,left:0,height:200,bottom:0},compId:572,child:[{type:"Button",props:{y:0,x:0,width:500,var:"btnShare",stateNum:1,skin:"preload/btnGreen2.png",sizeGrid:"24,24,24,24",left:10,height:100,bottom:20},compId:583,child:[{type:"Image",props:{y:-40,skin:"preload/btnGreen1.png",sizeGrid:"24,24,24,24",right:0,left:0,height:112},compId:585,child:[{type:"Image",props:{width:500,var:"imgShare",skin:"main/douyin.png",centerY:0,centerX:0},compId:586,child:[{type:"Label",props:{var:"extraWx",text:"炫耀一下",fontSize:60,color:"#ffffff",centerY:0,centerX:30,bold:!0},compId:587},{type:"Label",props:{y:0,visible:!1,var:"extraZj",text:"额外资金 + 30",fontSize:45,color:"#ffffff",centerY:0,centerX:30,bold:!0},compId:588,child:[{type:"Image",props:{skin:"main/coin.png",centerY:0,centerX:170},compId:589}]}]},{type:"Image",props:{y:0,x:0,var:"btnShareLight",top:0,skin:"main/button_patchHilight0.png",sizeGrid:"24,24,24,24",right:0,left:0,bottom:0},compId:590}]}]},{type:"Button",props:{y:0,x:0,var:"btnContinue",stateNum:1,skin:"preload/btnBlue2.png",sizeGrid:"24,24,24,24",right:10,left:520,height:100,bottom:20},compId:584,child:[{type:"Image",props:{y:-40,skin:"preload/btnBlue1.png",sizeGrid:"24,24,24,24",right:0,left:0,height:112},compId:591,child:[{type:"Image",props:{skin:"main/photo_continue.png",centerY:0,centerX:0},compId:592}]}]}]},{type:"Box",props:{y:1180,x:0,visible:!1,var:"qqSure",right:0,left:0,height:200,bottom:0},compId:705,child:[{type:"Button",props:{y:46,x:375,width:337,var:"btnShare1",stateNum:1,skin:"main/btn_qqshow2.png",scaleY:.6,scaleX:.6,height:140,centerY:-54,centerX:0,anchorY:.5,anchorX:.5},compId:717,child:[{type:"Image",props:{y:-15,x:4,skin:"main/btn_qqshow1.png"},compId:718,child:[{type:"Image",props:{skin:"main/show_img2.png",left:20,centerY:0},compId:719,child:[{type:"Image",props:{skin:"main/show_img1.png",centerY:0,centerX:0},compId:720}]},{type:"Image",props:{skin:"main/show_zi.png",centerY:0,centerX:40},compId:721}]}]},{type:"Button",props:{width:200,var:"btnContinue5",stateNum:1,height:35,centerY:46,centerX:0},compId:722,child:[{type:"Image",props:{visible:!0,skin:"main/passby.png",sizeGrid:"18,21,21,20",centerY:0,centerX:0},compId:723}]}]},{type:"Box",props:{y:0,x:0,visible:!1,var:"vivoActive2",centerY:0,centerX:0},compId:694,child:[{type:"Image",props:{width:690,skin:"main/vivo_di.png",sizeGrid:"24,21,27,19",name:"imgbg",height:900,centerY:0,centerX:0},compId:695},{type:"Image",props:{width:244,skin:"btn/btnColor1Up.png",sizeGrid:"20,18,22,19",height:74,centerX:0,bottom:50},compId:696,child:[{type:"Image",props:{y:-20,x:0,width:244,skin:"btn/btnColor2Up.png",sizeGrid:"19,21,19,20",height:74},compId:697,child:[{type:"Image",props:{skin:"main/vivo_go.png",centerY:0,centerX:0},compId:698}]}]},{type:"Image",props:{width:80,skin:"main/adbg.png",sizeGrid:"1,1,1,1",right:0,height:35,bottom:25},compId:699,child:[{type:"Label",props:{text:"广告",fontSize:25,color:"#ffffff",centerY:0,centerX:0},compId:700}]},{type:"Label",props:{text:"疯狂动物园",name:"title",fontSize:48,color:"#6f2e00",centerY:62,centerX:-2},compId:701},{type:"Label",props:{y:616,text:"疯狂动物园疯狂开跑",name:"title2",fontSize:36,color:"#6f2e00",centerX:0},compId:702},{type:"Image",props:{y:10,x:10,width:670,top:10,sizeGrid:"28,23,25,20",name:"imgPicture",height:353,centerX:0},compId:703},{type:"Image",props:{y:30,x:612,top:20,skin:"main/vivo_cancel.png",right:20,name:"imgClose"},compId:704}]}]},{type:"Image",props:{width:750,visible:!1,var:"botRecord",skin:"main/recordb.png",sizeGrid:"2,2,2,2",right:0,left:0,height:463,centerY:0},compId:113,child:[{type:"Image",props:{y:101,width:750,skin:"main/progress.png",sizeGrid:"1,1,1,1",height:156,centerX:0,alpha:.5},compId:134},{type:"Label",props:{y:139,var:"txtRecord",text:"提高了112米",fontSize:80,color:"#e5de3d",centerX:0,bold:!0,align:"center"},compId:139},{type:"Label",props:{y:18,text:"您已创造了新纪录！",right:100,height:72,fontSize:68,font:"SimHei",color:"#ffffff",bold:!0,align:"center"},compId:135},{type:"Button",props:{width:500,var:"btnWx",stateNum:1,skin:"preload/btnGreen2.png",sizeGrid:"24,24,24,24",left:130,height:100,bottom:20},compId:125,child:[{type:"Image",props:{y:-40,skin:"main/fenxiang.png",sizeGrid:"24,24,24,24",right:0,left:0,height:112},compId:126,child:[{type:"Image",props:{y:26.5,skin:"main/coin.png",right:79},compId:137},{type:"Label",props:{text:"获得100",right:18,left:57,fontSize:46,font:"SimHei",color:"#ffffff",centerY:0,bold:!0,align:"center"},compId:138}]}]},{type:"Button",props:{width:90,var:"btnClose",top:40,stateNum:1,skin:"btn/btnColor1Down.png",sizeGrid:"24,24,24,24",rotation:0,left:654,height:64},compId:131,child:[{type:"Image",props:{y:-40,skin:"btn/btnColor1Up.png",sizeGrid:"24,24,24,24",right:0,left:0,height:84},compId:132,child:[{type:"Image",props:{skin:"main/close.png",centerY:0,centerX:0},compId:133}]}]}]},{type:"Box",props:{visible:!1,var:"botReborn",sizeGrid:"2,2,2,2",right:0,left:0,height:390,centerY:0},compId:141,child:[{type:"Image",props:{top:0,skin:"main/red.png",sizeGrid:"1,1,1,1",right:0,left:0,bottom:0,alpha:.5},compId:161},{type:"Label",props:{y:123,wordWrap:!0,width:700,var:"rebornTask",valign:"middle",text:"一二三四五六七八九十一二三四五六七",height:110,fontSize:40,color:"#e5de3d",centerX:0,bold:!0,align:"center"},compId:144},{type:"Box",props:{y:123,width:700,visible:!1,var:"oppoText",height:110,centerX:0},compId:631,child:[{type:"Label",props:{var:"oppo1",valign:"middle",top:0,text:"一二三四五六七八九十一二三四五六七",right:0,left:0,height:55,fontSize:40,color:"#e5de3d",bold:!0},compId:632},{type:"Label",props:{var:"oppo2",valign:"middle",text:"一二三四五六七八九十一二三四五六七",right:0,left:0,height:55,fontSize:40,color:"#e5de3d",bottom:0,bold:!0},compId:633}]},{type:"Label",props:{y:52,width:748,var:"xiezi",text:"你离目标很近了！",right:0,left:-14,height:72,fontSize:72,color:"#ffffff",bold:!0,align:"center"},compId:145},{type:"Button",props:{width:500,var:"btnReborn",stateNum:1,skin:"btn/btnGreen2.png",sizeGrid:"24,24,24,24",left:130,height:100,bottom:20},compId:147,child:[{type:"Image",props:{y:-34,skin:"btn/btnGreen1.png",sizeGrid:"24,24,24,24",right:0,left:0,height:104},compId:148,child:[{type:"Label",props:{valign:"middle",text:"立刻复活",height:72,fontSize:60,color:"#ffffff",centerY:0,centerX:50,bold:!0,align:"center"},compId:149},{type:"Image",props:{skin:"main/rebornAd.png",centerY:0,centerX:-160},compId:348},{type:"Label",props:{visible:!1,text:"200",left:20,fontSize:60,color:"#ffffff",centerY:0,bold:!1},compId:681,child:[{type:"Image",props:{skin:"main/coin.png",right:-55},compId:682}]}]}]},{type:"Button",props:{y:52,width:90,visible:!0,var:"btncloseborn",stateNum:1,skin:"btn/btnColor1Down.png",sizeGrid:"24,24,24,24",left:653,height:64},compId:153,child:[{type:"Image",props:{y:-40,x:9,skin:"btn/btnColor1Up.png",sizeGrid:"24,24,24,24",right:0,left:0,height:84},compId:157,child:[{type:"Image",props:{skin:"main/close.png",centerY:0,centerX:0},compId:158}]}]},{type:"Button",props:{y:0,x:0,width:500,visible:!1,var:"btnlegent",stateNum:1,skin:"preload/btnGreen2.png",sizeGrid:"24,24,24,24",left:130,height:100,bottom:20},compId:305,child:[{type:"Image",props:{y:-34,width:500,skin:"btn/btnGreen1.png",sizeGrid:"24,24,24,24",height:104,centerX:0},compId:306,child:[{type:"Label",props:{text:"立刻复活",fontSize:60,color:"#ffffff",centerY:0,centerX:0,bold:!0,align:"center"},compId:304},{type:"Label",props:{var:"dollar",text:"剩余3次",right:8,fontSize:26,color:"#ffffff",bottom:8},compId:635}]}]},{type:"Box",props:{visible:!1,var:"zjLiarFH",centerX:-20,bottom:-50},compId:544,child:[{type:"Label",props:{y:0,text:"看广告复活",left:40,fontSize:30,color:"#dadde4"},compId:546},{type:"Button",props:{var:"btnZjLiarFH",stateNum:1,skin:"main/zjliay_kuang.png"},compId:547,child:[{type:"Image",props:{skin:"main/zjliay_gou.png",centerY:0,centerX:0},compId:548}]}]},{type:"Box",props:{x:45,visible:!1,var:"oppoActive4",top:400},compId:661,child:[{type:"Image",props:{y:131,x:0,width:660,skin:"main/adbg2.png",sizeGrid:"1,1,1,1",height:340},compId:662},{type:"Image",props:{y:141,x:10,width:640,skin:"main/adbg3.png",sizeGrid:"23,24,26,24",height:320},compId:663},{type:"Image",props:{y:151,x:19,width:618,name:"imgIcon",height:302},compId:664},{type:"Image",props:{y:425,x:579,width:60,skin:"main/adbg.png",sizeGrid:"1,1,1,1",height:30},compId:665,child:[{type:"Label",props:{y:6,x:9,text:"广告",fontSize:20,color:"#ffffff"},compId:666}]},{type:"Image",props:{y:80,x:191,width:274,visible:!1,skin:"main/ckgg.png",sizeGrid:"6,18,22,15",height:36},compId:667,child:[{type:"Image",props:{y:-74,x:0,width:274,skin:"main/ckgg1.png",sizeGrid:"19,21,19,20",height:95},compId:668},{type:"Image",props:{y:-52,x:44,skin:"main/adtext.png"},compId:669}]},{type:"Image",props:{y:0,x:0,width:660,skin:"main/adbg2.png",sizeGrid:"1,1,1,1",name:"imgbg",height:472,alpha:0},compId:670},{type:"Image",props:{y:155,x:24,skin:"main/qx.png",name:"imgClose"},compId:671}]},{type:"Box",props:{y:0,x:0,visible:!1,var:"vivoActive",centerY:0,centerX:0},compId:683,child:[{type:"Image",props:{width:690,skin:"main/vivo_di.png",sizeGrid:"24,21,27,19",name:"imgbg",height:900,centerY:0,centerX:0},compId:684},{type:"Image",props:{width:244,skin:"btn/btnColor1Up.png",sizeGrid:"20,18,22,19",height:74,centerX:0,bottom:50},compId:685,child:[{type:"Image",props:{y:-20,x:0,width:244,skin:"btn/btnColor2Up.png",sizeGrid:"19,21,19,20",height:74},compId:686,child:[{type:"Image",props:{skin:"main/vivo_go.png",centerY:0,centerX:0},compId:687}]}]},{type:"Image",props:{width:80,skin:"main/adbg.png",sizeGrid:"1,1,1,1",right:0,height:35,bottom:25},compId:688,child:[{type:"Label",props:{text:"广告",fontSize:25,color:"#ffffff",centerY:0,centerX:0},compId:689}]},{type:"Label",props:{text:"疯狂动物园",name:"title",fontSize:48,color:"#6f2e00",centerY:62,centerX:-2},compId:690},{type:"Label",props:{y:616,text:"疯狂动物园疯狂开跑",name:"title2",fontSize:36,color:"#6f2e00",centerX:0},compId:691},{type:"Image",props:{y:10,x:10,width:670,top:10,sizeGrid:"28,23,25,20",name:"imgPicture",height:353,centerX:0},compId:692},{type:"Image",props:{y:30,x:612,top:20,skin:"main/vivo_cancel.png",right:20,name:"imgClose"},compId:693}]}]},{type:"Box",props:{x:0,visible:!1,var:"completTask",sizeGrid:"2,2,2,2",right:0,left:0,height:130,bottom:0},compId:231,child:[{type:"Image",props:{width:750,top:0,skin:"main/img_parse_bg1.png",sizeGrid:"1,1,1,1",right:0,left:0,height:400,bottom:0,alpha:.5},compId:232},{type:"Image",props:{y:39,x:640,visible:!1,skin:"main/img_parse_star0.png",name:"difficult30",centerY:0},compId:291},{type:"Image",props:{y:39,x:580,visible:!1,skin:"main/img_parse_star0.png",name:"difficult31",centerY:0},compId:292,child:[{type:"Image",props:{x:57,visible:!0,skin:"main/img_parse_star0.png",centerY:0},compId:294}]},{type:"Image",props:{y:39,x:555,visible:!1,skin:"main/img_parse_star0.png",name:"difficult32",centerY:0},compId:293,child:[{type:"Image",props:{x:114,visible:!0,skin:"main/img_parse_star0.png",centerY:0},compId:295},{type:"Image",props:{x:57,visible:!0,skin:"main/img_parse_star0.png",centerY:0},compId:296}]},{type:"Label",props:{wordWrap:!0,width:528,var:"whichTask",valign:"middle",text:"一二三四五六七八九十一二三四五六七八九十",left:14,height:106,fontSize:40,color:"#fdf6be",centerY:0,align:"center"},compId:297},{type:"Image",props:{y:29.5,x:252,visible:!1,var:"gou",skin:"main/gou.png"},compId:327}]},{type:"Box",props:{width:750,visible:!1,var:"taskAfter",top:0,bottom:0},compId:349,child:[{type:"Box",props:{y:700,visible:!1,var:"complet0",sizeGrid:"2,2,2,2",right:0,left:0,height:130},compId:258,child:[{type:"Image",props:{top:0,skin:"main/img_parse_bg1.png",sizeGrid:"1,1,1,1",right:0,left:0,bottom:0,alpha:.6},compId:261},{type:"Label",props:{wordWrap:!0,width:476,var:"dec0",valign:"middle",text:"一二三四五六七八九十一二三四五六七八九十",left:12,height:106,fontSize:40,color:"#fdf6be",centerY:0,align:"center"},compId:262},{type:"Image",props:{y:64,x:640,visible:!1,skin:"main/img_parse_star0.png",name:"difficult00",centerY:0},compId:263},{type:"Image",props:{y:64,x:580,visible:!1,skin:"main/img_parse_star0.png",name:"difficult01",centerY:0},compId:264,child:[{type:"Image",props:{x:57,visible:!0,skin:"main/img_parse_star0.png",centerY:0},compId:265}]},{type:"Image",props:{y:64,x:555,visible:!1,skin:"main/img_parse_star0.png",name:"difficult02",centerY:0},compId:266,child:[{type:"Image",props:{x:114,visible:!0,skin:"main/img_parse_star0.png",centerY:0},compId:267},{type:"Image",props:{x:57,visible:!0,skin:"main/img_parse_star0.png",centerY:0},compId:268}]},{type:"Label",props:{y:52,x:580,visible:!1,text:"+100",name:"getgold0",fontSize:40,font:"SimHei",color:"#e5de3d",bold:!0},compId:285,child:[{type:"Image",props:{y:-10,x:97,skin:"main/coin.png"},compId:286}]},{type:"Image",props:{y:29,x:252,visible:!1,var:"gou0",skin:"main/gou.png"},compId:386}]},{type:"Box",props:{y:900,x:0,visible:!1,var:"complet1",sizeGrid:"2,2,2,2",right:0,left:0,height:130},compId:259,child:[{type:"Image",props:{width:750,top:0,skin:"main/img_parse_bg1.png",sizeGrid:"1,1,1,1",right:0,left:0,height:400,bottom:0,alpha:.6},compId:269},{type:"Image",props:{y:39,x:640,visible:!1,skin:"main/img_parse_star0.png",name:"difficult10",centerY:0},compId:270},{type:"Image",props:{y:39,x:580,visible:!1,skin:"main/img_parse_star0.png",name:"difficult11",centerY:0},compId:271,child:[{type:"Image",props:{x:57,visible:!0,skin:"main/img_parse_star0.png",centerY:0},compId:272}]},{type:"Image",props:{y:39,x:555,visible:!1,skin:"main/img_parse_star0.png",name:"difficult12",centerY:0},compId:273,child:[{type:"Image",props:{x:114,visible:!0,skin:"main/img_parse_star0.png",centerY:0},compId:274},{type:"Image",props:{x:57,visible:!0,skin:"main/img_parse_star0.png",centerY:0},compId:275}]},{type:"Label",props:{wordWrap:!0,width:476,var:"dec1",valign:"middle",text:"一二三四五六七八九十一二三四五六七八九十",left:12,height:106,fontSize:40,color:"#fdf6be",centerY:0,align:"center"},compId:276},{type:"Label",props:{y:52,x:580,visible:!1,text:"+100",name:"getgold1",fontSize:40,font:"SimHei",color:"#e5de3d",bold:!0},compId:287,child:[{type:"Image",props:{y:-10,x:97,skin:"main/coin.png"},compId:288}]},{type:"Image",props:{y:29,x:252,visible:!1,var:"gou1",skin:"main/gou.png"},compId:387}]},{type:"Box",props:{y:1100,x:0,visible:!1,var:"complet2",sizeGrid:"2,2,2,2",right:0,left:0,height:130},compId:260,child:[{type:"Image",props:{width:750,top:0,skin:"main/img_parse_bg1.png",sizeGrid:"1,1,1,1",right:0,left:0,height:400,bottom:0,alpha:.6},compId:277},{type:"Image",props:{y:39,x:640,visible:!1,skin:"main/img_parse_star0.png",name:"difficult20",centerY:0},compId:278},{type:"Image",props:{y:39,x:580,visible:!1,skin:"main/img_parse_star0.png",name:"difficult21",centerY:0},compId:279,child:[{type:"Image",props:{x:57,visible:!0,skin:"main/img_parse_star0.png",centerY:0},compId:280}]},{type:"Image",props:{y:39,x:555,visible:!1,skin:"main/img_parse_star0.png",name:"difficult22",centerY:0},compId:281,child:[{type:"Image",props:{x:114,visible:!0,skin:"main/img_parse_star0.png",centerY:0},compId:282},{type:"Image",props:{x:57,visible:!0,skin:"main/img_parse_star0.png",centerY:0},compId:283}]},{type:"Label",props:{wordWrap:!0,width:476,var:"dec2",valign:"middle",text:"一二三四五六七八九十一二三四五六七八九十",left:12,height:106,fontSize:40,color:"#fdf6be",centerY:0,align:"center"},compId:284},{type:"Label",props:{y:52,x:580,visible:!1,text:"+100",name:"getgold2",fontSize:40,font:"SimHei",color:"#e5de3d",bold:!0},compId:289,child:[{type:"Image",props:{y:-10,x:97,skin:"main/coin.png"},compId:290}]},{type:"Image",props:{y:29,x:252,visible:!1,var:"gou2",skin:"main/gou.png"},compId:388}]},{type:"Box",props:{y:1100,x:0,visible:!1,var:"complet3",sizeGrid:"2,2,2,2",right:0,left:0,height:130},compId:350,child:[{type:"Image",props:{width:750,top:0,skin:"main/img_parse_bg1.png",sizeGrid:"1,1,1,1",right:0,left:0,height:400,bottom:0,alpha:.6},compId:351},{type:"Image",props:{y:39,x:640,visible:!1,skin:"main/img_parse_star0.png",name:"difficult30",centerY:0},compId:352},{type:"Image",props:{y:39,x:580,visible:!1,skin:"main/img_parse_star0.png",name:"difficult31",centerY:0},compId:353,child:[{type:"Image",props:{x:57,visible:!0,skin:"main/img_parse_star0.png",centerY:0},compId:354}]},{type:"Image",props:{y:39,x:555,visible:!1,skin:"main/img_parse_star0.png",name:"difficult32",centerY:0},compId:355,child:[{type:"Image",props:{x:114,visible:!0,skin:"main/img_parse_star0.png",centerY:0},compId:356},{type:"Image",props:{x:57,visible:!0,skin:"main/img_parse_star0.png",centerY:0},compId:357}]},{type:"Label",props:{wordWrap:!0,width:476,var:"dec3",valign:"middle",text:"一二三四五六七八九十一二三四五六七八九十",left:12,height:106,fontSize:40,color:"#fdf6be",centerY:0,align:"center"},compId:358},{type:"Label",props:{y:52,x:580,visible:!1,text:"+100",name:"getgold3",fontSize:40,font:"SimHei",color:"#e5de3d",bold:!0},compId:359,child:[{type:"Image",props:{y:-10,x:97,skin:"main/coin.png"},compId:360}]},{type:"Image",props:{y:29,x:252,visible:!1,var:"gou3",skin:"main/gou.png"},compId:389}]},{type:"Box",props:{y:1100,x:0,visible:!1,var:"complet4",sizeGrid:"2,2,2,2",right:0,left:0,height:130},compId:372,child:[{type:"Image",props:{width:750,top:0,skin:"main/img_parse_bg1.png",sizeGrid:"1,1,1,1",right:0,left:0,height:400,bottom:0,alpha:.6},compId:373},{type:"Image",props:{y:39,x:640,visible:!1,skin:"main/img_parse_star0.png",name:"difficult40",centerY:0},compId:374},{type:"Image",props:{y:39,x:580,visible:!1,skin:"main/img_parse_star0.png",name:"difficult41",centerY:0},compId:375,child:[{type:"Image",props:{x:57,visible:!0,skin:"main/img_parse_star0.png",centerY:0},compId:376}]},{type:"Image",props:{y:39,x:555,visible:!1,skin:"main/img_parse_star0.png",name:"difficult42",centerY:0},compId:377,child:[{type:"Image",props:{x:114,visible:!0,skin:"main/img_parse_star0.png",centerY:0},compId:378},{type:"Image",props:{x:57,visible:!0,skin:"main/img_parse_star0.png",centerY:0},compId:379}]},{type:"Label",props:{wordWrap:!0,width:476,var:"dec4",valign:"middle",text:"一二三四五六七八九十一二三四五六七八九十",left:12,height:106,fontSize:40,color:"#fdf6be",centerY:0,align:"center"},compId:380},{type:"Label",props:{y:52,x:580,visible:!1,text:"+100",name:"getgold4",fontSize:40,font:"SimHei",color:"#e5de3d",bold:!0},compId:381,child:[{type:"Image",props:{y:-10,x:97,skin:"main/coin.png"},compId:382}]},{type:"Image",props:{y:29,x:252,visible:!1,var:"gou4",skin:"main/gou.png"},compId:390}]},{type:"Button",props:{width:696,var:"btnSure",stateNum:1,skin:"btn/btnGreen2.png",sizeGrid:"24,24,24,24",left:27,height:110,bottom:10},compId:383,child:[{type:"Image",props:{y:-40,width:244,skin:"btn/btnGreen1.png",sizeGrid:"24,24,24,24",right:0,left:0,height:130},compId:384,child:[{type:"Image",props:{skin:"hat/img_queding.png",centerY:0,centerX:0},compId:385}]}]},{type:"Box",props:{visible:!1,var:"ZjLiarMG",centerX:-15,bottom:170},compId:549,child:[{type:"Label",props:{y:0,text:"看广告领取5倍金币",left:50,fontSize:30,color:"#dadde4"},compId:550},{type:"Button",props:{var:"btnZjLiarMG",stateNum:1,skin:"main/zjliay_kuang.png"},compId:551,child:[{type:"Image",props:{skin:"main/zjliay_gou.png",centerY:0,centerX:0},compId:552}]}]},{type:"Button",props:{y:350,x:0,width:750,visible:!1,var:"moreGold",height:130},compId:317,child:[{type:"Image",props:{y:0,x:0,width:750,top:0,skin:"main/red.png",sizeGrid:"1,1,1,1",right:0,left:0,height:400,bottom:0,alpha:.5},compId:319},{type:"Label",props:{y:0,x:0,var:"getGold",valign:"middle",top:15,text:"本局金币：30",left:159,fontSize:40,font:"SimHei",color:"#e5de3d",bold:!0,align:"center"},compId:320},{type:"Label",props:{var:"moregoldText",valign:"middle",top:55,text:"5",fontSize:70,font:"SimHei",color:"#e5de3d",centerX:-74,bold:!0,align:"center"},compId:543},{type:"Label",props:{y:0,valign:"middle",top:55,text:"倍",fontSize:70,font:"SimHei",color:"#e5de3d",centerX:-15,bold:!0,align:"center"},compId:321},{type:"Label",props:{y:0,x:0,valign:"middle",top:65,text:"免费获得",left:44,fontSize:50,font:"SimHei",color:"#e5de3d",bold:!0,align:"center"},compId:322},{type:"Label",props:{y:0,x:0,valign:"middle",top:65,text:"金币",left:404,fontSize:50,font:"SimHei",color:"#e5de3d",bold:!0,align:"center"},compId:323},{type:"Button",props:{y:0,x:0,width:160,var:"moreAd",top:50,stateNum:1,skin:"btn/btnBlue2.png",sizeGrid:"24,24,24,24",right:30,height:80},compId:324,child:[{type:"Image",props:{y:-40,width:160,skin:"btn/btnBlue1.png",sizeGrid:"24,24,24,24",right:0,left:0,height:97},compId:325,child:[{type:"Image",props:{skin:"main/ad.png",centerY:0,centerX:0},compId:326}]}]}]}]},{type:"Image",props:{y:0,x:0,width:750,visible:!1,var:"botRecordZj",skin:"main/recordb.png",sizeGrid:"2,2,2,2",right:0,left:0,height:800,centerY:0},compId:415,child:[{type:"Image",props:{y:101,width:750,skin:"main/progress.png",sizeGrid:"1,1,1,1",height:156,centerX:0,alpha:.5},compId:416},{type:"Label",props:{y:139,var:"txtRecordZj",text:"提高了112米",fontSize:80,color:"#e5de3d",centerX:0,bold:!0,align:"center"},compId:417},{type:"Label",props:{y:18,text:"您已创造了新纪录！",right:100,height:72,fontSize:68,font:"SimHei",color:"#ffffff",bold:!0,align:"center"},compId:418},{type:"Button",props:{y:0,x:0,width:500,var:"shareGoldZj",stateNum:1,skin:"preload/btnGreen2.png",sizeGrid:"24,24,24,24",left:130,height:80,bottom:20},compId:423,child:[{type:"Image",props:{y:-55,skin:"main/douyin.png",sizeGrid:"24,24,24,24",right:0,left:0,height:112},compId:432,child:[{type:"Image",props:{y:26.5,skin:"main/coin.png",right:79},compId:433},{type:"Label",props:{text:"获得100",right:18,left:57,fontSize:46,font:"SimHei",color:"#ffffff",centerY:0,bold:!0,align:"center"},compId:434}]}]},{type:"Button",props:{y:50,width:90,var:"closeRecordZj",stateNum:1,skin:"btn/btnColor1Down.png",sizeGrid:"24,24,24,24",rotation:0,left:654,height:64},compId:426,child:[{type:"Image",props:{y:-40,skin:"btn/btnColor1Up.png",sizeGrid:"24,24,24,24",right:0,left:0,height:84},compId:427,child:[{type:"Image",props:{skin:"main/close.png",centerY:0,centerX:0},compId:428}]}]},{type:"Button",props:{width:293,var:"shareGoldZj2",stateNum:1,height:324,centerY:60,centerX:0},compId:437,child:[{type:"Image",props:{skin:"main/shareZj.png"},compId:439}]}]},{type:"Image",props:{width:750,visible:!1,var:"botRecordQg",skin:"main/recordb.png",sizeGrid:"2,2,2,2",right:0,left:0,height:800,centerY:0},compId:596,child:[{type:"Image",props:{y:101,width:750,skin:"main/progress.png",sizeGrid:"1,1,1,1",height:156,centerX:0,alpha:.5},compId:597},{type:"Label",props:{y:139,var:"txtRecordQg",text:"提高了112米",fontSize:80,color:"#e5de3d",centerX:0,bold:!0,align:"center"},compId:598},{type:"Label",props:{y:18,text:"您已创造了新纪录！",right:100,height:72,fontSize:68,font:"SimHei",color:"#ffffff",bold:!0,align:"center"},compId:599},{type:"Button",props:{width:200,var:"btnJewQg",stateNum:1,skin:"preload/btnGreen2.png",sizeGrid:"24,24,24,24",left:120,height:140,bottom:20},compId:600,child:[{type:"Image",props:{width:200,skin:"preload/btnGreen1.png",sizeGrid:"24,24,24,24",height:140,bottom:20},compId:627,child:[{type:"Image",props:{y:5,x:15,width:50,top:5,skin:"main/coin.png",left:15},compId:614,child:[{type:"Label",props:{var:"doubleQg",text:"+4396",right:-100,fontSize:32,color:"#ffffff",centerY:0,bold:!0},compId:617}]},{type:"Image",props:{width:40,skin:"main/icon_jew.png",left:14,height:40,bottom:20},compId:615,child:[{type:"Label",props:{text:"双倍奖励",right:-125,fontSize:32,color:"#ffffff",centerY:7,bold:!0},compId:616},{type:"Label",props:{var:"cutJewQg",text:"X10",fontSize:25,color:"#ffffff",centerX:0,bottom:-20,bold:!0},compId:622}]}]}]},{type:"Button",props:{width:200,var:"btnVideoQg",stateNum:1,skin:"btn/btnBlue2.png",sizeGrid:"24,24,24,24",right:120,height:140,bottom:20},compId:613,child:[{type:"Image",props:{width:200,skin:"btn/btnBlue1.png",sizeGrid:"24,24,24,24",height:140,bottom:20},compId:628,child:[{type:"Image",props:{y:5,x:15,top:5,skin:"main/coin.png",left:15},compId:618,child:[{type:"Label",props:{var:"fiveQg",text:"+4396",right:-100,fontSize:32,color:"#ffffff",centerY:0,bold:!0},compId:620}]},{type:"Image",props:{y:81,x:15,width:50,skin:"main/ad.png",left:15,height:54,bottom:5},compId:619,child:[{type:"Label",props:{text:"5倍奖励",right:-120,fontSize:32,color:"#ffffff",centerY:0,bold:!0},compId:621}]},{type:"Image",props:{var:"qgLight",skin:"preload/button_patchHilight1.png",left:0,bottom:0,sizeGrid:"24,24,24,24"},compId:629}]}]},{type:"Button",props:{y:50,width:90,var:"btnCloseQg",stateNum:1,skin:"btn/btnColor1Down.png",sizeGrid:"24,24,24,24",rotation:0,left:654,height:64},compId:604,child:[{type:"Image",props:{y:-40,skin:"btn/btnColor1Up.png",sizeGrid:"24,24,24,24",right:0,left:0,height:84},compId:605,child:[{type:"Image",props:{skin:"main/close.png",centerY:0,centerX:0},compId:606}]}]},{type:"Image",props:{width:450,skin:"main/vivo_bg.png",height:450,centerY:22,centerX:0},compId:610,child:[{type:"Image",props:{skin:"main/vivo_gold.png",centerY:0,centerX:0},compId:611},{type:"Label",props:{var:"oneQg",text:"4396",fontSize:50,color:"#ffffff",centerX:0,bottom:40,bold:!0},compId:612}]}]},{type:"Image",props:{visible:!1,var:"tapinfo2",skin:"main/img_xiyou2.png",centerX:0,bottom:250},compId:559},{type:"Image",props:{visible:!1,var:"gailvUp",skin:"main/img_xiyou3.png",left:0,bottom:130},compId:560},{type:"Box",props:{visible:!1,var:"lastUI",top:0,right:0,left:0,bottom:0},compId:561,child:[{type:"Box",props:{y:250,width:750,visible:!1,var:"botFarest",sizeGrid:"2,2,2,2",right:0,left:0,height:130},compId:178,child:[{type:"Image",props:{width:750,top:0,skin:"main/red.png",sizeGrid:"1,1,1,1",right:0,left:0,height:400,bottom:0,alpha:.5},compId:179},{type:"Label",props:{valign:"middle",top:40,text:"历史最好成绩：",left:48,fontSize:50,font:"SimHei",color:"#fdf6be",bold:!0,align:"center"},compId:183},{type:"Label",props:{var:"textFar",top:40,text:"123123米",left:422,fontSize:50,font:"SimHei",color:"#fdf6be",bold:!0},compId:184}]},{type:"Box",props:{y:450,width:750,visible:!1,var:"nextVisitor",sizeGrid:"2,2,2,2",right:0,left:0,height:130},compId:341,child:[{type:"Image",props:{width:750,top:0,skin:"main/red.png",sizeGrid:"1,1,1,1",right:0,left:0,height:400,bottom:0,alpha:.5},compId:342},{type:"Button",props:{width:160,var:"btnNextVisitor",top:50,stateNum:1,skin:"btn/btnBlue2.png",sizeGrid:"24,24,24,24",right:30,height:80},compId:343,child:[{type:"Image",props:{y:-40,width:160,skin:"btn/btnBlue1.png",sizeGrid:"24,24,24,24",right:0,left:0,height:97},compId:344,child:[{type:"Image",props:{skin:"main/nextVisitor.png",centerY:0,centerX:0},compId:345},{type:"Image",props:{y:0,x:0,var:"btnShareLight3",top:0,skin:"main/button_patchHilight0.png",sizeGrid:"24,24,24,24",right:0,left:0,bottom:0},compId:523}]}]},{type:"Label",props:{valign:"middle",top:40,text:"下个观光团已达到",left:62,fontSize:50,font:"SimHei",color:"#ffffff",bold:!0,align:"center"},compId:346}]},{type:"Box",props:{y:550,x:0,width:750,visible:!1,var:"zjLuxiang",sizeGrid:"2,2,2,2",right:0,left:0,height:130},compId:465,child:[{type:"Image",props:{width:750,top:0,skin:"main/red.png",sizeGrid:"1,1,1,1",right:0,left:0,height:400,bottom:0,alpha:.5},compId:466},{type:"Button",props:{width:160,var:"btnZjlu",top:50,stateNum:1,skin:"btn/btnBlue2.png",sizeGrid:"24,24,24,24",right:30,height:80},compId:467,child:[{type:"Image",props:{y:-40,width:160,skin:"btn/btnBlue1.png",sizeGrid:"24,24,24,24",right:0,left:0,height:97},compId:468,child:[{type:"Image",props:{skin:"main/zjzj.png",centerY:-4,centerX:0},compId:469},{type:"Image",props:{y:0,x:0,var:"btnShareLight2",top:0,skin:"main/button_patchHilight0.png",sizeGrid:"24,24,24,24",right:0,left:0,bottom:0},compId:473}]}]},{type:"Label",props:{valign:"middle",top:40,text:"回顾精彩瞬间 +30",left:62,fontSize:50,font:"SimHei",color:"#fdf6be",bold:!0,align:"center"},compId:470},{type:"Image",props:{skin:"main/coin.png",centerY:0,centerX:140},compId:471}]},{type:"Image",props:{y:1240,x:0,var:"botBox",sizeGrid:"2,2,2,2",right:0,left:0,height:140,bottom:0},compId:12,child:[{type:"Button",props:{x:20,width:267,var:"btnZoo",stateNum:1,skin:"btn/btnColor1Down.png",sizeGrid:"24,24,24,24",height:80,bottom:0},compId:13,child:[{type:"Image",props:{y:-40,width:244,skin:"btn/btnColor1Up.png",sizeGrid:"24,24,24,24",right:0,left:0,height:100},compId:14,child:[{type:"Image",props:{skin:"main/zoo.png",centerY:0,centerX:0},compId:15}]}]},{type:"Button",props:{width:414,var:"btnRestart",stateNum:1,skin:"btn/btnGreen2.png",sizeGrid:"24,24,24,24",right:20,height:80,bottom:0},compId:16,child:[{type:"Image",props:{y:-40,width:244,skin:"btn/btnGreen1.png",sizeGrid:"24,24,24,24",right:0,left:0,height:100},compId:17,child:[{type:"Image",props:{skin:"main/restart.png",centerY:0,centerX:0},compId:18}]}]}]},{type:"Image",props:{visible:!1,var:"signMask",top:0,skin:"main/blackMask.png",right:0,left:0,bottom:0,alpha:.6},compId:565},{type:"Button",props:{y:700,x:375,var:"btnKn",stateNum:1,skin:"main/btn_gamecold.png",right:0,left:0,anchorX:.5},compId:673},{type:"Box",props:{y:200,x:0,width:750,visible:!1,var:"botBuild",sizeGrid:"2,2,2,2",right:0,left:0,height:130},compId:163,child:[{type:"Image",props:{width:750,top:0,skin:"main/red.png",sizeGrid:"1,1,1,1",right:0,left:0,height:400,bottom:0,alpha:.5},compId:164},{type:"Button",props:{width:160,var:"btnMap",top:50,stateNum:1,skin:"btn/btnBlue2.png",sizeGrid:"24,24,24,24",right:30,height:80},compId:173,child:[{type:"Image",props:{y:-40,width:160,skin:"btn/btnBlue1.png",sizeGrid:"24,24,24,24",right:0,left:0,height:97},compId:174,child:[{type:"Image",props:{skin:"main/uplevel.png",centerY:-4,centerX:0},compId:175},{type:"Image",props:{y:0,x:0,var:"btnShareLight4",top:0,skin:"main/button_patchHilight0.png",sizeGrid:"24,24,24,24",right:0,left:0,bottom:0},compId:524}]}]},{type:"Label",props:{var:"textBuild",valign:"middle",top:40,text:"建造并升级野牛栖息地",left:40,fontSize:50,font:"SimHei",color:"#ffffff",bold:!0,align:"center"},compId:177},{type:"Image",props:{y:-161,x:578.5,var:"finger",skin:"main/finger.png"},compId:539}]},{type:"Box",props:{y:768,x:45,visible:!1,var:"oppoActive3",bottom:140},compId:657,child:[{type:"Image",props:{width:660,skin:"main/adbg2.png",sizeGrid:"1,1,1,1",height:340},compId:648},{type:"Image",props:{y:10,x:10,width:640,skin:"main/adbg3.png",sizeGrid:"23,24,26,24",height:320},compId:649},{type:"Image",props:{y:20,x:19,width:618,name:"imgIcon",height:302},compId:658},{type:"Image",props:{y:294,x:579,width:60,skin:"main/adbg.png",sizeGrid:"1,1,1,1",height:30},compId:651,child:[{type:"Label",props:{y:6,x:9,text:"广告",fontSize:20,color:"#ffffff"},compId:652}]},{type:"Image",props:{y:436,x:191,width:274,skin:"main/ckgg.png",sizeGrid:"6,18,22,15",height:36},compId:653,child:[{type:"Image",props:{y:-74,x:0,width:274,skin:"main/ckgg1.png",sizeGrid:"19,21,19,20",height:95},compId:654},{type:"Image",props:{y:-52,x:44,skin:"main/adtext.png"},compId:656}]},{type:"Image",props:{y:0,x:0,width:660,skin:"main/adbg2.png",sizeGrid:"1,1,1,1",name:"imgbg",height:472,alpha:0},compId:660},{type:"Image",props:{y:24,x:24,skin:"main/qx.png",name:"imgClose"},compId:650}]},{type:"Box",props:{y:600,x:0,visible:!1,var:"qqFriends"},compId:725,child:[{type:"Image",props:{width:750,skin:"friend/friend_di.png",sizeGrid:"1,2,5,1",height:615,centerY:0,centerX:0},compId:726,child:[{type:"Image",props:{width:452,top:15,skin:"friend/friend_lszg_di.png",sizeGrid:"32,33,29,26",height:75,centerX:0},compId:734,child:[{type:"Image",props:{skin:"friend/friend_lszg_zi.png",left:52,centerY:0},compId:735},{type:"Label",props:{width:160,var:"farest",text:"11111米",right:21,height:44,fontSize:44,color:"#ffffff",centerY:-1,align:"left"},compId:737}]},{type:"Image",props:{width:730,skin:"friend/friend_di2.png",sizeGrid:"21,22,27,21",height:400,centerY:0,centerX:0},compId:727,child:[{type:"Image",props:{width:189,visible:!1,top:60,skin:"friend/friend_1di.png",sizeGrid:"22,20,23,24",left:50,height:215},compId:728,child:[{type:"Image",props:{top:-40,skin:"friend/friend_zi1.png",centerX:0},compId:731},{type:"Image",props:{top:40,skin:"friend/friend_tx1.png",sizeGrid:"20,27,29,25",centerX:0},compId:738,child:[{type:"Image",props:{var:"headimg_1",skin:"friend/friend_tx.png",centerY:0,centerX:0},compId:741}]},{type:"Label",props:{var:"name_1",text:"胡喬丹永遠的神",fontSize:24,color:"#602d3c",centerX:0,bottom:40,bold:!0,align:"center"},compId:761},{type:"Label",props:{x:0,var:"score_1",text:"1000米",fontSize:24,color:"#602d3c",centerX:0,bottom:10,bold:!0,align:"center"},compId:763}]},{type:"Image",props:{width:189,visible:!1,top:60,skin:"friend/friend_2di.png",sizeGrid:"22,20,23,24",height:215,centerX:0},compId:729,child:[{type:"Image",props:{y:0,x:0,top:-40,skin:"friend/friend_zi2.png",centerX:0},compId:732},{type:"Image",props:{y:0,x:0,top:40,skin:"friend/friend_tx2.png",sizeGrid:"20,27,29,25",centerX:0},compId:739,child:[{type:"Image",props:{y:0,x:0,var:"headimg_2",skin:"friend/friend_tx.png",centerY:0,centerX:0},compId:742}]},{type:"Label",props:{y:0,x:0,var:"name_2",text:"胡喬丹永遠的神",fontSize:24,color:"#602d3c",centerX:0,bottom:40,bold:!0,align:"center"},compId:764},{type:"Label",props:{y:0,x:0,var:"score_2",text:"1000米",fontSize:24,color:"#602d3c",centerX:0,bottom:10,bold:!0,align:"center"},compId:765}]},{type:"Image",props:{width:189,visible:!1,top:60,skin:"friend/friend_3di.png",sizeGrid:"22,20,23,24",right:50,height:215},compId:730,child:[{type:"Image",props:{y:0,x:0,top:-40,skin:"friend/friend_zi3.png",centerX:0},compId:733},{type:"Image",props:{y:0,x:0,top:40,skin:"friend/friend_tx3.png",sizeGrid:"20,27,29,25",centerX:0},compId:740,child:[{type:"Image",props:{y:0,x:0,var:"headimg_3",skin:"friend/friend_tx.png",centerY:0,centerX:0},compId:743}]},{type:"Label",props:{y:0,x:0,var:"name_3",text:"胡喬丹永遠的神",fontSize:24,color:"#602d3c",centerX:0,bottom:40,bold:!0,align:"center"},compId:766},{type:"Label",props:{y:0,x:0,var:"score_3",text:"1000米",fontSize:24,color:"#602d3c",centerX:0,bottom:10,bold:!0,align:"center"},compId:767}]},{type:"Button",props:{width:244,var:"btn_tzhy",stateNum:1,skin:"friend/friend_tzhy2.png",sizeGrid:"0,31,26,27",height:50,centerX:0,bottom:20},compId:745,child:[{type:"Image",props:{y:-40,width:244,skin:"friend/friend_tzhy1.png",sizeGrid:"24,24,24,24",left:0,height:74},compId:746,child:[{type:"Image",props:{skin:"friend/friend_tzhy_zi.png",centerY:0,centerX:0},compId:750}]}]},{type:"Button",props:{var:"btnCold",stateNum:1,skin:"friend/friend_cold.png",right:50,bottom:20,anchorY:0,anchorX:.5},compId:758}]},{type:"Button",props:{width:384,var:"btn_next1000",stateNum:1,skin:"friend/friend_xiayiju2.png",sizeGrid:"0,31,26,27",left:30,height:50,bottom:11},compId:751,child:[{type:"Image",props:{y:-40,width:384,skin:"friend/friend_xiayiju1.png",sizeGrid:"24,24,24,24",left:0,height:76},compId:752,child:[{type:"Image",props:{skin:"friend/friend_xiayiju3.png",left:10,centerY:0},compId:753},{type:"Image",props:{skin:"friend/friend_xiayiju.png",right:15,centerY:0},compId:757}]}]},{type:"Button",props:{width:274,var:"btn_rank",stateNum:1,skin:"friend/friend_ckph2.png",sizeGrid:"0,31,26,27",right:40,height:50,bottom:11},compId:754,child:[{type:"Image",props:{y:-40,width:274,skin:"friend/friend_ckph1.png",sizeGrid:"24,24,24,24",left:0,height:76},compId:755,child:[{type:"Image",props:{skin:"friend/friend_ckph.png",centerY:0,centerX:0},compId:756}]}]}]}]}]},{type:"Box",props:{visible:!1,var:"restart",top:0,right:0,left:0,bottom:0},compId:562,child:[{type:"Box",props:{y:500,x:0,visible:!1,var:"restartTask",sizeGrid:"2,2,2,2",right:0,left:0,height:130},compId:450,child:[{type:"Image",props:{width:750,top:0,skin:"main/img_parse_bg1.png",sizeGrid:"1,1,1,1",right:0,left:0,height:400,bottom:0,alpha:.5},compId:451},{type:"Image",props:{y:39,x:640,visible:!1,skin:"main/img_parse_star0.png",name:"difficult0",centerY:0},compId:452},{type:"Image",props:{y:39,x:580,visible:!1,skin:"main/img_parse_star0.png",name:"difficult1",centerY:0},compId:453,child:[{type:"Image",props:{x:57,visible:!0,skin:"main/img_parse_star0.png",centerY:0},compId:454}]},{type:"Image",props:{y:39,x:555,visible:!1,skin:"main/img_parse_star0.png",name:"difficult2",centerY:0},compId:455,child:[{type:"Image",props:{x:114,visible:!0,skin:"main/img_parse_star0.png",centerY:0},compId:456},{type:"Image",props:{x:57,visible:!0,skin:"main/img_parse_star0.png",centerY:0},compId:457}]},{type:"Label",props:{wordWrap:!0,width:528,var:"restartText",valign:"middle",text:"一二三四五六七八九十一二三四五六七八九十",left:14,height:106,fontSize:40,color:"#fdf6be",centerY:0,align:"center"},compId:458}]},{type:"Box",props:{y:650,x:0,width:750,visible:!1,var:"changeTaskStart",sizeGrid:"2,2,2,2",right:0,left:0,height:130},compId:503,child:[{type:"Image",props:{width:750,skin:"setting/img_bg_2.png",sizeGrid:"2,2,2,2",left:0,height:130,alpha:.6},compId:504},{type:"Label",props:{wordWrap:!0,width:500,valign:"middle",text:"观看广告立即免费刷新任务",left:14,height:130,fontSize:40,color:"#ffffff",align:"center"},compId:505},{type:"Button",props:{x:572,width:160,var:"btnChangeTaskStart",stateNum:1,skin:"btn/btnGreen2.png",sizeGrid:"9,24,32,24",height:80,centerY:25},compId:506,child:[{type:"Image",props:{y:-40,width:160,skin:"btn/btnGreen1.png",sizeGrid:"24,24,24,24",left:0,height:100},compId:507,child:[{type:"Image",props:{y:0,x:0,var:"otherTaskRestart",skin:"setting/img_ad.png",centerY:0,centerX:0},compId:678},{type:"Label",props:{y:0,x:0,visible:!1,var:"hwTaskRestart",text:"50",right:20,left:20,fontSize:50,color:"#ffffff",centerY:0,bold:!0},compId:679,child:[{type:"Image",props:{y:-7,skin:"setting/img_icon_1.png",right:0},compId:680}]}]}]}]},{type:"Box",props:{y:495,x:0,width:750,visible:!1,var:"lockMap",sizeGrid:"2,2,2,2",right:0,left:0,height:130},compId:527,child:[{type:"Image",props:{width:750,skin:"setting/img_bg_2.png",sizeGrid:"2,2,2,2",left:0,height:130,alpha:.6},compId:528},{type:"Label",props:{wordWrap:!0,width:500,valign:"middle",text:"完成此任务需要解锁新地图",left:14,height:130,fontSize:40,color:"#ffffff",align:"center"},compId:529},{type:"Button",props:{x:572,width:160,var:"btnLock",stateNum:1,skin:"btn/btnGreen2.png",sizeGrid:"9,24,32,24",height:80,centerY:25},compId:530,child:[{type:"Image",props:{y:-40,width:160,skin:"btn/btnGreen1.png",sizeGrid:"24,24,24,24",left:0,height:100},compId:531,child:[{type:"Image",props:{skin:"main/lockmap.png",centerY:0,centerX:0},compId:532}]}]}]},{type:"Image",props:{y:0,x:0,visible:!1,var:"teachGlMask",top:0,skin:"main/blackMask.png",right:0,left:0,bottom:0,alpha:.8},compId:566},{type:"Button",props:{y:800,x:0,visible:!1,var:"btnMoreXy",stateNum:1,skin:"main/img_xiyou1.png",right:0,left:0},compId:558,child:[{type:"Image",props:{y:-161,visible:!1,var:"fingerXy",skin:"main/finger.png",centerX:0},compId:570}]},{type:"Box",props:{x:0,visible:!1,var:"teachLast",top:200,right:0,left:0},compId:567,child:[{type:"Image",props:{y:0,x:0,width:750,skin:"preload/red.png",sizeGrid:"1,1,1,1",height:140,alpha:.5},compId:568},{type:"Label",props:{x:0,wordWrap:!0,width:700,valign:"middle",text:"快去抓些稀有动物运回你的动物园 嘿嘿",leading:6,fontSize:40,color:"#ffffff",centerY:0,centerX:0,align:"center"},compId:569}]},{type:"Box",props:{y:1170,x:0,visible:!1,var:"oppoActive2",right:0,left:0,bottom:0},compId:672,child:[{type:"Image",props:{width:750,skin:"main/di.png",sizeGrid:"1,1,1,1",name:"imgbg",height:210},compId:636},{type:"Image",props:{y:14,x:10,width:730,skin:"main/di1.png",sizeGrid:"27,30,33,32",height:184},compId:637},{type:"Image",props:{y:29,x:19,width:154,skin:"main/logodi.png",sizeGrid:"32,32,34,33",height:154},compId:638},{type:"Image",props:{width:60,skin:"main/adbg.png",sizeGrid:"1,1,1,1",height:26},compId:639,child:[{type:"Label",props:{y:3,x:9,text:"广告",fontSize:20,color:"#ffffff"},compId:640}]},{type:"Image",props:{y:100,x:575,width:156,skin:"main/ckgg.png",sizeGrid:"6,18,22,15",height:36},compId:641,child:[{type:"Image",props:{y:-20,x:0,width:156,skin:"main/ckgg1.png",sizeGrid:"19,21,19,20",height:47},compId:642},{type:"Label",props:{y:-8.5,x:32,text:"查看广告",fontSize:24,color:"#fffce7"},compId:643}]},{type:"Image",props:{y:22,x:692,skin:"main/qx.png",name:"imgClose"},compId:644},{type:"Image",props:{y:106,x:96,width:116,name:"imgIcon",height:116,anchorY:.5,anchorX:.5},compId:645},{type:"Label",props:{y:55,x:203,text:"疯狂动物园",name:"title",fontSize:30,color:"#fefefe"},compId:646},{type:"Label",props:{y:130,x:203,text:"疯狂动物园疯狂开跑",name:"title2",fontSize:22,color:"#ffffff"},compId:647}]}]},{type:"Box",props:{visible:!1,var:"hide",top:0,right:0,left:0,bottom:0},compId:563,child:[{type:"Box",props:{y:700,x:0,visible:!1,var:"hat",sizeGrid:"2,2,2,2",right:0,left:0,height:130},compId:400,child:[{type:"Image",props:{top:0,skin:"main/red.png",sizeGrid:"1,1,1,1",right:0,left:0,bottom:0,alpha:.5},compId:401},{type:"Label",props:{wordWrap:!0,var:"hatExp",valign:"middle",top:0,text:"大象牛仔\\n100 / 150",right:0,left:0,fontSize:40,color:"#ffffff",bottom:0,align:"center"},compId:402}]},{type:"Box",props:{y:700,x:0,visible:!1,var:"Buy",sizeGrid:"2,2,2,2",right:0,left:0,height:130},compId:412,child:[{type:"Image",props:{top:0,skin:"main/red.png",sizeGrid:"1,1,1,1",right:0,left:0,bottom:0,alpha:.5},compId:413},{type:"Label",props:{wordWrap:!0,valign:"middle",top:0,text:"从商店里买一只增产的摇钱牛吧，稳赚不赔",right:0,left:0,fontSize:35,color:"#ffffff",bottom:0,align:"center"},compId:414}]}]},{type:"Box",props:{y:350,x:50,width:100,var:"oppoActive",top:300,pivotY:50,pivotX:50,left:0,height:100},compId:634},{type:"WXOpenDataViewer",props:{y:48,x:5,width:685,mouseThrough:!0,iconSign:"wx",height:935,runtime:"laya.ui.WXOpenDataViewer"},compId:778}],loadList:["main/coin.png","main/m.png","main/Time-out.png","friend/friend_di3.png","friend/friend_di4.png","friend/friend_tx.png","friend/friend_cgcy.png","friend/friend_cgcy2.png","main/blackMask.png","main/pause.png","main/img_parse_bg1.png","btn/btnGreen2.png","btn/btnGreen1.png","main/ad.png","main/img_parse_star0.png","main/pauseb.png","main/jixu.png","btn/btnColor1Down.png","btn/btnColor1Up.png","main/zoo.png","btn/img_shop2listdi.png","btn/img_shop2list.png","main/photo.png","setting/img_bg_2.png","setting/img_ad.png","setting/img_icon_1.png","main/lockmap.png","main/circle3.png","main/circle1.png","main/heart.png","main/warnning.ani","main/redCircle1.png","main/red.png","main/rollArrow.png","main/tapCircle.png","main/photobook.png","main/bofang.png","main/refresh_name.png","hat/img_queding.png","preload/btnGreen2.png","preload/btnGreen1.png","main/douyin.png","main/button_patchHilight0.png","preload/btnBlue2.png","preload/btnBlue1.png","main/photo_continue.png","main/btn_qqshow2.png","main/btn_qqshow1.png","main/show_img2.png","main/show_img1.png","main/show_zi.png","main/passby.png","main/vivo_di.png","btn/btnColor2Up.png","main/vivo_go.png","main/adbg.png","main/vivo_cancel.png","main/recordb.png","main/progress.png","main/fenxiang.png","main/close.png","main/rebornAd.png","main/zjliay_kuang.png","main/zjliay_gou.png","main/adbg2.png","main/adbg3.png","main/ckgg.png","main/ckgg1.png","main/adtext.png","main/qx.png","main/gou.png","btn/btnBlue2.png","btn/btnBlue1.png","main/shareZj.png","main/icon_jew.png","preload/button_patchHilight1.png","main/vivo_bg.png","main/vivo_gold.png","main/img_xiyou2.png","main/img_xiyou3.png","main/nextVisitor.png","main/zjzj.png","main/restart.png","main/btn_gamecold.png","main/uplevel.png","main/finger.png","friend/friend_di.png","friend/friend_lszg_di.png","friend/friend_lszg_zi.png","friend/friend_di2.png","friend/friend_1di.png","friend/friend_zi1.png","friend/friend_tx1.png","friend/friend_2di.png","friend/friend_zi2.png","friend/friend_tx2.png","friend/friend_3di.png","friend/friend_zi3.png","friend/friend_tx3.png","friend/friend_tzhy2.png","friend/friend_tzhy1.png","friend/friend_tzhy_zi.png","friend/friend_cold.png","friend/friend_xiayiju2.png","friend/friend_xiayiju1.png","friend/friend_xiayiju3.png","friend/friend_xiayiju.png","friend/friend_ckph2.png","friend/friend_ckph1.png","friend/friend_ckph.png","main/img_xiyou1.png","preload/red.png","main/di.png","main/di1.png","main/logodi.png"],loadList3D:[]},e.GameUI=l,p("ui.main.GameUI",l);class d extends r{constructor(){super()}createChildren(){super.createChildren(),this.createView(d.uiView)}}d.uiView={type:"View",props:{width:750,height:1360},compId:2,child:[{type:"Image",props:{var:"imgMask",top:0,skin:"main/blackMask.png",sizeGrid:"1,1,1,1",right:0,left:0,bottom:0,alpha:.6},compId:3},{type:"Box",props:{y:0,x:0,visible:!1,var:"reborn",top:0,right:0,left:0,bottom:0},compId:178,child:[{type:"Image",props:{x:325,skin:"giftbag/reborn_main.png",centerY:-150,centerX:0},compId:179},{type:"Button",props:{width:353,var:"btn_buyReborn",stateNum:1,skin:"btn/btnGreen2.png",sizeGrid:"11,24,27,24",height:35,centerY:400,centerX:0},compId:180,child:[{type:"Image",props:{y:-62.5,width:353,skin:"btn/btnGreen1.png",sizeGrid:"18,21,21,20",left:0,height:80},compId:181,child:[{type:"Image",props:{width:164,skin:"giftbag/buy.png",height:40,centerY:0,centerX:0},compId:182},{type:"Image",props:{y:-50.5,x:-49,width:138,var:"price",skin:"giftbag/qq_price.png",height:103},compId:183}]}]},{type:"Button",props:{x:0,width:200,stateNum:1,name:"btn_thanks_reborn",height:35,centerY:450,centerX:0},compId:205,child:[{type:"Image",props:{visible:!1,skin:"giftbag/thanks.png",sizeGrid:"18,21,21,20",centerY:0,centerX:0},compId:206},{type:"Label",props:{text:"不了，谢谢",fontSize:30,color:"#ffffff",centerY:0,centerX:0,bold:!0},compId:289}]}]},{type:"Box",props:{visible:!1,var:"money",top:0,right:0,left:0,bottom:0},compId:172,child:[{type:"Image",props:{x:325,width:594,skin:"giftbag/gold_main.png",height:854,centerY:-150,centerX:0},compId:171},{type:"Button",props:{width:353,var:"btn_buyMoney",stateNum:1,skin:"btn/btnColor2Down.png",sizeGrid:"11,24,27,24",height:35,centerY:360,centerX:0},compId:173,child:[{type:"Image",props:{y:-62.5,width:353,skin:"btn/btnColor2Up.png",sizeGrid:"18,21,21,20",left:0,height:80},compId:174,child:[{type:"Image",props:{width:164,skin:"giftbag/buy.png",height:40,centerY:0,centerX:0},compId:175},{type:"Image",props:{y:-50.5,x:-49,width:144,skin:"giftbag/reborn_price.png",height:110.5},compId:177}]}]},{type:"Button",props:{width:200,stateNum:1,name:"btn_thanks_money",height:35,centerY:420,centerX:0},compId:201,child:[{type:"Image",props:{skin:"giftbag/thanks.png",sizeGrid:"18,21,21,20",centerY:0,centerX:0},compId:202}]}]},{type:"Box",props:{y:0,x:0,visible:!1,var:"skin",top:0,right:0,left:0,bottom:0},compId:207,child:[{type:"Image",props:{x:325,skin:"giftbag/pifu_skin.png",centerY:-100,centerX:0},compId:208,child:[{type:"Button",props:{x:113,width:381,var:"btn_receive",stateNum:1,skin:"btn/btnColor2Down.png",sizeGrid:"11,24,27,24",height:35,centerY:350,centerX:0},compId:228,child:[{type:"Image",props:{y:-45,width:381,skin:"btn/btnColor2Up.png",sizeGrid:"18,21,21,20",left:0,height:71},compId:229,child:[{type:"Image",props:{width:164,skin:"freejew/img_main_8.png",height:40,centerY:0,centerX:0},compId:230}]}]},{type:"Button",props:{width:55,var:"btnLeft",left:70,height:77,centerY:70},compId:232,child:[{type:"Image",props:{skin:"giftbag/btn_right.png",centerY:0,centerX:0},compId:234}]},{type:"Button",props:{width:55,var:"btnRight",right:70,height:77,centerY:70},compId:233,child:[{type:"Image",props:{skin:"giftbag/btn_left.png",centerY:0,centerX:0},compId:235}]},{type:"Image",props:{width:350,var:"img_skin",skin:"giftbag/img_108.png",height:350,centerY:100,centerX:0},compId:236},{type:"Image",props:{x:0,width:300,var:"title_skin",skin:"giftbag/word_108.png",height:67.5,centerY:-110,centerX:0},compId:237},{type:"Box",props:{width:350,var:"watch_before",height:74,centerX:0,bottom:100},compId:239,child:[{type:"Image",props:{width:108,skin:"giftbag/img_pro2.png",name:"img_time0",height:21,bottom:0},compId:240},{type:"Image",props:{width:108,skin:"giftbag/img_pro2.png",name:"img_time1",height:21,centerX:0,bottom:0},compId:245},{type:"Image",props:{width:108,skin:"giftbag/img_pro2.png",right:0,name:"img_time2",height:21,bottom:0},compId:246},{type:"Image",props:{skin:"giftbag/img_3ad.png",centerX:0,bottom:50},compId:248}]}]},{type:"Button",props:{width:258,var:"btn_skinAd",stateNum:1,skin:"btn/img_main_4.png",sizeGrid:"11,24,27,24",height:89,centerY:420,centerX:100},compId:221,child:[{type:"Image",props:{y:-40,width:258,skin:"btn/img_main_3.png",sizeGrid:"24,24,24,24",left:0,height:104},compId:223,child:[{type:"Image",props:{x:14,width:85,skin:"prize/img_Ad.png",height:55,centerY:0},compId:238},{type:"Image",props:{width:136,skin:"giftbag/img_watch.png",height:35,centerY:0,centerX:46},compId:247}]}]},{type:"Button",props:{width:154,var:"btnBack",stateNum:1,skin:"btn/img_7.png",sizeGrid:"11,24,27,24",height:89,centerY:420,centerX:-150},compId:222,child:[{type:"Image",props:{y:-40,width:154,skin:"btn/img_8.png",sizeGrid:"24,24,24,24",left:0,height:104},compId:226,child:[{type:"Image",props:{skin:"freejew/img_main_9.png",centerY:0,centerX:0},compId:227}]}]}]},{type:"Box",props:{y:0,x:0,visible:!1,var:"try",top:0,right:0,left:0,bottom:0},compId:184,child:[{type:"Image",props:{x:325,width:741.6,skin:"giftbag/skin_main.png",height:795.8,centerY:-100,centerX:0},compId:185,child:[{type:"Image",props:{var:"title",skin:"giftbag/word_dragon.png",centerY:-130,centerX:0},compId:190},{type:"Image",props:{width:426.4,var:"img_dragon",skin:"giftbag/img_dragon.png",height:237.5,centerY:134,centerX:0},compId:191},{type:"Image",props:{width:243,var:"img_monkey",skin:"giftbag/img_monkey.png",height:296.5,centerY:168,centerX:0},compId:193},{type:"Image",props:{width:497,var:"img_panda",skin:"giftbag/img_panda.png",height:350,centerY:141,centerX:77},compId:194}]},{type:"Button",props:{width:353,var:"btnTry",stateNum:1,skin:"btn/btnBlue2.png",sizeGrid:"11,24,27,24",height:35,centerY:450,centerX:0},compId:186,child:[{type:"Image",props:{y:-62.5,width:353,skin:"btn/btnBlue1.png",sizeGrid:"18,21,21,20",left:0,height:80},compId:187,child:[{type:"Image",props:{width:164,skin:"giftbag/free_ling.png",height:40,centerY:0,centerX:19},compId:188},{type:"Image",props:{y:18,x:30,skin:"prize/img_Ad.png"},compId:288}]}]},{type:"Button",props:{width:193,stateNum:1,name:"btn_thanks_try",height:60,centerY:510,centerX:0},compId:196,child:[{type:"Image",props:{skin:"giftbag/try.png",centerY:0,centerX:0},compId:197}]},{type:"Button",props:{width:268,var:"btnWatchAd",stateNum:1,height:31,centerY:330,centerX:0},compId:198,child:[{type:"Image",props:{skin:"giftbag/skin_ad.png",centerY:0,centerX:0},compId:199},{type:"Image",props:{var:"gou",skin:"giftbag/gou.png",left:4,centerY:0},compId:200}]}]},{type:"Box",props:{visible:!1,var:"oppoActive",right:0,left:0,height:210,bottom:0},compId:249,child:[{type:"Image",props:{width:750,skin:"main/di.png",sizeGrid:"1,1,1,1",name:"imgbg",height:210},compId:250},{type:"Image",props:{y:14,x:10,width:730,skin:"main/di1.png",sizeGrid:"27,30,33,32",height:184},compId:251},{type:"Image",props:{y:29,x:19,width:154,skin:"main/logodi.png",sizeGrid:"32,32,34,33",height:154},compId:252},{type:"Image",props:{width:60,skin:"main/adbg.png",sizeGrid:"1,1,1,1",height:26},compId:253,child:[{type:"Label",props:{y:3,x:9,text:"广告",fontSize:20,color:"#ffffff"},compId:254}]},{type:"Image",props:{y:100,x:575,width:156,skin:"main/ckgg.png",sizeGrid:"6,18,22,15",height:36},compId:255,child:[{type:"Image",props:{y:-20,x:0,width:156,skin:"main/ckgg1.png",sizeGrid:"19,21,19,20",height:47},compId:256},{type:"Label",props:{y:-8.5,x:32,text:"查看广告",fontSize:24,color:"#fffce7"},compId:257}]},{type:"Image",props:{y:22,x:692,skin:"main/qx.png",name:"imgClose"},compId:258},{type:"Image",props:{y:106,x:96,width:116,name:"imgIcon",height:116,anchorY:.5,anchorX:.5},compId:259},{type:"Label",props:{y:55,x:203,text:"疯狂动物园",name:"title",fontSize:30,color:"#fefefe"},compId:260},{type:"Label",props:{y:130,x:203,text:"疯狂动物园疯狂开跑",name:"title2",fontSize:22,color:"#ffffff"},compId:261}]},{type:"Box",props:{visible:!1,var:"vivoActive",centerY:0,centerX:0},compId:262,child:[{type:"Image",props:{width:690,skin:"main/vivo_di.png",sizeGrid:"24,21,27,19",name:"imgbg",height:900,centerY:0,centerX:0},compId:263},{type:"Image",props:{width:244,skin:"btn/btnColor1Up.png",sizeGrid:"20,18,22,19",height:74,centerX:0,bottom:50},compId:276,child:[{type:"Image",props:{y:-20,x:0,width:244,skin:"btn/btnColor2Up.png",sizeGrid:"19,21,19,20",height:74},compId:277,child:[{type:"Image",props:{skin:"main/vivo_go.png",centerY:0,centerX:0},compId:279}]}]},{type:"Image",props:{width:80,skin:"main/adbg.png",sizeGrid:"1,1,1,1",right:0,height:35,bottom:25},compId:280,child:[{type:"Label",props:{text:"广告",fontSize:25,color:"#ffffff",centerY:0,centerX:0},compId:281}]},{type:"Label",props:{text:"疯狂动物园",name:"title",fontSize:48,color:"#6f2e00",centerY:62,centerX:-2},compId:283},{type:"Label",props:{y:616,text:"疯狂动物园疯狂开跑",name:"title2",fontSize:36,color:"#6f2e00",centerX:0},compId:284},{type:"Image",props:{y:10,x:10,width:670,top:10,sizeGrid:"28,23,25,20",name:"imgPicture",height:353,centerX:0},compId:286},{type:"Image",props:{y:30,x:612,top:20,skin:"main/vivo_cancel.png",right:20,name:"imgClose"},compId:285}]}],loadList:["main/blackMask.png","giftbag/reborn_main.png","btn/btnGreen2.png","btn/btnGreen1.png","giftbag/buy.png","giftbag/qq_price.png","giftbag/thanks.png","giftbag/gold_main.png","btn/btnColor2Down.png","btn/btnColor2Up.png","giftbag/reborn_price.png","giftbag/pifu_skin.png","freejew/img_main_8.png","giftbag/btn_right.png","giftbag/btn_left.png","giftbag/img_108.png","giftbag/word_108.png","giftbag/img_pro2.png","giftbag/img_3ad.png","btn/img_main_4.png","btn/img_main_3.png","prize/img_Ad.png","giftbag/img_watch.png","btn/img_7.png","btn/img_8.png","freejew/img_main_9.png","giftbag/skin_main.png","giftbag/word_dragon.png","giftbag/img_dragon.png","giftbag/img_monkey.png","giftbag/img_panda.png","btn/btnBlue2.png","btn/btnBlue1.png","giftbag/free_ling.png","giftbag/try.png","giftbag/skin_ad.png","giftbag/gou.png","main/di.png","main/di1.png","main/logodi.png","main/adbg.png","main/ckgg.png","main/ckgg1.png","main/qx.png","main/vivo_di.png","btn/btnColor1Up.png","main/vivo_go.png","main/vivo_cancel.png"],loadList3D:[]},e.GiftBagUI=d,p("ui.main.GiftBagUI",d);class g extends r{constructor(){super()}createChildren(){super.createChildren(),this.createView(g.uiView)}}g.uiView={type:"View",props:{width:750,height:1550},compId:2,child:[{type:"Box",props:{var:"info",right:0,left:0,height:816,bottom:0},compId:3,child:[{type:"Tab",props:{y:0,x:0,width:416,var:"tab",height:123},compId:106,child:[{type:"Button",props:{x:0,var:"btnHome",stateNum:1,skin:"main/btnHome2.png",name:"item0",bottom:0},compId:5},{type:"Button",props:{x:104,width:104,var:"btnHat",stateNum:1,skin:"main/btnHat1.png",name:"item1",height:102,bottom:0},compId:6},{type:"Button",props:{x:208,width:104,var:"btnAnimal",stateNum:1,skin:"main/btnAnimal1.png",name:"item2",height:102,bottom:0},compId:4},{type:"Button",props:{x:312,visible:!1,var:"btnBaby",stateNum:1,skin:"main/btnBaby1.png",name:"item3",bottom:0},compId:7}]},{type:"ViewStack",props:{y:122,var:"vs",right:0,left:0,height:524},compId:107,child:[{type:"Image",props:{y:0,x:0,var:"page1",skin:"main/page1.png",sizeGrid:"137,34,54,34",right:0,name:"item0",left:0,height:524},compId:8,child:[{type:"Image",props:{y:10,x:145,width:460,top:10,skin:"main/pageTitle1.png",sizeGrid:"24,24,24,24",height:57,centerX:0},compId:33},{type:"Label",props:{y:88,x:22,width:333,var:"animalCnt",text:"1/10 斑马 已驯服",height:30,fontSize:30,color:"#c6c6c6",bold:!0},compId:43},{type:"Image",props:{y:82,x:607,skin:"main/price.png",right:20},compId:35,child:[{type:"Label",props:{y:8,x:-126,width:123,var:"price",text:"0",height:30,fontSize:30,color:"#ffffff",align:"right"},compId:36}]},{type:"Box",props:{var:"page1Status1",top:0,right:0,left:0,bottom:0},compId:32,child:[{type:"Button",props:{y:142,x:302,var:"btnLevel",stateNum:1,skin:"main/levelTitle.png",centerX:0},compId:15,child:[{type:"Label",props:{y:9,x:2,width:142,var:"lvl1",text:"等级1",height:32,fontSize:32,font:"Helvetica",color:"#000000",centerX:0,align:"center"},compId:31},{type:"Label",props:{y:6,width:142,var:"lvl2",text:"等级1",height:32,fontSize:32,font:"Helvetica",color:"#ffffff",centerX:0,align:"center"},compId:30}]},{type:"Image",props:{y:268,x:58,width:6,var:"lineY",toY:-5,toX:245,skin:"main/line.png",sizeGrid:"2,2,2,2",lineWidth:1,lineColor:"#ff0000",height:20},compId:29},{type:"Sprite",props:{y:212,x:16,var:"p1",texture:"main/homeLvl1.png"},compId:19},{type:"Sprite",props:{y:212,x:96,var:"p2",texture:"main/homeLvl5.png"},compId:20},{type:"Sprite",props:{y:212,x:175,var:"p3",texture:"main/homeLvl5.png"},compId:17},{type:"Sprite",props:{y:212,x:254,var:"p4",texture:"main/homeLvl5.png"},compId:21},{type:"Sprite",props:{y:212,x:333,var:"p5",texture:"main/homeLvl5.png"},compId:23},{type:"Sprite",props:{y:212,x:411,var:"p6",texture:"main/homeLvl5.png"},compId:22},{type:"Sprite",props:{y:212,x:490,var:"p7",texture:"main/homeLvl5.png"},compId:24},{type:"Sprite",props:{y:212,x:569,var:"p8",texture:"main/homeLvl5.png"},compId:25},{type:"Sprite",props:{y:212,x:648,var:"p9",texture:"main/homeLvl5.png"},compId:26},{type:"Image",props:{y:286,toY:-5,toX:245,skin:"main/line.png",sizeGrid:"2,2,2,2",right:0,lineWidth:1,lineColor:"#ff0000",left:0},compId:28},{type:"Label",props:{y:336,x:19,wordWrap:!0,width:489,var:"upgradeInfo",valign:"top",text:"介绍1",height:140,fontSize:34,color:"#bef7fd",bold:!0,align:"center"},compId:67},{type:"Label",props:{y:298,x:22,var:"nextLvl",text:"下一级",fontSize:30,color:"#78929b",bold:!0},compId:68},{type:"Image",props:{var:"highest",skin:"main/zuigaoji.png",centerX:0,bottom:89},compId:70},{type:"Image",props:{y:0,x:0,var:"teachMask0",top:0,sizeGrid:"1,1,1,1",right:0,left:0,bottom:0,alpha:.6},compId:262},{type:"Button",props:{y:360,x:528,width:196,var:"btnUpgrade",stateNum:1,skin:"btn/btnColor2Down.png",sizeGrid:"24,24,24,24",height:110},compId:37,child:[{type:"Image",props:{y:-40,width:244,skin:"btn/btnColor2Up.png",sizeGrid:"24,24,24,24",right:0,left:0,height:130},compId:38,child:[{type:"Image",props:{skin:"main/shengji.png",centerY:-30,centerX:0},compId:39},{type:"Sprite",props:{y:63,x:116,width:25,texture:"main/coin.png",height:30},compId:40},{type:"Label",props:{y:66,x:12,width:97,var:"upgradePrice1",text:"100",height:30,fontSize:30,color:"#716d6d",align:"right"},compId:41},{type:"Label",props:{y:63,x:12,width:97,var:"upgradePrice2",text:"100",height:30,fontSize:30,color:"#ffffff",align:"right"},compId:42},{type:"Image",props:{y:0,x:0,visible:!1,var:"upDian",top:0,skin:"main/dian.png",right:0},compId:267},{type:"Image",props:{y:-161,x:0,width:123,visible:!1,var:"fingerUp",skin:"main/finger.png",height:161,centerX:0},compId:269}]}]},{type:"Button",props:{y:360,x:528,width:196,visible:!1,var:"btnUpad",stateNum:1,skin:"btn/btnColor2Down.png",sizeGrid:"24,24,24,24",height:110},compId:238,child:[{type:"Image",props:{y:-40,width:244,skin:"btn/btnColor2Up.png",sizeGrid:"24,24,24,24",right:0,left:0,height:130},compId:239,child:[{type:"Image",props:{skin:"main/shengji.png",centerY:0,centerX:38},compId:240},{type:"Image",props:{y:26.5,width:72,skin:"main/ad.png",left:10,height:77},compId:245},{type:"Image",props:{top:0,skin:"main/dian.png",right:0},compId:266},{type:"Image",props:{y:-161,x:0,visible:!1,var:"fingerUpAd",skin:"main/finger.png",centerX:0},compId:270}]}]}]},{type:"Box",props:{var:"page1Status2",top:0,right:0,left:0,bottom:0},compId:46,child:[{type:"Image",props:{y:179.5,x:48,width:676,skin:"main/builtNotice.png",height:131},compId:55},{type:"Image",props:{var:"teachMask1",top:0,sizeGrid:"1,1,1,1",right:0,left:0,bottom:0,alpha:.6},compId:235},{type:"Button",props:{y:380,width:457,var:"btnBuilt",stateNum:1,skin:"btn/btnGreen2.png",sizeGrid:"24,24,24,24",height:80,centerX:0},compId:56,child:[{type:"Image",props:{y:-40,width:244,skin:"btn/btnGreen1.png",sizeGrid:"24,24,24,24",right:0,left:0,height:100},compId:57,child:[{type:"Image",props:{width:92,var:"btnBuiltLabel",skin:"main/built.png",height:49,centerY:0,centerX:-60},compId:58},{type:"Sprite",props:{y:35,x:359,width:27,var:"btnBuiltIcon",texture:"main/coin.png",height:32},compId:59},{type:"Text",props:{y:37,x:288,var:"btnBuiltPrice1",text:"100",fontSize:30,color:"#757373",bold:!0,runtime:"laya.display.Text"},compId:60},{type:"Text",props:{y:34,x:288,var:"btnBuiltPrice2",text:"100",fontSize:30,color:"#ffffff",bold:!0,runtime:"laya.display.Text"},compId:61},{type:"Image",props:{var:"btnBuiltLight",top:0,skin:"main/button_patch.png",right:0,left:0,bottom:0,sizeGrid:"24,24,24,24"},compId:63},{type:"Image",props:{y:-161,width:123,visible:!1,var:"fingerBuilt",skin:"main/finger.png",height:161,centerX:0},compId:268}]}]}]},{type:"Box",props:{var:"page1Status3",top:1,right:0,left:0,bottom:0},compId:48,child:[{type:"Image",props:{y:144,skin:"main/pageTitle1.png",sizeGrid:"24,24,24,24",right:10,left:10},compId:49,child:[{type:"Label",props:{y:-1,wordWrap:!0,width:703,var:"findInfo",valign:"middle",text:"1/10 斑马 已驯服",height:349,fontSize:38,color:"#ffffff",centerX:0,bold:!0,align:"center"},compId:69}]}]},{type:"Box",props:{y:0,x:0,var:"page1Status4",top:0,right:0,left:0,bottom:0},compId:99,child:[{type:"Label",props:{y:159,wordWrap:!0,width:703,valign:"middle",text:"每种传奇动物都有它独特的本领～\\n马上饲养一只来见识一下它的厉害吧！",leading:10,height:198,fontSize:38,color:"#ffffff",centerX:0,bold:!0,align:"center"},compId:101},{type:"Image",props:{y:104,skin:"main/pageTitle1.png",sizeGrid:"24,24,24,24",right:10,left:10},compId:100},{type:"Button",props:{y:406,width:457,var:"btnLook",stateNum:1,skin:"btn/btnGreen2.png",sizeGrid:"24,24,24,24",height:70,centerX:0},compId:102,child:[{type:"Image",props:{y:-40,width:244,skin:"btn/btnGreen1.png",sizeGrid:"24,24,24,24",right:0,left:0,height:90},compId:103,child:[{type:"Image",props:{skin:"main/look.png",centerY:0,centerX:0},compId:104},{type:"Image",props:{y:0,x:0,var:"btnLookLight",top:0,skin:"main/button_patch.png",right:0,left:0,bottom:0,sizeGrid:"24,24,24,24"},compId:105}]}]}]}]},{type:"Image",props:{y:0,x:0,skin:"main/page2.png",sizeGrid:"137,34,54,34",right:0,name:"item1",left:0,height:524},compId:160,child:[{type:"Image",props:{y:10,x:145,width:460,top:10,skin:"main/pageTitle2.png",sizeGrid:"24,24,24,24",height:57,centerX:0},compId:204},{type:"Label",props:{y:88,x:22,width:333,var:"animalCnt2",text:"1/10 斑马 已驯服",height:30,fontSize:30,color:"#c6c6c6",bold:!0},compId:206},{type:"Image",props:{y:82,skin:"main/price.png",right:20},compId:209,child:[{type:"Label",props:{y:8,x:-126,width:123,var:"price2",text:"0",height:30,fontSize:30,color:"#ffffff",align:"right"},compId:210}]},{type:"Image",props:{width:689,visible:!0,skin:"hat/img_pro1.png",sizeGrid:"1,1,1,1",height:70,centerX:0,bottom:200},compId:248,child:[{type:"Image",props:{y:0,x:0,width:167,var:"pro",skin:"hat/img_pro2.png",sizeGrid:"1,1,1,1",scaleX:1,height:70},compId:249},{type:"Label",props:{y:20,x:299.46337890625,var:"exp",text:"1/50xp",fontSize:30,color:"#ffffff"},compId:253}]},{type:"Label",props:{width:480,visible:!0,var:"whichanimal",valign:"middle",top:136,text:"斑马牛仔",height:57,fontSize:45,color:"#f5bf90",centerX:0,bold:!0,align:"center"},compId:251},{type:"Image",props:{x:76.5,width:597,top:350,skin:"hat/img_text.png",height:102},compId:254},{type:"Image",props:{y:222,width:51,skin:"hat/img_lvl1.png",height:20,centerX:-60},compId:255,child:[{type:"Image",props:{y:0,width:51,visible:!1,var:"hat1",skin:"hat/img_lvl11.png",height:20},compId:258}]},{type:"Image",props:{y:212,width:48,skin:"hat/img_lvl2.png",height:30,centerX:0},compId:256,child:[{type:"Image",props:{width:48,visible:!1,var:"hat2",skin:"hat/img_lvl22.png",height:30},compId:259}]},{type:"Image",props:{y:202,width:48,skin:"hat/img_lvl3.png",height:40,centerX:60},compId:257,child:[{type:"Image",props:{width:48,visible:!1,var:"hat3",skin:"hat/img_lvl33.png",height:40},compId:260}]}]},{type:"Image",props:{y:0,x:0,skin:"main/page3.png",sizeGrid:"137,34,54,34",right:0,name:"item2",left:0,height:524},compId:213,child:[{type:"Image",props:{y:10,x:145,width:460,top:10,skin:"main/pageTitle3.png",sizeGrid:"24,24,24,24",height:57,centerX:0},compId:214},{type:"Label",props:{y:88,x:22,width:333,var:"animalCnt3",text:"1/10 斑马 已驯服",height:30,fontSize:30,color:"#c6c6c6",bold:!0},compId:216},{type:"Image",props:{y:82,skin:"main/price.png",right:20},compId:217,child:[{type:"Label",props:{y:8,x:-126,width:123,var:"price3",text:"0",height:30,fontSize:30,color:"#ffffff",align:"right"},compId:218}]},{type:"Box",props:{y:158,width:250,left:22,height:300},compId:227,child:[{type:"Rect",props:{y:9,x:9,width:250,lineWidth:0,height:300,fillColor:"#3b3a3a"},compId:230},{type:"Rect",props:{width:250,lineWidth:1,height:300,fillColor:"#ffffff"},compId:229},{type:"Label",props:{var:"animalName",text:"披风野牛",right:0,left:0,height:40,fontSize:38,bottom:10,bold:!0,align:"center"},compId:231},{type:"Image",props:{y:10,x:10,width:230,var:"photo",skin:"main/blackMask.png",sizeGrid:"1,1,1,1",height:230},compId:232,child:[{type:"Label",props:{wordWrap:!0,width:230,var:"nophoto",valign:"middle",text:"游戏中暂停以拍照",height:230,fontSize:36,color:"#ffffff",bold:!0,align:"center"},compId:233}]}]},{type:"Label",props:{y:158,x:313,wordWrap:!0,width:405,var:"describe",valign:"middle",text:"无论非洲野牛还是披风野牛，都是非洲地区体型很大的一种…牛。",height:294,fontSize:40,color:"#fefe8b",align:"center"},compId:261}]},{type:"Image",props:{y:0,x:0,skin:"main/page4.png",sizeGrid:"137,34,54,34",right:0,name:"item3",left:0,height:524},compId:219,child:[{type:"Image",props:{y:10,x:145,width:460,top:10,skin:"main/pageTitle4.png",sizeGrid:"24,24,24,24",height:57,centerX:0},compId:220},{type:"Label",props:{y:88,x:22,width:333,var:"animalCnt4",text:"1/10 斑马 已驯服",height:30,fontSize:30,color:"#c6c6c6",bold:!0},compId:222},{type:"Image",props:{y:82,skin:"main/price.png",right:20},compId:223,child:[{type:"Label",props:{y:8,x:-126,width:123,var:"price4",text:"0",height:30,fontSize:30,color:"#ffffff",align:"right"},compId:224}]}]}]},{type:"Box",props:{var:"boxBtns",centerX:0,bottom:15},compId:108,child:[{type:"Button",props:{width:244,var:"btnBack",stateNum:1,skin:"btn/btnColor1Down.png",sizeGrid:"24,24,24,24",height:110},compId:9,child:[{type:"Image",props:{y:-40,width:244,skin:"btn/btnColor1Up.png",sizeGrid:"24,24,24,24",right:0,left:0,height:130},compId:10,child:[{type:"Image",props:{skin:"main/fanhui.png",centerY:0,centerX:0},compId:11}]}]},{type:"Button",props:{x:266,width:457,var:"btnRide",stateNum:1,skin:"btn/btnColor2Down.png",sizeGrid:"24,24,24,24",height:110},compId:12,child:[{type:"Image",props:{y:-40,width:244,skin:"btn/btnColor2Up.png",sizeGrid:"24,24,24,24",right:0,left:0,height:130},compId:13,child:[{type:"Image",props:{skin:"main/qicheng.png",centerY:0,centerX:0},compId:14}]}]},{type:"Button",props:{x:266,width:457,var:"btnStart",stateNum:1,skin:"btn/btnGreen2.png",sizeGrid:"24,24,24,24",height:110},compId:64,child:[{type:"Image",props:{y:-40,width:244,skin:"btn/btnGreen1.png",sizeGrid:"24,24,24,24",right:0,left:0,height:130},compId:65,child:[{type:"Image",props:{skin:"main/start.png",centerY:0,centerX:0},compId:66}]}]}]},{type:"Box",props:{y:135,var:"boxTurnPageBtn",centerX:0},compId:212,child:[{type:"Button",props:{x:535,var:"btnNext",stateNum:1,skin:"main/btnNext.png"},compId:44},{type:"Button",props:{var:"btnPrev",stateNum:1,skin:"main/btnPrev.png"},compId:45},{type:"Label",props:{width:480,var:"title",valign:"middle",top:-3,text:"大王的",height:57,fontSize:40,color:"#fefe8b",centerX:0,bold:!0,align:"center"},compId:234}]},{type:"Image",props:{x:0,var:"teachMask2",top:646,sizeGrid:"1,1,1,1",right:0,left:0,bottom:0,alpha:.6},compId:236}]},{type:"Box",props:{var:"lvlInfo",right:0,left:0,height:1062,bottom:0},compId:71,child:[{type:"Image",props:{top:0,skin:"main/homeLvl1.png",sizeGrid:"24,24,24,24",right:0,left:0,height:120},compId:72},{type:"Image",props:{y:10,width:460,skin:"main/pageTitle1.png",sizeGrid:"24,24,24,24",height:57,centerX:0},compId:73},{type:"Image",props:{top:77,skin:"main/pageTitle1.png",sizeGrid:"24,24,24,24",right:0,left:0,bottom:166},compId:75},{type:"Image",props:{y:172,width:86,var:"i9",skin:"main/homeLvl3.png",sizeGrid:"24,24,24,24",rotation:-90,left:8,height:734},compId:76},{type:"Image",props:{y:262,width:86,var:"i8",skin:"main/homeLvl3.png",sizeGrid:"24,24,24,24",rotation:-90,left:8,height:734},compId:77},{type:"Image",props:{y:352,x:0,width:86,var:"i7",skin:"main/homeLvl3.png",sizeGrid:"24,24,24,24",rotation:-90,left:8,height:734},compId:78},{type:"Image",props:{y:442,x:0,width:86,var:"i6",skin:"main/homeLvl3.png",sizeGrid:"24,24,24,24",rotation:-90,left:8,height:734},compId:79},{type:"Image",props:{y:532,x:0,width:86,var:"i5",skin:"main/homeLvl3.png",sizeGrid:"24,24,24,24",rotation:-90,left:8,height:734},compId:80},{type:"Image",props:{y:622,x:0,width:86,var:"i4",skin:"main/homeLvl3.png",sizeGrid:"24,24,24,24",rotation:-90,left:8,height:734},compId:81},{type:"Image",props:{y:712,x:0,width:86,var:"i3",skin:"main/homeLvl5.png",sizeGrid:"24,24,24,24",rotation:-90,left:8,height:734},compId:82},{type:"Image",props:{y:802,width:86,var:"i2",skin:"main/homeLvl4.png",sizeGrid:"24,24,24,24",rotation:-90,left:8,height:734},compId:83},{type:"Image",props:{y:876,width:72,var:"i1",skin:"main/homeLvl2.png",sizeGrid:"24,24,24,24",rotation:-90,left:8,height:734},compId:84},{type:"Button",props:{var:"btnBack2",stateNum:1,skin:"btn/btnColor1Down.png",sizeGrid:"24,24,24,24",right:16,left:16,height:100,bottom:16},compId:85,child:[{type:"Image",props:{y:-40,width:244,skin:"btn/btnColor1Up.png",sizeGrid:"24,24,24,24",right:0,left:0,height:120},compId:86,child:[{type:"Image",props:{skin:"main/fanhui.png",centerY:0,centerX:0},compId:87}]}]},{type:"Label",props:{y:821,x:37,width:688,var:"t1",valign:"middle",text:"Lv 1 骑乘斑马腾空跳起时获得额外金币",height:34,fontSize:28,color:"#323232",align:"left"},compId:90},{type:"Label",props:{y:731,x:37,width:688,var:"t2",valign:"middle",text:"Lv 1 骑乘斑马腾空跳起时获得额外金币",height:34,fontSize:28,color:"#ffffff",align:"left"},compId:91},{type:"Label",props:{y:642,x:37,width:688,var:"t3",valign:"middle",text:"Lv 1 骑乘斑马腾空跳起时获得额外金币",height:34,fontSize:28,color:"#bef5fe",align:"left"},compId:92},{type:"Label",props:{y:552,x:37,width:688,var:"t4",valign:"middle",text:"Lv 1 骑乘斑马腾空跳起时获得额外金币",height:34,fontSize:28,align:"left"},compId:93},{type:"Label",props:{y:462,x:37,width:688,var:"t5",valign:"middle",text:"Lv 1 骑乘斑马腾空跳起时获得额外金币",height:34,fontSize:28,align:"left"},compId:94},{type:"Label",props:{y:372,x:37,width:688,var:"t6",valign:"middle",text:"Lv 1 骑乘斑马腾空跳起时获得额外金币",height:34,fontSize:28,align:"left"},compId:95},{type:"Label",props:{y:283,x:37,width:688,var:"t7",valign:"middle",text:"Lv 1 骑乘斑马腾空跳起时获得额外金币",height:34,fontSize:28,align:"left"},compId:96},{type:"Label",props:{y:193,x:37,width:688,var:"t8",valign:"middle",text:"Lv 1 骑乘斑马腾空跳起时获得额外金币",height:34,fontSize:28,align:"left"},compId:97},{type:"Label",props:{y:103,x:37,width:688,var:"t9",valign:"middle",text:"Lv 1 骑乘斑马腾空跳起时获得额外金币",height:34,fontSize:28,align:"left"},compId:98},{type:"Label",props:{width:460,visible:!0,var:"lvltitle",valign:"middle",top:10,text:"大王的",height:57,fontSize:40,color:"#bff6fd",centerX:-4,bold:!0,align:"center"},compId:247}]},{type:"Image",props:{y:856,x:0,var:"teachMask3",sizeGrid:"1,1,1,1",alpha:.6},compId:237},{type:"Box",props:{y:200,x:0,visible:!1,var:"teachTips",right:0,left:0},compId:263,child:[{type:"Image",props:{y:0,x:0,width:750,skin:"preload/red.png",sizeGrid:"1,1,1,1",height:140,alpha:.5},compId:264},{type:"Label",props:{wordWrap:!0,width:700,var:"tip",valign:"middle",text:"升级野牛可以获得更多技能哦",leading:6,fontSize:38,color:"#ffffff",centerY:0,centerX:0,align:"center"},compId:265}]}],loadList:["main/btnHome2.png","main/btnHat1.png","main/btnAnimal1.png","main/btnBaby1.png","main/page1.png","main/pageTitle1.png","main/price.png","main/levelTitle.png","main/line.png","main/homeLvl1.png","main/homeLvl5.png","main/zuigaoji.png","btn/btnColor2Down.png","btn/btnColor2Up.png","main/shengji.png","main/coin.png","main/dian.png","main/finger.png","main/ad.png","main/builtNotice.png","btn/btnGreen2.png","btn/btnGreen1.png","main/built.png","main/button_patch.png","main/look.png","main/page2.png","main/pageTitle2.png","hat/img_pro1.png","hat/img_pro2.png","hat/img_text.png","hat/img_lvl1.png","hat/img_lvl11.png","hat/img_lvl2.png","hat/img_lvl22.png","hat/img_lvl3.png","hat/img_lvl33.png","main/page3.png","main/pageTitle3.png","main/blackMask.png","main/page4.png","main/pageTitle4.png","btn/btnColor1Down.png","btn/btnColor1Up.png","main/fanhui.png","main/qicheng.png","main/start.png","main/btnNext.png","main/btnPrev.png","main/homeLvl3.png","main/homeLvl4.png","main/homeLvl2.png","preload/red.png"],loadList3D:[]},e.HomeInfoUI=g,p("ui.main.HomeInfoUI",g);class c extends r{constructor(){super()}createChildren(){super.createChildren(),this.createView(c.uiView)}}c.uiView={type:"View",props:{width:750,height:1360},compId:2,child:[{type:"Image",props:{var:"imgMask",top:0,skin:"main/img_blackMask.png",sizeGrid:"1,1,1,1",right:0,left:0,bottom:0,alpha:.6},compId:3},{type:"Box",props:{width:750,height:1164,centerY:0,centerX:0},compId:13,child:[{type:"Image",props:{y:0,x:0,width:750,skin:"btn/img_purple_4.png",sizeGrid:"28,28,28,28",height:284},compId:14},{type:"Image",props:{y:21,x:170,width:410,skin:"btn/img_purple_5.png",sizeGrid:"28,28,28,28",height:65},compId:15},{type:"Image",props:{y:30.5,x:213,width:324,skin:"invite/img_16.png",height:46},compId:16},{type:"Image",props:{y:93,x:282.5,width:185,skin:"invite/img_12.png",height:150},compId:17},{type:"Image",props:{y:327,x:112,skin:"main/img_tip_zi0.png",centerX:0},compId:6},{type:"Image",props:{y:237,x:0,width:750,skin:"btn/img_blue_2.png",sizeGrid:"28,28,28,28",height:778},compId:19},{type:"Image",props:{y:515,x:10,width:730,skin:"btn/img_blue_3.png",sizeGrid:"28,28,28,28",height:490},compId:22},{type:"Image",props:{y:93,x:462.5,width:189,skin:"invite/img_13.png",height:90},compId:24},{type:"Sprite",props:{y:238,x:90},compId:32,child:[{type:"Line",props:{y:11,toY:0,toX:570,lineWidth:6,lineColor:"#263d78"},compId:80},{type:"Line",props:{x:285,toY:20,toX:0,lineWidth:6,lineColor:"#263d78"},compId:81},{type:"Line",props:{y:8,x:0,toY:12,toX:0,lineWidth:6,lineColor:"#263d78"},compId:82},{type:"Line",props:{y:8,x:570,toY:12,toX:0,lineWidth:6,lineColor:"#263d78"},compId:83},{type:"Line",props:{y:8,x:142,toY:12,toX:0,lineWidth:6,lineColor:"#263d78"},compId:84},{type:"Line",props:{y:8,x:428,toY:12,toX:0,lineWidth:6,lineColor:"#263d78"},compId:85}]},{type:"Button",props:{y:301,x:27,width:126,var:"btnInvi0",stateNum:1,skin:"btn/img_blue_0.png",sizeGrid:"11,24,27,24",height:94},compId:29,child:[{type:"Image",props:{y:-40,width:244,skin:"btn/img_blue_1.png",sizeGrid:"24,24,24,24",right:0,left:0,height:114},compId:30,child:[{type:"Image",props:{centerY:0,centerX:0},compId:31}]}]},{type:"Button",props:{y:301,x:170,width:126,var:"btnInvi1",stateNum:1,skin:"btn/img_blue_0.png",sizeGrid:"11,24,27,24",height:94},compId:36,child:[{type:"Image",props:{y:-40,width:244,skin:"btn/img_blue_1.png",sizeGrid:"24,24,24,24",right:0,left:0,height:114},compId:37,child:[{type:"Image",props:{y:0,x:0,centerY:0,centerX:0},compId:73}]}]},{type:"Button",props:{y:301,x:312,width:126,var:"btnInvi2",stateNum:1,skin:"btn/img_blue_0.png",sizeGrid:"11,24,27,24",height:94},compId:39,child:[{type:"Image",props:{y:-40,width:244,skin:"btn/img_blue_1.png",sizeGrid:"24,24,24,24",right:0,left:0,height:114},compId:40,child:[{type:"Image",props:{y:0,x:0,centerY:0,centerX:0},compId:74}]}]},{type:"Button",props:{y:301,x:455,width:126,var:"btnInvi3",stateNum:1,skin:"btn/img_blue_0.png",sizeGrid:"11,24,27,24",height:94},compId:42,child:[{type:"Image",props:{y:-40,width:244,skin:"btn/img_blue_1.png",sizeGrid:"24,24,24,24",right:0,left:0,height:114},compId:43,child:[{type:"Image",props:{y:0,x:0,centerY:0,centerX:0},compId:75}]}]},{type:"Button",props:{y:301,x:597,width:126,var:"btnInvi4",stateNum:1,skin:"btn/img_blue_0.png",sizeGrid:"11,24,27,24",height:94},compId:45,child:[{type:"Image",props:{y:-40,width:244,skin:"btn/img_blue_1.png",sizeGrid:"24,24,24,24",right:0,left:0,height:114},compId:46,child:[{type:"Image",props:{y:0,x:0,centerY:0,centerX:0},compId:76}]}]},{type:"Image",props:{y:402,x:0,width:750,skin:"invite/img_22.png",sizeGrid:"2,2,2,2",height:104},compId:48},{type:"Button",props:{y:459,x:513,width:210,var:"btnGain",stateNum:1,skin:"btn/img_4.png",sizeGrid:"11,24,27,24",height:35},compId:52,child:[{type:"Image",props:{y:-40,width:244,skin:"btn/img_5.png",sizeGrid:"24,24,24,24",right:0,left:0,height:60},compId:53,child:[{type:"Image",props:{skin:"invite/img_17.png",centerY:0,centerX:0},compId:54}]}]},{type:"Label",props:{y:418.5,x:27,width:474,valign:"middle",text:"邀请5个好友 获得1000金币 10钻石",height:71,fontSize:26,font:"SimHei",color:"#ffff8c",bold:!0,align:"center"},compId:55},{type:"List",props:{y:526,x:20,width:711,var:"list",spaceY:10,height:480},compId:56,child:[{type:"Box",props:{y:0,x:0,width:710,renderType:"render",height:110},compId:57,child:[{type:"Image",props:{y:0,x:0,width:710,skin:"btn/img_blue_2.png",sizeGrid:"28,28,28,28",height:110},compId:18},{type:"Image",props:{y:10,x:10,width:160,skin:"btn/img_blue_1.png",sizeGrid:"28,28,28,28",height:90},compId:58},{type:"Image",props:{y:10,x:181,width:160,skin:"btn/img_blue_1.png",sizeGrid:"28,28,28,28",height:90},compId:59},{type:"Label",props:{y:23.5,x:384,width:252,valign:"middle",text:"邀请第一位好友\\n获得200金币 2钻石",name:"labelTip",leading:10,height:63,fontSize:26,font:"SimHei",color:"#ffffff",bold:!0,align:"left"},compId:60},{type:"Image",props:{y:0,x:621,skin:"invite/img_20.png"},compId:61},{type:"Image",props:{y:0,x:649,skin:"invite/img_status2.png",name:"imgStatus"},compId:62},{type:"Label",props:{y:69,x:26,width:124,valign:"middle",text:"200",name:"labelGold",height:31,fontSize:30,font:"SimHei",color:"#fbfb93",bold:!0,align:"center"},compId:63},{type:"Image",props:{y:19,x:67,skin:"invite/img_10.png"},compId:64},{type:"Image",props:{y:19,x:230,skin:"invite/img_11.png"},compId:65},{type:"Label",props:{y:69,x:199,width:124,valign:"middle",text:"2",name:"labelJew",height:31,fontSize:30,font:"SimHei",color:"#fbfb93",bold:!0,align:"center"},compId:66}]}]},{type:"Button",props:{y:1073,x:31.5,width:246,var:"btnBack",stateNum:1,skin:"btn/img_btnTop2.png",sizeGrid:"11,24,27,24",height:89},compId:7,child:[{type:"Image",props:{y:-40,width:244,skin:"btn/img_8.png",sizeGrid:"24,24,24,24",right:0,left:0,height:108},compId:8,child:[{type:"Image",props:{skin:"invite/img_18.png",centerY:0,centerX:0},compId:9}]}]},{type:"Button",props:{y:1073,x:297,width:424,var:"btnInvite",stateNum:1,skin:"btn/img_4.png",sizeGrid:"11,24,27,24",height:89},compId:10,child:[{type:"Image",props:{y:-40,width:244,skin:"btn/img_5.png",sizeGrid:"24,24,24,24",right:0,left:0,height:108},compId:11,child:[{type:"Image",props:{skin:"invite/img_19.png",centerY:0,centerX:0},compId:12},{type:"Image",props:{y:-9,x:381,var:"imgYaoQIngTip",skin:"invite/img_21.png"},compId:67}]}]}]}],loadList:["main/img_blackMask.png","btn/img_purple_4.png","btn/img_purple_5.png","invite/img_16.png","invite/img_12.png","main/img_tip_zi0.png","btn/img_blue_2.png","btn/img_blue_3.png","invite/img_13.png","btn/img_blue_0.png","btn/img_blue_1.png","invite/img_22.png","btn/img_4.png","btn/img_5.png","invite/img_17.png","invite/img_20.png","invite/img_status2.png","invite/img_10.png","invite/img_11.png","btn/img_btnTop2.png","btn/img_8.png","invite/img_18.png","invite/img_19.png","invite/img_21.png"],loadList3D:[]},e.InviteFriendsUI=c,p("ui.main.InviteFriendsUI",c);class m extends r{constructor(){super()}createChildren(){super.createChildren(),this.createView(m.uiView)}}m.uiView={type:"View",props:{width:750,height:1380},compId:2,child:[{type:"Image",props:{top:0,skin:"preload/bg1.png",sizeGrid:"1,1,1,1",right:0,left:0,bottom:0},compId:3},{type:"Image",props:{width:580,var:"pro1",skin:"preload/bg2.png",sizeGrid:"1,1,1,1",height:70,centerY:0,centerX:0},compId:8,child:[{type:"Image",props:{x:0,width:580,var:"pro",top:0,skin:"preload/bg3.png",sizeGrid:"1,1,1,1",scaleX:0,bottom:0},compId:9}]},{type:"Label",props:{var:"txt",valign:"middle",text:"动物园开门营业的第356天，正在开门中（1/100）",right:0,left:0,height:26,fontSize:24,centerY:-64,bold:!0,align:"center"},compId:12},{type:"Box",props:{width:750,visible:!1,var:"complet0",sizeGrid:"2,2,2,2",right:0,left:1,height:130,bottom:789},compId:14,child:[{type:"Image",props:{top:0,skin:"preload/img_bg_1.png",right:0,left:0,bottom:0,alpha:.6},compId:44},{type:"Label",props:{wordWrap:!0,width:476,var:"dec0",valign:"middle",text:"一二三四五六七八九十一二三四五六七八九十",left:12,height:106,fontSize:40,color:"#fdf6be",centerY:0,align:"center"},compId:18},{type:"Image",props:{y:64,x:640,visible:!1,skin:"preload/img_star.png",name:"difficult00",centerY:0},compId:19},{type:"Image",props:{y:64,x:580,visible:!1,skin:"preload/img_star.png",name:"difficult01",centerY:0},compId:20,child:[{type:"Image",props:{x:57,visible:!0,skin:"preload/img_star.png",centerY:0},compId:45}]},{type:"Image",props:{y:64,x:555,visible:!1,skin:"preload/img_star.png",name:"difficult02",centerY:0},compId:21,child:[{type:"Image",props:{x:114,visible:!0,skin:"preload/img_star.png",centerY:0},compId:46},{type:"Image",props:{x:57,visible:!0,skin:"preload/img_star.png",centerY:0},compId:48}]}]},{type:"Image",props:{var:"first",skin:"preload/lo.png",centerY:-400,centerX:0},compId:98},{type:"Box",props:{width:750,var:"banhao",right:0,left:-2,height:56,bottom:30},compId:101,child:[{type:"Label",props:{y:0,valign:"middle",top:0,text:"著作权人:北京游道易网络文化有限公司 出版单位:北京伯通电子出版社 批准文号:新广出审[2017]30号 ",right:0,left:0,fontSize:15,align:"center"},compId:102},{type:"Label",props:{valign:"middle",top:40,text:"出版物号:ISBN978-7-7979- -4016-0 文网备号:文网游备字[2016]M-CSG4705号",right:0,left:0,fontSize:15,align:"center"},compId:103}]},{type:"Box",props:{x:-2,width:750,var:"fcm",height:60,bottom:120},compId:107,child:[{type:"Label",props:{y:0,x:0,width:750,top:0,text:"抵制不良游戏，拒绝盗版游戏；注意自我保护，谨防受骗上当",fontSize:22,font:"SimHei",bold:!0,align:"center"},compId:109},{type:"Label",props:{x:0,width:750,text:"适度游戏益脑，沉迷游戏伤身；合理安排时间，享受健康游戏",fontSize:22,font:"SimHei",bottom:0,bold:!0,align:"center"},compId:111}]},{type:"Box",props:{width:700,var:"checkTishi",height:90,centerX:0,bottom:270},compId:118,child:[{type:"Label",props:{width:700,top:0,text:"刚刚认识的新动物会放在动物园的",fontSize:45,color:"#010101",centerX:0},compId:121},{type:"Label",props:{text:"栖息地哦",fontSize:45,color:"#010101",centerX:0,bottom:0},compId:122}]},{type:"Box",props:{var:"tishi",right:0,left:0,height:135,bottom:270},compId:123,child:[{type:"Label",props:{top:0,text:"提示：",fontSize:45,color:"#010101",centerX:0,bold:!0},compId:124},{type:"Label",props:{x:0,text:"升级动物栖息地可以使你在游戏中",fontSize:45,color:"#010101",centerY:0,centerX:0,bold:!0},compId:127},{type:"Label",props:{x:0,text:"获益良多",fontSize:45,color:"#010101",centerX:0,bottom:0,bold:!0},compId:129}]},{type:"Label",props:{visible:!0,var:"kfqq",valign:"middle",top:20,text:"客服QQ:3231388893",left:20,height:26,fontSize:24,bold:!0,align:"left"},compId:133},{type:"Box",props:{width:100,right:100,name:"oppoActive",height:100,centerY:124},compId:134}],loadList:["preload/bg1.png","preload/bg2.png","preload/bg3.png","preload/img_bg_1.png","preload/img_star.png","preload/lo.png"],loadList3D:[]},e.LoadingUI=m,p("ui.main.LoadingUI",m);class _ extends r{constructor(){super()}createChildren(){super.createChildren(),this.createView(_.uiView)}}_.uiView={type:"View",props:{width:750,height:1624},compId:2,child:[{type:"Panel",props:{y:0,x:0,var:"panelMap",top:0,right:0,left:0,elasticEnabled:!0,bottom:0},compId:47,child:[{type:"Box",props:{y:0,x:0,width:750,height:2600},compId:60,child:[{type:"Image",props:{y:-200,width:750,skin:"main/mapbg.png",sizeGrid:"2,2,2,2",right:0,name:"bg",left:0,height:3200},compId:45},{type:"Image",props:{y:1919,x:375,width:750,var:"imgCube0",skin:"map/mapCube0Ani3.png",pivotY:375,pivotX:375,height:750,alpha:.4},compId:124},{type:"Image",props:{y:1928,x:375,width:750,skin:"map/mapCube0.png",pivotY:375,pivotX:375,name:"cube0",height:750},compId:123},{type:"Image",props:{y:1252,x:375,width:750,var:"imgCube1",skin:"map/mapCube1Ani3.png",pivotY:375,pivotX:375,height:750,alpha:.4},compId:127},{type:"Image",props:{y:1252,x:375,width:750,skin:"map/mapCube1.png",pivotY:375,pivotX:375,height:750},compId:128},{type:"Image",props:{y:575,x:375,width:750,var:"imgCube2",skin:"map/mapCube2Ani3.png",pivotY:375,pivotX:375,height:750,alpha:.4},compId:129},{type:"Image",props:{y:575,x:375,width:750,skin:"map/mapCube2.png",pivotY:375,pivotX:375,height:750},compId:130},{type:"Button",props:{y:1392,x:528,width:157,var:"btnStart1",stateNum:1,skin:"btn/btnStrat1_2.png",sizeGrid:"11,24,30,24",height:120},compId:119,child:[{type:"Image",props:{y:-40,width:244,skin:"btn/btnStrat1_1.png",sizeGrid:"24,24,24,24",right:0,left:0,height:130},compId:120,child:[{type:"Image",props:{width:117,skin:"main/img_start0.png",height:62,centerY:0,centerX:0},compId:121}]}]},{type:"Button",props:{y:2132,x:513,width:157,var:"btnStart0",stateNum:1,skin:"btn/btnStart0_2.png",sizeGrid:"24,24,24,24",height:120},compId:50,child:[{type:"Image",props:{y:-40,width:244,skin:"btn/btnStrat0_1.png",sizeGrid:"24,24,24,24",right:0,left:0,height:130},compId:51,child:[{type:"Image",props:{width:117,skin:"main/img_start0.png",height:62,centerY:0,centerX:0},compId:52}]}]},{type:"Box",props:{y:1665,x:227,var:"boxLevel0"},compId:109,child:[{type:"Box",props:{y:-289,x:84,width:184,name:"lineComp",height:708},compId:145,child:[{type:"Image",props:{y:691.9999999999999,x:43.26384788123549,width:119,skin:"map/mapCubeLine0.png",rotation:-50,pivotY:0,pivotX:0,name:"imgLineComp",height:16},compId:110},{type:"Image",props:{y:531.9999999999999,x:7.263847881235492,width:119,skin:"map/mapCubeLine0.png",rotation:27,pivotY:0,pivotX:0,name:"imgLineComp",height:16},compId:141},{type:"Image",props:{y:517.9999999999999,x:27.263847881235492,width:119,skin:"map/mapCubeLine0.png",rotation:-17,pivotY:0,pivotX:0,name:"imgLineComp",height:16},compId:142},{type:"Image",props:{y:379.9999999999999,x:86.26384788123549,width:119,skin:"map/mapCubeLine0.png",rotation:43,pivotY:0,pivotX:0,name:"imgLineComp",height:16},compId:143},{type:"Image",props:{y:299.9999999999999,x:42.26384788123549,width:300,skin:"map/mapCubeLine0.png",rotation:-90,pivotY:0,pivotX:0,name:"imgLineComp",height:16},compId:144}]},{type:"Box",props:{y:97,x:103,width:92,name:"lineNone",height:332},compId:158,child:[{type:"Image",props:{y:311,x:35,width:24,skin:"map/mapCubeLine1.png",rotation:-88,name:"imgLineNone",height:21},compId:111,child:[{type:"Image",props:{y:15,x:21,skin:"map/mapCubeLine1.png"},compId:112},{type:"Image",props:{y:44,x:64,skin:"map/mapCubeLine1.png"},compId:113},{type:"Image",props:{y:29,x:43,skin:"map/mapCubeLine1.png"},compId:114}]},{type:"Image",props:{y:164,width:24,skin:"map/mapCubeLine1.png",rotation:-6,name:"imgLineNone",height:21},compId:146,child:[{type:"Image",props:{y:15,x:21,skin:"map/mapCubeLine1.png"},compId:147},{type:"Image",props:{y:44,x:64,skin:"map/mapCubeLine1.png"},compId:148},{type:"Image",props:{y:29,x:43,skin:"map/mapCubeLine1.png"},compId:149}]},{type:"Image",props:{y:132,x:12,width:24,skin:"map/mapCubeLine1.png",rotation:-54,name:"imgLineNone",height:21},compId:150,child:[{type:"Image",props:{y:15,x:21,skin:"map/mapCubeLine1.png"},compId:151},{type:"Image",props:{y:44,x:64,skin:"map/mapCubeLine1.png"},compId:152},{type:"Image",props:{y:29,x:43,skin:"map/mapCubeLine1.png"},compId:153}]},{type:"Image",props:{x:68,width:24,skin:"map/mapCubeLine1.png",rotation:8,name:"imgLineNone",height:21},compId:154,child:[{type:"Image",props:{y:15,x:21,skin:"map/mapCubeLine1.png"},compId:155},{type:"Image",props:{y:44,x:64,skin:"map/mapCubeLine1.png"},compId:156},{type:"Image",props:{y:29,x:43,skin:"map/mapCubeLine1.png"},compId:157}]}]},{type:"Box",props:{y:0,x:0,name:"cube"},compId:139,child:[{type:"Image",props:{y:379,x:74,width:91,skin:"map/mapCubeUnknow.png",height:80},compId:85},{type:"Image",props:{y:273,x:165,width:91,skin:"map/mapCubeUnknow.png",height:80},compId:86},{type:"Image",props:{y:210,x:38,width:91,skin:"map/mapCubeUnknow.png",height:80},compId:87},{type:"Image",props:{y:155,x:210,width:91,skin:"map/mapCubeUnknow.png",height:80},compId:88},{type:"Image",props:{skin:"map/mapCubeUnknowBig.png"},compId:84}]}]},{type:"Box",props:{y:1050,x:169,width:374,var:"boxLevel1",height:369},compId:135,child:[{type:"Box",props:{y:-310,x:77,width:279,name:"lineComp",height:647},compId:183,child:[{type:"Image",props:{y:521.9999999999999,x:12.444271758802557,width:119,skin:"map/mapCubeLine0.png",rotation:54,pivotY:0,pivotX:0,name:"imgLineComp",height:16},compId:162},{type:"Image",props:{y:494.9999999999999,x:26.444271758802557,width:159,skin:"map/mapCubeLine0.png",rotation:-4,name:"imgLineComp",height:16},compId:163},{type:"Image",props:{y:463.9999999999999,x:199.44427175880256,width:119,skin:"map/mapCubeLine0.png",rotation:-66,pivotY:0,pivotX:0,name:"imgLineComp",height:16},compId:164},{type:"Image",props:{y:345.9999999999999,x:118.44427175880256,width:119,skin:"map/mapCubeLine0.png",rotation:1,pivotY:0,pivotX:0,name:"imgLineComp",height:16},compId:165},{type:"Image",props:{y:319.9999999999999,x:18.444271758802557,width:320,skin:"map/mapCubeLine0.png",rotation:-90,pivotY:0,pivotX:0,name:"imgLineComp",height:16},compId:166}]},{type:"Box",props:{y:28,x:84,width:258,name:"lineNone",height:311},compId:184,child:[{type:"Image",props:{y:201.36091360797488,x:7.182422892337186,width:24,skin:"map/mapCubeLine1.png",rotation:20,name:"imgLineNone",height:21},compId:167,child:[{type:"Image",props:{y:15,x:21,skin:"map/mapCubeLine1.png"},compId:168},{type:"Image",props:{y:44,x:64,skin:"map/mapCubeLine1.png"},compId:169},{type:"Image",props:{y:29,x:43,skin:"map/mapCubeLine1.png"},compId:170}]},{type:"Image",props:{y:156.36091360797488,x:43.182422892337186,width:24,skin:"map/mapCubeLine1.png",rotation:-33,name:"imgLineNone",height:21},compId:171,child:[{type:"Image",props:{y:15,x:21,skin:"map/mapCubeLine1.png"},compId:172},{type:"Image",props:{y:44,x:64,skin:"map/mapCubeLine1.png"},compId:173},{type:"Image",props:{y:29,x:43,skin:"map/mapCubeLine1.png"},compId:174}]},{type:"Image",props:{y:121.3609136079749,x:202.18242289233717,width:24,skin:"map/mapCubeLine1.png",rotation:-101,name:"imgLineNone",height:21},compId:175,child:[{type:"Image",props:{y:15,x:21,skin:"map/mapCubeLine1.png"},compId:176},{type:"Image",props:{y:44,x:64,skin:"map/mapCubeLine1.png"},compId:177},{type:"Image",props:{y:29,x:43,skin:"map/mapCubeLine1.png"},compId:178}]},{type:"Image",props:{y:12.36091360797489,x:120.18242289233719,width:24,skin:"map/mapCubeLine1.png",rotation:-31,name:"imgLineNone",height:21},compId:179,child:[{type:"Image",props:{y:15,x:21,skin:"map/mapCubeLine1.png"},compId:180},{type:"Image",props:{y:44,x:64,skin:"map/mapCubeLine1.png"},compId:181},{type:"Image",props:{y:29,x:43,skin:"map/mapCubeLine1.png"},compId:182}]}]},{type:"Box",props:{y:0,x:0,name:"cube"},compId:159,child:[{type:"Image",props:{y:289,x:132,width:91,skin:"map/mapCubeUnknow.png",height:80},compId:89},{type:"Image",props:{y:162,x:25,width:91,skin:"map/mapCubeUnknow.png",height:80},compId:90},{type:"Image",props:{y:138,x:238,width:91,skin:"map/mapCubeUnknow.png",height:80},compId:91},{type:"Image",props:{y:3,x:283,width:91,skin:"map/mapCubeUnknow.png",height:80},compId:92},{type:"Image",props:{skin:"map/mapCubeUnknowBig.png"},compId:105}]}]},{type:"Box",props:{y:322,x:227},compId:136,child:[{type:"Image",props:{y:357,width:91,skin:"map/mapCubeUnknow.png",height:80},compId:93},{type:"Image",props:{y:277,x:200,width:91,skin:"map/mapCubeUnknow.png",height:80},compId:94},{type:"Image",props:{y:173,x:102,width:91,skin:"map/mapCubeUnknow.png",height:80},compId:95},{type:"Image",props:{y:159,x:273,width:91,skin:"map/mapCubeUnknow.png",height:80},compId:96},{type:"Image",props:{x:43,skin:"map/mapCubeUnknowBig.png"},compId:106}]},{type:"Image",props:{y:1093,x:270,width:128,var:"imgBee",skin:"map/bee00.png",pivotY:64,pivotX:64,height:128},compId:122}]}]},{type:"Image",props:{var:"mapUIBottom",skin:"main/blackMask.png",sizeGrid:"2,2,2,2",right:0,left:0,height:466,bottom:0},compId:12,child:[{type:"Sprite",props:{y:24,x:24,width:164,texture:"map/mapChar5.png",height:46},compId:64},{type:"Image",props:{y:24,x:247,width:196,var:"imgNextCubeName",skin:"map/mapChar0.png",height:46},compId:63},{type:"Label",props:{y:9,x:360,width:59,var:"labelNextCubeLevel",valign:"middle",text:"5",height:78,fontSize:50,color:"#ffffff",bold:!0,align:"center"},compId:185},{type:"Image",props:{y:95,var:"imgMisCom0",skin:"map/kuang.png",left:20},compId:215,child:[{type:"Image",props:{var:"imgMisGou0",skin:"map/gou.png",centerY:0,centerX:0},compId:217}]},{type:"Image",props:{y:175,var:"imgMisCom1",skin:"map/kuang.png",left:20},compId:216,child:[{type:"Image",props:{var:"imgMisGou1",skin:"map/gou.png",centerY:0,centerX:0},compId:218}]},{type:"Label",props:{y:104,var:"imgMisInfo0",text:"勒布朗詹姆斯",styleSkin:"map/mapMis1.png",left:100,fontSize:40,font:"SimHei",color:"#edff93",bold:!0},compId:67},{type:"Label",props:{y:183,var:"imgMisInfo1",text:"科比布莱恩特",styleSkin:"map/mapMis0.png",left:100,fontSize:40,font:"SimHei",color:"#edff93",bold:!0},compId:69},{type:"Button",props:{y:317,x:15,width:244,var:"btnBack",stateNum:1,skin:"btn/btnColor1Down.png",sizeGrid:"24,24,24,24",height:110},compId:17,child:[{type:"Image",props:{y:-40,width:244,skin:"btn/btnColor1Up.png",sizeGrid:"24,24,24,24",right:0,left:0,height:130},compId:18,child:[{type:"Image",props:{skin:"main/fanhui.png",centerY:0,centerX:0},compId:19}]}]},{type:"Button",props:{y:317,x:275,width:460,visible:!1,var:"btnUpAd",stateNum:1,skin:"btn/btnColor2Down.png",sizeGrid:"24,24,24,24",height:110},compId:186,child:[{type:"Image",props:{y:-40,width:244,var:"imgUpAd",skin:"btn/btnColor2Up.png",sizeGrid:"24,24,24,24",right:0,left:0,height:130},compId:187,child:[{type:"Image",props:{y:15,width:192,skin:"map/mapChar6.png",height:45,centerX:0},compId:188},{type:"Sprite",props:{y:71,x:112.5,width:37,texture:"main/coin.png",height:44},compId:189},{type:"Label",props:{y:71,x:-22,width:171,var:"cancelgold1",valign:"middle",text:"123",height:32,fontSize:38,font:"Arial",color:"#030303",bold:!0,align:"center"},compId:190,child:[{type:"Label",props:{y:-3,x:0,width:171,var:"cancelgold2",valign:"middle",text:"123",height:32,fontSize:38,color:"#f9f9f9",bold:!0,align:"center"},compId:191}]},{type:"Image",props:{y:60.5,x:194,width:72,skin:"main/ad.png",height:65},compId:192},{type:"Label",props:{y:71,x:281,width:48,text:"一键扩张",height:45,fontSize:40,color:"#ffffff",bold:!0},compId:193},{type:"Image",props:{y:71,x:10,skin:"main/cha.png"},compId:194}]}]},{type:"Button",props:{y:317,x:275,width:460,visible:!1,var:"btnLvup",stateNum:1,skin:"btn/btnColor2Down.png",sizeGrid:"24,24,24,24",height:110},compId:201,child:[{type:"Image",props:{y:-40,width:244,var:"imgLvup",skin:"btn/btnColor2Up.png",sizeGrid:"24,24,24,24",right:0,left:0,height:130},compId:202,child:[{type:"Image",props:{y:10,width:192,skin:"map/mapChar6.png",height:45,centerX:0},compId:203},{type:"Sprite",props:{y:71,x:251,width:37,var:"g",texture:"main/coin.png",height:44},compId:210},{type:"Label",props:{y:74,x:117,width:171,var:"upgold1",valign:"middle",text:"123",height:32,fontSize:38,font:"Arial",color:"#030303",bold:!0,align:"center"},compId:211,child:[{type:"Label",props:{y:-3,x:0,width:171,var:"upgold2",valign:"middle",text:"123",height:32,fontSize:38,color:"#f9f9f9",bold:!0,align:"center"},compId:212}]}]}]},{type:"Box",props:{y:104,x:666,width:100,var:"oppoActive",pivotY:50,pivotX:50,height:100},compId:214}]},{type:"Box",props:{y:0,x:0,width:750,var:"boxTop",height:184},compId:75,child:[{type:"Image",props:{x:464,width:750,var:"imgTopBg",skin:"main/blackMask.png",sizeGrid:"2,2,2,2",left:0,height:184,alpha:.4},compId:43},{type:"Image",props:{y:30,x:464,width:222,var:"topUI",skin:"main/blackMask.png",sizeGrid:"2,2,2,2",right:40,height:40},compId:7,child:[{type:"Sprite",props:{y:-6,x:-22,texture:"main/coin.png"},compId:8},{type:"Button",props:{y:-10,x:195,var:"btnAddCoin",stateNum:2,skin:"main/btnCoinPlus.png"},compId:9},{type:"Label",props:{y:7,x:27,width:171,var:"gold1",valign:"middle",text:"123",height:32,fontSize:32,color:"#030303",align:"center"},compId:10,child:[{type:"Label",props:{y:-3,x:-2,width:171,var:"gold2",valign:"middle",text:"123",height:32,fontSize:32,color:"#fef790",align:"center"},compId:11}]}]},{type:"Image",props:{y:26.5,x:20,width:196,var:"imgCubeTitle",skin:"map/mapChar0.png",height:47},compId:73}]},{type:"Box",props:{y:0,x:0,visible:!1,var:"vivoActive",centerY:0,centerX:0},compId:220,child:[{type:"Image",props:{width:690,skin:"main/vivo_di.png",sizeGrid:"24,21,27,19",name:"imgbg",height:900,centerY:0,centerX:0},compId:221},{type:"Image",props:{width:244,skin:"btn/btnColor1Up.png",sizeGrid:"20,18,22,19",height:74,centerX:0,bottom:50},compId:222,child:[{type:"Image",props:{y:-20,x:0,width:244,skin:"btn/btnColor2Up.png",sizeGrid:"19,21,19,20",height:74},compId:223,child:[{type:"Image",props:{skin:"main/vivo_go.png",centerY:0,centerX:0},compId:224}]}]},{type:"Image",props:{width:80,skin:"main/adbg.png",sizeGrid:"1,1,1,1",right:0,height:35,bottom:25},compId:225,child:[{type:"Label",props:{text:"广告",fontSize:25,color:"#ffffff",centerY:0,centerX:0},compId:226}]},{type:"Label",props:{text:"疯狂动物园",name:"title",fontSize:48,color:"#6f2e00",centerY:62,centerX:-2},compId:227},{type:"Label",props:{y:616,text:"疯狂动物园疯狂开跑",name:"title2",fontSize:36,color:"#6f2e00",centerX:0},compId:228},{type:"Image",props:{y:10,x:10,width:670,top:10,sizeGrid:"28,23,25,20",name:"imgPicture",height:353,centerX:0},compId:229},{type:"Image",props:{y:30,x:612,top:20,skin:"main/vivo_cancel.png",right:20,name:"imgClose"},compId:230}]}],loadList:["main/mapbg.png","map/mapCube0Ani3.png","map/mapCube0.png","map/mapCube1Ani3.png","map/mapCube1.png","map/mapCube2Ani3.png","map/mapCube2.png","btn/btnStrat1_2.png","btn/btnStrat1_1.png","main/img_start0.png","btn/btnStart0_2.png","btn/btnStrat0_1.png","map/mapCubeLine0.png","map/mapCubeLine1.png","map/mapCubeUnknow.png","map/mapCubeUnknowBig.png","map/bee00.png","main/blackMask.png","map/mapChar5.png","map/mapChar0.png","map/kuang.png","map/gou.png","map/mapMis1.png","map/mapMis0.png","btn/btnColor1Down.png","btn/btnColor1Up.png","main/fanhui.png","btn/btnColor2Down.png","btn/btnColor2Up.png","map/mapChar6.png","main/coin.png","main/ad.png","main/cha.png","main/btnCoinPlus.png","main/vivo_di.png","main/vivo_go.png","main/adbg.png","main/vivo_cancel.png"],loadList3D:[]},e.MapUI=_,p("ui.main.MapUI",_);class y extends r{constructor(){super()}createChildren(){super.createChildren(),this.createView(y.uiView)}}y.uiView={type:"View",props:{width:750,height:1360},compId:2,child:[{type:"Image",props:{var:"imgMask",top:0,skin:"main/img_blackMask.png",sizeGrid:"1,1,1,1",right:0,left:0,bottom:0,alpha:.6},compId:3},{type:"Image",props:{x:0,skin:"main/blackMask.png",sizeGrid:"1,1,1,1",right:0,left:0,height:250,centerY:0,alpha:.8},compId:5},{type:"Box",props:{width:688,height:1230,centerX:0,bottom:0},compId:136,child:[{type:"Button",props:{y:110,var:"tab0",stateNum:1,skin:"rank/tab01.png",anchorY:1,anchorX:0},compId:120},{type:"Button",props:{y:110,x:172,var:"tab1",stateNum:1,skin:"rank/tab10.png",anchorY:1},compId:121},{type:"Button",props:{y:110,x:344,var:"tab2",stateNum:1,skin:"rank/tab20.png",anchorY:1},compId:122},{type:"Button",props:{y:110,x:516,var:"tab3",stateNum:1,skin:"rank/tab30.png",anchorY:1},compId:123},{type:"Image",props:{y:110,width:688,var:"bg1",skin:"rank/bg00.png",sizeGrid:"1,1,1,1",height:111},compId:124},{type:"Image",props:{y:221,width:688,var:"bg2",skin:"rank/bg10.png",sizeGrid:"1,1,1,1",height:720},compId:125},{type:"Image",props:{y:131,x:135,width:412,var:"bg3",skin:"rank/sjphb_di0.png",sizeGrid:"23,26,27,26",height:65},compId:128,child:[{type:"Image",props:{y:12,x:93,var:"imgTitle",skin:"rank/hyphb.png"},compId:129}]},{type:"Image",props:{y:239,x:15,width:656,var:"bg4",skin:"rank/contentdi0.png",sizeGrid:"31,33,33,32",height:560},compId:126},{type:"List",props:{y:250,x:32,width:618,visible:!1,var:"list",spaceY:10,height:540},compId:98,child:[{type:"Box",props:{y:0,x:0,width:618,renderType:"render",height:100},compId:45,child:[{type:"Image",props:{y:0,x:0,width:618,skin:"rank/1_di0.png",sizeGrid:"28,28,28,28",name:"bg",height:100},compId:46},{type:"Image",props:{y:12,x:116,width:82,skin:"rank/headdi0.png",sizeGrid:"28,28,28,28",name:"head",height:80},compId:48},{type:"Image",props:{y:49,x:63,skin:"rank/img_rank0.png",name:"imgQianSan",anchorY:.5,anchorX:.5},compId:83},{type:"Image",props:{y:35,x:47,skin:"rank/numdi0.png",name:"imgNo"},compId:109,child:[{type:"Label",props:{y:3,x:-7,width:47,text:"4",height:26,fontSize:30,font:"SimHei",color:"#ffffff",bold:!0,align:"center"},compId:110}]},{type:"Label",props:{y:32,x:237,width:125,text:"玩家昵称",name:"labelNickName",height:30,fontSize:30,font:"SimHei",color:"#ffffff",bold:!0},compId:114},{type:"Label",props:{y:32,x:469,width:125,text:"玩家成绩",name:"labelGrade",height:30,fontSize:30,font:"SimHei",color:"#ffffff",bold:!0},compId:115}]}]},{type:"Image",props:{y:816,x:15,width:656,var:"bg5",skin:"rank/contentdi0.png",sizeGrid:"31,33,33,32",height:100},compId:127},{type:"Box",props:{y:816,x:15,width:656,var:"boxMy",height:100},compId:134,child:[{type:"Image",props:{y:13,x:135,var:"imgMyHead",skin:"rank/headdi0.png"},compId:130},{type:"Label",props:{y:36,x:252,var:"txtMyName",text:"我",fontSize:32,color:"#ffffff",bold:!0},compId:131},{type:"Label",props:{y:36,x:368,var:"labelMyNo",text:"100",fontSize:32,color:"#ffffff",bold:!0,anchorX:.5},compId:132},{type:"Label",props:{y:36,x:540,var:"labelMyGrade",text:"100",fontSize:32,color:"#ffffff",bold:!0,anchorX:.5},compId:133}]},{type:"Button",props:{x:236,width:470,var:"btnXuanYao",stateNum:1,skin:"rank/xyyx2.png",sizeGrid:"11,24,27,24",height:75,bottom:38},compId:111,child:[{type:"Image",props:{y:-30,width:244,skin:"rank/xyyx1.png",sizeGrid:"24,24,24,24",right:0,left:0,height:86},compId:112,child:[{type:"Image",props:{width:249,skin:"rank/xyyx.png",height:60,centerY:0,centerX:0},compId:113}]}]},{type:"Button",props:{x:-11,width:220,var:"btnBack",stateNum:1,skin:"rank/fanhui2.png",sizeGrid:"11,24,27,24",height:75,bottom:38},compId:56,child:[{type:"Image",props:{y:-30,width:244,skin:"rank/fanhui1.png",sizeGrid:"24,24,29,24",right:0,left:0,height:86},compId:57,child:[{type:"Image",props:{width:118,skin:"rank/fanhui.png",height:61,centerY:0,centerX:0},compId:58}]}]}]},{type:"WXOpenDataViewer",props:{y:0,x:0,width:750,mouseThrough:!0,iconSign:"wx",height:2e3,centerX:0,runtime:"laya.ui.WXOpenDataViewer"},compId:118}],loadList:["main/img_blackMask.png","main/blackMask.png","rank/tab01.png","rank/tab10.png","rank/tab20.png","rank/tab30.png","rank/bg00.png","rank/bg10.png","rank/sjphb_di0.png","rank/hyphb.png","rank/contentdi0.png","rank/1_di0.png","rank/headdi0.png","rank/img_rank0.png","rank/numdi0.png","rank/xyyx2.png","rank/xyyx1.png","rank/xyyx.png","rank/fanhui2.png","rank/fanhui1.png","rank/fanhui.png"],loadList3D:[]},e.NewRankUI=y,p("ui.main.NewRankUI",y);class u extends r{constructor(){super()}createChildren(){super.createChildren(),this.createView(u.uiView)}}u.uiView={type:"View",props:{width:750,height:1360},compId:2,child:[{type:"Image",props:{var:"imgMask",top:0,skin:"main/img_blackMask.png",sizeGrid:"1,1,1,1",right:0,left:0,bottom:0,alpha:.6},compId:3},{type:"Box",props:{var:"boxMain",centerY:0,centerX:0},compId:13,child:[{type:"Image",props:{y:0,x:0,width:672,skin:"setting/bg_dollar.png",height:1198},compId:101},{type:"Image",props:{skin:"giftbag/dollar_bg.png",centerY:-89,centerX:0},compId:64,child:[{type:"Image",props:{y:498,skin:"setting/dollar_title.png",centerX:0},compId:65},{type:"Image",props:{y:575,width:480,skin:"setting/dollar_bg2.png",sizeGrid:"5,9,8,8",height:200,centerX:0},compId:66,child:[{type:"Image",props:{skin:"setting/dollar_bg3.png",left:20,centerY:0},compId:70,child:[{type:"Image",props:{skin:"setting/dollar_reward.png",centerY:0,centerX:0},compId:69}]},{type:"Image",props:{y:29,x:321,skin:"setting/dollar_twenty.png"},compId:71},{type:"Image",props:{y:29,x:383,skin:"setting/dollar_jew.png"},compId:74},{type:"Image",props:{x:365,skin:"setting/dollar_add.png",centerY:-15},compId:72},{type:"Image",props:{y:119,x:304,skin:"setting/dollar_thousand.png"},compId:73},{type:"Image",props:{y:115,x:405,skin:"setting/dollar_gold.png"},compId:75}]},{type:"Image",props:{y:815,width:200,skin:"setting/dollar_bg2.png",sizeGrid:"5,9,8,8",height:110,centerX:-140},compId:67,child:[{type:"Image",props:{skin:"setting/dollar_heart.png",left:10,centerY:0},compId:76},{type:"Image",props:{skin:"setting/dollar_x.png",centerY:0,centerX:15},compId:77},{type:"Image",props:{skin:"setting/dollar_three.png",right:30,centerY:0},compId:78},{type:"Image",props:{top:-22,skin:"setting/dollar_plus.png",left:-14},compId:82}]},{type:"Image",props:{y:815,width:200,skin:"setting/dollar_bg2.png",sizeGrid:"5,9,8,8",height:110,centerX:140},compId:68,child:[{type:"Image",props:{y:0,x:0,skin:"setting/dollar_fire.png",left:10,centerY:0},compId:79},{type:"Image",props:{y:0,x:0,skin:"setting/dollar_x.png",centerY:0,centerX:15},compId:80},{type:"Image",props:{y:0,x:0,skin:"setting/dollar_three.png",right:30,centerY:0},compId:81},{type:"Image",props:{y:0,x:0,top:-22,skin:"setting/dollar_plus.png",left:-14},compId:83}]},{type:"Image",props:{skin:"setting/dollar_word1.png",centerY:384,centerX:0},compId:84},{type:"Image",props:{skin:"setting/dollar_word2.png",centerY:342,centerX:0},compId:85}]},{type:"Button",props:{y:1084,x:336,width:294,var:"btnBuy",stateNum:1,skin:"setting/dollar_gain.png",sizeGrid:"11,24,27,24",scaleY:1,scaleX:1,pivotY:71.5,pivotX:147,height:143,anchorY:.5,anchorX:.5},compId:10,child:[{type:"Image",props:{y:-29.5,x:208,visible:!1,skin:"setting/shanguang.png"},compId:102},{type:"Image",props:{x:0,skin:"setting/liuguang3.png"},compId:103},{type:"Image",props:{x:0,visible:!1,skin:"setting/shan1.png"},compId:106}]},{type:"Button",props:{width:200,var:"btnBack",stateNum:1,height:35,centerX:0,bottom:0},compId:87,child:[{type:"Image",props:{skin:"setting/no_thanks.png",sizeGrid:"18,21,21,20",centerY:0,centerX:0},compId:88}]}]}],animations:[{nodes:[{target:10,keyframes:{y:[{value:1089,tweenMethod:"linearNone",tween:!0,target:10,key:"y",index:0},{value:1089,tweenMethod:"linearNone",tween:!0,target:10,key:"y",index:7},{value:1089,tweenMethod:"linearNone",tween:!0,target:10,key:"y",index:8},{value:1089,tweenMethod:"linearNone",tween:!0,target:10,label:null,key:"y",index:15},{value:1089,tweenMethod:"linearNone",tween:!0,target:10,label:null,key:"y",index:16},{value:1089,tweenMethod:"linearNone",tween:!0,target:10,key:"y",index:29}],x:[{value:337,tweenMethod:"linearNone",tween:!0,target:10,key:"x",index:0}],scaleY:[{value:1,tweenMethod:"linearNone",tween:!0,target:10,key:"scaleY",index:0},{value:1.1,tweenMethod:"linearNone",tween:!0,target:10,key:"scaleY",index:7},{value:1,tweenMethod:"linearNone",tween:!0,target:10,key:"scaleY",index:8},{value:1.1,tweenMethod:"linearNone",tween:!0,target:10,label:null,key:"scaleY",index:15},{value:1,tweenMethod:"linearNone",tween:!0,target:10,label:null,key:"scaleY",index:16},{value:1,tweenMethod:"linearNone",tween:!0,target:10,label:null,key:"scaleY",index:40}],scaleX:[{value:1,tweenMethod:"linearNone",tween:!0,target:10,key:"scaleX",index:0},{value:1.1,tweenMethod:"linearNone",tween:!0,target:10,key:"scaleX",index:7},{value:1,tweenMethod:"linearNone",tween:!0,target:10,key:"scaleX",index:8},{value:1.1,tweenMethod:"linearNone",tween:!0,target:10,label:null,key:"scaleX",index:15},{value:1,tweenMethod:"linearNone",tween:!0,target:10,label:null,key:"scaleX",index:16},{value:1,tweenMethod:"linearNone",tween:!0,target:10,label:null,key:"scaleX",index:40}],pivotY:[{value:71.5,tweenMethod:"linearNone",tween:!0,target:10,key:"pivotY",index:0}],pivotX:[{value:147,tweenMethod:"linearNone",tween:!0,target:10,key:"pivotX",index:0}],centerY:[{value:null,tweenMethod:"linearNone",tween:!1,target:10,key:"centerY",index:0}],anchorY:[{value:.5,tweenMethod:"linearNone",tween:!0,target:10,key:"anchorY",index:0},{value:.5,tweenMethod:"linearNone",tween:!0,target:10,key:"anchorY",index:7},{value:.5,tweenMethod:"linearNone",tween:!0,target:10,key:"anchorY",index:8},{value:.5,tweenMethod:"linearNone",tween:!0,target:10,label:null,key:"anchorY",index:15},{value:.5,tweenMethod:"linearNone",tween:!0,target:10,label:null,key:"anchorY",index:16},{value:.5,tweenMethod:"linearNone",tween:!0,target:10,key:"anchorY",index:29}],anchorX:[{value:.5,tweenMethod:"linearNone",tween:!0,target:10,key:"anchorX",index:0}]}},{target:102,keyframes:{x:[{value:208,tweenMethod:"linearNone",tween:!0,target:102,key:"x",index:0},{value:208,tweenMethod:"linearNone",tween:!0,target:102,key:"x",index:7},{value:208,tweenMethod:"linearNone",tween:!0,target:102,label:null,key:"x",index:16}],visible:[{value:!1,tweenMethod:"linearNone",tween:!1,target:102,key:"visible",index:0},{value:!0,tweenMethod:"linearNone",tween:!1,target:102,key:"visible",index:7},{value:!1,tweenMethod:"linearNone",tween:!1,target:102,key:"visible",index:16}]}},{target:103,keyframes:{x:[{value:0,tweenMethod:"linearNone",tween:!0,target:103,key:"x",index:0},{value:0,tweenMethod:"linearNone",tween:!0,target:103,key:"x",index:16},{value:0,tweenMethod:"linearNone",tween:!0,target:103,label:null,key:"x",index:19},{value:0,tweenMethod:"linearNone",tween:!0,target:103,label:null,key:"x",index:22},{value:0,tweenMethod:"linearNone",tween:!0,target:103,label:null,key:"x",index:25},{value:0,tweenMethod:"linearNone",tween:!0,target:103,label:null,key:"x",index:28},{value:0,tweenMethod:"linearNone",tween:!0,target:103,label:null,key:"x",index:31},{value:0,tweenMethod:"linearNone",tween:!0,target:103,label:null,key:"x",index:34},{value:0,tweenMethod:"linearNone",tween:!0,target:103,label:null,key:"x",index:37},{value:0,tweenMethod:"linearNone",tween:!0,target:103,label:null,key:"x",index:40}],skin:[{value:"setting/liuguang1.png",tweenMethod:"linearNone",tween:!1,target:103,key:"skin",index:0},{value:"setting/liuguang2.png",tweenMethod:"linearNone",tween:!1,target:103,key:"skin",index:19},{value:"setting/liuguang3.png",tweenMethod:"linearNone",tween:!1,target:103,key:"skin",index:22},{value:"setting/liuguang4.png",tweenMethod:"linearNone",tween:!1,target:103,key:"skin",index:25},{value:"setting/liuguang5.png",tweenMethod:"linearNone",tween:!1,target:103,key:"skin",index:28},{value:"setting/liuguang6.png",tweenMethod:"linearNone",tween:!1,target:103,key:"skin",index:31},{value:"setting/liuguang7.png",tweenMethod:"linearNone",tween:!1,target:103,key:"skin",index:34},{value:"setting/liuguang8.png",tweenMethod:"linearNone",tween:!1,target:103,key:"skin",index:37},{value:"setting/liuguang1.png",tweenMethod:"linearNone",tween:!1,target:103,key:"skin",index:40}]}},{target:106,keyframes:{x:[{value:0,tweenMethod:"linearNone",tween:!0,target:106,key:"x",index:0},{value:0,tweenMethod:"linearNone",tween:!0,target:106,label:null,key:"x",index:40},{value:0,tweenMethod:"linearNone",tween:!0,target:106,label:null,key:"x",index:41},{value:0,tweenMethod:"linearNone",tween:!0,target:106,label:null,key:"x",index:42},{value:0,tweenMethod:"linearNone",tween:!0,target:106,label:null,key:"x",index:43},{value:0,tweenMethod:"linearNone",tween:!0,target:106,label:null,key:"x",index:44}],visible:[{value:!1,tweenMethod:"linearNone",tween:!1,target:106,key:"visible",index:0},{value:!0,tweenMethod:"linearNone",tween:!1,target:106,key:"visible",index:40},{value:!0,tweenMethod:"linearNone",tween:!1,target:106,label:null,key:"visible",index:41},{value:!0,tweenMethod:"linearNone",tween:!1,target:106,label:null,key:"visible",index:42},{value:!0,tweenMethod:"linearNone",tween:!1,target:106,label:null,key:"visible",index:43},{value:!0,tweenMethod:"linearNone",tween:!1,target:106,label:null,key:"visible",index:44}],skin:[{value:"setting/shan1.png",tweenMethod:"linearNone",tween:!1,target:106,key:"skin",index:0},{value:"setting/shan2.png",tweenMethod:"linearNone",tween:!1,target:106,key:"skin",index:41},{value:"setting/shan3.png",tweenMethod:"linearNone",tween:!1,target:106,key:"skin",index:42},{value:"setting/shan4.png",tweenMethod:"linearNone",tween:!1,target:106,key:"skin",index:43}]}},{target:101,keyframes:{y:[{value:0,tweenMethod:"linearNone",tween:!0,target:101,key:"y",index:0},{value:92,tweenMethod:"linearNone",tween:!0,target:101,key:"y",index:44}],x:[{value:0,tweenMethod:"linearNone",tween:!0,target:101,key:"x",index:0},{value:-148,tweenMethod:"linearNone",tween:!0,target:101,label:null,key:"x",index:44}],alpha:[{value:1,tweenMethod:"linearNone",tween:!0,target:101,key:"alpha",index:0},{value:0,tweenMethod:"linearNone",tween:!0,target:101,key:"alpha",index:44}]}},{target:64,keyframes:{y:[{value:-90,tweenMethod:"linearNone",tween:!0,target:64,key:"y",index:0},{value:-70,tweenMethod:"linearNone",tween:!0,target:64,key:"y",index:22},{value:-90,tweenMethod:"linearNone",tween:!0,target:64,key:"y",index:44}],x:[{value:0,tweenMethod:"linearNone",tween:!0,target:64,key:"x",index:0},{value:0,tweenMethod:"linearNone",tween:!0,target:64,key:"x",index:22},{value:0,tweenMethod:"linearNone",tween:!0,target:64,label:null,key:"x",index:44}],centerY:[{value:0,tweenMethod:"linearNone",tween:!1,target:64,key:"centerY",index:0},{value:0,tweenMethod:"linearNone",tween:!0,target:64,key:"centerY",index:22},{value:0,tweenMethod:"linearNone",tween:!0,target:64,label:null,key:"centerY",index:44}]}}],name:"ani1",id:1,frameRate:24,action:2}],loadList:["main/img_blackMask.png","setting/bg_dollar.png","giftbag/dollar_bg.png","setting/dollar_title.png","setting/dollar_bg2.png","setting/dollar_bg3.png","setting/dollar_reward.png","setting/dollar_twenty.png","setting/dollar_jew.png","setting/dollar_add.png","setting/dollar_thousand.png","setting/dollar_gold.png","setting/dollar_heart.png","setting/dollar_x.png","setting/dollar_three.png","setting/dollar_plus.png","setting/dollar_fire.png","setting/dollar_word1.png","setting/dollar_word2.png","setting/dollar_gain.png","setting/shanguang.png","setting/liuguang3.png","setting/shan1.png","setting/no_thanks.png","setting/liuguang1.png","setting/liuguang2.png","setting/liuguang4.png","setting/liuguang5.png","setting/liuguang6.png","setting/liuguang7.png","setting/liuguang8.png","setting/shan2.png","setting/shan3.png","setting/shan4.png"],loadList3D:[]},e.OneDollarUI=u,p("ui.main.OneDollarUI",u);class b extends r{constructor(){super()}createChildren(){super.createChildren(),this.createView(b.uiView)}}b.uiView={type:"View",props:{width:750,height:1360},compId:2,child:[{type:"Image",props:{y:0,x:0,var:"imgBg",top:0,skin:"main/blackMask.png",sizeGrid:"5,5,5,5",right:0,left:0,bottom:0},compId:116},{type:"Box",props:{width:671,var:"box0",height:1018,centerX:0,bottom:200},compId:129,child:[{type:"Image",props:{y:0,skin:"prize/img_bg0.png",centerX:0},compId:117},{type:"Image",props:{y:474,x:342,width:434,var:"img_ring",skin:"prize/img_bg1.png",rotation:-180,pivotY:218,pivotX:217,height:435},compId:118,child:[{type:"Image",props:{y:88,x:217,width:123,var:"imgGuang0",skin:"prize/img_di_guang.png",pivotY:62,pivotX:62,height:123},compId:147},{type:"Image",props:{y:284,x:329,width:123,var:"imgGuang1",skin:"prize/img_di_guang.png",pivotY:62,pivotX:62,height:123},compId:148},{type:"Image",props:{y:289,x:100,var:"imgGuang2",skin:"prize/img_di_guang.png",pivotY:62,pivotX:62},compId:149},{type:"Image",props:{y:88,x:217,width:100,skin:"prize/img_logo_1.png",pivotY:50,pivotX:50,height:100},compId:141},{type:"Image",props:{y:149.5,x:334,width:100,skin:"prize/img_logo_4.png",rotation:60,pivotY:50,pivotX:50,height:100},compId:142},{type:"Image",props:{y:284,x:327,width:100,skin:"prize/img_logo_5.png",rotation:120,pivotY:50,pivotX:50,height:100},compId:143},{type:"Image",props:{y:357,x:217,width:100,skin:"prize/img_logo_3.png",rotation:180,pivotY:50,pivotX:50,height:100},compId:144},{type:"Image",props:{y:284,x:90,width:100,skin:"prize/img_logo_2.png",rotation:-120,pivotY:50,pivotX:50,height:100},compId:145},{type:"Image",props:{y:149.5,x:100,width:100,skin:"prize/img_logo_0.png",rotation:-60,pivotY:50,pivotX:50,height:100},compId:146}]},{type:"Image",props:{y:474,x:342,skin:"prize/img_bg2.png",rotation:0,anchorY:.5,anchorX:.5},compId:119},{type:"Image",props:{y:192,x:191.5,width:301,skin:"prize/img_bg3.png",height:106},compId:130},{type:"Image",props:{y:218,x:342,width:67,var:"imgPointer",skin:"prize/img_bg4.png",pivotY:22,pivotX:34,height:99},compId:131},{type:"Button",props:{y:897,x:25,width:210,var:"btnBack",stateNum:1,skin:"btn/img_btnTop2.png",sizeGrid:"11,24,30,24",height:129},compId:213,child:[{type:"Image",props:{y:-40,width:724,skin:"btn/img_8.png",sizeGrid:"24,24,24,24",right:0,left:0,height:140},compId:214,child:[{type:"Image",props:{skin:"prize/img_btn2_3.png",centerY:0,centerX:0},compId:215}]}]},{type:"Button",props:{y:897,x:252,width:406,var:"btnStart",stateNum:1,skin:"btn/img_blue_0.png",sizeGrid:"12,24,29,24",height:129},compId:126,child:[{type:"Image",props:{y:-40,width:724,skin:"btn/img_main_3.png",sizeGrid:"24,24,24,24",right:0,left:0,height:140},compId:127,child:[{type:"Image",props:{width:301,skin:"prize/img_btnbg0.png",height:119,centerY:-5,centerX:38},compId:128},{type:"Label",props:{y:94,x:298,width:55,var:"labelTimes",text:"5",height:31,fontSize:30,color:"#ffffff",bold:!0,align:"left"},compId:232}]}]},{type:"Image",props:{y:766,x:25,width:634,skin:"prize/img_bg_0.png",sizeGrid:"1,1,1,1",height:64},compId:132},{type:"Button",props:{y:205,x:613,width:45,var:"btnQues",stateNum:1,skin:"btn/img_btn0_2.png",sizeGrid:"5,12,15,12",height:36},compId:150,child:[{type:"Image",props:{y:-20,width:45,skin:"btn/img_btn0_1.png",sizeGrid:"17,17,17,17",right:0,left:0,height:42},compId:151,child:[{type:"Image",props:{skin:"prize/img_btn0_3.png",centerY:0,centerX:0},compId:152}]}]},{type:"Image",props:{y:877,x:0,width:513,visible:!1,var:"imgGiftTip",skin:"btn/img_gift_1.png",sizeGrid:"27,27,27,27",height:219},compId:153,child:[{type:"Image",props:{y:-24,x:55,skin:"btn/img_gift_0.png"},compId:154},{type:"Image",props:{width:400,skin:"prize/img_gift_2.png",height:70,centerY:0,centerX:0},compId:155}]},{type:"Box",props:{y:73,visible:!1,centerX:0},compId:233,child:[{type:"Image",props:{y:709,x:42,width:519,skin:"prize/img_bg_1.png",sizeGrid:"1,1,1,1",height:44},compId:136},{type:"Image",props:{y:711,x:47,width:475,var:"imgGiftBar",skin:"prize/img_bg_2.png",sizeGrid:"1,1,1,1",height:40},compId:137},{type:"Button",props:{y:739,width:64,var:"btnGift",stateNum:1,skin:"btn/img_btn1_2.png",sizeGrid:"5,24,15,24",height:27},compId:133,child:[{type:"Image",props:{y:-40,width:64,skin:"btn/img_btn1_1.png",sizeGrid:"24,24,24,28",right:0,left:0,height:51},compId:134,child:[{type:"Image",props:{skin:"prize/img_btn1_3.png",centerY:0,centerX:0},compId:135}]}]},{type:"Label",props:{y:718,x:266,width:70,var:"labelGift",text:"2/5",height:27,fontSize:27,color:"#ffffff",bold:!0,align:"center"},compId:138},{type:"Image",props:{y:691,x:511,var:"imgGift",skin:"prize/lucky_gift_5.png"},compId:139},{type:"Image",props:{x:127,skin:"prize/img_title.png"},compId:140}]}]},{type:"Box",props:{width:666,visible:!1,var:"box1",height:1001,centerX:0,bottom:200},compId:216,child:[{type:"Image",props:{x:9,width:650,skin:"btn/img_jiang_3.png",sizeGrid:"27,27,27,27",height:990},compId:156},{type:"Image",props:{y:22,skin:"prize/img_title2.png",centerX:0},compId:157},{type:"Image",props:{y:116,x:37,width:594,skin:"btn/img_jiang_2.png",sizeGrid:"27,27,27,27",height:122},compId:189,child:[{type:"Image",props:{y:5,x:5,width:136,skin:"btn/img_jiang_1.png",sizeGrid:"27,27,27,27",height:112},compId:190},{type:"Image",props:{y:64,x:73,width:123,var:"imgGuang3",skin:"prize/img_di_guang.png",pivotY:62,pivotX:62,height:123},compId:191},{type:"Image",props:{y:61,x:73,skin:"prize/img_logo_1.png",anchorY:.5,anchorX:.5},compId:192},{type:"Label",props:{y:21,x:275,width:201,valign:"middle",text:"超级大奖",height:43,fontSize:32,color:"#ffffff",bold:!0,align:"center"},compId:193},{type:"Label",props:{y:61,x:167,width:417,valign:"middle",text:"大量金币免费拿",height:43,fontSize:32,color:"#ffffff",bold:!0,align:"center"},compId:194}]},{type:"Image",props:{y:261,x:37,width:594,skin:"btn/img_jiang_2.png",sizeGrid:"27,27,27,27",height:122},compId:163,child:[{type:"Image",props:{y:5,x:5,width:136,skin:"btn/img_jiang_0.png",sizeGrid:"27,27,27,27",height:112},compId:164},{type:"Image",props:{y:64,x:73,width:123,var:"imgGuang4",skin:"prize/img_di_guang.png",pivotY:62,pivotX:62,height:123},compId:217},{type:"Image",props:{y:61,x:73,skin:"prize/img_logo_5.png",anchorY:.5,anchorX:.5},compId:165},{type:"Label",props:{y:21,x:275,width:201,valign:"middle",text:"一定时间内",height:43,fontSize:32,color:"#ffffff",bold:!0,align:"center"},compId:166},{type:"Label",props:{y:61,x:167,width:417,valign:"middle",text:"奔跑中可免费复活1次",height:43,fontSize:32,color:"#ffffff",bold:!0,align:"center"},compId:167}]},{type:"Image",props:{y:406,x:37,width:594,skin:"btn/img_jiang_2.png",sizeGrid:"27,27,27,27",height:122},compId:168,child:[{type:"Image",props:{y:5,x:5,width:136,skin:"btn/img_jiang_0.png",sizeGrid:"27,27,27,27",height:112},compId:169},{type:"Image",props:{y:64,x:73,width:123,var:"imgGuang5",skin:"prize/img_di_guang.png",pivotY:62,pivotX:62,height:123},compId:218},{type:"Image",props:{y:61,x:73,skin:"prize/img_logo_2.png",anchorY:.5,anchorX:.5},compId:170},{type:"Label",props:{y:21,x:275,width:201,valign:"middle",text:"一定时间内",height:43,fontSize:32,color:"#ffffff",bold:!0,align:"center"},compId:198},{type:"Label",props:{y:61,x:167,width:417,valign:"middle",text:"奔跑中可拾取更多金币",height:43,fontSize:32,color:"#ffffff",bold:!0,align:"center"},compId:199}]},{type:"Image",props:{y:550,x:37,width:594,skin:"btn/img_jiang_2.png",sizeGrid:"27,27,27,27",height:122},compId:173,child:[{type:"Image",props:{y:5,x:5,width:136,skin:"btn/img_jiang_4.png",sizeGrid:"27,27,27,27",height:112},compId:174},{type:"Image",props:{y:61,x:73,skin:"prize/img_logo_0.png",anchorY:.5,anchorX:.5},compId:175},{type:"Label",props:{y:21,x:275,width:201,valign:"middle",text:"一定时间内",height:43,fontSize:32,color:"#ffffff",bold:!0,align:"center"},compId:200},{type:"Label",props:{y:61,x:167,width:417,valign:"middle",text:"稀有动物出现几率提高",height:43,fontSize:32,color:"#ffffff",bold:!0,align:"center"},compId:201}]},{type:"Image",props:{y:695,x:37,width:594,skin:"btn/img_jiang_2.png",sizeGrid:"27,27,27,27",height:122},compId:178,child:[{type:"Image",props:{y:5,x:5,width:136,skin:"btn/img_jiang_4.png",sizeGrid:"27,27,27,27",height:112},compId:179},{type:"Image",props:{y:61,x:73,skin:"prize/img_logo_4.png",anchorY:.5,anchorX:.5},compId:180},{type:"Label",props:{y:21,x:275,width:201,valign:"middle",text:"一定时间内",height:43,fontSize:32,color:"#ffffff",bold:!0,align:"center"},compId:202},{type:"Label",props:{y:61,x:167,width:417,valign:"middle",text:"从更远的距离开始起跑",height:43,fontSize:32,color:"#ffffff",bold:!0,align:"center"},compId:203}]},{type:"Image",props:{y:840,x:37,width:594,skin:"btn/img_jiang_2.png",sizeGrid:"27,27,27,27",height:122},compId:183,child:[{type:"Image",props:{y:5,x:5,width:136,skin:"btn/img_jiang_4.png",sizeGrid:"27,27,27,27",height:112},compId:184},{type:"Image",props:{y:61,x:73,skin:"prize/img_logo_3.png",anchorY:.5,anchorX:.5},compId:185},{type:"Label",props:{y:21,x:275,width:201,valign:"middle",text:"一定时间内",height:43,fontSize:32,color:"#ffffff",bold:!0,align:"center"},compId:204},{type:"Label",props:{y:61,x:167,width:417,valign:"middle",text:"驯服动物所需时间减少",height:43,fontSize:32,color:"#ffffff",bold:!0,align:"center"},compId:205}]},{type:"Button",props:{width:90,visible:!0,var:"btnClose",top:40,stateNum:1,skin:"btn/btnColor1Down.png",sizeGrid:"24,24,24,24",right:10,height:64},compId:247,child:[{type:"Image",props:{y:-40,x:9,skin:"btn/btnColor1Up.png",sizeGrid:"24,24,24,24",right:0,left:0,height:84},compId:248,child:[{type:"Image",props:{skin:"main/close.png",centerY:0,centerX:0},compId:249}]}]}]},{type:"Box",props:{x:0,width:750,visible:!1,var:"box2",height:889,centerY:0},compId:219,child:[{type:"Image",props:{y:247.5,width:750,var:"imgMask",skin:"main/img_blackMask.png",sizeGrid:"3,3,3,3",height:1e3,centerY:0,centerX:0,alpha:.8},compId:220},{type:"Image",props:{y:235,width:229,var:"imgIcon",skin:"prize/img_logo_2.png",height:229,centerX:0,anchorY:.5,anchorX:.5},compId:221},{type:"Box",props:{y:-236,x:0,var:"youcant"},compId:240,child:[{type:"Button",props:{y:897,width:696,var:"btnSure2",stateNum:1,skin:"btn/img_4.png",sizeGrid:"24,24,24,24",left:24,height:110},compId:241,child:[{type:"Image",props:{y:-40,width:244,skin:"btn/img_5.png",sizeGrid:"24,24,24,24",right:0,left:0,height:130},compId:242,child:[{type:"Image",props:{skin:"hat/img_queding.png",centerY:0,centerX:0},compId:243}]}]}]},{type:"Box",props:{y:-236,x:0,var:"youCan"},compId:239,child:[{type:"Button",props:{y:897,x:18,width:368,var:"btnRedraw",stateNum:1,skin:"btn/img_main_4.png",sizeGrid:"11,24,27,24",height:110},compId:234,child:[{type:"Image",props:{y:-40,width:244,skin:"btn/img_main_3.png",sizeGrid:"24,24,24,24",right:0,left:0,height:130},compId:235,child:[{type:"Image",props:{y:27,x:224,width:120,skin:"prize/img_Ad.png",height:80},compId:237},{type:"Image",props:{y:28.5,x:61,width:142,skin:"preload/reSel.png",height:74},compId:238}]}]},{type:"Button",props:{y:897,x:405,width:314,var:"btnSure",stateNum:1,skin:"btn/img_4.png",sizeGrid:"24,24,24,24",left:405,height:110},compId:222,child:[{type:"Image",props:{y:-40,width:244,skin:"btn/img_5.png",sizeGrid:"24,24,24,24",right:0,left:0,height:130},compId:223,child:[{type:"Image",props:{skin:"hat/img_queding.png",centerY:0,centerX:0},compId:224}]}]}]},{type:"Label",props:{y:372,width:735,var:"labelResult",text:"驯服动物所需的时间减少40%",height:58,fontSize:50,font:"SimHei",color:"#e5e08e",centerX:0,align:"center"},compId:225},{type:"Label",props:{y:477,width:735,var:"labelTime",text:"持续时间：9:39",height:42,fontSize:42,font:"SimHei",color:"#e5e08e",centerX:0,align:"center"},compId:226}]},{type:"Box",props:{visible:!1,var:"oppoActive",right:0,left:0,height:210,bottom:0},compId:262,child:[{type:"Image",props:{width:750,skin:"main/di.png",sizeGrid:"1,1,1,1",name:"imgbg",height:210},compId:250},{type:"Image",props:{y:14,x:10,width:730,skin:"main/di1.png",sizeGrid:"27,30,33,32",height:184},compId:251},{type:"Image",props:{y:29,x:19,width:154,skin:"main/logodi.png",sizeGrid:"32,32,34,33",height:154},compId:252},{type:"Image",props:{width:60,skin:"main/adbg.png",sizeGrid:"1,1,1,1",height:26},compId:253,child:[{type:"Label",props:{y:3,x:9,text:"广告",fontSize:20,color:"#ffffff"},compId:254}]},{type:"Image",props:{y:100,x:575,width:156,skin:"main/ckgg.png",sizeGrid:"6,18,22,15",height:36},compId:255,child:[{type:"Image",props:{y:-20,x:0,width:156,skin:"main/ckgg1.png",sizeGrid:"19,21,19,20",height:47},compId:256},{type:"Label",props:{y:-8.5,x:32,text:"查看广告",fontSize:24,color:"#fffce7"},compId:257}]},{type:"Image",props:{y:22,x:692,skin:"main/qx.png",name:"imgClose"},compId:258},{type:"Image",props:{y:106,x:96,width:116,name:"imgIcon",height:116,anchorY:.5,anchorX:.5},compId:261},{type:"Label",props:{y:55,x:203,text:"疯狂动物园",name:"title",fontSize:30,color:"#fefefe"},compId:259},{type:"Label",props:{y:130,x:203,text:"疯狂动物园疯狂开跑",name:"title2",fontSize:22,color:"#ffffff"},compId:260}]}],loadList:["main/blackMask.png","prize/img_bg0.png","prize/img_bg1.png","prize/img_di_guang.png","prize/img_logo_1.png","prize/img_logo_4.png","prize/img_logo_5.png","prize/img_logo_3.png","prize/img_logo_2.png","prize/img_logo_0.png","prize/img_bg2.png","prize/img_bg3.png","prize/img_bg4.png","btn/img_btnTop2.png","btn/img_8.png","prize/img_btn2_3.png","btn/img_blue_0.png","btn/img_main_3.png","prize/img_btnbg0.png","prize/img_bg_0.png","btn/img_btn0_2.png","btn/img_btn0_1.png","prize/img_btn0_3.png","btn/img_gift_1.png","btn/img_gift_0.png","prize/img_gift_2.png","prize/img_bg_1.png","prize/img_bg_2.png","btn/img_btn1_2.png","btn/img_btn1_1.png","prize/img_btn1_3.png","prize/lucky_gift_5.png","prize/img_title.png","btn/img_jiang_3.png","prize/img_title2.png","btn/img_jiang_2.png","btn/img_jiang_1.png","btn/img_jiang_0.png","btn/img_jiang_4.png","btn/btnColor1Down.png","btn/btnColor1Up.png","main/close.png","main/img_blackMask.png","btn/img_4.png","btn/img_5.png","hat/img_queding.png","btn/img_main_4.png","prize/img_Ad.png","preload/reSel.png","main/di.png","main/di1.png","main/logodi.png","main/adbg.png","main/ckgg.png","main/ckgg1.png","main/qx.png"],loadList3D:[]},e.PrizeUI=b,p("ui.main.PrizeUI",b);class f extends r{constructor(){super()}createChildren(){super.createChildren(),this.createView(f.uiView)}}f.uiView={type:"View",props:{width:750,height:1360},compId:2,child:[{type:"Image",props:{var:"imgMask",top:0,skin:"main/img_blackMask.png",sizeGrid:"1,1,1,1",right:0,left:0,bottom:0,alpha:.6},compId:3},{type:"Box",props:{width:750,height:944,centerY:68,centerX:0},compId:136,child:[{type:"Button",props:{var:"tab0",top:0,stateNum:1,skin:"qqFriend/tjhy.png",left:0,anchorY:1,anchorX:0},compId:120},{type:"Button",props:{var:"tab1",top:0,stateNum:1,skin:"qqFriend/hyqq.png",centerX:0,anchorY:1},compId:121},{type:"Button",props:{var:"tab2",top:0,stateNum:1,skin:"qqFriend/wdhy.png",right:0,anchorY:1},compId:122},{type:"Image",props:{width:750,var:"bg1",top:95,skin:"qqFriend/bg.png",sizeGrid:"1,1,1,1",height:850},compId:124},{type:"Image",props:{width:730,var:"bg2",skin:"qqFriend/nrk.png",sizeGrid:"29,26,35,21",height:820,centerX:0,bottom:10},compId:125,child:[{type:"List",props:{x:10,width:710,visible:!1,var:"list",top:10,spaceY:10,height:540,centerX:0},compId:98,child:[{type:"Box",props:{y:0,width:710,renderType:"render",height:100,centerX:0},compId:45,child:[{type:"Image",props:{y:0,width:710,skin:"qqFriend/4_di.png",sizeGrid:"28,28,28,28",name:"bg",height:100,centerX:0},compId:46},{type:"Image",props:{width:77,skin:"qqFriend/head_img.png",sizeGrid:"28,28,28,28",name:"head",left:30,height:80,centerY:0},compId:48},{type:"Label",props:{width:125,text:"玩家昵称",name:"labelNickName",left:150,height:30,fontSize:30,font:"SimHei",color:"#ffffff",centerY:0,bold:!0},compId:114},{type:"Button",props:{x:494,width:170,var:"btn00",stateNum:1,skin:"btn/btnGreen2.png",sizeGrid:"16,24,32,24",name:"btn",height:44,centerY:10},compId:137,child:[{type:"Image",props:{y:-25,x:0,width:170,skin:"btn/btnGreen1.png",sizeGrid:"24,24,24,24",height:60},compId:138,child:[{type:"Image",props:{skin:"qqFriend/addFriend.png",centerY:0,centerX:0},compId:143}]}]}]}]}]}]}],loadList:["main/img_blackMask.png","qqFriend/tjhy.png","qqFriend/hyqq.png","qqFriend/wdhy.png","qqFriend/bg.png","qqFriend/nrk.png","qqFriend/4_di.png","qqFriend/head_img.png","btn/btnGreen2.png","btn/btnGreen1.png","qqFriend/addFriend.png"],loadList3D:[]},e.qqFriendUI=f,p("ui.main.qqFriendUI",f);class v extends r{constructor(){super()}createChildren(){super.createChildren(),this.createView(v.uiView)}}v.uiView={type:"View",props:{width:750,height:1360},compId:2,child:[{type:"Image",props:{y:0,x:0,var:"imgBg",top:0,skin:"main/blackMask.png",sizeGrid:"5,5,5,5",right:0,left:0,bottom:0},compId:418},{type:"ViewStack",props:{x:0,var:"vs",top:0,selectedIndex:4,right:0,left:0,bottom:0,alpha:1},compId:10,child:[{type:"Box",props:{width:750,top:280,name:"item0",left:0,bottom:0},compId:11,child:[{type:"Button",props:{y:0,x:13,var:"btnRenwu",stateNum:1,skin:"btn/img_btn1_2.png",sizeGrid:"9,24,32,24",right:13,left:13,height:49},compId:431,child:[{type:"Image",props:{y:-42,width:724,skin:"btn/img_btn1_1.png",sizeGrid:"24,24,24,24",right:0,left:0,height:72},compId:432,child:[{type:"Image",props:{skin:"setting/img_zi_4.png",centerY:0,centerX:0},compId:433}]}]},{type:"Button",props:{y:114,var:"btnShop",stateNum:1,skin:"btn/img_btn1_2.png",sizeGrid:"9,24,32,24",right:13,left:13,height:49},compId:422,child:[{type:"Image",props:{y:-42,width:724,skin:"btn/img_btn1_1.png",sizeGrid:"24,24,24,24",right:0,left:0,height:72},compId:423,child:[{type:"Image",props:{skin:"setting/img_zi_5.png",centerY:0,centerX:0},compId:424}]}]},{type:"Button",props:{y:227,x:13,var:"btnSet",stateNum:1,skin:"btn/img_btn1_2.png",sizeGrid:"9,24,32,24",right:13,left:13,height:49},compId:419,child:[{type:"Image",props:{y:-42,width:724,skin:"btn/img_btn1_1.png",sizeGrid:"24,24,24,24",right:0,left:0,height:72},compId:420,child:[{type:"Image",props:{skin:"setting/img_zi_6.png",centerY:0,centerX:0},compId:421}]}]},{type:"Button",props:{y:341,x:13,visible:!0,var:"btnJinDu",stateNum:1,skin:"btn/img_btn1_2.png",sizeGrid:"9,24,32,24",right:13,left:13,height:49},compId:428,child:[{type:"Image",props:{y:-42,width:724,skin:"btn/img_btn1_1.png",sizeGrid:"24,24,24,24",right:0,left:0,height:72},compId:429,child:[{type:"Image",props:{skin:"setting/img_zi_3.png",centerY:0,centerX:0},compId:430}]}]},{type:"Button",props:{y:454,visible:!1,var:"btnZhiZuo",stateNum:1,skin:"btn/img_btn1_2.png",sizeGrid:"9,24,32,24",right:13,left:13,height:49},compId:437,child:[{type:"Image",props:{y:-42,width:724,skin:"btn/img_btn1_1.png",sizeGrid:"24,24,24,24",right:0,left:0,height:72},compId:438,child:[{type:"Image",props:{skin:"setting/img_zi_12.png",centerY:0,centerX:0},compId:439}]}]},{type:"Button",props:{y:568,visible:!1,var:"btnMore",stateNum:1,skin:"btn/img_btn1_2.png",sizeGrid:"9,24,32,24",right:13,left:13,height:49},compId:440,child:[{type:"Image",props:{y:-42,width:724,skin:"btn/img_btn1_1.png",sizeGrid:"24,24,24,24",right:0,left:0,height:72},compId:441,child:[{type:"Image",props:{skin:"setting/img_zi_1.png",centerY:0,centerX:0},compId:442}]}]},{type:"Button",props:{y:486,x:58,width:103,visible:!0,var:"btnKf",stateNum:1,skin:"btn/img_4.png",sizeGrid:"9,24,32,23",height:70},compId:878,child:[{type:"Image",props:{y:-42,x:0,width:103,skin:"setting/kf.png",sizeGrid:"24,24,24,24",height:104},compId:879}]},{type:"Button",props:{y:486,x:526,width:103,visible:!1,var:"btnAtt",stateNum:1,skin:"btn/img_btn_2.png",sizeGrid:"9,24,32,23",height:70},compId:947,child:[{type:"Image",props:{y:-42,x:0,width:103,skin:"setting/img_btn_3.png",sizeGrid:"24,24,24,24",height:104},compId:948}]},{type:"Button",props:{y:446,x:364,width:103,visible:!1,var:"btnGameClub",stateNum:1,skin:"btn/img_btn_2.png",sizeGrid:"9,24,32,23",height:103},compId:949,child:[{type:"Image",props:{y:-42,x:0,width:103,skin:"setting/img_btn_3.png",sizeGrid:"24,24,24,24",height:104},compId:950}]},{type:"Button",props:{y:486,x:214,width:103,visible:!0,var:"btnCode",stateNum:1,skin:"setting/dhm1.png",sizeGrid:"9,24,37,23",height:70},compId:1042,child:[{type:"Image",props:{y:-42,x:0,width:103,skin:"setting/dhm.png",sizeGrid:"21,0,37,0",height:104},compId:1043}]},{type:"Box",props:{y:0,x:0,visible:!1,var:"vivoActive",centerY:0,centerX:0},compId:1067,child:[{type:"Image",props:{width:690,skin:"main/vivo_di.png",sizeGrid:"24,21,27,19",name:"imgbg",height:900,centerY:0,centerX:0},compId:1068},{type:"Image",props:{width:244,skin:"btn/btnColor1Up.png",sizeGrid:"20,18,22,19",height:74,centerX:0,bottom:50},compId:1069,child:[{type:"Image",props:{y:-20,x:0,width:244,skin:"btn/btnColor2Up.png",sizeGrid:"19,21,19,20",height:74},compId:1070,child:[{type:"Image",props:{skin:"main/vivo_go.png",centerY:0,centerX:0},compId:1071}]}]},{type:"Image",props:{width:80,skin:"main/adbg.png",sizeGrid:"1,1,1,1",right:0,height:35,bottom:25},compId:1072,child:[{type:"Label",props:{text:"广告",fontSize:25,color:"#ffffff",centerY:0,centerX:0},compId:1073}]},{type:"Label",props:{text:"疯狂动物园",name:"title",fontSize:48,color:"#6f2e00",centerY:62,centerX:-2},compId:1074},{type:"Label",props:{y:616,text:"疯狂动物园疯狂开跑",name:"title2",fontSize:36,color:"#6f2e00",centerX:0},compId:1075},{type:"Image",props:{y:10,x:10,width:670,top:10,sizeGrid:"28,23,25,20",name:"imgPicture",height:353,centerX:0},compId:1076},{type:"Image",props:{y:30,x:612,top:20,skin:"main/vivo_cancel.png",right:20,name:"imgClose"},compId:1077}]},{type:"Button",props:{y:486,x:364,width:103,visible:!1,var:"btnFriend",stateNum:1,skin:"qqFriend/jhy1.png",sizeGrid:"9,24,32,23",height:70},compId:1078,child:[{type:"Image",props:{y:-42,x:0,width:103,skin:"qqFriend/jhy.png",sizeGrid:"24,24,24,24",height:104},compId:1079}]}]},{type:"Box",props:{right:0,name:"item1",left:0,height:506,centerY:0},compId:81,child:[{type:"Image",props:{width:750,var:"imgTask0",skin:"setting/img_bg_0.png",sizeGrid:"2,2,2,2",left:0,height:156,alpha:.6},compId:443},{type:"Label",props:{wordWrap:!0,width:476,var:"task0",valign:"middle",text:"一二三四五六七八九十一二三四五六七八九十",left:14,height:106,fontSize:40,color:"#e3bffe",centerY:-175,align:"center"},compId:849},{type:"Image",props:{y:78,x:645,visible:!1,var:"imgLv0",skin:"setting/img_star.png",anchorY:.5,anchorX:.5},compId:609},{type:"Button",props:{y:99,x:574,width:167,var:"btnStart",stateNum:1,skin:"btn/img_btn1_2.png",sizeGrid:"9,24,32,24",height:49},compId:445,child:[{type:"Image",props:{y:-92,width:724,skin:"btn/img_btn1_1.png",sizeGrid:"24,24,24,24",right:0,left:0,height:111},compId:446,child:[{type:"Image",props:{skin:"setting/img_start.png",centerY:0,centerX:0},compId:447}]}]},{type:"Button",props:{y:97,x:574,width:167,var:"btnAd0",stateNum:1,skin:"btn/btnGreen2.png",sizeGrid:"9,24,32,24",height:49},compId:606,child:[{type:"Image",props:{y:-92,width:724,skin:"btn/btnGreen1.png",sizeGrid:"24,24,24,24",right:0,left:0,height:111},compId:607,child:[{type:"Image",props:{skin:"setting/img_ad.png",centerY:0,centerX:0},compId:608}]}]},{type:"Box",props:{y:8,x:14,width:560,visible:!1,var:"boxWait0",height:140},compId:597,child:[{type:"Label",props:{width:560,valign:"middle",text:"观看广告立即免费刷新任务",rotation:0,height:49,fontSize:41,color:"#ffffff",centerY:0,bold:!0,align:"center"},compId:600}]},{type:"Image",props:{y:176,x:0,width:750,var:"imgTask1",skin:"setting/img_bg_1.png",sizeGrid:"2,2,2,2",left:0,height:156,alpha:.6},compId:448},{type:"Label",props:{wordWrap:!0,width:476,var:"task1",valign:"middle",text:"一二三四五六七八九十一二三四五六七八九十",left:14,height:106,fontSize:40,color:"#fffdc3",centerY:0,align:"center"},compId:850},{type:"Box",props:{y:183,x:14,width:560,visible:!1,var:"boxWait1",height:140},compId:579,child:[{type:"Label",props:{width:560,valign:"middle",text:"观看广告立即免费刷新任务",rotation:0,height:49,fontSize:41,color:"#ffffff",centerY:0,bold:!0,align:"center"},compId:457}]},{type:"Button",props:{y:275,x:574,width:167,var:"btnAd1",stateNum:1,skin:"btn/btnGreen2.png",sizeGrid:"9,24,32,24",height:49},compId:603,child:[{type:"Image",props:{y:-92,width:724,skin:"btn/btnGreen1.png",sizeGrid:"24,24,24,24",right:0,left:0,height:111},compId:604,child:[{type:"Image",props:{y:0,x:0,var:"otherTask",skin:"setting/img_ad.png",centerY:0,centerX:0},compId:1063},{type:"Label",props:{y:0,x:0,visible:!1,var:"hwTask",text:"50",right:20,left:30,fontSize:50,color:"#ffffff",centerY:0,bold:!0},compId:1064,child:[{type:"Image",props:{y:-7,skin:"setting/img_icon_1.png",right:0},compId:1065}]}]}]},{type:"Image",props:{y:254,x:645,visible:!1,var:"imgLv1",skin:"setting/img_star.png",anchorY:.5,anchorX:.5},compId:450},{type:"Image",props:{y:350,x:0,width:750,var:"imgTask2",skin:"setting/img_bg_2.png",sizeGrid:"2,2,2,2",left:0,height:156,alpha:.6},compId:454},{type:"Label",props:{wordWrap:!0,width:476,var:"task2",valign:"middle",text:"一二三四五六七八九十一二三四五六七八九十",left:14,height:106,fontSize:40,color:"#ffffff",centerY:179,align:"center"},compId:851},{type:"Box",props:{y:359,x:0,width:560,visible:!1,var:"boxWait2",height:138},compId:584,child:[{type:"Label",props:{width:560,valign:"middle",text:"观看广告立即免费刷新任务",rotation:0,height:49,fontSize:41,color:"#ffffff",centerY:0,bold:!0,align:"center"},compId:587}]},{type:"Button",props:{y:450,x:574,width:167,var:"btnAd2",stateNum:1,skin:"btn/btnGreen2.png",sizeGrid:"9,24,32,24",height:49},compId:458,child:[{type:"Image",props:{y:-92,width:724,skin:"btn/btnGreen1.png",sizeGrid:"24,24,24,24",right:0,left:0,height:111},compId:459,child:[{type:"Image",props:{y:0,x:0,skin:"setting/img_ad.png",centerY:0,centerX:0},compId:1066}]}]},{type:"Image",props:{y:432,x:645,visible:!1,var:"imgLv2",skin:"setting/img_star.png",anchorY:.5,anchorX:.5},compId:612},{type:"Box",props:{y:359,x:0,visible:!1},compId:874,child:[{type:"Label",props:{width:560,valign:"middle",text:"新任务在-11时-43分 后出现",height:52,fontSize:41,color:"#ffffff",bold:!0,align:"center"},compId:875},{type:"Label",props:{y:48,width:560,valign:"middle",text:"或者",height:46,fontSize:41,color:"#ffffff",bold:!0,align:"center"},compId:876},{type:"Label",props:{y:91,width:560,valign:"middle",text:"观看广告立即免费刷新任务",rotation:0,height:49,fontSize:41,color:"#ffffff",bold:!0,align:"center"},compId:877}]}]},{type:"Box",props:{top:0,right:0,name:"item2",left:0,bottom:0},compId:105,child:[{type:"Panel",props:{width:719,var:"panel",top:0,centerX:0,bottom:200},compId:464,child:[{type:"Box",props:{y:0,x:95,width:560,var:"boxPanel",height:1473},compId:497,child:[{type:"Label",props:{y:145,width:560,valign:"middle",text:"收集进度",height:62,fontSize:60,color:"#d9d375",centerX:0,bold:!0,align:"center"},compId:461},{type:"Label",props:{y:257,width:560,valign:"middle",text:"0%",height:124,fontSize:130,color:"#d9d375",centerX:0,bold:!0,align:"center"},compId:462},{type:"Label",props:{y:381,width:560,valign:"middle",text:"最高分2443米",height:62,fontSize:41,color:"#d9d375",centerX:0,bold:!0,align:"center"},compId:463},{type:"Image",props:{y:488,width:542,skin:"setting/img_bg_2.png",sizeGrid:"2,2,2,2",height:60,centerX:0},compId:465,child:[{type:"Image",props:{x:0,width:100,skin:"setting/img_bg_3.png",sizeGrid:"2,2,2,2",height:60},compId:466},{type:"Label",props:{y:0,width:523,valign:"middle",text:"最高分2443米",height:62,fontSize:41,color:"#ffffff",centerX:0,bold:!0,align:"center"},compId:467}]},{type:"Image",props:{y:565,width:542,skin:"setting/img_bg_2.png",sizeGrid:"2,2,2,2",height:60,centerX:0},compId:468,child:[{type:"Image",props:{x:0,width:100,skin:"setting/img_bg_3.png",sizeGrid:"2,2,2,2",height:60},compId:469},{type:"Label",props:{y:0,width:523,valign:"middle",text:"最高分2443米",height:62,fontSize:41,color:"#ffffff",centerX:0,bold:!0,align:"center"},compId:470}]},{type:"Image",props:{y:637,width:542,skin:"setting/img_bg_2.png",sizeGrid:"2,2,2,2",height:60,centerX:0},compId:474,child:[{type:"Image",props:{x:0,width:100,skin:"setting/img_bg_3.png",sizeGrid:"2,2,2,2",height:60},compId:475},{type:"Label",props:{y:0,width:523,valign:"middle",text:"最高分2443米",height:62,fontSize:41,color:"#ffffff",centerX:0,bold:!0,align:"center"},compId:476}]},{type:"Image",props:{y:710,width:542,skin:"setting/img_bg_2.png",sizeGrid:"2,2,2,2",height:60,centerX:0},compId:477,child:[{type:"Image",props:{x:0,width:100,skin:"setting/img_bg_3.png",sizeGrid:"2,2,2,2",height:60},compId:478},{type:"Label",props:{y:0,width:523,valign:"middle",text:"最高分2443米",height:62,fontSize:41,color:"#ffffff",centerX:0,bold:!0,align:"center"},compId:479}]},{type:"Image",props:{y:783,width:542,skin:"setting/img_bg_2.png",sizeGrid:"2,2,2,2",height:60,centerX:0},compId:480,child:[{type:"Image",props:{x:0,width:100,skin:"setting/img_bg_3.png",sizeGrid:"2,2,2,2",height:60},compId:481},{type:"Label",props:{y:0,width:523,valign:"middle",text:"最高分2443米",height:62,fontSize:41,color:"#ffffff",centerX:0,bold:!0,align:"center"},compId:482}]},{type:"Image",props:{y:857,width:542,skin:"setting/img_bg_2.png",sizeGrid:"2,2,2,2",height:60,centerX:0},compId:483,child:[{type:"Image",props:{x:0,width:100,skin:"setting/img_bg_3.png",sizeGrid:"2,2,2,2",height:60},compId:484},{type:"Label",props:{y:0,width:523,valign:"middle",text:"最高分2443米",height:62,fontSize:41,color:"#ffffff",centerX:0,bold:!0,align:"center"},compId:485}]},{type:"Image",props:{y:930,width:542,skin:"setting/img_bg_2.png",sizeGrid:"2,2,2,2",height:60,centerX:0},compId:486,child:[{type:"Image",props:{x:0,width:100,skin:"setting/img_bg_3.png",sizeGrid:"2,2,2,2",height:60},compId:487},{type:"Label",props:{y:0,width:523,valign:"middle",text:"最高分2443米",height:62,fontSize:41,color:"#ffffff",centerX:0,bold:!0,align:"center"},compId:488}]},{type:"Label",props:{y:1012,width:523,valign:"middle",text:"获得了825金币",height:62,fontSize:41,color:"#ffffff",centerX:0,bold:!0,align:"center"},compId:489},{type:"Label",props:{y:1064,width:523,valign:"middle",text:"完成了100个任务",height:62,fontSize:41,color:"#ffffff",centerX:0,bold:!0,align:"center"},compId:490},{type:"Label",props:{y:1116,width:523,valign:"middle",text:"完成了100个任务",height:62,fontSize:41,color:"#ffffff",centerX:0,bold:!0,align:"center"},compId:491},{type:"Label",props:{y:1168,width:523,valign:"middle",text:"完成了100个任务",height:62,fontSize:41,color:"#ffffff",centerX:0,bold:!0,align:"center"},compId:492},{type:"Label",props:{y:1220,width:523,valign:"middle",text:"完成了100个任务",height:62,fontSize:41,color:"#ffffff",centerX:0,bold:!0,align:"center"},compId:493},{type:"Label",props:{y:1272,width:523,valign:"middle",text:"完成了100个任务",height:62,fontSize:41,color:"#ffffff",centerX:0,bold:!0,align:"center"},compId:494},{type:"Label",props:{y:1324,width:523,valign:"middle",text:"完成了100个任务",height:62,fontSize:41,color:"#ffffff",centerX:0,bold:!0,align:"center"},compId:495},{type:"Label",props:{y:1376,width:523,valign:"middle",text:"完成了100个任务",height:62,fontSize:41,color:"#ffffff",centerX:0,bold:!0,align:"center"},compId:496}]}]}]},{type:"Box",props:{x:15,width:720,name:"item3",height:594,centerY:0},compId:498,child:[{type:"Button",props:{y:233,x:0,width:356,var:"btnYinXiao",stateNum:1,skin:"btn/img_btn1_2.png",sizeGrid:"9,24,32,24",height:81},compId:539,child:[{type:"Image",props:{y:-42,skin:"btn/img_btn1_1.png",sizeGrid:"24,24,24,24",right:0,left:0,height:96},compId:540,child:[{type:"Image",props:{width:89,skin:"setting/img_zi_10.png",height:48,centerY:0,centerX:44},compId:541},{type:"Image",props:{y:9,x:9,width:78,skin:"btn/img_check_bg.png",sizeGrid:"24,24,32,29",height:78},compId:542},{type:"Image",props:{y:17,x:17,skin:"setting/img_check.png",name:"gou"},compId:543}]}]},{type:"Button",props:{y:233,x:364,width:356,var:"btnYinYue",stateNum:1,skin:"btn/img_btn1_2.png",sizeGrid:"9,24,32,24",height:81},compId:549,child:[{type:"Image",props:{y:-42,skin:"btn/img_btn1_1.png",sizeGrid:"24,24,24,24",right:0,left:0,height:96},compId:550,child:[{type:"Image",props:{width:89,skin:"setting/img_zi_9.png",height:48,centerY:0,centerX:44},compId:551},{type:"Image",props:{y:9,x:9,width:78,skin:"btn/img_check_bg.png",sizeGrid:"24,24,32,29",height:78},compId:552},{type:"Image",props:{y:17,x:17,skin:"setting/img_check.png",name:"gou"},compId:553}]}]},{type:"Box",props:{y:0,x:0,visible:!1},compId:848,child:[{type:"Image",props:{y:0,x:195.5,skin:"setting/img_zi_0.png"},compId:533},{type:"Image",props:{y:94,x:46.5,width:627,skin:"btn/img_bg5.png",sizeGrid:"1,1,1,1",height:40},compId:534,child:[{type:"Image",props:{y:0,x:0,width:100,var:"imgSlider",skin:"setting/img_bg_4.png",sizeGrid:"1,1,1,1",height:40},compId:538},{type:"Button",props:{y:31,x:100,width:78,var:"btnSlider",stateNum:1,skin:"btn/img_btn1_2.png",sizeGrid:"9,24,32,24",pivotY:36,pivotX:39,height:72},compId:535,child:[{type:"Image",props:{y:-21,skin:"btn/img_btn1_1.png",sizeGrid:"24,24,24,24",right:0,left:0,height:78},compId:536,child:[{type:"Image",props:{width:67,skin:"setting/img_slider.png",height:39,centerY:0,centerX:0},compId:537}]}]}]},{type:"Button",props:{y:364,x:0,width:356,var:"btnYinYing",stateNum:1,skin:"btn/img_btn1_2.png",sizeGrid:"9,24,32,24",height:81},compId:554,child:[{type:"Image",props:{y:-42,skin:"btn/img_btn1_1.png",sizeGrid:"24,24,24,24",right:0,left:0,height:96},compId:555,child:[{type:"Image",props:{skin:"setting/img_zi_8.png",centerY:0,centerX:44},compId:556},{type:"Image",props:{y:9,x:9,width:78,skin:"btn/img_check_bg.png",sizeGrid:"24,24,32,29",height:78},compId:557},{type:"Image",props:{y:17,x:17,skin:"setting/img_check.png"},compId:558}]}]},{type:"Button",props:{y:364,x:364,width:356,var:"btnShengDian",stateNum:1,skin:"btn/img_btn1_2.png",sizeGrid:"9,24,32,24",height:81},compId:559,child:[{type:"Image",props:{y:-42,skin:"btn/img_btn1_1.png",sizeGrid:"24,24,24,24",right:0,left:0,height:96},compId:560,child:[{type:"Image",props:{skin:"setting/img_zi_7.png",centerY:0,centerX:44},compId:561},{type:"Image",props:{y:9,x:9,width:78,skin:"btn/img_check_bg.png",sizeGrid:"24,24,32,29",height:78},compId:562},{type:"Image",props:{y:17,x:17,skin:"setting/img_check.png"},compId:563}]}]},{type:"Button",props:{y:496,x:0,width:356,var:"BtnYuYan",stateNum:1,skin:"btn/img_btn1_2.png",sizeGrid:"9,24,32,24",height:81},compId:564,child:[{type:"Image",props:{y:-42,skin:"btn/img_btn1_1.png",sizeGrid:"24,24,24,24",right:0,left:0,height:96},compId:565,child:[{type:"Image",props:{skin:"setting/img_zi_11.png",centerY:0,centerX:0},compId:566}]}]},{type:"Button",props:{y:496,x:364,width:356,var:"btnHuiFu",stateNum:1,skin:"btn/img_btn1_2.png",sizeGrid:"9,24,32,24",height:81},compId:574,child:[{type:"Image",props:{y:-42,skin:"btn/img_btn1_1.png",sizeGrid:"24,24,24,24",right:0,left:0,height:96},compId:575,child:[{type:"Image",props:{skin:"setting/img_zi_2.png",centerY:0,centerX:0},compId:576}]}]}]}]},{type:"Box",props:{width:750,name:"item4",height:1080,centerY:0,centerX:0,alpha:1},compId:648,child:[{type:"Image",props:{y:-36,x:0,width:750,skin:"btn/img_bg04.png",sizeGrid:"28,28,28,28",height:77},compId:883},{type:"Image",props:{y:10,x:0,width:750,skin:"setting/img_bg_3.png",sizeGrid:"1,1,1,1",height:860},compId:886},{type:"Image",props:{y:26,x:10,width:730,skin:"btn/img_bg0.png",sizeGrid:"28,28,28,28",height:800},compId:887},{type:"Box",props:{y:35,width:630,var:"boxSignin",height:758,centerX:0},compId:735,child:[{type:"Box",props:{x:0,width:150,styleSkin:"btn/signin_8.png",sizeGrid:"26,26,47,28",height:166,bottom:350},compId:683,child:[{type:"Image",props:{y:120,x:0,width:150,skin:"btn/img_bg8.png",sizeGrid:"33,29,29,26",name:"di",height:58},compId:888},{type:"Image",props:{y:0,x:0,width:150,skin:"btn/img_bg5.png",sizeGrid:"28,28,28,28",name:"bg",height:166},compId:882},{type:"Image",props:{y:0,x:0,width:150,skin:"btn/img_bg3.png",sizeGrid:"33,29,0,26",name:"top",height:53},compId:685},{type:"Image",props:{skin:"setting/img_icon_1.png",name:"icon",centerY:16,centerX:0,anchorY:.5,anchorX:.5},compId:687},{type:"Image",props:{y:11.5,x:29,width:92,skin:"setting/img_day0.png",name:"day",height:30},compId:688},{type:"Label",props:{y:137,width:150,text:"X150",name:"label",height:26,fontSize:24,font:"SimHei",color:"#ffffff",centerX:0,bold:!0,align:"center"},compId:689},{type:"Image",props:{y:0,x:0,width:150,skin:"btn/signin_9.png",sizeGrid:"38,31,42,47",name:"imgMask",height:166},compId:684,child:[{type:"Image",props:{skin:"setting/img_4.png",name:"comp",centerY:14,centerX:0},compId:686}]}]},{type:"Box",props:{width:150,styleSkin:"btn/signin_8.png",sizeGrid:"26,26,47,28",height:166,centerX:0,bottom:350},compId:983,child:[{type:"Image",props:{y:120,x:0,width:150,skin:"btn/img_bg8.png",sizeGrid:"33,29,29,26",name:"di",height:58},compId:984},{type:"Image",props:{y:0,x:0,width:150,skin:"btn/img_bg5.png",sizeGrid:"28,28,28,28",name:"bg",height:166},compId:985},{type:"Image",props:{y:0,x:0,width:150,skin:"btn/img_bg3.png",sizeGrid:"33,29,0,26",name:"top",height:53},compId:986},{type:"Image",props:{skin:"setting/img_icon_1.png",name:"icon",centerY:16,centerX:0,anchorY:.5,anchorX:.5},compId:987},{type:"Image",props:{y:11.5,x:29,width:92,skin:"setting/img_day0.png",name:"day",height:30},compId:988},{type:"Label",props:{y:137,width:150,text:"X150",name:"label",height:26,fontSize:24,font:"SimHei",color:"#ffffff",centerX:0,bold:!0,align:"center"},compId:989},{type:"Image",props:{y:0,x:0,width:150,skin:"btn/signin_9.png",sizeGrid:"38,31,42,47",name:"imgMask",height:166},compId:990,child:[{type:"Image",props:{skin:"setting/img_4.png",name:"comp",centerY:14,centerX:0},compId:991}]}]},{type:"Box",props:{width:150,styleSkin:"btn/signin_8.png",sizeGrid:"26,26,47,28",right:0,height:166,bottom:350},compId:992,child:[{type:"Image",props:{y:120,x:0,width:150,skin:"btn/img_bg8.png",sizeGrid:"33,29,29,26",name:"di",height:58},compId:993},{type:"Image",props:{y:0,x:0,width:150,skin:"btn/img_bg5.png",sizeGrid:"28,28,28,28",name:"bg",height:166},compId:994},{type:"Image",props:{y:0,x:0,width:150,skin:"btn/img_bg3.png",sizeGrid:"33,29,0,26",name:"top",height:53},compId:995},{type:"Image",props:{skin:"setting/img_icon_1.png",name:"icon",centerY:16,centerX:0,anchorY:.5,anchorX:.5},compId:996},{type:"Image",props:{y:11.5,x:29,width:92,skin:"setting/img_day0.png",name:"day",height:30},compId:997},{type:"Label",props:{y:137,width:150,text:"X150",name:"label",height:26,fontSize:24,font:"SimHei",color:"#ffffff",centerX:0,bold:!0,align:"center"},compId:998},{type:"Image",props:{y:0,x:0,width:150,skin:"btn/signin_9.png",sizeGrid:"38,31,42,47",name:"imgMask",height:166},compId:999,child:[{type:"Image",props:{skin:"setting/img_4.png",name:"comp",centerY:14,centerX:0},compId:1e3}]}]},{type:"Box",props:{x:0,width:150,styleSkin:"btn/signin_8.png",sizeGrid:"26,26,47,28",height:166,bottom:160},compId:1001,child:[{type:"Image",props:{y:120,x:0,width:150,skin:"btn/img_bg8.png",sizeGrid:"33,29,29,26",name:"di",height:58},compId:1002},{type:"Image",props:{y:0,x:0,width:150,skin:"btn/img_bg5.png",sizeGrid:"28,28,28,28",name:"bg",height:166},compId:1003},{type:"Image",props:{y:0,x:0,width:150,skin:"btn/img_bg3.png",sizeGrid:"33,29,0,26",name:"top",height:53},compId:1004},{type:"Image",props:{skin:"setting/img_icon_1.png",name:"icon",centerY:16,centerX:0,anchorY:.5,anchorX:.5},compId:1005},{type:"Image",props:{y:11.5,x:29,width:92,skin:"setting/img_day0.png",name:"day",height:30},compId:1006},{type:"Label",props:{y:137,width:150,text:"X150",name:"label",height:26,fontSize:24,font:"SimHei",color:"#ffffff",centerX:0,bold:!0,align:"center"},compId:1007},{type:"Image",props:{y:0,x:0,width:150,skin:"btn/signin_9.png",sizeGrid:"38,31,42,47",name:"imgMask",height:166},compId:1008,child:[{type:"Image",props:{skin:"setting/img_4.png",name:"comp",centerY:14,centerX:0},compId:1009}]}]},{type:"Box",props:{width:150,styleSkin:"btn/signin_8.png",sizeGrid:"26,26,47,28",height:166,centerX:0,bottom:160},compId:1010,child:[{type:"Image",props:{y:120,x:0,width:150,skin:"btn/img_bg8.png",sizeGrid:"33,29,29,26",name:"di",height:58},compId:1011},{type:"Image",props:{y:0,x:0,width:150,skin:"btn/img_bg5.png",sizeGrid:"28,28,28,28",name:"bg",height:166},compId:1012},{type:"Image",props:{y:0,x:0,width:150,skin:"btn/img_bg3.png",sizeGrid:"33,29,0,26",name:"top",height:53},compId:1013},{type:"Image",props:{skin:"setting/img_icon_1.png",name:"icon",centerY:16,centerX:0,anchorY:.5,anchorX:.5},compId:1014},{type:"Image",props:{y:11.5,x:29,width:92,skin:"setting/img_day0.png",name:"day",height:30},compId:1015},{type:"Label",props:{y:137,width:150,text:"X150",name:"label",height:26,fontSize:24,font:"SimHei",color:"#ffffff",centerX:0,bold:!0,align:"center"},compId:1016},{type:"Image",props:{y:0,x:0,width:150,skin:"btn/signin_9.png",sizeGrid:"38,31,42,47",name:"imgMask",height:166},compId:1017,child:[{type:"Image",props:{skin:"setting/img_4.png",name:"comp",centerY:14,centerX:0},compId:1018}]}]},{type:"Box",props:{width:150,styleSkin:"btn/signin_8.png",sizeGrid:"26,26,47,28",right:0,height:166,bottom:160},compId:1019,child:[{type:"Image",props:{y:120,x:0,width:150,skin:"btn/img_bg8.png",sizeGrid:"33,29,29,26",name:"di",height:58},compId:1020},{type:"Image",props:{y:0,x:0,width:150,skin:"btn/img_bg5.png",sizeGrid:"28,28,28,28",name:"bg",height:166},compId:1021},{type:"Image",props:{y:0,x:0,width:150,skin:"btn/img_bg3.png",sizeGrid:"33,29,0,26",name:"top",height:53},compId:1022},{type:"Image",props:{skin:"setting/img_icon_1.png",name:"icon",centerY:16,centerX:0,anchorY:.5,anchorX:.5},compId:1023},{type:"Image",props:{y:11.5,x:29,width:92,skin:"setting/img_day0.png",name:"day",height:30},compId:1024},{type:"Label",props:{y:137,width:150,text:"X150",name:"label",height:26,fontSize:24,font:"SimHei",color:"#ffffff",centerX:0,bold:!0,align:"center"},compId:1025},{type:"Image",props:{y:0,x:0,width:150,skin:"btn/signin_9.png",sizeGrid:"38,31,42,47",name:"imgMask",height:166},compId:1026,child:[{type:"Image",props:{skin:"setting/img_4.png",name:"comp",centerY:14,centerX:0},compId:1027}]}]},{type:"Box",props:{width:630,styleSkin:"btn/signin_8.png",sizeGrid:"55,82,58,85",height:140,centerX:0,bottom:0},compId:725,child:[{type:"Image",props:{y:97,x:0,width:630,skin:"btn/img_bg8.png",sizeGrid:"33,29,29,26",name:"di",height:58},compId:890},{type:"Image",props:{y:0,x:160,width:470,skin:"btn/img_bg7.png",sizeGrid:"28,28,28,28",name:"bg",height:140},compId:891},{type:"Image",props:{y:0,x:1,width:179,skin:"btn/img_bg9.png",sizeGrid:"44,53,45,46",name:"top",height:140},compId:892},{type:"Image",props:{y:71,x:288,skin:"setting/img_icon_1.png",name:"icon",anchorY:.5,anchorX:.5},compId:893},{type:"Image",props:{y:71,x:478.5,skin:"setting/img_icon_0.png",name:"icon",anchorY:.5,anchorX:.5},compId:898},{type:"Image",props:{x:44.5,width:92,skin:"setting/img_day0.png",name:"day",height:30,centerY:0},compId:728},{type:"Label",props:{x:339,width:84,text:"X2500",name:"label0",height:24,fontSize:24,font:"SimHei",color:"#ffffff",centerY:0,bold:!0,align:"left"},compId:729},{type:"Label",props:{y:70,x:533,width:84,text:"X190",name:"label1",height:24,fontSize:24,font:"SimHei",color:"#ffffff",bold:!0,align:"left"},compId:734},{type:"Image",props:{y:0,x:0,width:630,skin:"btn/signin_9.png",sizeGrid:"38,31,42,47",name:"imgMask",height:156},compId:896,child:[{type:"Image",props:{y:29.5,x:269.5,skin:"setting/img_4.png",name:"comp"},compId:897}]}]},{type:"Box",props:{centerX:0},compId:1028,child:[{type:"Image",props:{y:176,x:0,width:580,skin:"btn/img_bg8.png",sizeGrid:"33,29,29,26",name:"di",height:58},compId:1030},{type:"Image",props:{width:580,skin:"btn/signin.png",height:220,centerX:0},compId:1029,child:[{type:"Image",props:{width:180,var:"icon",skin:"setting/zebra8.png",left:88,height:180,centerY:0,anchorY:.5,anchorX:.5},compId:1031},{type:"Image",props:{var:"iconname",top:58,skin:"setting/mingcheng.png",right:82},compId:1032},{type:"Image",props:{var:"day",skin:"setting/leiji.png",right:32,centerY:28},compId:1033},{type:"Button",props:{width:170,visible:!1,var:"btnGain",stateNum:1,skin:"btn/img_4.png",sizeGrid:"11,24,27,24",right:70,height:35,bottom:20},compId:1034,child:[{type:"Image",props:{y:-25,width:170,skin:"btn/img_5.png",sizeGrid:"24,24,24,24",left:0,height:50},compId:1035,child:[{type:"Image",props:{skin:"daymission/img_15.png",centerY:0,centerX:0},compId:1036}]}]}]}]}]},{type:"Button",props:{y:944,width:403,var:"btnSignGain",stateNum:1,skin:"btn/signin_3.png",sizeGrid:"9,24,32,23",height:73,centerX:0},compId:738,child:[{type:"Image",props:{y:-42,width:334,skin:"btn/signin_0.png",sizeGrid:"24,24,24,24",right:0,left:0,height:96},compId:739,child:[{type:"Image",props:{y:10.5,x:10.5,width:382,skin:"btn/signin_2.png",sizeGrid:"24,24,24,24",height:75},compId:944},{type:"Sprite",props:{y:28,x:25,var:"imgShowAd",texture:"setting/signin_6.png"},compId:945},{type:"Image",props:{y:18.5,width:249,skin:"setting/sign_double.png",height:59,centerX:0},compId:946}]}]},{type:"Button",props:{y:944,x:20,width:290,visible:!1,var:"btnSignBack",stateNum:1,skin:"btn/signin_4.png",sizeGrid:"9,24,32,23",height:74},compId:750,child:[{type:"Image",props:{y:-42,width:334,skin:"btn/signin_1.png",sizeGrid:"24,24,24,24",right:0,left:0,height:96},compId:751,child:[{type:"Image",props:{width:117,skin:"setting/signin_5.png",height:61,centerY:0,centerX:0},compId:752}]}]},{type:"Image",props:{y:-23,width:730,skin:"btn/sign_bg2.png",sizeGrid:"17,16,18,15",height:32,centerX:0},compId:1037,child:[{type:"Image",props:{y:-74,width:730,skin:"btn/sign_bg1.png",sizeGrid:"17,16,18,15",height:90,centerX:0},compId:1038,child:[{type:"Image",props:{skin:"daymission/ding.png",left:10,centerY:0},compId:1039},{type:"Image",props:{y:0,skin:"daymission/ding.png",right:10,centerY:0},compId:1040},{type:"Image",props:{skin:"daymission/qiandao.png",centerY:0,centerX:0},compId:1041}]}]},{type:"Button",props:{y:856,x:239,visible:!1,var:"btnSignDouble",stateNum:1,skin:"daymission/gouxuan_di.png"},compId:736,child:[{type:"Image",props:{skin:"daymission/gouxuan.png",centerY:1,centerX:-1},compId:737}]},{type:"Image",props:{y:856,x:285,visible:!1,var:"word_double",skin:"setting/img_zi0.png"},compId:749},{type:"Button",props:{width:200,var:"btnNormal",stateNum:1,height:35,centerY:522,centerX:0},compId:1080,child:[{type:"Image",props:{visible:!0,skin:"setting/sign_normal.png",sizeGrid:"18,21,21,20",centerY:0,centerX:0},compId:1081}]}]},{type:"Box",props:{width:750,visible:!1,var:"kefu",height:845,centerY:0,centerX:0},compId:951,child:[{type:"Image",props:{y:0,x:0,width:750,skin:"btn/kf_bg1.png",sizeGrid:"28,28,28,28",height:845},compId:952,child:[{type:"Image",props:{width:410,top:39,skin:"btn/kf_bg2.png",sizeGrid:"28,28,28,28",height:65,centerX:0},compId:954,child:[{type:"Image",props:{skin:"setting/kf_call.png",centerY:0,centerX:0},compId:966}]},{type:"Image",props:{width:750,skin:"btn/kf_bg6.png",sizeGrid:"1,1,1,1",height:710,bottom:0},compId:969,child:[{type:"Image",props:{x:10,width:730,skin:"btn/kf_bg2.png",sizeGrid:"28,28,28,28",height:660,centerX:0,bottom:36},compId:953,child:[{type:"Image",props:{width:710,var:"qq",skin:"btn/kf_bg3.png",sizeGrid:"28,28,28,28",height:110,centerX:0,bottom:130},compId:955,child:[{type:"Button",props:{width:240,var:"btnCopy",stateNum:1,skin:"btn/kf_bg5.png",sizeGrid:"1,24,32,23",height:50,centerY:12,centerX:222},compId:957,child:[{type:"Image",props:{y:-26,width:240,skin:"btn/kf_bg4.png",sizeGrid:"24,24,24,24",left:0,height:60},compId:958,child:[{type:"Image",props:{skin:"setting/kf_copy.png",centerY:0,centerX:0},compId:965}]}]},{type:"Image",props:{var:"img_qq",skin:"setting/kf_qq_ov.png",left:20,centerY:0},compId:967}]},{type:"Image",props:{y:540,x:10,width:710,var:"oppoview",skin:"btn/kf_bg3.png",sizeGrid:"28,28,28,28",height:110,centerX:0,bottom:10},compId:977,child:[{type:"Button",props:{width:240,var:"btnCopyId",stateNum:1,skin:"btn/kf_bg5.png",sizeGrid:"1,24,32,23",height:50,centerY:12,centerX:222},compId:978,child:[{type:"Image",props:{y:-26,width:240,skin:"btn/kf_bg4.png",sizeGrid:"24,24,24,24",left:0,height:60},compId:979,child:[{type:"Image",props:{skin:"setting/copyID.png",centerY:0,centerX:0},compId:980}]}]},{type:"Image",props:{skin:"setting/ID.png",left:22,centerY:0},compId:981},{type:"Label",props:{var:"id",text:"303947340",left:100,fontSize:38,font:"SimHei",color:"#ffff8c",centerY:-3,bold:!0},compId:982}]},{type:"Image",props:{width:145,skin:"setting/kf_img1.png",right:50,height:206,bottom:250},compId:963},{type:"Label",props:{top:39,text:"欢迎加入疯狂动物园大家庭，您在游戏中遇到\\n任何困难或者有更好的建议，欢迎联系我们的\\n客服人员，我们将竭诚为您服务 ",leading:10,fontSize:30,font:"SimHei",color:"#ffff8c",centerX:0,bold:!0},compId:968}]}]},{type:"Image",props:{width:750,skin:"btn/kf_bg7.png",sizeGrid:"1,1,1,1",height:10,bottom:-10},compId:970}]},{type:"Button",props:{x:0,width:90,visible:!0,var:"btnClose",top:50,stateNum:1,skin:"btn/btnColor1Down.png",sizeGrid:"24,24,24,24",right:10,height:64},compId:974,child:[{type:"Image",props:{y:-40,x:9,skin:"btn/btnColor1Up.png",sizeGrid:"24,24,24,24",right:0,left:0,height:84},compId:975,child:[{type:"Image",props:{skin:"main/close.png",centerY:0,centerX:0},compId:976}]}]}]},{type:"Box",props:{visible:!1,var:"boxCode",centerY:-200,centerX:0},compId:1051,child:[{type:"Image",props:{y:64,x:29,width:470,skin:"setting/2.png",sizeGrid:"1,1,1,1",height:331},compId:1044},{type:"Image",props:{skin:"giftbag/4.png"},compId:1045},{type:"Button",props:{y:290,x:223,width:224,var:"btnSure",stateNum:1,skin:"btn/img_btn0_2.png",sizeGrid:"10,28,25,24",height:40},compId:1053,child:[{type:"Image",props:{y:-29,x:0,width:224,skin:"btn/img_btn0_1.png",sizeGrid:"27,32,31,26",height:57},compId:1054,child:[{type:"Image",props:{y:12,x:49,skin:"setting/1.png"},compId:1055}]}]},{type:"Button",props:{y:290,x:90,width:100,var:"btnCodeBack",stateNum:1,skin:"btn/btnColor1Down.png",sizeGrid:"10,28,25,24",height:40},compId:1056,child:[{type:"Image",props:{y:-29,x:0,width:100,skin:"btn/btnColor1Up.png",sizeGrid:"27,32,31,26",height:57},compId:1057,child:[{type:"Image",props:{y:11,x:18,width:62,skin:"main/fanhui.png",height:33},compId:1058}]}]},{type:"TextInput",props:{y:142,x:85,width:360,var:"inputCDK",text:"请输入礼包码",skin:"setting/3.png",sizeGrid:"22,24,27,26",height:87,fontSize:35,color:"#9f7777",align:"center"},compId:1050}]}]},{type:"Button",props:{x:13,var:"btnBack",stateNum:1,skin:"btn/btnColor1Down.png",sizeGrid:"24,24,24,24",right:13,left:13,height:92,bottom:20},compId:78,child:[{type:"Image",props:{y:-40,width:724,skin:"btn/btnColor1Up.png",sizeGrid:"24,24,24,24",right:0,left:0,height:102},compId:79,child:[{type:"Image",props:{skin:"main/fanhui.png",centerY:0,centerX:0},compId:80}]}]},{type:"Box",props:{width:631,visible:!1,var:"boxTip",height:635,centerY:0,centerX:0},compId:856,child:[{type:"Image",props:{y:384,x:212,var:"tipMask",skin:"main/blackMask.png",sizeGrid:"5,5,5,5",centerY:0,centerX:0},compId:852},{type:"Image",props:{y:182,x:316,width:207,skin:"setting/img_icon_0.png",name:"icon",height:207,anchorY:.5,anchorX:.5},compId:847},{type:"Label",props:{y:310,x:173,width:285,valign:"middle",text:"X100",name:"label",height:96,fontSize:50,font:"SimHei",color:"#ffffff",bold:!0,align:"center"},compId:846},{type:"Button",props:{y:489,width:374,var:"btnCloseTip",stateNum:1,skin:"btn/btnGreen2.png",sizeGrid:"24,24,24,24",height:110,centerX:0},compId:853,child:[{type:"Image",props:{y:-40,width:244,skin:"btn/btnGreen1.png",sizeGrid:"24,24,24,24",right:0,left:0,height:130},compId:854,child:[{type:"Image",props:{skin:"hat/img_queding.png",centerY:0,centerX:0},compId:855}]}]},{type:"Box",props:{y:0,width:610,name:"day7",height:438,centerX:0},compId:859,child:[{type:"Image",props:{y:182,x:143,width:207,skin:"setting/img_icon_1.png",name:"icon0",height:207,anchorY:.5,anchorX:.5},compId:860},{type:"Label",props:{y:310,x:0,width:285,valign:"middle",text:"X100",name:"label0",height:96,fontSize:50,font:"SimHei",color:"#ffffff",bold:!0,align:"center"},compId:861},{type:"Image",props:{y:182,x:465,width:207,skin:"setting/img_icon_0.png",name:"icon1",height:207,anchorY:.5,anchorX:.5},compId:862},{type:"Label",props:{y:310,x:322,width:285,valign:"middle",text:"X100",name:"label1",height:96,fontSize:50,font:"SimHei",color:"#ffffff",bold:!0,align:"center"},compId:863}]}]}],loadList:["main/blackMask.png","btn/img_btn1_2.png","btn/img_btn1_1.png","setting/img_zi_4.png","setting/img_zi_5.png","setting/img_zi_6.png","setting/img_zi_3.png","setting/img_zi_12.png","setting/img_zi_1.png","btn/img_4.png","setting/kf.png","btn/img_btn_2.png","setting/img_btn_3.png","setting/dhm1.png","setting/dhm.png","main/vivo_di.png","btn/btnColor1Up.png","btn/btnColor2Up.png","main/vivo_go.png","main/adbg.png","main/vivo_cancel.png","qqFriend/jhy1.png","qqFriend/jhy.png","setting/img_bg_0.png","setting/img_star.png","setting/img_start.png","btn/btnGreen2.png","btn/btnGreen1.png","setting/img_ad.png","setting/img_bg_1.png","setting/img_icon_1.png","setting/img_bg_2.png","setting/img_bg_3.png","setting/img_zi_10.png","btn/img_check_bg.png","setting/img_check.png","setting/img_zi_9.png","setting/img_zi_0.png","btn/img_bg5.png","setting/img_bg_4.png","setting/img_slider.png","setting/img_zi_8.png","setting/img_zi_7.png","setting/img_zi_11.png","setting/img_zi_2.png","btn/img_bg04.png","btn/img_bg0.png","btn/signin_8.png","btn/img_bg8.png","btn/img_bg3.png","setting/img_day0.png","btn/signin_9.png","setting/img_4.png","btn/img_bg7.png","btn/img_bg9.png","setting/img_icon_0.png","btn/signin.png","setting/zebra8.png","setting/mingcheng.png","setting/leiji.png","btn/img_5.png","daymission/img_15.png","btn/signin_3.png","btn/signin_0.png","btn/signin_2.png","setting/signin_6.png","setting/sign_double.png","btn/signin_4.png","btn/signin_1.png","setting/signin_5.png","btn/sign_bg2.png","btn/sign_bg1.png","daymission/ding.png","daymission/qiandao.png","daymission/gouxuan_di.png","daymission/gouxuan.png","setting/img_zi0.png","setting/sign_normal.png","btn/kf_bg1.png","btn/kf_bg2.png","setting/kf_call.png","btn/kf_bg6.png","btn/kf_bg3.png","btn/kf_bg5.png","btn/kf_bg4.png","setting/kf_copy.png","setting/kf_qq_ov.png","setting/copyID.png","setting/ID.png","setting/kf_img1.png","btn/kf_bg7.png","btn/btnColor1Down.png","main/close.png","setting/2.png","giftbag/4.png","btn/img_btn0_2.png","btn/img_btn0_1.png","setting/1.png","main/fanhui.png","setting/3.png","hat/img_queding.png"],loadList3D:[]},e.SettingUI=v,p("ui.main.SettingUI",v);class w extends r{constructor(){super()}createChildren(){super.createChildren(),this.createView(w.uiView)}}w.uiView={type:"View",props:{width:750,height:1624},compId:2,child:[{type:"Box",props:{y:0,x:0,var:"start",top:0,right:0,left:0,bottom:0},compId:18,child:[{type:"Image",props:{width:443,top:300,skin:"main/logo.png",height:321,centerX:0},compId:19},{type:"Image",props:{width:409,skin:"main/tapToStart.png",height:69,centerX:0,bottom:150},compId:20}]},{type:"Box",props:{visible:!1,var:"zooUI",top:0,right:0,left:0,bottom:0},compId:17,child:[{type:"Image",props:{y:30,width:222,var:"topUI",skin:"main/blackMask.png",sizeGrid:"2,2,2,2",right:50,height:40},compId:4,child:[{type:"Sprite",props:{y:-6,x:-22,texture:"main/coin.png"},compId:5},{type:"Button",props:{y:-10,x:195,var:"btnAddCoin",stateNum:2,skin:"main/btnCoinPlus.png"},compId:6},{type:"Label",props:{y:7,x:27,width:171,var:"gold1",valign:"middle",text:"123",height:32,fontSize:32,color:"#030303",align:"center"},compId:21,child:[{type:"Label",props:{y:-3,x:-2,width:171,var:"gold2",valign:"middle",text:"123",height:32,fontSize:32,color:"#fef790",align:"center"},compId:22}]}]},{type:"Image",props:{y:30,width:222,var:"topjew",skin:"main/blackMask.png",sizeGrid:"2,2,2,2",left:40,height:40},compId:112,child:[{type:"Sprite",props:{y:-6,x:-26,texture:"main/icon_jew.png"},compId:113},{type:"Button",props:{y:-10,x:195,visible:!0,var:"btnAddJew",stateNum:2,skin:"main/btnJewPlus.png"},compId:114},{type:"Label",props:{y:7,x:27,width:171,var:"jew1",valign:"middle",text:"123",height:32,fontSize:32,color:"#030303",align:"center"},compId:115,child:[{type:"Label",props:{y:-3,x:-2,width:171,var:"jew2",valign:"middle",text:"123",height:32,fontSize:32,color:"#fef790",align:"center"},compId:116}]}]},{type:"Box",props:{y:100,var:"boxBtn",right:20,left:20},compId:64,child:[{type:"Button",props:{width:103,var:"btnSetting",top:40,stateNum:1,skin:"btn/btnGray2.png",sizeGrid:"12,24,30,24",left:0,height:69},compId:56,child:[{type:"Image",props:{y:-40,skin:"main/icon_shezhi.png",sizeGrid:"20,27,29,34",left:0},compId:57}]},{type:"Button",props:{y:160,x:0,width:103,var:"btnDanger",top:160,stateNum:1,skin:"btn/btnGreen2.png",sizeGrid:"12,24,30,24",left:0,height:67},compId:65,child:[{type:"Image",props:{y:-40,skin:"main/icon_binwei.png",sizeGrid:"23,20,23,20",left:0},compId:66}]},{type:"Button",props:{width:103,var:"btnHat",top:280,stateNum:1,skin:"btn/btnRed2.png",sizeGrid:"12,24,30,24",left:0,height:67},compId:50,child:[{type:"Image",props:{y:-40,skin:"main/icon_huanzhuang.png",sizeGrid:"20,27,29,34",left:0},compId:51}]},{type:"Button",props:{width:103,var:"btnShop",top:400,stateNum:1,skin:"main/img_shop_di.png",sizeGrid:"12,24,30,24",left:0,height:67},compId:45,child:[{type:"Image",props:{y:-40,skin:"main/icon_shangc.png",left:0},compId:46,child:[{type:"Image",props:{y:0,x:0,width:103,var:"shopligth",skin:"main/button_patchHilight0.png",height:98,sizeGrid:"24,24,24,24"},compId:146}]}]},{type:"Button",props:{width:100,visible:!1,var:"btnSpSale",top:483,left:0,height:90},compId:48,child:[{type:"Animation",props:{y:45,x:50,visible:!1,var:"aniSpSale",source:"main/spSale.ani"},compId:49},{type:"Image",props:{y:0,x:0,width:98,skin:"main/img_spSale.png",rotation:-7,height:64},compId:119},{type:"Image",props:{y:24,x:3,skin:"main/img_sale3.png"},compId:120},{type:"Image",props:{y:52,x:-2,skin:"main/img_spSale1.png"},compId:121}]},{type:"Button",props:{var:"btnPrize",top:120,stateNum:1,skin:"main/img_choujiang.png",right:9},compId:61},{type:"Image",props:{y:107,x:187,width:352,visible:!1,var:"imgGiftTip",skin:"btn/img_gift_1.png",sizeGrid:"27,27,27,27",height:219},compId:79,child:[{type:"Image",props:{y:-24,x:259,skin:"btn/img_gift_0.png"},compId:80},{type:"Label",props:{y:48,x:17,wordWrap:!0,width:318,valign:"middle",text:"稀有动物获得几率提高",leading:5,height:123,fontSize:40,font:"SimHei",color:"#ffffff",align:"center"},compId:87}]},{type:"Button",props:{width:276,visible:!1,var:"btnBuff",top:120,right:-9,height:102},compId:88,child:[{type:"Image",props:{y:42.5,x:46,width:243,var:"imgBuff",skin:"main/blackMask.png",sizeGrid:"2,2,2,2",right:5,height:40},compId:82},{type:"Image",props:{y:28.5,x:0,width:68,var:"imgBuffIcon",skin:"prize/img_logo_5.png",height:68},compId:83},{type:"Label",props:{y:46.5,x:59,width:202,var:"labelBuffTime",valign:"middle",text:"123",height:32,fontSize:32,color:"#ffffff",align:"center"},compId:85}]},{type:"Button",props:{visible:!1,var:"btnFreeJew",top:476,stateNum:1,skin:"main/icon_mianfei.png",left:0,height:105},compId:92,child:[{type:"Image",props:{y:0,x:72,top:0,skin:"main/dian.png"},compId:122}]},{type:"Button",props:{width:103,visible:!1,var:"btnDayMis",top:280,stateNum:1,skin:"main/img_icon_renwu1.png",sizeGrid:"12,24,30,24",right:0,height:67},compId:96,child:[{type:"Image",props:{y:-40,visible:!0,skin:"main/icon_meiri.png",sizeGrid:"23,28,23,28",left:0},compId:97,child:[{type:"Image",props:{y:0,var:"dian",top:0,skin:"main/dian.png",centerX:35},compId:123}]}]},{type:"Button",props:{width:103,visible:!1,var:"btnRank",top:40,stateNum:1,skin:"main/img_icon_paihang1.png",sizeGrid:"12,24,30,24",right:0,height:67},compId:104,child:[{type:"Image",props:{y:-40,skin:"main/icon_paihang.png",sizeGrid:"23,28,23,28",left:0},compId:105}]},{type:"Button",props:{y:450,x:657,width:103,visible:!1,var:"btnInvi",top:400,stateNum:1,skin:"btn/btnStart0_2.png",sizeGrid:"12,24,30,24",right:0,pivotY:50,pivotX:50,height:67},compId:108,child:[{type:"Image",props:{y:-40,skin:"main/icon_yaoqing.png",sizeGrid:"23,28,23,28",left:0},compId:109}]},{type:"Button",props:{y:544,x:657,var:"btnActive",stateNum:1,skin:"main/huodong.png",pivotY:72,pivotX:68},compId:156},{type:"Box",props:{y:291,x:660,width:100,visible:!1,var:"oppoActive",top:241,rotation:0,right:0,pivotY:50,pivotX:50,height:100},compId:154},{type:"Button",props:{x:0,width:103,var:"btnDollar",top:640,stateNum:1,skin:"btn/btnColor2Down.png",sizeGrid:"12,24,30,24",left:0,height:67},compId:171,child:[{type:"Image",props:{y:-40,skin:"setting/dollar_icon.png",left:0},compId:172,child:[{type:"Image",props:{y:0,x:0,width:103,var:"btnLightDollar",skin:"main/button_patchHilight0.png",height:98,sizeGrid:"24,24,24,24"},compId:176}]}]},{type:"Button",props:{y:700,x:653,var:"btnKn",stateNum:1,skin:"main/iconknd.png",anchorY:0,anchorX:.5},compId:185,child:[{type:"Image",props:{y:-65,x:-10,skin:"main/iconkn.png"},compId:186,child:[{type:"Image",props:{top:0,skin:"main/dian.png",right:0},compId:187}]}]},{type:"Button",props:{y:795,x:605.5,var:"btnDeskApp",stateNum:1,skin:"main/zm.png"},compId:208,child:[{type:"Image",props:{y:53,x:19,var:"imgQ",skin:"main/zmqp.png",scaleY:1,scaleX:1,anchorY:1,anchorX:1},compId:209}]}]},{type:"Image",props:{y:0,x:0,var:"teackMask2",top:0,right:0,left:0,height:1e3,alpha:.6},compId:78},{type:"Image",props:{width:750,var:"zooUIBottom",skin:"main/blackMask.png",sizeGrid:"2,2,2,2",scaleY:1,right:0,left:0,height:350,bottom:0},compId:3,child:[{type:"Button",props:{x:484,width:237,visible:!1,var:"btnSoon",stateNum:1,skin:"btn/btnColor2Down.png",sizeGrid:"24,24,24,24",height:77,bottom:200},compId:71,child:[{type:"Image",props:{y:-25,width:237,skin:"btn/btnColor2Up.png",sizeGrid:"24,24,24,24",right:0,left:0,height:93},compId:72,child:[{type:"Image",props:{skin:"main/soon.png",centerY:0,centerX:40},compId:181},{type:"Image",props:{y:0,skin:"endangeredanimals/img_ad.png",centerY:0,centerX:-60},compId:182},{type:"Image",props:{y:-2,x:0,width:103,var:"btnLightSoon",skin:"main/button_patchHilight0.png",height:93,sizeGrid:"24,24,24,24"},compId:183}]}]},{type:"Label",props:{y:70,x:-289,var:"visitorInfo",valign:"middle",text:"下个观光团：09分59秒",right:0,left:-289,height:50,fontSize:35,font:"SimHei",color:"#ffffff",bottom:230,bold:!0,align:"center"},compId:27},{type:"Button",props:{x:15,width:244,var:"btnMap",stateNum:1,skin:"btn/btnBlue2.png",sizeGrid:"24,24,24,24",height:120,bottom:20},compId:11,child:[{type:"Image",props:{y:-40,width:244,skin:"btn/btnBlue1.png",sizeGrid:"24,24,24,24",right:0,left:0,height:130},compId:12,child:[{type:"Image",props:{skin:"main/map.png",centerY:0,centerX:0},compId:13},{type:"Image",props:{width:333.3,visible:!1,var:"mapZi",top:-168,skin:"main/findmore.png",right:-75,height:177.6},compId:128},{type:"Image",props:{var:"mapDian",top:0,skin:"main/dian.png",right:0},compId:142}]}]},{type:"Image",props:{x:0,var:"teachMask4",right:0,left:0,height:350,bottom:0,alpha:.6},compId:127},{type:"Button",props:{x:275,width:460,var:"btnStart",stateNum:1,skin:"btn/btnGreen2.png",sizeGrid:"24,24,24,24",height:120,bottom:20},compId:14,child:[{type:"Image",props:{y:-40,width:244,skin:"btn/btnGreen1.png",sizeGrid:"24,24,24,24",right:0,left:0,height:130},compId:15,child:[{type:"Image",props:{skin:"main/start.png",centerY:0,centerX:0},compId:16},{type:"Image",props:{y:-161,x:0,width:123,visible:!1,var:"fingerStart",skin:"main/finger.png",height:161,centerX:0},compId:145},{type:"Label",props:{y:0,x:0,visible:!1,var:"dollar",text:"1000米起跑*3",right:8,fontSize:26,color:"#ffffff",bottom:8},compId:174}]}]},{type:"Image",props:{var:"teachMask1",top:0,right:0,left:0,bottom:0,alpha:.6},compId:74},{type:"Button",props:{x:15,width:720,var:"btnOpen",stateNum:1,skin:"btn/btnRed2.png",sizeGrid:"24,24,24,24",height:80,bottom:210},compId:9,child:[{type:"Image",props:{y:-40,x:0,width:720,skin:"btn/btnRed1.png",sizeGrid:"24,24,24,24",height:92},compId:8,child:[{type:"Image",props:{skin:"main/open.png",centerY:0,centerX:0},compId:10},{type:"Image",props:{y:5,x:5,width:710,var:"btnOpenLight",skin:"main/button_patchHilight0.png",height:82,sizeGrid:"24,24,24,24"},compId:24},{type:"Image",props:{y:-161,x:0,visible:!1,var:"fingerOpen",skin:"main/finger.png",centerX:0},compId:144}]}]}]},{type:"Image",props:{y:1064,var:"zooUIOpen",skin:"main/blackMask.png",sizeGrid:"2,2,2,2",right:0,left:0,height:560},compId:28,child:[{type:"Image",props:{y:0,x:0,var:"teackMask3",right:0,left:0,height:560,bottom:0,alpha:.6},compId:125},{type:"Image",props:{y:100,var:"homeIcon",skin:"main/jiating.png",right:60},compId:39,child:[{type:"Label",props:{y:-65,x:-31,width:171,var:"homeCnt",text:"x5",height:60,fontSize:60,color:"#ffffff",align:"center"},compId:40}]},{type:"Image",props:{y:-79,x:30,var:"ticketBox",skin:"main/tiket.png"},compId:29,child:[{type:"Label",props:{y:149,x:208,width:200,var:"ticket",text:"10",height:60,fontSize:60,color:"#ffffff",anchorY:.5,anchorX:.5,align:"center"},compId:31},{type:"Sprite",props:{y:116.5,x:298,texture:"main/coin.png"},compId:30},{type:"Image",props:{width:125,var:"legent",right:10,height:125,bottom:30},compId:143}]},{type:"Button",props:{width:720,var:"btnMoreVisitor",stateNum:1,skin:"btn/btnColor3Down.png",sizeGrid:"24,24,24,24",left:16,height:110,bottom:160},compId:35,child:[{type:"Image",props:{y:-40,x:0,width:720,skin:"btn/btnColor3Up.png",sizeGrid:"24,24,24,24",height:130},compId:36,child:[{type:"Image",props:{width:120,skin:"main/adIcon.png",left:50,height:95,centerY:0},compId:41},{type:"Image",props:{skin:"main/mfhd.png",left:180,centerY:0},compId:37,child:[{type:"Label",props:{width:33,var:"moreGold",text:"+129",right:-50,height:48,fontSize:48,color:"#ffffff",centerY:0,bold:!0,align:"center"},compId:42},{type:"Image",props:{var:"goldPos",skin:"main/coin.png",right:-180},compId:177}]},{type:"Image",props:{y:5,x:5,width:710,var:"btnMoreLight",skin:"main/button_patchHilight0.png",height:82,sizeGrid:"24,24,24,24"},compId:38},{type:"Image",props:{top:-30,skin:"main/byk.png",right:0},compId:178},{type:"Label",props:{var:"moreVisitorLabel",top:-40,text:"3",right:180,fontSize:80,color:"#ff2dcf",bold:!0,align:"center"},compId:184}]}]},{type:"Button",props:{y:460,x:16,var:"btnOpenNow",stateNum:1,skin:"btn/btnBlue2.png",sizeGrid:"24,24,24,24",right:16,left:16,height:80,bottom:20},compId:32,child:[{type:"Image",props:{y:-40,width:244,skin:"btn/btnBlue1.png",sizeGrid:"24,24,24,24",right:0,left:0,height:92},compId:33,child:[{type:"Image",props:{skin:"main/kaimen.png",centerY:0,centerX:-59},compId:34},{type:"Sprite",props:{y:25,x:481,width:35,texture:"main/coin.png",height:42},compId:43},{type:"Label",props:{y:28,x:355,width:118,var:"moneyAdd",text:"+10",height:38,fontSize:38,color:"#ffffff",bold:!0,align:"right"},compId:44}]}]}]}]},{type:"Label",props:{visible:!1,var:"tip",text:"小窍门：3倍游客赚的金币会更多哦！",right:0,left:0,fontSize:40,font:"SimHei",color:"#ffffff",bottom:650,align:"center"},compId:126},{type:"Box",props:{y:200,visible:!1,var:"teachLast",right:0,left:0},compId:138,child:[{type:"Image",props:{y:0,x:0,width:750,skin:"preload/red.png",sizeGrid:"1,1,1,1",height:140,alpha:.5},compId:139},{type:"Label",props:{x:0,wordWrap:!0,width:700,valign:"middle",top:23,text:"干得好!现在你已经成为动物园园长啦!",leading:6,fontSize:40,color:"#ffffff",centerX:0,align:"center"},compId:151},{type:"Label",props:{x:0,wordWrap:!0,width:700,valign:"middle",text:"去结识更多动物来扩大你的动物园吧!",leading:6,fontSize:40,color:"#ffffff",centerX:0,bottom:23,align:"center"},compId:152}]},{type:"Image",props:{visible:!1,var:"signMask",top:0,right:0,left:0,bottom:0,alpha:.6},compId:141},{type:"Box",props:{visible:!1,var:"notice",top:0,right:0,left:0,bottom:0},compId:200,child:[{type:"Image",props:{y:0,x:0,var:"imgMask",top:0,skin:"btn/notice19.png",sizeGrid:"1,1,1,1",right:0,left:0,bottom:0,alpha:.6},compId:201},{type:"Box",props:{centerY:0,centerX:0},compId:207,child:[{type:"Image",props:{y:74,x:27,width:590,skin:"btn/notice14.png",sizeGrid:"1,11,14,12",height:515},compId:189},{type:"Image",props:{skin:"btn/notice13.png"},compId:190},{type:"Image",props:{y:178,x:44,width:558,var:"imgContent",skin:"btn/notice12.png",sizeGrid:"19,17,20,18",height:390},compId:191,child:[{type:"Label",props:{y:52,x:14,wordWrap:!0,width:530,var:"notice_word",valign:"top",overflow:"scroll",multiline:!1,height:326,fontSize:24,editable:!1,color:"#ffffff",align:"left"},compId:199},{type:"Label",props:{y:16,x:17,text:"更新内容",fontSize:26,color:"#ffffff",bold:!0},compId:197}]},{type:"Button",props:{y:97,x:44,var:"btnUpdateTip",stateNum:1,skin:"btn/notice16.png"},compId:192},{type:"Box",props:{y:601,x:211,visible:!0},compId:202,child:[{type:"Label",props:{y:-4,text:"今日不再弹出",left:59,fontSize:24,color:"#f1dcf1"},compId:203},{type:"Button",props:{y:-12,x:14,var:"btnCheckShow",stateNum:1,skin:"btn/notice17.png"},compId:204,child:[{type:"Image",props:{visible:!1,skin:"btn/notice18.png",centerY:1,centerX:0},compId:205}]}]},{type:"Button",props:{y:686,x:80,width:479,var:"btnclosenotice",stateNum:1,skin:"btn/notice11.png",sizeGrid:"5,26,26,23",height:44},compId:193,child:[{type:"Image",props:{y:-34,x:0,width:479,skin:"btn/notice10.png",sizeGrid:"22,25,29,24",height:62},compId:194,child:[{type:"Image",props:{y:14,x:168,skin:"btn/notice15.png"},compId:195}]}]}]}]},{type:"Button",props:{y:768,x:-282,width:247,visible:!1,var:"btnFudai",stateNum:1,height:180},compId:213,child:[{type:"Image",props:{y:51.55170749903698,x:144.5878440345324,var:"imgRightWing",skin:"giftbag/gqrw.png",scaleY:.5,scaleX:.5,rotation:-10,anchorY:.6},compId:212},{type:"Image",props:{y:51.55170749903698,x:101.5878440345324,var:"imgLeftWing",skin:"giftbag/gqlw.png",scaleY:.5,scaleX:.5,rotation:10,anchorY:.6,anchorX:1},compId:211},{type:"Image",props:{y:12.55170749903698,x:38.587844034532395,skin:"giftbag/gqfd.png",scaleY:.5,scaleX:.5},compId:210}]},{type:"Box",props:{y:0,x:0,visible:!1,var:"giftBox",top:0,right:0,left:0,bottom:0},compId:230,child:[{type:"Image",props:{y:0,x:0,top:0,skin:"btn/notice19.png",sizeGrid:"1,1,1,1",right:0,left:0,bottom:0,alpha:.6},compId:231},{type:"Box",props:{width:481,height:470,centerY:0,centerX:0},compId:232,child:[{type:"Image",props:{y:70,width:450,skin:"btn/notice14.png",sizeGrid:"1,11,14,12",height:400,centerX:0},compId:233,child:[{type:"Image",props:{width:380,skin:"btn/notice12.png",sizeGrid:"16,13,17,9",height:210,centerY:-33,centerX:0},compId:246,child:[{type:"Image",props:{skin:"main/icon_jew.png",right:90,bottom:40},compId:247},{type:"Image",props:{skin:"main/coin.png",right:100,bottom:100},compId:248},{type:"Image",props:{skin:"main/vivo_gold.png",right:134,bottom:-23},compId:249},{type:"Label",props:{y:65.5,x:290,var:"LableGold",text:"+100",fontSize:30,color:"#ffffff",bold:!0},compId:254},{type:"Label",props:{y:128,x:290,var:"LableJew",text:"+100",fontSize:30,color:"#ffffff",bold:!0},compId:255}]}]},{type:"Image",props:{y:0,x:40,width:479,var:"TitleGift",skin:"main/gift_day.png",centerX:0},compId:234},{type:"Button",props:{x:113,width:224,var:"btnGiftSure",stateNum:1,skin:"btn/btnColor2Down.png",sizeGrid:"11,24,27,24",height:35,centerX:0,bottom:20},compId:250,child:[{type:"Image",props:{y:-35,width:224,skin:"btn/btnColor2Up.png",sizeGrid:"18,21,21,20",left:0,height:57},compId:251,child:[{type:"Image",props:{skin:"shop/img_tip_7.png",centerY:0,centerX:0},compId:252}]}]}]}]}],loadList:["main/logo.png","main/tapToStart.png","main/blackMask.png","main/coin.png","main/btnCoinPlus.png","main/icon_jew.png","main/btnJewPlus.png","btn/btnGray2.png","main/icon_shezhi.png","btn/btnGreen2.png","main/icon_binwei.png","btn/btnRed2.png","main/icon_huanzhuang.png","main/img_shop_di.png","main/icon_shangc.png","main/button_patchHilight0.png","main/spSale.ani","main/img_spSale.png","main/img_sale3.png","main/img_spSale1.png","main/img_choujiang.png","btn/img_gift_1.png","btn/img_gift_0.png","prize/img_logo_5.png","main/icon_mianfei.png","main/dian.png","main/img_icon_renwu1.png","main/icon_meiri.png","main/img_icon_paihang1.png","main/icon_paihang.png","btn/btnStart0_2.png","main/icon_yaoqing.png","main/huodong.png","btn/btnColor2Down.png","setting/dollar_icon.png","main/iconknd.png","main/iconkn.png","main/zm.png","main/zmqp.png","btn/btnColor2Up.png","main/soon.png","endangeredanimals/img_ad.png","btn/btnBlue2.png","btn/btnBlue1.png","main/map.png","main/findmore.png","btn/btnGreen1.png","main/start.png","main/finger.png","btn/btnRed1.png","main/open.png","main/jiating.png","main/tiket.png","btn/btnColor3Down.png","btn/btnColor3Up.png","main/adIcon.png","main/mfhd.png","main/byk.png","main/kaimen.png","preload/red.png","btn/notice19.png","btn/notice14.png","btn/notice13.png","btn/notice12.png","btn/notice16.png","btn/notice17.png","btn/notice18.png","btn/notice11.png","btn/notice10.png","btn/notice15.png","giftbag/gqrw.png","giftbag/gqlw.png","giftbag/gqfd.png","main/vivo_gold.png","main/gift_day.png","shop/img_tip_7.png"],loadList3D:[]},e.ShipUI=w,p("ui.main.ShipUI",w);class I extends r{constructor(){super()}createChildren(){super.createChildren(),this.createView(I.uiView)}}I.uiView={type:"View",props:{width:750,height:1360},compId:2,child:[{type:"Image",props:{y:0,x:0,top:0,skin:"main/blackMask.png",sizeGrid:"5,5,5,5",right:0,left:0,bottom:0},compId:418},{type:"Image",props:{skin:"shop/img_di.png",sizeGrid:"24,24,8,25",right:0,left:0,height:1030,bottom:200},compId:4,child:[{type:"ViewStack",props:{y:107,var:"vs",right:0,left:0},compId:10,child:[{type:"Box",props:{y:0,x:10,right:10,name:"item0",left:10,height:916},compId:769,child:[{type:"Image",props:{y:0,skin:"shop/img_shop0di0.png",sizeGrid:"3,3,3,3",right:0,left:0,height:916},compId:770},{type:"Image",props:{y:8,x:130,width:470,skin:"shop/img_shop0di1.png",sizeGrid:"26,28,22,23",height:70,centerX:0},compId:771},{type:"Image",props:{y:18,x:272,skin:"shop/shop0zi0.png",centerX:0},compId:773},{type:"Image",props:{y:84,width:700,skin:"shop/img_shop0di2.png",sizeGrid:"26,28,22,23",height:818,centerX:0},compId:772},{type:"Image",props:{y:90,skin:"shop/shop0zi1.png",centerX:0},compId:876,child:[{type:"Label",props:{var:"LabelDay",text:"7",right:140,fontSize:40,color:"#ffffff",centerY:0},compId:877},{type:"Label",props:{var:"LabelHour",text:"24",right:43,fontSize:40,color:"#ffffff",centerY:0},compId:878}]},{type:"Image",props:{y:135,width:700,skin:"shop/img_shop0di1.png",sizeGrid:"26,28,22,23",height:770,centerX:0},compId:879},{type:"Panel",props:{y:146,width:690,var:"panel0",height:751,centerX:0},compId:774,child:[{type:"Box",props:{y:0,width:690,height:1062,centerX:0},compId:775,child:[{type:"Box",props:{y:0,x:15,name:"gift1",centerX:0},compId:897,child:[{type:"Image",props:{y:0,x:0,width:660,skin:"shop/img_shop0di3.png",sizeGrid:"24,25,26,25",height:366},compId:898,child:[{type:"Image",props:{y:26,skin:"shop/img_yellow.png",left:-15},compId:899},{type:"Image",props:{y:26,skin:"shop/img_yellow.png",scaleX:-1,rotation:0,right:0},compId:900},{type:"Image",props:{y:26,x:0,width:660,skin:"shop/img_shop0di4.png",sizeGrid:"2,2,2,2",height:78},compId:901,child:[{type:"Image",props:{skin:"shop/shop0zi6.png",centerY:0,centerX:0},compId:902}]},{type:"Image",props:{y:104,x:0,width:660,skin:"shop/img_shop0di7.png",sizeGrid:"2,2,2,2",height:8,centerX:0},compId:922},{type:"Image",props:{y:112,x:0,width:660,skin:"shop/img_shop0di5.png",sizeGrid:"2,2,2,2",height:40},compId:903,child:[{type:"Image",props:{y:0,x:0,skin:"shop/shop0zi7.png",centerY:0,centerX:0},compId:904}]},{type:"Image",props:{width:200,skin:"main/vivo_gold.png",left:53,height:200,bottom:48},compId:905},{type:"Image",props:{y:169,x:355,width:260,skin:"shop/img_shop0di6.png",sizeGrid:"22,26,23,19",height:98},compId:910,child:[{type:"Image",props:{skin:"shop/img_buy_1.png",right:40,centerY:0},compId:912},{type:"Label",props:{var:"LabelGold",text:"+10086",fontSize:40,color:"#fcef8f",centerY:0,centerX:-30,bold:!0},compId:920}]},{type:"Button",props:{x:60,width:186,var:"btn50",stateNum:1,skin:"btn/btnGreen2.png",sizeGrid:"16,24,32,24",height:39,bottom:13},compId:915,child:[{type:"Image",props:{y:-28,x:0,width:186,skin:"btn/btnGreen1.png",sizeGrid:"24,24,24,24",height:56},compId:916,child:[{type:"Image",props:{skin:"shop/shop0zi9.png",centerY:0,centerX:0},compId:917},{type:"Image",props:{var:"imgLight50",top:0,skin:"main/button_patchHilight0.png",right:0,left:0,bottom:0,sizeGrid:"24,24,24,24"},compId:918}]}]},{type:"Button",props:{x:355,width:260,var:"btn51",stateNum:1,skin:"btn/btnColor2Down.png",sizeGrid:"16,24,32,24",height:44,bottom:10},compId:906,child:[{type:"Image",props:{y:-34,x:0,width:260,skin:"btn/btnColor2Up.png",sizeGrid:"24,24,24,24",height:64},compId:907,child:[{type:"Image",props:{skin:"shop/img_ad.png",left:25,centerY:0},compId:919},{type:"Image",props:{skin:"shop/shop0zi8.png",centerY:0,centerX:11},compId:913},{type:"Image",props:{var:"imgLight51",top:0,skin:"main/button_patchHilight0.png",right:0,left:0,bottom:0,sizeGrid:"24,24,24,24"},compId:909}]}]}]}]},{type:"Box",props:{y:376,name:"gift2",centerX:0},compId:776,child:[{type:"Image",props:{y:0,width:660,skin:"shop/img_shop0di3.png",sizeGrid:"24,25,26,25",height:366,centerX:0},compId:777,child:[{type:"Image",props:{y:26,skin:"shop/img_yellow.png",left:-15},compId:880},{type:"Image",props:{y:26,skin:"shop/img_yellow.png",scaleX:-1,rotation:0,right:0},compId:881},{type:"Image",props:{y:26,x:0,width:660,skin:"shop/img_shop0di4.png",sizeGrid:"2,2,2,2",height:78},compId:882,child:[{type:"Image",props:{skin:"shop/shop0zi5.png",centerY:0,centerX:0},compId:886}]},{type:"Image",props:{y:104,width:660,skin:"shop/img_shop0di7.png",sizeGrid:"2,2,2,2",height:8,centerX:0},compId:921},{type:"Image",props:{y:112,x:0,width:660,skin:"shop/img_shop0di5.png",sizeGrid:"2,2,2,2",height:40},compId:883,child:[{type:"Image",props:{y:0,x:0,skin:"shop/shop0zi2.png",centerY:0,centerX:0},compId:885}]},{type:"Image",props:{skin:"shop/img_logo0.png",left:10,bottom:0},compId:887},{type:"Button",props:{x:355,width:260,var:"btn52",stateNum:1,skin:"btn/btnGreen2.png",sizeGrid:"16,24,32,24",height:44,bottom:10},compId:888,child:[{type:"Image",props:{y:-34,x:0,width:260,skin:"btn/btnGreen1.png",sizeGrid:"24,24,24,24",height:64},compId:889,child:[{type:"Image",props:{width:50,visible:!0,skin:"main/icon_jew.png",height:40,centerY:0,centerX:20},compId:989,child:[{type:"Label",props:{y:4,x:-55,text:"30",fontSize:34,color:"#e9fed6",bold:!0,align:"center"},compId:990}]},{type:"Label",props:{y:15,width:170,text:"6 CNY",name:"labelGold",height:30,fontSize:34,color:"#e9fed6",centerX:0,bold:!0,align:"center"},compId:892},{type:"Image",props:{var:"imgLight52",top:0,skin:"main/button_patchHilight0.png",right:0,left:0,bottom:0,sizeGrid:"24,24,24,24"},compId:893}]}]},{type:"Image",props:{y:169,x:355,width:260,skin:"shop/img_shop0di6.png",sizeGrid:"22,26,23,19",height:98},compId:894,child:[{type:"Image",props:{skin:"shop/img_6000gold.png",centerY:0,centerX:-25},compId:895},{type:"Image",props:{skin:"shop/img_buy_1.png",right:40,centerY:0},compId:896}]}]}]},{type:"Box",props:{y:752,name:"gift3",centerX:0},compId:923,child:[{type:"Image",props:{y:0,x:0,width:660,skin:"shop/img_shop0di3.png",sizeGrid:"24,25,26,25",height:366},compId:924,child:[{type:"Image",props:{y:26,skin:"shop/img_yellow.png",left:-15},compId:925},{type:"Image",props:{y:26,skin:"shop/img_yellow.png",scaleX:-1,rotation:0,right:0},compId:926},{type:"Image",props:{y:26,x:0,width:660,skin:"shop/img_shop0di4.png",sizeGrid:"2,2,2,2",height:78},compId:927,child:[{type:"Image",props:{skin:"shop/shop0zi5.png",centerY:0,centerX:0},compId:928}]},{type:"Image",props:{y:104,width:660,skin:"shop/img_shop0di7.png",sizeGrid:"2,2,2,2",height:8,centerX:0},compId:929},{type:"Image",props:{y:112,x:0,width:660,skin:"shop/img_shop0di5.png",sizeGrid:"2,2,2,2",height:40},compId:930,child:[{type:"Image",props:{y:0,x:0,skin:"shop/shop0zi4.png",centerY:0,centerX:0},compId:931}]},{type:"Image",props:{skin:"shop/img_logo6.png",left:10,bottom:0},compId:932},{type:"Button",props:{x:355,width:260,var:"btn53",stateNum:1,skin:"btn/btnGreen2.png",sizeGrid:"16,24,32,24",height:44,bottom:10},compId:933,child:[{type:"Image",props:{y:-34,x:0,width:260,skin:"btn/btnGreen1.png",sizeGrid:"24,24,24,24",height:64},compId:934,child:[{type:"Image",props:{width:50,visible:!0,skin:"main/icon_jew.png",height:40,centerY:0,centerX:20},compId:991,child:[{type:"Label",props:{y:4,x:-55,text:"50",fontSize:34,color:"#e9fed6",bold:!0,align:"center"},compId:992}]},{type:"Label",props:{y:15,width:170,text:"8 CNY",name:"labelGold",height:30,fontSize:34,color:"#e9fed6",centerX:0,bold:!0,align:"center"},compId:935},{type:"Image",props:{var:"imgLight53",top:0,skin:"main/button_patchHilight0.png",right:0,left:0,bottom:0,sizeGrid:"24,24,24,24"},compId:936}]}]},{type:"Image",props:{y:169,x:355,width:260,skin:"shop/img_shop0di6.png",sizeGrid:"22,26,23,19",height:98},compId:937,child:[{type:"Image",props:{skin:"shop/img_12000gold.png",centerY:0,centerX:-25},compId:938},{type:"Image",props:{skin:"shop/img_buy_1.png",right:33,centerY:0},compId:939}]}]}]},{type:"Box",props:{y:1126,name:"gift4",centerX:0},compId:940,child:[{type:"Image",props:{y:0,x:0,width:660,skin:"shop/img_shop0di3.png",sizeGrid:"24,25,26,25",height:366},compId:941,child:[{type:"Image",props:{y:26,skin:"shop/img_yellow.png",left:-15},compId:942},{type:"Image",props:{y:26,skin:"shop/img_yellow.png",scaleX:-1,rotation:0,right:0},compId:943},{type:"Image",props:{y:26,x:0,width:660,skin:"shop/img_shop0di4.png",sizeGrid:"2,2,2,2",height:78},compId:944,child:[{type:"Image",props:{skin:"shop/shop0zi5.png",centerY:0,centerX:0},compId:945}]},{type:"Image",props:{y:104,width:660,skin:"shop/img_shop0di7.png",sizeGrid:"2,2,2,2",height:8,centerX:0},compId:946},{type:"Image",props:{y:112,x:0,width:660,skin:"shop/img_shop0di5.png",sizeGrid:"2,2,2,2",height:40},compId:947,child:[{type:"Image",props:{y:0,x:0,skin:"shop/shop0zi3.png",centerY:0,centerX:0},compId:948}]},{type:"Image",props:{skin:"shop/img_logo7.png",left:10,bottom:0},compId:949},{type:"Button",props:{x:355,width:260,var:"btn54",stateNum:1,skin:"btn/btnGreen2.png",sizeGrid:"16,24,32,24",height:44,bottom:10},compId:950,child:[{type:"Image",props:{y:-34,x:0,width:260,skin:"btn/btnGreen1.png",sizeGrid:"24,24,24,24",height:64},compId:951,child:[{type:"Image",props:{width:50,visible:!0,skin:"main/icon_jew.png",height:40,centerY:0,centerX:20},compId:993,child:[{type:"Label",props:{y:4,x:-55,text:"88",fontSize:34,color:"#e9fed6",bold:!0,align:"center"},compId:994}]},{type:"Label",props:{y:15,width:170,text:"12 CNY",name:"labelGold",height:30,fontSize:34,color:"#e9fed6",centerX:0,bold:!0,align:"center"},compId:952},{type:"Image",props:{var:"imgLight54",top:0,skin:"main/button_patchHilight0.png",right:0,left:0,bottom:0,sizeGrid:"24,24,24,24"},compId:953}]}]},{type:"Image",props:{y:169,x:355,width:260,skin:"shop/img_shop0di6.png",sizeGrid:"22,26,23,19",height:98},compId:954,child:[{type:"Image",props:{skin:"shop/img_30000gold.png",centerY:0,centerX:-25},compId:955},{type:"Image",props:{skin:"shop/img_buy_1.png",right:33,centerY:0},compId:956}]}]}]},{type:"Box",props:{y:1126,name:"gift5",centerX:0},compId:957,child:[{type:"Image",props:{y:0,x:0,width:660,skin:"shop/img_shop0di3.png",sizeGrid:"24,25,26,25",height:366},compId:958,child:[{type:"Image",props:{y:26,skin:"shop/img_yellow.png",left:-15},compId:959},{type:"Image",props:{y:26,skin:"shop/img_yellow.png",scaleX:-1,rotation:0,right:0},compId:960},{type:"Image",props:{y:26,x:0,width:660,skin:"shop/img_shop0di4.png",sizeGrid:"2,2,2,2",height:78},compId:961,child:[{type:"Image",props:{skin:"shop/shop0zi10.png",centerY:0,centerX:0},compId:962}]},{type:"Image",props:{y:104,width:660,skin:"shop/img_shop0di7.png",sizeGrid:"2,2,2,2",height:8,centerX:0},compId:963},{type:"Image",props:{y:112,x:0,width:660,skin:"shop/img_shop0di5.png",sizeGrid:"2,2,2,2",height:40},compId:964,child:[{type:"Image",props:{y:0,x:0,skin:"shop/shop0zi12.png",centerY:0,centerX:0},compId:965}]},{type:"Button",props:{x:355,width:260,var:"btn55",stateNum:1,skin:"btn/btnGreen2.png",sizeGrid:"16,24,32,24",height:44,bottom:10},compId:967,child:[{type:"Image",props:{y:-34,x:0,width:260,skin:"btn/btnGreen1.png",sizeGrid:"24,24,24,24",height:64},compId:968,child:[{type:"Image",props:{width:50,visible:!0,skin:"main/icon_jew.png",height:40,centerY:0,centerX:20},compId:995,child:[{type:"Label",props:{y:4,x:-55,text:"38",fontSize:34,color:"#e9fed6",bold:!0,align:"center"},compId:996}]},{type:"Label",props:{y:15,width:170,text:"6 CNY",name:"labelGold",height:30,fontSize:34,color:"#e9fed6",centerX:0,bold:!0,align:"center"},compId:969},{type:"Image",props:{var:"imgLight55",top:0,skin:"main/button_patchHilight0.png",right:0,left:0,bottom:0,sizeGrid:"24,24,24,24"},compId:970}]}]},{type:"Image",props:{y:183,x:313,skin:"shop/shop0zi11.png",sizeGrid:"22,26,23,19",name:"zi"},compId:971},{type:"Image",props:{y:160,x:163,skin:"shop/shop0img1.png",rotation:5,name:"img"},compId:1088,child:[{type:"Image",props:{y:63,x:-138,skin:"shop/shop0img0.png",rotation:-5},compId:1087},{type:"Image",props:{y:137,x:36,skin:"shop/shop0img2.png",rotation:-5},compId:1089},{type:"Image",props:{y:166,x:50,skin:"shop/shop0img3.png",rotation:-5},compId:1090}]}]}]},{type:"Box",props:{y:1502,name:"gift6",centerX:0},compId:974,child:[{type:"Image",props:{y:0,x:0,width:660,skin:"shop/img_shop0di3.png",sizeGrid:"24,25,26,25",height:366},compId:975,child:[{type:"Image",props:{y:26,skin:"shop/img_yellow.png",left:-15},compId:976},{type:"Image",props:{y:26,skin:"shop/img_yellow.png",scaleX:-1,rotation:0,right:0},compId:977},{type:"Image",props:{y:26,x:0,width:660,skin:"shop/img_shop0di4.png",sizeGrid:"2,2,2,2",height:78},compId:978,child:[{type:"Image",props:{skin:"shop/shop0zi13.png",centerY:0,centerX:0},compId:979}]},{type:"Image",props:{y:104,width:660,skin:"shop/img_shop0di7.png",sizeGrid:"2,2,2,2",height:8,centerX:0},compId:980},{type:"Image",props:{y:112,x:0,width:660,skin:"shop/img_shop0di5.png",sizeGrid:"2,2,2,2",height:40},compId:981,child:[{type:"Image",props:{y:0,x:0,skin:"shop/shop0zi14.png",centerY:0,centerX:0},compId:982}]},{type:"Button",props:{x:355,width:260,var:"btn56",stateNum:1,skin:"btn/btnGreen2.png",sizeGrid:"16,24,32,24",height:44,bottom:10},compId:984,child:[{type:"Image",props:{y:-34,x:0,width:260,skin:"btn/btnGreen1.png",sizeGrid:"24,24,24,24",height:64},compId:985,child:[{type:"Image",props:{width:50,visible:!0,skin:"main/icon_jew.png",height:40,centerY:0,centerX:20},compId:997,child:[{type:"Label",props:{y:4,x:-55,text:"40",fontSize:34,color:"#e9fed6",bold:!0,align:"center"},compId:998}]},{type:"Label",props:{y:15,width:170,text:"6 CNY",name:"labelGold",height:30,fontSize:34,color:"#e9fed6",centerX:0,bold:!0,align:"center"},compId:986},{type:"Image",props:{var:"imgLight56",top:0,skin:"main/button_patchHilight0.png",right:0,left:0,bottom:0,sizeGrid:"24,24,24,24"},compId:987}]}]},{type:"Image",props:{y:183,x:313,skin:"shop/shop0zi15.png",name:"zi"},compId:988},{type:"Image",props:{y:160,x:163,skin:"shop/shop0img4.png",rotation:5,name:"img"},compId:1091,child:[{type:"Image",props:{y:63,x:-138,skin:"shop/shop0img0.png",rotation:-5},compId:1092},{type:"Image",props:{y:137,x:36,skin:"shop/shop0img5.png",rotation:-5},compId:1093},{type:"Image",props:{y:161,x:67,skin:"shop/shop0img6.png",rotation:-5},compId:1094}]}]}]}]}]}]},{type:"Box",props:{y:0,right:10,name:"item1",left:10,height:916},compId:11,child:[{type:"Image",props:{y:0,skin:"shop/img_shop1di0.png",sizeGrid:"7,7,7,7",right:0,left:0,height:916},compId:75},{type:"Image",props:{y:8,width:469,skin:"btn/img_shop1listdi.png",sizeGrid:"26,28,22,23",height:69,centerX:0},compId:18},{type:"Image",props:{y:86,width:700,skin:"btn/img_shop1listdi.png",sizeGrid:"26,28,22,23",height:810,centerX:0},compId:19},{type:"Sprite",props:{y:18,x:221.5,texture:"shop/img_1_0.png"},compId:126},{type:"Panel",props:{y:96,width:680,var:"panel1",height:790,centerX:0},compId:21,child:[{type:"Box",props:{y:0,x:0,width:680,height:2470},compId:22,child:[{type:"Box",props:{y:0,x:0,width:680,height:300},compId:413,child:[{type:"Image",props:{y:0,x:0,width:680,skin:"btn/img_10.png",sizeGrid:"24,25,26,25",height:270,alpha:1},compId:531},{type:"Image",props:{y:60,x:0,width:680,skin:"btn/img_shop1list.png",sizeGrid:"24,25,26,25",height:240},compId:20},{type:"Image",props:{skin:"shop/iap_gifts_8.png",left:10,centerY:20},compId:124},{type:"Image",props:{y:15,x:265,skin:"shop/lbtitle0.png"},compId:1077},{type:"Image",props:{width:326,top:102,skin:"shop/gold1000.png",right:48,height:78},compId:639},{type:"Button",props:{y:246,x:355,width:228,var:"btn00",stateNum:1,skin:"btn/btnGreen2.png",sizeGrid:"16,24,32,24",name:"btn",height:44},compId:136,child:[{type:"Image",props:{y:-34,x:0,width:228,skin:"btn/btnGreen1.png",sizeGrid:"24,24,24,24",height:60},compId:137,child:[{type:"Image",props:{y:10,x:122,width:50,visible:!0,var:"jew5",skin:"main/icon_jew.png",height:40},compId:603,child:[{type:"Label",props:{y:4,x:-55,text:"18",fontSize:34,color:"#e9fed6",bold:!0,align:"center"},compId:604}]},{type:"Label",props:{y:15,width:170,text:"1 CNY",name:"labelGold",height:30,fontSize:34,color:"#e9fed6",centerX:0,bold:!0,align:"center"},compId:144},{type:"Image",props:{var:"imgLight00",top:0,skin:"main/button_patchHilight0.png",right:0,left:0,bottom:0,sizeGrid:"24,24,24,24"},compId:646}]}]}]},{type:"Box",props:{y:310,x:0,width:680,height:300},compId:534,child:[{type:"Image",props:{y:0,x:0,width:680,skin:"btn/img_10.png",sizeGrid:"24,25,26,25",height:270},compId:535},{type:"Image",props:{y:60,x:0,width:680,skin:"btn/img_shop1list.png",sizeGrid:"24,25,26,25",height:240},compId:536},{type:"Image",props:{skin:"shop/iap_gifts_9.png",left:10,centerY:30},compId:537},{type:"Image",props:{y:15,x:265,skin:"shop/lbtitle01.png"},compId:1078},{type:"Image",props:{width:358,top:102,skin:"shop/gold5000.png",right:32,height:78},compId:640},{type:"Button",props:{y:246,x:355,width:228,var:"btn01",stateNum:1,skin:"btn/img_4.png",sizeGrid:"16,24,32,24",name:"btn",height:44},compId:545,child:[{type:"Image",props:{y:-34,x:0,width:228,skin:"btn/img_5.png",sizeGrid:"24,24,24,24",height:60},compId:616,child:[{type:"Image",props:{y:10,x:122,width:50,visible:!0,var:"jew6",skin:"main/icon_jew.png",height:40},compId:608,child:[{type:"Label",props:{y:4,x:-55,text:"40",fontSize:34,color:"#e9fed6",bold:!0,align:"center"},compId:609}]},{type:"Label",props:{y:15,width:170,text:"3 CNY",name:"labelGold",height:30,fontSize:34,color:"#e9fed6",centerX:0,bold:!0,align:"center"},compId:617},{type:"Image",props:{y:0,x:0,var:"imgLight01",top:0,skin:"main/button_patchHilight0.png",right:0,left:0,bottom:0,sizeGrid:"24,24,24,24"},compId:647}]}]},{type:"Image",props:{y:60,x:0,skin:"shop/remai_bg.png"},compId:644,child:[{type:"Image",props:{y:11,x:9,skin:"shop/remai.png"},compId:645}]}]},{type:"Box",props:{y:620,x:0,width:680,height:300},compId:580,child:[{type:"Image",props:{y:0,x:0,width:680,skin:"btn/img_10.png",sizeGrid:"24,25,26,25",height:270},compId:581},{type:"Image",props:{y:60,x:0,width:680,skin:"btn/img_shop1list.png",sizeGrid:"24,25,26,25",height:240},compId:582},{type:"Image",props:{y:15,x:265,skin:"shop/lbtitle1.png"},compId:1079},{type:"Image",props:{skin:"shop/lbicon1.png",rotation:-14,left:9,centerY:56},compId:583},{type:"Image",props:{y:75,x:166,skin:"shop/lbicon2.png",rotation:18},compId:1080},{type:"Image",props:{y:172,x:111,skin:"shop/lbgold.png"},compId:1081},{type:"Image",props:{y:82,skin:"shop/lbtxt1.png",right:47},compId:641},{type:"Image",props:{y:172,x:340,skin:"shop/lblock1.png"},compId:1082},{type:"Button",props:{y:246,x:355,width:228,var:"btn02",stateNum:1,skin:"btn/btnGreen2.png",sizeGrid:"16,24,32,24",name:"btn",height:44},compId:586,child:[{type:"Image",props:{y:-34,x:0,width:228,skin:"btn/btnGreen1.png",sizeGrid:"24,24,24,24",height:60},compId:587,child:[{type:"Image",props:{y:10,x:122,width:50,visible:!0,var:"jew7",skin:"main/icon_jew.png",height:40},compId:614,child:[{type:"Label",props:{y:4,x:-65,text:"80",fontSize:34,color:"#e9fed6",bold:!0,align:"center"},compId:615}]},{type:"Label",props:{y:15,x:0,width:170,text:"25 CNY",name:"labelGold",height:30,fontSize:34,color:"#e9fed6",centerX:0,bold:!0,align:"center"},compId:592},{type:"Image",props:{y:0,x:0,var:"imgLight02",top:0,skin:"main/button_patchHilight0.png",right:0,left:0,bottom:0,sizeGrid:"24,24,24,24"},compId:648},{type:"Image",props:{y:13,x:64,visible:!1,skin:"shop/lblock0.png",name:"imgLock"},compId:1083}]}]}]},{type:"Box",props:{y:930,x:0,width:680,height:300},compId:1084,child:[{type:"Image",props:{y:0,x:0,width:680,skin:"btn/img_10.png",sizeGrid:"24,25,26,25",height:270},compId:1085},{type:"Image",props:{y:60,x:0,width:680,skin:"btn/img_shop1list.png",sizeGrid:"24,25,26,25",height:240},compId:1086},{type:"Image",props:{y:15,x:265,skin:"shop/lbtitle2.png"},compId:999},{type:"Image",props:{skin:"shop/lbicon5.png",rotation:-14,left:9,centerY:56},compId:1e3},{type:"Image",props:{y:109,x:208.5,skin:"shop/lbicon4.png",rotation:20},compId:1001},{type:"Image",props:{y:79,x:122,skin:"shop/lbicon3.png",rotation:5},compId:1060},{type:"Image",props:{y:172,x:92,skin:"shop/lbgold.png"},compId:1002},{type:"Image",props:{y:82,skin:"shop/lbtxt2.png",right:21},compId:1003},{type:"Image",props:{y:172,x:340,skin:"shop/lblock2.png"},compId:1004},{type:"Button",props:{y:246,x:355,width:228,var:"btn03",stateNum:1,skin:"btn/btnGreen2.png",sizeGrid:"16,24,32,24",name:"btn",height:44},compId:1005,child:[{type:"Image",props:{y:-34,x:0,width:228,skin:"btn/btnGreen1.png",sizeGrid:"24,24,24,24",height:60},compId:1006,child:[{type:"Image",props:{y:10,x:122,width:50,visible:!0,var:"jew8",skin:"main/icon_jew.png",height:40},compId:1007,child:[{type:"Label",props:{y:4,x:-65,text:"120",fontSize:34,color:"#e9fed6",bold:!0,align:"center"},compId:1008}]},{type:"Label",props:{y:15,x:0,width:170,text:"25 CNY",name:"labelGold",height:30,fontSize:34,color:"#e9fed6",centerX:0,bold:!0,align:"center"},compId:1009},{type:"Image",props:{y:0,x:0,var:"imgLight03",top:0,skin:"main/button_patchHilight0.png",right:0,left:0,bottom:0,sizeGrid:"24,24,24,24"},compId:1010},{type:"Image",props:{y:13,x:64,visible:!1,skin:"shop/lblock0.png",name:"imgLock"},compId:1011}]}]}]},{type:"Box",props:{y:1240,x:0,width:680,height:300},compId:1012,child:[{type:"Image",props:{y:0,x:0,width:680,skin:"btn/img_10.png",sizeGrid:"24,25,26,25",height:270},compId:1013},{type:"Image",props:{y:60,x:0,width:680,skin:"btn/img_shop1list.png",sizeGrid:"24,25,26,25",height:240},compId:1014},{type:"Image",props:{y:15,x:265,skin:"shop/lbtitle3.png"},compId:1015},{type:"Image",props:{y:135,x:9,skin:"shop/lbicon7.png",rotation:-14,left:9,centerY:56},compId:1061},{type:"Image",props:{y:109,x:208,skin:"shop/lbicon6.png",rotation:20},compId:1062},{type:"Image",props:{y:79,x:122,skin:"shop/lbicon8.png",rotation:5},compId:1063},{type:"Image",props:{y:172,x:92,skin:"shop/lbgold.png"},compId:1064},{type:"Image",props:{y:82,skin:"shop/lbtxt3.png",right:20},compId:1019},{type:"Image",props:{y:172,x:340,skin:"shop/lblock3.png"},compId:1020},{type:"Button",props:{y:246,x:355,width:228,var:"btn04",stateNum:1,skin:"btn/btnGreen2.png",sizeGrid:"16,24,32,24",name:"btn",height:44},compId:1021,child:[{type:"Image",props:{y:-34,x:0,width:228,skin:"btn/btnGreen1.png",sizeGrid:"24,24,24,24",height:60},compId:1022,child:[{type:"Image",props:{y:10,x:122,width:50,visible:!0,var:"jew9",skin:"main/icon_jew.png",height:40},compId:1023,child:[{type:"Label",props:{y:4,x:-65,text:"180",fontSize:34,color:"#e9fed6",bold:!0,align:"center"},compId:1024}]},{type:"Label",props:{y:15,x:0,width:170,text:"25 CNY",name:"labelGold",height:30,fontSize:34,color:"#e9fed6",centerX:0,bold:!0,align:"center"},compId:1025},{type:"Image",props:{y:0,x:0,var:"imgLight04",top:0,skin:"main/button_patchHilight0.png",right:0,left:0,bottom:0,sizeGrid:"24,24,24,24"},compId:1026},{type:"Image",props:{y:13,x:64,visible:!1,skin:"shop/lblock0.png",name:"imgLock"},compId:1027}]}]}]},{type:"Box",props:{y:1550,x:0,width:680,height:300},compId:1028,child:[{type:"Image",props:{y:0,x:0,width:680,skin:"btn/img_10.png",sizeGrid:"24,25,26,25",height:270},compId:1029},{type:"Image",props:{y:60,x:0,width:680,skin:"btn/img_shop1list.png",sizeGrid:"24,25,26,25",height:240},compId:1030},{type:"Image",props:{y:12,x:226,skin:"shop/lbtitle4.png"},compId:1031},{type:"Image",props:{skin:"shop/iap_gifts_01.png",left:36,centerY:30},compId:1032},{type:"Image",props:{y:78.5,skin:"shop/lbtxt4.png",right:97},compId:1035},{type:"Button",props:{y:246,x:355,width:228,var:"btn05",stateNum:1,skin:"btn/btnGreen2.png",sizeGrid:"16,24,32,24",name:"btn",height:44},compId:1037,child:[{type:"Image",props:{y:-34,x:0,width:228,skin:"btn/btnGreen1.png",sizeGrid:"24,24,24,24",height:60},compId:1038,child:[{type:"Image",props:{y:10,x:122,width:50,visible:!0,var:"jew10",skin:"main/icon_jew.png",height:40},compId:1039,child:[{type:"Label",props:{y:4,x:-65,text:"250",fontSize:34,color:"#e9fed6",bold:!0,align:"center"},compId:1040}]},{type:"Label",props:{y:15,x:0,width:170,text:"25 CNY",name:"labelGold",height:30,fontSize:34,color:"#e9fed6",centerX:0,bold:!0,align:"center"},compId:1041},{type:"Image",props:{y:0,x:0,var:"imgLight05",top:0,skin:"main/button_patchHilight0.png",right:0,left:0,bottom:0,sizeGrid:"24,24,24,24"},compId:1042}]}]}]},{type:"Box",props:{y:1860,x:0,width:680,height:300},compId:1065,child:[{type:"Image",props:{y:0,x:0,width:680,skin:"btn/img_10.png",sizeGrid:"24,25,26,25",height:270},compId:1066},{type:"Image",props:{y:60,x:0,width:680,skin:"btn/img_shop1list.png",sizeGrid:"24,25,26,25",height:240},compId:1067},{type:"Image",props:{y:12,x:226,skin:"shop/lbtitle5.png"},compId:1068},{type:"Image",props:{skin:"shop/iap_gifts_02.png",left:36,centerY:30},compId:1069},{type:"Image",props:{y:98.5,skin:"shop/lbtxt5.png",right:18},compId:1070},{type:"Button",props:{y:246,x:355,width:228,var:"btn06",stateNum:1,skin:"btn/btnGreen2.png",sizeGrid:"16,24,32,24",name:"btn",height:44},compId:1071,child:[{type:"Image",props:{y:-34,x:0,width:228,skin:"btn/btnGreen1.png",sizeGrid:"24,24,24,24",height:60},compId:1072,child:[{type:"Image",props:{y:10,x:122,width:50,visible:!0,var:"jew11",skin:"main/icon_jew.png",height:40},compId:1073,child:[{type:"Label",props:{y:4,x:-65,text:"500",fontSize:34,color:"#e9fed6",bold:!0,align:"center"},compId:1074}]},{type:"Label",props:{y:15,x:0,width:170,text:"25 CNY",name:"labelGold",height:30,fontSize:34,color:"#e9fed6",centerX:0,bold:!0,align:"center"},compId:1075},{type:"Image",props:{y:0,x:0,var:"imgLight06",top:0,skin:"main/button_patchHilight0.png",right:0,left:0,bottom:0,sizeGrid:"24,24,24,24"},compId:1076}]}]}]},{type:"Box",props:{y:2170,x:0,width:680,var:"qqBox",height:300},compId:649,child:[{type:"Image",props:{y:0,x:0,width:680,skin:"btn/img_10.png",sizeGrid:"24,25,26,25",height:270},compId:650},{type:"Image",props:{y:60,x:0,width:680,skin:"btn/img_shop1list.png",sizeGrid:"24,25,26,25",height:240},compId:651},{type:"Image",props:{skin:"shop/iap_gifts_5.png",left:10,centerY:30},compId:652},{type:"Label",props:{y:17,x:159,width:362,text:"终极大礼包",height:31,fontSize:30,font:"SimHei",color:"#ffffff",bold:!0,align:"center"},compId:653},{type:"Image",props:{width:286,top:75,skin:"shop/rmb1000.png",right:68,height:120},compId:654},{type:"Button",props:{y:246,x:355,width:228,var:"btn07",stateNum:1,skin:"btn/btnGreen2.png",sizeGrid:"16,24,32,24",name:"btn",height:44},compId:655,child:[{type:"Image",props:{y:-34,x:0,width:228,skin:"btn/btnGreen1.png",sizeGrid:"24,24,24,24",height:60},compId:656,child:[{type:"Label",props:{y:15,x:0,width:170,text:"1000 CNY",name:"labelGold",height:30,fontSize:34,color:"#e9fed6",centerX:0,bold:!0,align:"center"},compId:659},{type:"Image",props:{y:0,x:0,var:"imgLight07",top:0,skin:"main/button_patchHilight0.png",right:0,left:0,bottom:0,sizeGrid:"24,24,24,24"},compId:660}]}]}]}]}]}]},{type:"Box",props:{y:0,right:10,name:"item2",left:10,height:916},compId:81,child:[{type:"Image",props:{y:0,skin:"shop/img_shop2di0.png",sizeGrid:"7,7,7,7",right:0,left:0,height:916},compId:82},{type:"Image",props:{y:8,width:469,skin:"btn/img_shop2listdi.png",sizeGrid:"26,28,22,23",height:69,centerX:0},compId:83},{type:"Image",props:{y:84,width:700,skin:"btn/img_shop2listdi.png",sizeGrid:"26,28,22,23",height:818,centerX:0},compId:84},{type:"Sprite",props:{y:16,x:264.5,texture:"shop/shop2zi4.png"},compId:345},{type:"Panel",props:{y:94,width:678,var:"panel2",height:795,centerX:0},compId:85,child:[{type:"Box",props:{y:0,x:0,width:678,height:1070},compId:86,child:[{type:"Box",props:{y:0,x:0,width:678,height:260},compId:355,child:[{type:"Image",props:{y:0,x:0,width:678,skin:"btn/img_shop2list.png",sizeGrid:"24,25,26,25",height:260},compId:87,child:[{type:"Image",props:{y:33,x:31,width:233,skin:"shop/img_logo9.png",height:233},compId:353},{type:"Image",props:{y:62,x:366,width:260,skin:"btn/shop2di1.png",sizeGrid:"24,25,26,25",height:104},compId:352},{type:"Sprite",props:{y:10,x:278,texture:"shop/shop2zi0.png"},compId:346},{type:"Sprite",props:{y:101,x:381,texture:"shop/shop2zi5.png"},compId:354}]},{type:"Button",props:{y:205,x:366,width:260,var:"btn10",stateNum:1,skin:"btn/btnGreen2.png",sizeGrid:"16,24,32,24",height:44},compId:347,child:[{type:"Image",props:{y:-34,x:0,width:260,skin:"btn/btnGreen1.png",sizeGrid:"24,24,24,24",height:60},compId:348,child:[{type:"Image",props:{y:4,x:5,width:250,var:"imgLight10",skin:"main/button_patchHilight0.png",height:47,sizeGrid:"24,24,24,24"},compId:349},{type:"Label",props:{y:15,x:45,width:170,text:"6 CNY",name:"labelGold",height:30,fontSize:34,color:"#4a6e3e",centerX:0,bold:!0,align:"center"},compId:642,child:[{type:"Label",props:{y:-4,x:0,width:170,text:"6 CNY",name:"labelGold",height:34,fontSize:34,color:"#e9fed6",bold:!0,align:"center"},compId:643}]},{type:"Image",props:{y:9,x:130,width:50,visible:!1,var:"jew1",skin:"main/icon_jew.png",height:40},compId:593,child:[{type:"Label",props:{y:4,x:-55,text:"60",fontSize:34,font:"SimHei",color:"#e9fed6",bold:!0,align:"center"},compId:594}]}]}]},{type:"Button",props:{y:205,x:451,width:177,stateNum:1,skin:"btn/img_btn_1.png",sizeGrid:"16,24,32,24",name:"btnGray",height:44},compId:506,child:[{type:"Image",props:{y:-34,skin:"btn/img_btn_0.png",sizeGrid:"24,24,24,24",right:0,left:0,height:60},compId:508,child:[{type:"Image",props:{skin:"shop/img_zi_1.png",centerY:0,centerX:0},compId:509}]}]},{type:"Button",props:{y:205,x:317,width:122,stateNum:1,skin:"btn/img_tip_5.png",sizeGrid:"16,24,32,24",name:"btnTry",height:44},compId:507,child:[{type:"Image",props:{y:-34,skin:"btn/img_tip_4.png",sizeGrid:"24,24,24,24",right:0,left:0,height:60},compId:510,child:[{type:"Image",props:{skin:"shop/img_zi_2.png",centerY:0,centerX:0},compId:511}]}]}]},{type:"Box",props:{y:270,x:0,width:678,height:260},compId:378,child:[{type:"Image",props:{y:0,x:0,width:678,skin:"btn/img_shop2list.png",sizeGrid:"24,25,26,25",height:260},compId:379,child:[{type:"Image",props:{y:33,x:31,width:233,skin:"shop/img_logo10.png",height:233},compId:381},{type:"Image",props:{y:62,x:366,width:260,skin:"btn/shop2di1.png",sizeGrid:"24,25,26,25",height:104},compId:382},{type:"Sprite",props:{y:10,x:256.5,texture:"shop/shop2zi3.png"},compId:383},{type:"Sprite",props:{y:101,x:381,texture:"shop/shop2zi6.png"},compId:380},{type:"Sprite",props:{texture:"shop/shop2biaoqian.png"},compId:389}]},{type:"Button",props:{y:205,x:366,width:260,var:"btn11",stateNum:1,skin:"btn/btnGreen2.png",sizeGrid:"16,24,32,24",height:44},compId:384,child:[{type:"Image",props:{y:-34,x:0,width:260,skin:"btn/btnGreen1.png",sizeGrid:"24,24,24,24",height:60},compId:385,child:[{type:"Image",props:{y:4,x:5,width:250,var:"imgLight11",skin:"main/button_patchHilight0.png",height:47,sizeGrid:"24,24,24,24"},compId:386},{type:"Label",props:{y:15,width:170,text:"3 CNY",name:"labelGold",height:30,fontSize:34,color:"#4a6e3e",centerX:0,bold:!0,align:"center"},compId:387,child:[{type:"Label",props:{y:-4,x:0,width:170,text:"3 CNY",name:"labelGold",height:34,fontSize:34,color:"#e9fed6",bold:!0,align:"center"},compId:388}]},{type:"Image",props:{y:9,x:130,width:50,visible:!1,var:"jew2",skin:"main/icon_jew.png",height:40},compId:595,child:[{type:"Label",props:{y:4,x:-55,text:"40",fontSize:34,font:"SimHei",color:"#e9fed6",bold:!0,align:"center"},compId:596}]}]}]},{type:"Button",props:{y:205,x:451,width:177,stateNum:1,skin:"btn/img_btn_1.png",sizeGrid:"16,24,32,24",name:"btnGray",height:44},compId:512,child:[{type:"Image",props:{y:-34,skin:"btn/img_btn_0.png",sizeGrid:"24,24,24,24",right:0,left:0,height:60},compId:514,child:[{type:"Image",props:{skin:"shop/img_zi_1.png",centerY:0,centerX:0},compId:515}]}]},{type:"Button",props:{y:205,x:317,width:122,stateNum:1,skin:"btn/img_tip_5.png",sizeGrid:"16,24,32,24",name:"btnTry",height:44},compId:513,child:[{type:"Image",props:{y:-34,skin:"btn/img_tip_4.png",sizeGrid:"24,24,24,24",right:0,left:0,height:60},compId:516,child:[{type:"Image",props:{skin:"shop/img_zi_2.png",centerY:0,centerX:0},compId:517}]}]}]},{type:"Box",props:{y:540,x:0,width:678,height:260},compId:390,child:[{type:"Image",props:{y:0,x:0,width:678,skin:"btn/img_shop2list.png",sizeGrid:"24,25,26,25",height:260},compId:391,child:[{type:"Image",props:{y:33,x:31,width:233,skin:"shop/img_logo12.png",height:233},compId:392},{type:"Image",props:{y:62,x:366,width:260,skin:"btn/shop2di1.png",sizeGrid:"24,25,26,25",height:104},compId:393},{type:"Sprite",props:{y:10,x:256.5,texture:"shop/shop2zi2.png"},compId:394},{type:"Sprite",props:{y:97.5,x:377.5,texture:"shop/shop2zi8.png"},compId:395}]},{type:"Button",props:{y:205,x:366,width:260,var:"btn12",stateNum:1,skin:"btn/btnGreen2.png",sizeGrid:"16,24,32,24",height:44},compId:397,child:[{type:"Image",props:{y:-34,x:0,width:260,skin:"btn/btnGreen1.png",sizeGrid:"24,24,24,24",height:60},compId:398,child:[{type:"Image",props:{y:4,x:5,width:250,var:"imgLight12",skin:"main/button_patchHilight0.png",height:47,sizeGrid:"24,24,24,24"},compId:399},{type:"Label",props:{y:15,width:170,text:"12 CNY",name:"labelGold",height:30,fontSize:34,color:"#4a6e3e",centerX:0,bold:!0,align:"center"},compId:400,child:[{type:"Label",props:{y:-4,x:0,width:170,text:"12 CNY",name:"labelGold",height:34,fontSize:34,color:"#e9fed6",bold:!0,align:"center"},compId:401}]},{type:"Image",props:{y:9,x:130,width:50,visible:!1,var:"jew3",skin:"main/icon_jew.png",height:40},compId:597,child:[{type:"Label",props:{y:4,x:-65,text:"120",fontSize:34,font:"SimHei",color:"#e9fed6",bold:!0,align:"center"},compId:598}]}]}]},{type:"Button",props:{y:205,x:451,width:177,stateNum:1,skin:"btn/img_btn_1.png",sizeGrid:"16,24,32,24",name:"btnGray",height:44},compId:518,child:[{type:"Image",props:{y:-34,skin:"btn/img_btn_0.png",sizeGrid:"24,24,24,24",right:0,left:0,height:60},compId:520,child:[{type:"Image",props:{skin:"shop/img_zi_1.png",centerY:0,centerX:0},compId:521}]}]},{type:"Button",props:{y:205,x:317,width:122,stateNum:1,skin:"btn/img_tip_5.png",sizeGrid:"16,24,32,24",name:"btnTry",height:44},compId:519,child:[{type:"Image",props:{y:-34,skin:"btn/img_tip_4.png",sizeGrid:"24,24,24,24",right:0,left:0,height:60},compId:522,child:[{type:"Image",props:{skin:"shop/img_zi_2.png",centerY:0,centerX:0},compId:523}]}]}]},{type:"Box",props:{y:810,x:0,width:678,height:260},compId:402,child:[{type:"Image",props:{y:0,x:0,width:678,skin:"btn/img_shop2list.png",sizeGrid:"24,25,26,25",height:260},compId:403,child:[{type:"Image",props:{y:33,x:31,width:233,skin:"shop/img_logo11.png",height:233},compId:404},{type:"Image",props:{y:62,x:366,width:260,skin:"btn/shop2di1.png",sizeGrid:"24,25,26,25",height:104},compId:405},{type:"Sprite",props:{y:10,x:256.5,texture:"shop/shop2zi1.png"},compId:406},{type:"Sprite",props:{y:99.5,x:377.5,texture:"shop/shop2zi7.png"},compId:407}]},{type:"Button",props:{y:205,x:366,width:260,var:"btn13",stateNum:1,skin:"btn/btnGreen2.png",sizeGrid:"16,24,32,24",height:44},compId:408,child:[{type:"Image",props:{y:-34,x:0,width:260,skin:"btn/btnGreen1.png",sizeGrid:"24,24,24,24",height:60},compId:409,child:[{type:"Image",props:{y:4,x:5,width:250,var:"imgLight13",skin:"main/button_patchHilight0.png",height:47,sizeGrid:"24,24,24,24"},compId:410},{type:"Label",props:{y:15,width:170,text:"6 CNY",name:"labelGold",height:30,fontSize:34,color:"#4a6e3e",centerX:0,bold:!0,align:"center"},compId:411,child:[{type:"Label",props:{y:-4,x:0,width:170,text:"6 CNY",name:"labelGold",height:34,fontSize:34,color:"#e9fed6",bold:!0,align:"center"},compId:412}]},{type:"Image",props:{y:9,x:130,width:50,visible:!1,var:"jew4",skin:"main/icon_jew.png",height:40},compId:599,child:[{type:"Label",props:{y:4,x:-55,text:"60",fontSize:34,color:"#e9fed6",align:"center"},compId:600}]}]}]},{type:"Button",props:{y:205,x:451,width:177,stateNum:1,skin:"btn/img_btn_1.png",sizeGrid:"16,24,32,24",name:"btnGray",height:44},compId:524,child:[{type:"Image",props:{y:-34,skin:"btn/img_btn_0.png",sizeGrid:"24,24,24,24",right:0,left:0,height:60},compId:526,child:[{type:"Image",props:{skin:"shop/img_zi_1.png",centerY:0,centerX:0},compId:527}]}]},{type:"Button",props:{y:205,x:317,width:122,stateNum:1,skin:"btn/img_tip_5.png",sizeGrid:"16,24,32,24",name:"btnTry",height:44},compId:525,child:[{type:"Image",props:{y:-34,skin:"btn/img_tip_4.png",sizeGrid:"24,24,24,24",right:0,left:0,height:60},compId:528,child:[{type:"Image",props:{skin:"shop/img_zi_2.png",centerY:0,centerX:0},compId:529}]}]}]}]}]}]},{type:"Box",props:{y:0,x:0,right:10,name:"item3",left:10,height:916},compId:105,child:[{type:"Image",props:{y:0,skin:"shop/img_shop3di0.png",sizeGrid:"7,7,7,7",right:0,left:0,height:916},compId:106},{type:"Image",props:{y:8,width:469,skin:"btn/img_shop3listdi.png",sizeGrid:"26,28,22,23",height:69,centerX:0},compId:107},{type:"Image",props:{y:84,width:700,skin:"btn/img_shop3listdi.png",sizeGrid:"26,28,22,23",height:818,centerX:0},compId:108},{type:"Sprite",props:{y:16,x:289.5,texture:"shop/shop3zi7.png"},compId:270},{type:"Panel",props:{y:94,width:678,var:"panel3",height:795,centerX:0},compId:109,child:[{type:"Box",props:{y:0,x:0,width:678,height:800},compId:110,child:[{type:"Box",props:{y:0,x:0,width:678,height:260},compId:300,child:[{type:"Image",props:{y:0,x:0,width:678,skin:"btn/img_shop3list.png",sizeGrid:"24,25,26,25",height:260},compId:626,child:[{type:"Image",props:{y:18,x:25,width:280,skin:"shop/img_logo0.png",height:280},compId:628},{type:"Sprite",props:{y:10,x:143,texture:"shop/shop3zi0.png"},compId:629},{type:"Image",props:{y:71,x:373,width:260,skin:"btn/shop3di2.png",sizeGrid:"24,25,23,27",height:96},compId:630,child:[{type:"Sprite",props:{y:30,x:169,width:34,texture:"main/coin.png",height:41},compId:631},{type:"Sprite",props:{y:33,x:50,texture:"shop/shop3zi9.png"},compId:632}]}]},{type:"Button",props:{y:209,x:372,width:260,var:"btn20",stateNum:1,skin:"btn/btnGreen2.png",sizeGrid:"16,24,32,24",height:44},compId:276,child:[{type:"Image",props:{y:-34,x:0,width:260,skin:"btn/btnGreen1.png",sizeGrid:"24,24,24,24",height:60},compId:277,child:[{type:"Image",props:{y:4,x:5,width:250,var:"imgLight20",skin:"main/button_patchHilight0.png",height:47,sizeGrid:"24,24,24,24"},compId:278},{type:"Label",props:{y:15,width:170,text:"6 CNY",name:"labelGold",height:30,fontSize:34,color:"#4a6e3e",centerX:0,bold:!0,align:"center"},compId:279,child:[{type:"Label",props:{y:-4,x:0,width:170,text:"6 CNY",name:"labelGold",height:34,fontSize:34,color:"#e9fed6",bold:!0,align:"center"},compId:280}]},{type:"Image",props:{y:10,x:137,width:50,visible:!0,var:"jew20",skin:"main/icon_jew.png",height:40},compId:620,child:[{type:"Label",props:{y:4,x:-55,text:"60",fontSize:34,font:"SimHei",color:"#e9fed6",bold:!0,align:"center"},compId:621}]}]}]}]},{type:"Box",props:{y:270,x:0,width:678,height:260},compId:315,child:[{type:"Image",props:{y:0,x:0,width:678,skin:"btn/img_shop3list.png",sizeGrid:"24,25,26,25",height:260},compId:318,child:[{type:"Image",props:{y:18,x:14,width:280,skin:"shop/img_logo6.png",height:280},compId:321},{type:"Sprite",props:{y:10,x:187.5,texture:"shop/shop3zi1.png"},compId:329},{type:"Image",props:{y:71,x:373,width:260,skin:"btn/shop3di2.png",sizeGrid:"24,25,23,27",height:96},compId:330,child:[{type:"Sprite",props:{y:30,x:169,width:34,texture:"main/coin.png",height:41},compId:323},{type:"Sprite",props:{y:27,x:54,texture:"shop/shop3zi6.png"},compId:331}]}]},{type:"Button",props:{y:209,x:372,width:260,var:"btn21",stateNum:1,skin:"btn/btnGreen2.png",sizeGrid:"16,24,32,24",height:44},compId:324,child:[{type:"Image",props:{y:-34,x:0,width:260,skin:"btn/btnGreen1.png",sizeGrid:"24,24,24,24",height:60},compId:325,child:[{type:"Image",props:{y:4,x:5,width:250,var:"imgLight21",skin:"main/button_patchHilight0.png",height:47,sizeGrid:"24,24,24,24"},compId:326},{type:"Label",props:{y:15,width:170,text:"8 CNY",name:"labelGold",height:30,fontSize:34,color:"#4a6e3e",centerX:0,bold:!0,align:"center"},compId:327,child:[{type:"Label",props:{y:-4,x:0,width:170,text:"8 CNY",name:"labelGold",height:34,fontSize:34,color:"#e9fed6",bold:!0,align:"center"},compId:328}]},{type:"Image",props:{y:10,x:137,width:50,visible:!0,var:"jew21",skin:"main/icon_jew.png",height:40},compId:622,child:[{type:"Label",props:{y:4,x:-55,text:"90",fontSize:34,font:"SimHei",color:"#e9fed6",bold:!0,align:"center"},compId:623}]}]}]}]},{type:"Box",props:{y:540,x:0,width:678,height:260},compId:332,child:[{type:"Image",props:{y:0,x:0,width:678,skin:"btn/img_shop3list.png",sizeGrid:"24,25,26,25",height:260},compId:333,child:[{type:"Image",props:{y:18,x:14,width:280,skin:"shop/img_logo7.png",height:280},compId:334},{type:"Sprite",props:{y:10,x:209,texture:"shop/shop3zi2.png"},compId:335},{type:"Image",props:{y:71,x:373,width:260,skin:"btn/shop3di2.png",sizeGrid:"24,25,23,27",height:96},compId:336,child:[{type:"Sprite",props:{y:30,x:173,width:34,texture:"main/coin.png",height:41},compId:337},{type:"Sprite",props:{y:28,x:46,texture:"shop/shop3zi5.png"},compId:338}]},{type:"Sprite",props:{y:0,x:0,texture:"shop/shop3biaoqian.png"},compId:344}]},{type:"Button",props:{y:209,x:372,width:260,var:"btn22",stateNum:1,skin:"btn/btnGreen2.png",sizeGrid:"16,24,32,24",height:44},compId:339,child:[{type:"Image",props:{y:-34,x:0,width:260,skin:"btn/btnGreen1.png",sizeGrid:"24,24,24,24",height:60},compId:340,child:[{type:"Image",props:{y:4,x:5,width:250,var:"imgLight22",skin:"main/button_patchHilight0.png",height:47,sizeGrid:"24,24,24,24"},compId:341},{type:"Label",props:{y:15,width:170,text:"12 CNY",name:"labelGold",height:30,fontSize:34,color:"#4a6e3e",centerX:0,bold:!0,align:"center"},compId:342,child:[{type:"Label",props:{y:-4,x:0,width:170,text:"12 CNY",name:"labelGold",height:34,fontSize:34,color:"#e9fed6",bold:!0,align:"center"},compId:343}]},{type:"Image",props:{y:10,x:137,width:50,visible:!0,var:"jew22",skin:"main/icon_jew.png",height:40},compId:624,child:[{type:"Label",props:{y:4,x:-62,text:"150",fontSize:34,font:"SimHei",color:"#e9fed6",bold:!0,align:"center"},compId:625}]}]}]}]}]}]}]},{type:"Box",props:{y:0,x:0,right:10,name:"item4",left:10,height:916},compId:113,child:[{type:"Image",props:{y:0,skin:"shop/img_shop4di0.png",sizeGrid:"7,7,7,7",right:0,left:0,height:916},compId:114},{type:"Image",props:{y:8,width:469,skin:"btn/img_shop4listdi.png",sizeGrid:"26,28,22,23",height:69,centerX:0},compId:115},{type:"Image",props:{y:84,width:700,skin:"btn/img_shop4listdi.png",sizeGrid:"26,28,22,23",height:818,centerX:0},compId:116},{type:"Sprite",props:{y:18.5,x:321.5,width:87,texture:"shop/shop4zi8.png",height:48},compId:155},{type:"Panel",props:{y:96,width:678,var:"panel4",height:795,centerX:0},compId:117,child:[{type:"Box",props:{y:0,x:0,width:678,height:1062},compId:118,child:[{type:"Box",props:{y:0,x:0},compId:170,child:[{type:"Image",props:{y:0,x:0,width:678,skin:"btn/img_shop4list.png",sizeGrid:"24,25,26,25",height:258},compId:119,child:[{type:"Sprite",props:{y:8,x:277,width:123,texture:"shop/shop4zi5.png",height:44},compId:156},{type:"Image",props:{y:21,x:52,width:206,skin:"shop/img_logo2.png",height:206},compId:157},{type:"Image",props:{y:68,x:385,width:260,skin:"btn/shop4di1.png",sizeGrid:"25,26,25,25",height:88},compId:159,child:[{type:"Sprite",props:{y:9,x:59,width:143,texture:"shop/shop4zi10.png",height:35},compId:160},{type:"Sprite",props:{y:45,x:19,width:222,texture:"shop/shop4zi13.png",height:35},compId:161}]},{type:"Label",props:{y:212,x:54,width:170,text:"+300",name:"labelGold",height:30,fontSize:30,color:"#0d0d0d",bold:!0,align:"center"},compId:237,child:[{type:"Label",props:{y:-3,x:0,width:170,text:"+300",height:34,fontSize:30,color:"#ffffff",bold:!0,align:"center"},compId:239}]},{type:"Sprite",props:{y:203,x:176,texture:"shop/shop4listlogo1.png"},compId:238}]},{type:"Button",props:{y:203,x:385,width:260,var:"btn30",stateNum:1,skin:"btn/btnGreen2.png",sizeGrid:"16,24,32,24",height:44},compId:162,child:[{type:"Image",props:{y:-34,x:0,width:260,skin:"btn/btnGreen1.png",sizeGrid:"24,24,24,24",height:60},compId:163,child:[{type:"Image",props:{y:4,x:5,width:250,var:"imgLight30",skin:"main/button_patchHilight0.png",height:47,sizeGrid:"24,24,24,24"},compId:164},{type:"Label",props:{y:15,width:170,text:"30 CNY",name:"labelGold",height:30,fontSize:34,color:"#4a6e3e",centerX:0,bold:!0,align:"center"},compId:165,child:[{type:"Label",props:{y:-4,x:0,width:170,text:"30 CNY",height:34,fontSize:34,color:"#e9fed6",bold:!0,align:"center"},compId:166}]}]}]},{type:"Button",props:{y:203,x:468,width:177,stateNum:1,skin:"btn/img_btn_1.png",sizeGrid:"16,24,32,24",name:"btnGray",height:44},compId:479,child:[{type:"Image",props:{y:-34,skin:"btn/img_btn_0.png",sizeGrid:"24,24,24,24",right:0,left:0,height:60},compId:480,child:[{type:"Image",props:{skin:"shop/img_zi_1.png",centerY:0,centerX:0},compId:484}]}]},{type:"Button",props:{y:203,x:334,width:122,stateNum:1,skin:"btn/img_tip_5.png",sizeGrid:"16,24,32,24",name:"btnTry",height:44},compId:485,child:[{type:"Image",props:{y:-34,skin:"btn/img_tip_4.png",sizeGrid:"24,24,24,24",right:0,left:0,height:60},compId:486,child:[{type:"Image",props:{skin:"shop/img_zi_2.png",centerY:0,centerX:0},compId:487}]}]}]},{type:"Box",props:{y:268,x:0},compId:171,child:[{type:"Image",props:{y:0,x:0,width:678,skin:"btn/img_shop4list.png",sizeGrid:"24,25,26,25",height:258},compId:172,child:[{type:"Sprite",props:{y:8,x:236,width:206,texture:"shop/shop4zi4.png",height:45},compId:173},{type:"Image",props:{y:28,x:60,width:206,skin:"shop/img_logo3.png",height:206},compId:174},{type:"Image",props:{y:68,x:385,width:260,skin:"btn/shop4di1.png",sizeGrid:"25,26,25,25",height:88},compId:175,child:[{type:"Sprite",props:{y:9,x:59,width:143,texture:"shop/shop4zi9.png",height:35},compId:176},{type:"Sprite",props:{y:45,x:19,width:222,texture:"shop/shop4zi13.png",height:35},compId:177}]},{type:"Label",props:{y:210,x:54,width:170,text:"+300",name:"labelGold",height:30,fontSize:30,color:"#0d0d0d",bold:!0,align:"center"},compId:231,child:[{type:"Label",props:{y:-3,x:0,width:170,text:"+300",height:34,fontSize:30,color:"#ffffff",bold:!0,align:"center"},compId:233}]},{type:"Sprite",props:{y:201,x:176,texture:"shop/shop4listlogo1.png"},compId:232}]},{type:"Button",props:{y:203,x:385,width:260,var:"btn31",stateNum:1,skin:"btn/btnGreen2.png",sizeGrid:"16,24,32,24",height:44},compId:178,child:[{type:"Image",props:{y:-34,x:0,width:260,skin:"btn/btnGreen1.png",sizeGrid:"24,24,24,24",height:60},compId:179,child:[{type:"Image",props:{y:4,x:5,width:250,var:"imgLight31",skin:"main/button_patchHilight0.png",height:47,sizeGrid:"24,24,24,24"},compId:180},{type:"Label",props:{y:15,width:170,text:"30 CNY",name:"labelGold",height:30,fontSize:34,color:"#4a6e3e",centerX:0,bold:!0,align:"center"},compId:181,child:[{type:"Label",props:{y:-4,x:0,width:170,text:"30 CNY",height:34,fontSize:34,color:"#e9fed6",bold:!0,align:"center"},compId:182}]}]}]},{type:"Button",props:{y:203,x:468,width:177,stateNum:1,skin:"btn/img_btn_1.png",sizeGrid:"16,24,32,24",name:"btnGray",height:44},compId:488,child:[{type:"Image",props:{y:-34,skin:"btn/img_btn_0.png",sizeGrid:"24,24,24,24",right:0,left:0,height:60},compId:490,child:[{type:"Image",props:{skin:"shop/img_zi_1.png",centerY:0,centerX:0},compId:491}]}]},{type:"Button",props:{y:203,x:334,width:122,stateNum:1,skin:"btn/img_tip_5.png",sizeGrid:"16,24,32,24",name:"btnTry",height:44},compId:489,child:[{type:"Image",props:{y:-34,skin:"btn/img_tip_4.png",sizeGrid:"24,24,24,24",right:0,left:0,height:60},compId:492,child:[{type:"Image",props:{skin:"shop/img_zi_2.png",centerY:0,centerX:0},compId:493}]}]}]},{type:"Box",props:{y:536,x:0},compId:216,child:[{type:"Image",props:{y:0,x:0,width:678,skin:"btn/img_shop4list.png",sizeGrid:"24,25,26,25",height:258},compId:217,child:[{type:"Sprite",props:{y:8,x:298,width:81,texture:"shop/shop4zi7.png",height:44},compId:218},{type:"Image",props:{y:28,x:56,width:206,skin:"shop/img_logo4.png",height:206},compId:219},{type:"Image",props:{y:68,x:385,width:260,skin:"btn/shop4di1.png",sizeGrid:"25,26,25,25",height:88},compId:220,child:[{type:"Sprite",props:{y:9,x:59,width:143,texture:"shop/shop4zi11.png",height:35},compId:221},{type:"Sprite",props:{y:45,x:19,width:222,texture:"shop/shop4zi13.png",height:35},compId:222}]},{type:"Label",props:{y:210,x:54,width:170,text:"+300",name:"labelGold",height:30,fontSize:30,color:"#0d0d0d",bold:!0,align:"center"},compId:234,child:[{type:"Label",props:{y:-3,x:0,width:170,text:"+300",height:34,fontSize:30,color:"#ffffff",bold:!0,align:"center"},compId:236}]},{type:"Sprite",props:{y:201,x:176,texture:"shop/shop4listlogo1.png"},compId:235}]},{type:"Button",props:{y:203,x:385,width:260,var:"btn32",stateNum:1,skin:"btn/btnGreen2.png",sizeGrid:"16,24,32,24",height:44},compId:223,child:[{type:"Image",props:{y:-34,x:0,width:260,skin:"btn/btnGreen1.png",sizeGrid:"24,24,24,24",height:60},compId:224,child:[{type:"Image",props:{y:4,x:5,width:250,var:"imgLight32",skin:"main/button_patchHilight0.png",height:47,sizeGrid:"24,24,24,24"},compId:225},{type:"Label",props:{y:15,width:170,text:"30 CNY",name:"labelGold",height:30,fontSize:34,color:"#4a6e3e",centerX:0,bold:!0,align:"center"},compId:226,child:[{type:"Label",props:{y:-4,x:0,width:170,text:"30 CNY",height:34,fontSize:34,color:"#e9fed6",bold:!0,align:"center"},compId:227}]}]}]},{type:"Button",props:{y:203,x:468,width:177,stateNum:1,skin:"btn/img_btn_1.png",sizeGrid:"16,24,32,24",name:"btnGray",height:44},compId:494,child:[{type:"Image",props:{y:-34,skin:"btn/img_btn_0.png",sizeGrid:"24,24,24,24",right:0,left:0,height:60},compId:496,child:[{type:"Image",props:{skin:"shop/img_zi_1.png",centerY:0,centerX:0},compId:497}]}]},{type:"Button",props:{y:203,x:334,width:122,stateNum:1,skin:"btn/img_tip_5.png",sizeGrid:"16,24,32,24",name:"btnTry",height:44},compId:495,child:[{type:"Image",props:{y:-34,skin:"btn/img_tip_4.png",sizeGrid:"24,24,24,24",right:0,left:0,height:60},compId:498,child:[{type:"Image",props:{skin:"shop/img_zi_2.png",centerY:0,centerX:0},compId:499}]}]}]},{type:"Box",props:{y:804,x:0},compId:255,child:[{type:"Image",props:{y:0,x:0,width:678,skin:"btn/img_shop4list.png",sizeGrid:"24,25,26,25",height:258},compId:256,child:[{type:"Sprite",props:{y:8,x:299,width:80,texture:"shop/shop4zi6.png",height:43},compId:257},{type:"Image",props:{y:10,x:56,width:206,skin:"shop/img_logo5.png",height:206},compId:258},{type:"Image",props:{y:68,x:385,width:260,skin:"btn/shop4di1.png",sizeGrid:"25,26,25,25",height:88},compId:259,child:[{type:"Sprite",props:{y:9,x:59,width:143,texture:"shop/shop4zi12.png",height:35},compId:260},{type:"Sprite",props:{y:45,x:19,width:222,texture:"shop/shop4zi13.png",height:35},compId:261}]},{type:"Label",props:{y:210,x:54,width:170,text:"+300",name:"labelGold",height:30,fontSize:30,color:"#0d0d0d",bold:!0,align:"center"},compId:267,child:[{type:"Label",props:{y:-3,x:0,width:170,text:"+300",height:34,fontSize:30,color:"#ffffff",bold:!0,align:"center"},compId:268}]},{type:"Sprite",props:{y:201,x:176,texture:"shop/shop4listlogo1.png"},compId:269}]},{type:"Button",props:{y:203,x:385,width:260,var:"btn33",stateNum:1,skin:"btn/btnGreen2.png",sizeGrid:"16,24,32,24",height:44},compId:262,child:[{type:"Image",props:{y:-34,x:0,width:260,skin:"btn/btnGreen1.png",sizeGrid:"24,24,24,24",height:60},compId:263,child:[{type:"Image",props:{y:4,x:5,width:250,var:"imgLight33",skin:"main/button_patchHilight0.png",height:47,sizeGrid:"24,24,24,24"},compId:264},{type:"Label",props:{y:15,width:170,text:"30 CNY",name:"labelGold",height:30,fontSize:34,color:"#4a6e3e",centerX:0,bold:!0,align:"center"},compId:265,child:[{type:"Label",props:{y:-4,x:0,width:170,text:"30 CNY",height:34,fontSize:34,color:"#e9fed6",bold:!0,align:"center"},compId:266}]}]}]},{type:"Button",props:{y:203,x:468,width:177,stateNum:1,skin:"btn/img_btn_1.png",sizeGrid:"16,24,32,24",name:"btnGray",height:44},compId:500,child:[{type:"Image",props:{y:-34,skin:"btn/img_btn_0.png",sizeGrid:"24,24,24,24",right:0,left:0,height:60},compId:502,child:[{type:"Image",props:{skin:"shop/img_zi_1.png",centerY:0,centerX:0},compId:503}]}]},{type:"Button",props:{y:203,x:334,width:122,stateNum:1,skin:"btn/img_tip_5.png",sizeGrid:"16,24,32,24",name:"btnTry",height:44},compId:501,child:[{type:"Image",props:{y:-34,skin:"btn/img_tip_4.png",sizeGrid:"24,24,24,24",right:0,left:0,height:60},compId:504,child:[{type:"Image",props:{skin:"shop/img_zi_2.png",centerY:0,centerX:0},compId:505}]}]}]}]},{type:"List",props:{y:0,x:0,width:680,visible:!1,var:"list3",spaceY:10,repeatY:4,height:1062},compId:458,child:[{type:"Box",props:{y:0,x:0,width:678,renderType:"render",height:258},compId:459,child:[{type:"Image",props:{y:0,x:0,width:678,skin:"btn/img_shop4list.png",sizeGrid:"24,25,26,25",height:258},compId:460,child:[{type:"Sprite",props:{y:8,x:277,texture:"shop/shop4zi5.png"},compId:462},{type:"Image",props:{y:21,x:52,width:206,skin:"shop/img_logo2.png",height:206},compId:463},{type:"Image",props:{y:68,x:385,width:260,skin:"btn/shop4di1.png",sizeGrid:"25,26,25,25",height:88},compId:464,child:[{type:"Sprite",props:{y:9,x:59,texture:"shop/shop4zi10.png"},compId:465},{type:"Sprite",props:{y:45,x:19,texture:"shop/shop4zi13.png"},compId:466}]},{type:"Label",props:{y:212,x:54,width:170,text:"+300",name:"labelGold",height:30,fontSize:30,color:"#0d0d0d",bold:!0,align:"center"},compId:467,child:[{type:"Label",props:{y:-3,x:0,width:170,text:"+300",height:34,fontSize:30,color:"#ffffff",bold:!0,align:"center"},compId:468}]},{type:"Sprite",props:{y:203,x:176,texture:"shop/shop4listlogo1.png"},compId:469}]},{type:"Button",props:{y:203,x:385,width:260,stateNum:1,skin:"btn/btnGreen2.png",sizeGrid:"16,24,32,24",height:44},compId:461,child:[{type:"Image",props:{y:-34,x:0,width:260,skin:"btn/btnGreen1.png",sizeGrid:"24,24,24,24",height:60},compId:470,child:[{type:"Image",props:{y:4,x:5,width:250,skin:"main/button_patchHilight0.png",height:47,sizeGrid:"24,24,24,24"},compId:471},{type:"Label",props:{y:15,width:170,text:"30 CNY",name:"labelGold",height:30,fontSize:34,color:"#4a6e3e",centerX:0,bold:!0,align:"center"},compId:472,child:[{type:"Label",props:{y:-4,x:0,width:170,text:"30 CNY",height:34,fontSize:34,color:"#e9fed6",bold:!0,align:"center"},compId:473}]}]}]}]}]}]}]}]},{type:"Box",props:{y:122,centerX:0},compId:51,child:[{type:"Button",props:{y:0,x:0,var:"btnPrev",stateNum:1,skin:"main/btnPrev.png"},compId:15},{type:"Button",props:{y:0,x:557,var:"btnNext",stateNum:1,skin:"main/btnNext.png"},compId:14}]},{type:"Tab",props:{y:10,x:10,width:730,var:"tab",height:97},compId:5,child:[{type:"Button",props:{width:146,stateNum:1,skin:"shop/shop0btn0.png",name:"item0",left:0,bottom:0},compId:6},{type:"Button",props:{width:146,stateNum:1,skin:"shop/shop1btn0.png",name:"item1",left:146,bottom:0},compId:7},{type:"Button",props:{width:146,stateNum:1,skin:"shop/shop2btn0.png",name:"item2",centerX:0,bottom:0},compId:8},{type:"Button",props:{width:146,stateNum:1,skin:"shop/shop3btn0.png",right:146,name:"item3",bottom:0},compId:9},{type:"Button",props:{width:146,stateNum:1,skin:"shop/shop4btn0.png",right:0,name:"item4",bottom:0},compId:661}]},{type:"Button",props:{y:1105,var:"btnBack",stateNum:1,skin:"btn/btnColor1Down.png",sizeGrid:"24,24,24,24",right:13,left:13,height:92},compId:78,child:[{type:"Image",props:{y:-40,width:724,skin:"btn/btnColor1Up.png",sizeGrid:"24,24,24,24",right:0,left:0,height:102},compId:79,child:[{type:"Image",props:{skin:"main/fanhui.png",centerY:0,centerX:0},compId:80}]}]},{type:"Image",props:{y:-126,skin:"shop/nationalDay.png",centerX:0},compId:1100}]},{type:"Box",props:{visible:!1,var:"boxTip",top:0,right:0,left:0,bottom:0},compId:1114,child:[{type:"Image",props:{top:0,skin:"main/blackMask.png",right:0,left:0,bottom:0},compId:1113},{type:"Box",props:{var:"boxTipContent",centerY:0,centerX:0},compId:1112,child:[{type:"Image",props:{y:51,x:20,width:490,skin:"shop/tipbg0.png",sizeGrid:"2,0,5,0",height:440},compId:1102},{type:"Image",props:{skin:"shop/tiptitle.png"},compId:1103},{type:"Image",props:{y:167,x:44,width:448,skin:"shop/tipbg1.png",sizeGrid:"20,22,24,21",height:118},compId:1104},{type:"Image",props:{y:215,x:63,skin:"shop/tiptext.png"},compId:1105},{type:"Button",props:{y:394,x:56,width:200,var:"btnTipBack",stateNum:1,skin:"shop/tipbtn11.png",sizeGrid:"14,14,17,14",height:50},compId:1106,child:[{type:"Image",props:{y:-30,width:724,skin:"shop/tipbtn10.png",sizeGrid:"14,14,14,14",right:0,left:0,height:60},compId:1107,child:[{type:"Image",props:{skin:"shop/tipback.png",centerY:0,centerX:0},compId:1108}]}]},{type:"Button",props:{y:394,x:278,width:200,var:"btnTipSure",stateNum:1,skin:"shop/tipbtn01.png",sizeGrid:"14,14,17,14",height:50},compId:1109,child:[{type:"Image",props:{y:-30,width:724,skin:"shop/tipbtn00.png",sizeGrid:"14,14,14,14",right:0,left:0,height:60},compId:1110,child:[{type:"Image",props:{skin:"shop/tipok.png",centerY:0,centerX:0},compId:1111}]}]}]},{type:"Label",props:{visible:!1,var:"txtCheck",text:"正在查询订单，10",fontSize:55,color:"#ffffff",centerY:0,centerX:0,bold:!0},compId:1115}]}],loadList:["main/blackMask.png","shop/img_di.png","shop/img_shop0di0.png","shop/img_shop0di1.png","shop/shop0zi0.png","shop/img_shop0di2.png","shop/shop0zi1.png","shop/img_shop0di3.png","shop/img_yellow.png","shop/img_shop0di4.png","shop/shop0zi6.png","shop/img_shop0di7.png","shop/img_shop0di5.png","shop/shop0zi7.png","main/vivo_gold.png","shop/img_shop0di6.png","shop/img_buy_1.png","btn/btnGreen2.png","btn/btnGreen1.png","shop/shop0zi9.png","main/button_patchHilight0.png","btn/btnColor2Down.png","btn/btnColor2Up.png","shop/img_ad.png","shop/shop0zi8.png","shop/shop0zi5.png","shop/shop0zi2.png","shop/img_logo0.png","main/icon_jew.png","shop/img_6000gold.png","shop/shop0zi4.png","shop/img_logo6.png","shop/img_12000gold.png","shop/shop0zi3.png","shop/img_logo7.png","shop/img_30000gold.png","shop/shop0zi10.png","shop/shop0zi12.png","shop/shop0zi11.png","shop/shop0img1.png","shop/shop0img0.png","shop/shop0img2.png","shop/shop0img3.png","shop/shop0zi13.png","shop/shop0zi14.png","shop/shop0zi15.png","shop/shop0img4.png","shop/shop0img5.png","shop/shop0img6.png","shop/img_shop1di0.png","btn/img_shop1listdi.png","shop/img_1_0.png","btn/img_10.png","btn/img_shop1list.png","shop/iap_gifts_8.png","shop/lbtitle0.png","shop/gold1000.png","shop/iap_gifts_9.png","shop/lbtitle01.png","shop/gold5000.png","btn/img_4.png","btn/img_5.png","shop/remai_bg.png","shop/remai.png","shop/lbtitle1.png","shop/lbicon1.png","shop/lbicon2.png","shop/lbgold.png","shop/lbtxt1.png","shop/lblock1.png","shop/lblock0.png","shop/lbtitle2.png","shop/lbicon5.png","shop/lbicon4.png","shop/lbicon3.png","shop/lbtxt2.png","shop/lblock2.png","shop/lbtitle3.png","shop/lbicon7.png","shop/lbicon6.png","shop/lbicon8.png","shop/lbtxt3.png","shop/lblock3.png","shop/lbtitle4.png","shop/iap_gifts_01.png","shop/lbtxt4.png","shop/lbtitle5.png","shop/iap_gifts_02.png","shop/lbtxt5.png","shop/iap_gifts_5.png","shop/rmb1000.png","shop/img_shop2di0.png","btn/img_shop2listdi.png","shop/shop2zi4.png","btn/img_shop2list.png","shop/img_logo9.png","btn/shop2di1.png","shop/shop2zi0.png","shop/shop2zi5.png","btn/img_btn_1.png","btn/img_btn_0.png","shop/img_zi_1.png","btn/img_tip_5.png","btn/img_tip_4.png","shop/img_zi_2.png","shop/img_logo10.png","shop/shop2zi3.png","shop/shop2zi6.png","shop/shop2biaoqian.png","shop/img_logo12.png","shop/shop2zi2.png","shop/shop2zi8.png","shop/img_logo11.png","shop/shop2zi1.png","shop/shop2zi7.png","shop/img_shop3di0.png","btn/img_shop3listdi.png","shop/shop3zi7.png","btn/img_shop3list.png","shop/shop3zi0.png","btn/shop3di2.png","main/coin.png","shop/shop3zi9.png","shop/shop3zi1.png","shop/shop3zi6.png","shop/shop3zi2.png","shop/shop3zi5.png","shop/shop3biaoqian.png","shop/img_shop4di0.png","btn/img_shop4listdi.png","shop/shop4zi8.png","btn/img_shop4list.png","shop/shop4zi5.png","shop/img_logo2.png","btn/shop4di1.png","shop/shop4zi10.png","shop/shop4zi13.png","shop/shop4listlogo1.png","shop/shop4zi4.png","shop/img_logo3.png","shop/shop4zi9.png","shop/shop4zi7.png","shop/img_logo4.png","shop/shop4zi11.png","shop/shop4zi6.png","shop/img_logo5.png","shop/shop4zi12.png","main/btnPrev.png","main/btnNext.png","shop/shop0btn0.png","shop/shop1btn0.png","shop/shop2btn0.png","shop/shop3btn0.png","shop/shop4btn0.png","btn/btnColor1Down.png","btn/btnColor1Up.png","main/fanhui.png","shop/nationalDay.png","shop/tipbg0.png","shop/tiptitle.png","shop/tipbg1.png","shop/tiptext.png","shop/tipbtn11.png","shop/tipbtn10.png","shop/tipback.png","shop/tipbtn01.png","shop/tipbtn00.png","shop/tipok.png"],loadList3D:[]},e.ShopUI=I,p("ui.main.ShopUI",I);class k extends r{constructor(){super()}createChildren(){super.createChildren(),this.createView(k.uiView)}}k.uiView={type:"View",props:{width:750,height:1360},compId:2,child:[{type:"Image",props:{var:"imgMask",top:0,skin:"main/img_whiteMask.png",sizeGrid:"1,1,1,1",right:0,left:0,bottom:0,alpha:.6},compId:3},{type:"Box",props:{y:0,x:0,width:646,var:"boxMain",height:910,centerY:0,centerX:0,alpha:1},compId:96,child:[{type:"Box",props:{y:0,var:"boxSignin",centerX:0},compId:97,child:[{type:"Image",props:{y:-1,x:0,width:180,skin:"btn/signin_8.png",sizeGrid:"26,26,47,28",height:216},compId:98,child:[{type:"Image",props:{y:0,x:0,width:180,skin:"setting/img_3.png",name:"light",height:210},compId:99},{type:"Image",props:{y:111,x:90,skin:"setting/img_icon_1.png",name:"icon",anchorY:.5,anchorX:.5},compId:100},{type:"Image",props:{y:15,x:43.5,skin:"setting/img_day0.png",name:"day"},compId:101},{type:"Label",props:{y:170,width:173,text:"X150",name:"label",height:26,fontSize:24,font:"SimHei",color:"#ffffff",centerX:0,bold:!0,align:"center"},compId:102},{type:"Image",props:{y:0,x:0,width:180,skin:"btn/signin_9.png",sizeGrid:"38,31,42,47",name:"imgMask",height:216},compId:103,child:[{type:"Image",props:{y:59,x:45,skin:"setting/img_4.png",name:"comp"},compId:104}]}]},{type:"Image",props:{y:0,x:230,width:180,skin:"btn/signin_8.png",sizeGrid:"26,26,47,28",height:216},compId:105,child:[{type:"Image",props:{y:0,x:0,width:180,skin:"setting/img_3.png",name:"light",height:210},compId:106},{type:"Image",props:{y:111,x:90,width:176,skin:"setting/zebra8.png",name:"icon",height:176,anchorY:.5,anchorX:.5},compId:107},{type:"Image",props:{y:15,x:43.5,skin:"setting/img_day0.png",name:"day"},compId:108},{type:"Label",props:{y:170,width:173,text:"X150",name:"label",height:26,fontSize:24,font:"SimHei",color:"#ffffff",centerX:0,bold:!0,align:"center"},compId:109},{type:"Image",props:{y:0,x:0,width:180,skin:"btn/signin_9.png",sizeGrid:"38,31,42,47",name:"imgMask",height:216},compId:110,child:[{type:"Image",props:{y:59,x:45,skin:"setting/img_4.png",name:"comp"},compId:111}]}]},{type:"Image",props:{y:0,x:460,width:180,skin:"btn/signin_8.png",sizeGrid:"26,26,47,28",height:216},compId:112,child:[{type:"Image",props:{y:0,x:0,width:180,skin:"setting/img_3.png",name:"light",height:210},compId:113},{type:"Image",props:{y:111,x:90,skin:"setting/img_icon_1.png",name:"icon",anchorY:.5,anchorX:.5},compId:114},{type:"Image",props:{y:15,x:43.5,skin:"setting/img_day0.png",name:"day"},compId:115},{type:"Label",props:{y:170,width:173,text:"X150",name:"label",height:26,fontSize:24,font:"SimHei",color:"#ffffff",centerX:0,bold:!0,align:"center"},compId:116},{type:"Image",props:{y:0,x:0,width:180,skin:"btn/signin_9.png",sizeGrid:"38,31,42,47",name:"imgMask",height:216},compId:117,child:[{type:"Image",props:{y:59,x:45,skin:"setting/img_4.png",name:"comp"},compId:118}]}]},{type:"Image",props:{y:252,x:0,width:180,skin:"btn/signin_8.png",sizeGrid:"26,26,47,28",height:216},compId:119,child:[{type:"Image",props:{y:0,x:0,width:180,skin:"setting/img_3.png",name:"light",height:210},compId:120},{type:"Image",props:{y:111,x:90,skin:"setting/img_icon_1.png",name:"icon",anchorY:.5,anchorX:.5},compId:121},{type:"Image",props:{y:15,x:43.5,skin:"setting/img_day0.png",name:"day"},compId:122},{type:"Label",props:{y:170,width:173,text:"X150",name:"label",height:26,fontSize:24,font:"SimHei",color:"#ffffff",centerX:0,bold:!0,align:"center"},compId:123},{type:"Image",props:{y:0,x:0,width:180,skin:"btn/signin_9.png",sizeGrid:"38,31,42,47",name:"imgMask",height:216},compId:124,child:[{type:"Image",props:{y:59,x:45,skin:"setting/img_4.png",name:"comp"},compId:125}]}]},{type:"Image",props:{y:252,x:230,width:180,skin:"btn/signin_8.png",sizeGrid:"26,26,47,28",height:216},compId:126,child:[{type:"Image",props:{y:0,x:0,width:180,skin:"setting/img_3.png",name:"light",height:210},compId:127},{type:"Image",props:{y:111,x:90,skin:"setting/img_icon_1.png",name:"icon",anchorY:.5,anchorX:.5},compId:128},{type:"Image",props:{y:15,x:43.5,skin:"setting/img_day0.png",name:"day"},compId:129},{type:"Label",props:{y:170,width:173,text:"X150",name:"label",height:26,fontSize:24,font:"SimHei",color:"#ffffff",centerX:0,bold:!0,align:"center"},compId:130},{type:"Image",props:{y:0,x:0,width:180,skin:"btn/signin_9.png",sizeGrid:"38,31,42,47",name:"imgMask",height:216},compId:131,child:[{type:"Image",props:{y:59,x:45,skin:"setting/img_4.png",name:"comp"},compId:132}]}]},{type:"Image",props:{y:252,x:460,width:180,skin:"btn/signin_8.png",sizeGrid:"26,26,47,28",height:216},compId:133,child:[{type:"Image",props:{y:0,x:0,width:180,skin:"setting/img_3.png",name:"light",height:210},compId:134},{type:"Image",props:{y:111,x:90,skin:"setting/img_icon_1.png",name:"icon",anchorY:.5,anchorX:.5},compId:135},{type:"Image",props:{y:15,x:43.5,skin:"setting/img_day0.png",name:"day"},compId:136},{type:"Label",props:{y:170,width:173,text:"X150",name:"label",height:26,fontSize:24,font:"SimHei",color:"#ffffff",centerX:0,bold:!0,align:"center"},compId:137},{type:"Image",props:{y:0,x:0,width:180,skin:"btn/signin_9.png",sizeGrid:"38,31,42,47",name:"imgMask",height:216},compId:138,child:[{type:"Image",props:{y:59,x:45,skin:"setting/img_4.png",name:"comp"},compId:139}]}]},{type:"Image",props:{y:504,x:0,width:642,skin:"btn/signin_8.png",sizeGrid:"55,82,58,85",height:188},compId:140,child:[{type:"Image",props:{y:-30,x:151,width:180,skin:"setting/img_3.png",name:"light",height:210},compId:141},{type:"Image",props:{y:-30,x:361,width:180,skin:"setting/img_3.png",name:"light",height:210},compId:142},{type:"Image",props:{y:51.5,x:198.5,skin:"setting/img_icon_1.png",name:"icon"},compId:143},{type:"Image",props:{y:78.5,x:51,skin:"setting/img_day0.png",name:"day"},compId:144},{type:"Label",props:{y:81,x:301,width:84,text:"X2500",name:"label0",height:24,fontSize:24,font:"SimHei",color:"#ffffff",bold:!0,align:"left"},compId:145},{type:"Image",props:{y:39,x:396.5,skin:"setting/img_icon_0.png",name:"icon"},compId:146},{type:"Label",props:{y:82,x:525,width:84,text:"X190",name:"label1",height:24,fontSize:24,font:"SimHei",color:"#ffffff",bold:!0,align:"left"},compId:147},{type:"Image",props:{y:0,x:0,width:642,skin:"btn/signin_9.png",sizeGrid:"36,38,45,45",name:"imgMask",height:188},compId:148,child:[{type:"Image",props:{y:56,x:270,skin:"setting/img_4.png",name:"comp"},compId:149}]}]}]},{type:"Button",props:{y:713,x:176,var:"btnSignDouble",stateNum:1,skin:"setting/btn_0.png"},compId:150,child:[{type:"Image",props:{skin:"setting/img_btn1.png"},compId:151}]},{type:"Button",props:{y:845,x:277,width:334,var:"btnSignGain",stateNum:1,skin:"btn/signin_3.png",sizeGrid:"9,24,32,23",height:60},compId:152,child:[{type:"Image",props:{y:-42,width:334,skin:"setting/img_btn0.png",sizeGrid:"24,24,24,24",right:0,left:0,height:84},compId:153}]},{type:"Image",props:{y:723,x:234,skin:"setting/img_zi0.png"},compId:154},{type:"Button",props:{y:845,x:36,width:198,var:"btnSignBack",stateNum:1,skin:"btn/signin_4.png",sizeGrid:"9,24,32,23",height:60},compId:155,child:[{type:"Image",props:{y:-42,width:334,skin:"btn/signin_1.png",sizeGrid:"24,24,24,24",right:0,left:0,height:84},compId:156,child:[{type:"Image",props:{skin:"setting/signin_5.png",centerY:0,centerX:0},compId:157}]}]}]},{type:"Box",props:{y:0,x:0,width:631,visible:!1,var:"boxTip",height:635,centerY:0,centerX:0},compId:158,child:[{type:"Image",props:{y:384,x:212,var:"tipMask",skin:"main/blackMask.png",sizeGrid:"5,5,5,5",centerY:0,centerX:0},compId:159},{type:"Image",props:{y:182,x:316,width:207,skin:"setting/img_icon_0.png",name:"icon",height:207,anchorY:.5,anchorX:.5},compId:160},{type:"Label",props:{y:310,x:173,width:285,valign:"middle",text:"X100",name:"label",height:96,fontSize:50,font:"SimHei",color:"#ffffff",bold:!0,align:"center"},compId:161},{type:"Button",props:{y:489,width:374,var:"btnCloseTip",stateNum:1,skin:"btn/btnGreen2.png",sizeGrid:"24,24,24,24",height:110,centerX:0},compId:162,child:[{type:"Image",props:{y:-40,width:244,skin:"btn/btnGreen1.png",sizeGrid:"24,24,24,24",right:0,left:0,height:130},compId:163,child:[{type:"Image",props:{skin:"hat/img_queding.png",centerY:0,centerX:0},compId:164}]}]},{type:"Box",props:{y:0,width:610,name:"day7",height:438,centerX:0},compId:165,child:[{type:"Image",props:{y:182,x:143,width:207,skin:"setting/img_icon_1.png",name:"icon0",height:207,anchorY:.5,anchorX:.5},compId:166},{type:"Label",props:{y:310,x:0,width:285,valign:"middle",text:"X100",name:"label0",height:96,fontSize:50,font:"SimHei",color:"#ffffff",bold:!0,align:"center"},compId:167},{type:"Image",props:{y:182,x:465,width:207,skin:"setting/img_icon_0.png",name:"icon1",height:207,anchorY:.5,anchorX:.5},compId:168},{type:"Label",props:{y:310,x:322,width:285,valign:"middle",text:"X100",name:"label1",height:96,fontSize:50,font:"SimHei",color:"#ffffff",bold:!0,align:"center"},compId:169}]}]}],loadList:["main/img_whiteMask.png","btn/signin_8.png","setting/img_3.png","setting/img_icon_1.png","setting/img_day0.png","btn/signin_9.png","setting/img_4.png","setting/zebra8.png","setting/img_icon_0.png","setting/btn_0.png","setting/img_btn1.png","btn/signin_3.png","setting/img_btn0.png","setting/img_zi0.png","btn/signin_4.png","btn/signin_1.png","setting/signin_5.png","main/blackMask.png","btn/btnGreen2.png","btn/btnGreen1.png","hat/img_queding.png"],loadList3D:[]},e.SigninUI=k,p("ui.main.SigninUI",k);class x extends r{constructor(){super()}createChildren(){super.createChildren(),this.createView(x.uiView)}}x.uiView={type:"View",props:{width:750,height:1380},compId:2,child:[{type:"Box",props:{var:"page1",top:0,right:0,left:0,bottom:0},compId:5,child:[{type:"Image",props:{y:140,x:118,skin:"preload/lo.png",centerX:0},compId:3},{type:"Image",props:{y:1131,x:171,skin:"preload/tap.png",centerX:0,bottom:180},compId:4},{type:"Box",props:{y:0,x:0,visible:!1,var:"giftBox",top:0,right:0,left:0,bottom:0},compId:242,child:[{type:"Image",props:{y:0,x:0,top:0,skin:"btn/notice19.png",sizeGrid:"1,1,1,1",right:0,left:0,bottom:0,alpha:.6},compId:243},{type:"Box",props:{width:481,height:470,centerY:0,centerX:0},compId:244,child:[{type:"Image",props:{y:70,width:450,skin:"btn/notice14.png",sizeGrid:"1,11,14,12",height:400,centerX:0},compId:245,child:[{type:"Image",props:{width:380,skin:"btn/notice12.png",sizeGrid:"16,13,17,9",height:210,centerY:-33,centerX:0},compId:246,child:[{type:"Image",props:{skin:"main/icon_jew.png",right:90,bottom:40},compId:247},{type:"Image",props:{skin:"main/coin.png",right:100,bottom:100},compId:248},{type:"Image",props:{skin:"main/vivo_gold.png",right:134,bottom:-23},compId:249},{type:"Label",props:{y:65.5,x:290,var:"LableGold",text:"+100",fontSize:30,color:"#ffffff",bold:!0},compId:250},{type:"Label",props:{y:128,x:290,var:"LableJew",text:"+100",fontSize:30,color:"#ffffff",bold:!0},compId:251}]}]},{type:"Image",props:{y:0,x:40,width:479,var:"TitleGift",skin:"main/gift_day.png",centerX:0},compId:252},{type:"Button",props:{x:113,width:224,var:"btnGiftSure",stateNum:1,skin:"btn/btnColor2Down.png",sizeGrid:"11,24,27,24",height:35,centerX:0,bottom:20},compId:253,child:[{type:"Image",props:{y:-35,width:224,skin:"btn/btnColor2Up.png",sizeGrid:"18,21,21,20",left:0,height:57},compId:254,child:[{type:"Image",props:{skin:"shop/img_tip_7.png",centerY:0,centerX:0},compId:255}]}]}]}]}]},{type:"Box",props:{var:"page2",top:0,right:0,left:0,bottom:0},compId:6,child:[{type:"Button",props:{width:430,var:"btnChange",stateNum:1,skin:"preload/btnBlue2.png",sizeGrid:"24,24,24,24",left:10,height:100,bottom:20},compId:7,child:[{type:"Image",props:{y:-40,skin:"preload/btnBlue1.png",sizeGrid:"24,24,24,24",right:0,left:0,height:112},compId:8,child:[{type:"Image",props:{skin:"preload/change.png",centerY:0,centerX:0},compId:9},{type:"Image",props:{var:"btnChangeLight",top:0,skin:"preload/button_patchHilight0.png",sizeGrid:"24,24,24,24",right:0,left:0,bottom:0},compId:10}]}]},{type:"Button",props:{y:0,var:"btnOK",stateNum:1,skin:"preload/btnGreen2.png",sizeGrid:"24,24,24,24",right:10,left:450,height:100,bottom:20},compId:11,child:[{type:"Image",props:{y:-40,skin:"preload/btnGreen1.png",sizeGrid:"24,24,24,24",right:0,left:0,height:112},compId:12,child:[{type:"Image",props:{skin:"preload/ok.png",centerY:0,centerX:0},compId:13}]}]},{type:"Image",props:{x:225,skin:"preload/sel.png",bottom:336},compId:15},{type:"Button",props:{width:730,var:"btnCool",stateNum:1,skin:"preload/btnRed2.png",sizeGrid:"24,24,24,24",left:10,height:107,bottom:170},compId:201,child:[{type:"Image",props:{y:-30,width:730,skin:"preload/btnRed1.png",sizeGrid:"24,24,24,24",right:0,left:0,height:115},compId:202,child:[{type:"Image",props:{skin:"preload/cool.png",centerY:0,centerX:0},compId:203},{type:"Image",props:{x:82,skin:"preload/adIcon.png",centerY:0},compId:205},{type:"Image",props:{y:0,x:0,var:"btnCoolLight",top:0,skin:"preload/button_patchHilight0.png",sizeGrid:"24,24,24,24",right:0,left:0,bottom:0},compId:204}]}]}]},{type:"Box",props:{y:0,x:0,var:"page4",top:0,right:0,left:0,bottom:0},compId:16,child:[{type:"Sprite",props:{y:1179,x:347,width:40,var:"tapCir",height:40,alpha:.7},compId:21,child:[{type:"Circle",props:{y:0,x:0,radius:120,lineWidth:0,fillColor:"#000000"},compId:22}]},{type:"Sprite",props:{y:1179,x:347,var:"cirAni"},compId:23},{type:"Animation",props:{y:1219,x:375,var:"ani",source:"preload/tap.ani",scaleY:4,scaleX:4,autoPlay:!0},compId:19},{type:"Label",props:{var:"tips",text:"按住屏幕",right:0,left:0,fontSize:60,color:"#ffffff",bottom:450,bold:!0,align:"center"},compId:20}]},{type:"Box",props:{y:0,x:0,width:750,var:"screenshoot",top:0,left:0,bottom:0},compId:26,child:[{type:"Sprite",props:{y:268,x:0,width:750,var:"newInfo",height:264},compId:89,child:[{type:"Image",props:{y:1,skin:"preload/red.png",sizeGrid:"1,1,1,1",right:0,left:0,height:264,alpha:.5},compId:119},{type:"Label",props:{y:40,text:"你交到了新朋友",right:0,left:4,fontSize:72,color:"#000000",align:"center"},compId:91},{type:"Label",props:{y:35,text:"你交到了新朋友",right:0,left:0,fontSize:72,color:"#FF72FB",align:"center"},compId:92},{type:"Label",props:{y:135,var:"animalName1",text:"非洲象",right:0,left:4,height:100,fontSize:100,color:"#000000",align:"center"},compId:93},{type:"Label",props:{y:129,var:"animalName0",text:"非洲象",right:0,left:0,height:100,fontSize:100,color:"#FDEF8F",align:"center"},compId:94}]},{type:"Box",props:{var:"newNotice",right:0,left:0,height:900,centerY:0},compId:96,child:[{type:"Image",props:{y:0,skin:"preload/red.png",sizeGrid:"1,1,1,1",right:0,left:0,height:140,alpha:.5},compId:120},{type:"Sprite",props:{y:790,x:734,texture:"preload/rollArrow.png",scaleX:-1,alpha:.6},compId:97},{type:"Sprite",props:{y:790,x:21,texture:"preload/rollArrow.png",alpha:.6},compId:98},{type:"Label",props:{y:28,wordWrap:!0,text:"滑动屏幕改变方向来获得完美的照片\\n好了，现在拍照吧",right:0,left:0,leading:6,fontSize:44,color:"#ffffff",align:"center"},compId:115}]},{type:"Box",props:{var:"tabAreaBox",right:0,left:0,height:200,bottom:0},compId:106,child:[{type:"Image",props:{y:0,skin:"preload/black.png",sizeGrid:"1,1,1,1",right:0,left:0,height:200,alpha:.6},compId:121},{type:"Image",props:{y:20,x:295,skin:"preload/tapCircle.png",centerX:0,bottom:20},compId:103}]},{type:"Box",props:{x:0,width:750,var:"animalBook",height:750,centerY:44},compId:107,child:[{type:"Sprite",props:{y:0,x:-122,width:737,texture:"preload/photobook.png",rotation:-10,height:737},compId:108},{type:"Box",props:{y:227,x:383,width:400,var:"animalPic",rotation:-10,height:400,anchorY:.5,anchorX:.5},compId:109,child:[{type:"Rect",props:{y:-1,x:-19,width:420,lineWidth:1,height:490,fillColor:"#5f5c5c"},compId:112},{type:"Rect",props:{y:-10,x:-10,width:420,lineWidth:1,height:490,fillColor:"#ffffff"},compId:111},{type:"Label",props:{width:400,var:"animalPicName",text:"披风野牛",left:0,height:56,fontSize:54,color:"#000000",bottom:-70,align:"center"},compId:110},{type:"Sprite",props:{y:0,x:0,width:400,var:"animalImg",height:400},compId:122},{type:"Image",props:{y:0,x:0,width:100,var:"bofang",skin:"preload/bofang.png",height:100,centerY:0,centerX:0},compId:151},{type:"Button",props:{y:0,x:0,width:400,var:"btnPhotoShare",height:400},compId:152},{type:"Button",props:{y:400,x:319,width:91,var:"btnRefresh",stateNum:1,skin:"preload/refresh_name.png",height:42},compId:159}]}]},{type:"Box",props:{y:0,x:0,visible:!1,var:"qgSure",right:0,left:0,bottom:0},compId:174,child:[{type:"Button",props:{y:0,x:0,width:696,var:"btnContinue4",stateNum:1,skin:"preload/btnGreen2.png",sizeGrid:"24,24,24,24",left:27,height:110,bottom:10},compId:176,child:[{type:"Image",props:{y:-40,width:244,skin:"preload/btnGreen1.png",sizeGrid:"24,24,24,24",right:0,left:0,height:130},compId:177,child:[{type:"Image",props:{width:142,skin:"preload/ok.png",height:74,centerY:0,centerX:0},compId:178}]}]}]},{type:"Box",props:{width:750,visible:!1,var:"otherSure",right:0,left:0,height:200,bottom:0},compId:175,child:[{type:"Button",props:{y:0,x:0,width:500,var:"btnContinue",stateNum:1,skin:"preload/btnGreen2.png",sizeGrid:"24,24,24,24",left:10,height:100,bottom:20},compId:189,child:[{type:"Image",props:{y:-40,skin:"preload/btnGreen1.png",sizeGrid:"24,24,24,24",right:0,left:0,height:112},compId:191,child:[{type:"Image",props:{skin:"preload/jixu.png",centerY:0,centerX:0},compId:192}]}]},{type:"Button",props:{y:0,x:0,var:"btnShare",stateNum:1,skin:"preload/btnBlue2.png",sizeGrid:"24,24,24,24",right:10,left:520,height:100,bottom:20},compId:190,child:[{type:"Image",props:{y:-40,skin:"preload/btnBlue1.png",sizeGrid:"24,24,24,24",right:0,left:0,height:112},compId:193,child:[{type:"Box",props:{visible:!1,var:"shareZj",top:0,right:0,left:0,bottom:0},compId:194,child:[{type:"Image",props:{skin:"preload/img_share.png",centerY:0,centerX:-65},compId:195},{type:"Label",props:{y:0,visible:!0,text:"+30",fontSize:40,color:"#ffffff",centerY:0,centerX:10,bold:!0},compId:196,child:[{type:"Image",props:{skin:"preload/coin.png",centerY:0,centerX:65},compId:197}]}]},{type:"Box",props:{visible:!1,var:"shareWx",top:0,right:0,left:0,bottom:0},compId:198,child:[{type:"Image",props:{skin:"preload/img_shareWx.png",centerY:0,centerX:0},compId:199}]},{type:"Image",props:{x:0,var:"btnShareLight",top:0,skin:"preload/button_patchHilight0.png",sizeGrid:"24,24,24,24",right:0,left:0,bottom:0},compId:200}]}]}]},{type:"Box",props:{y:0,x:0,visible:!1,var:"vivoActive2",centerY:0,centerX:0},compId:217,child:[{type:"Image",props:{width:690,skin:"main/vivo_di.png",sizeGrid:"24,21,27,19",name:"imgbg",height:900,centerY:0,centerX:0},compId:218},{type:"Image",props:{width:244,skin:"btn/btnColor1Up.png",sizeGrid:"20,18,22,19",height:74,centerX:0,bottom:50},compId:219,child:[{type:"Image",props:{y:-20,x:0,width:244,skin:"btn/btnColor2Up.png",sizeGrid:"19,21,19,20",height:74},compId:220,child:[{type:"Image",props:{skin:"main/vivo_go.png",centerY:0,centerX:0},compId:221}]}]},{type:"Image",props:{width:80,skin:"main/adbg.png",sizeGrid:"1,1,1,1",right:0,height:35,bottom:25},compId:222,child:[{type:"Label",props:{text:"广告",fontSize:25,color:"#ffffff",centerY:0,centerX:0},compId:223}]},{type:"Label",props:{text:"疯狂动物园",name:"title",fontSize:48,color:"#6f2e00",centerY:62,centerX:-2},compId:224},{type:"Label",props:{y:616,text:"疯狂动物园疯狂开跑",name:"title2",fontSize:36,color:"#6f2e00",centerX:0},compId:225},{type:"Image",props:{y:10,x:10,width:670,top:10,sizeGrid:"28,23,25,20",name:"imgPicture",height:353,centerX:0},compId:226},{type:"Image",props:{y:30,x:612,top:20,skin:"main/vivo_cancel.png",right:20,name:"imgClose"},compId:227}]}]},{type:"Box",props:{var:"page5",top:1,right:0,left:0,bottom:0},compId:46,child:[{type:"Animation",props:{y:1219,x:375,width:0,var:"ani5",source:"preload/untap.ani",scaleY:4,scaleX:4,rotation:0,height:0,autoPlay:!0},compId:50},{type:"Label",props:{var:"tips5",text:"松手",right:0,left:0,fontSize:60,color:"#ffffff",bottom:450,bold:!0,align:"center"},compId:51}]},{type:"Box",props:{y:0,x:0,var:"page6",top:0,right:0,left:0,bottom:0},compId:52,child:[{type:"Sprite",props:{y:1179,x:347,width:40,var:"tapCir6",height:40,alpha:.7},compId:53,child:[{type:"Circle",props:{y:0,x:0,radius:120,lineWidth:0,fillColor:"#000000"},compId:54}]},{type:"Animation",props:{y:1219,x:375,var:"ani6",source:"preload/tap.ani",scaleY:4,scaleX:4,autoPlay:!0},compId:56},{type:"Label",props:{var:"tips6",text:"按住屏幕",right:0,left:0,fontSize:60,color:"#ffffff",bottom:450,bold:!0,align:"center"},compId:57}]},{type:"Box",props:{y:0,x:0,var:"page7",top:0,right:0,left:0,bottom:0},compId:58,child:[{type:"Sprite",props:{y:1179,x:347,width:40,var:"tapCir7",height:40,alpha:.7},compId:59,child:[{type:"Circle",props:{y:0,x:0,radius:120,lineWidth:0,fillColor:"#000000"},compId:60},{type:"Sprite",props:{y:232,x:161,width:103.5,texture:"preload/tap2.png",scaleY:4,scaleX:4,pivotY:66,pivotX:46,height:136.5},compId:63}]},{type:"Label",props:{text:"按住别放手！",right:0,left:0,fontSize:60,color:"#ffffff",bottom:450,bold:!0,align:"center"},compId:62}]},{type:"Box",props:{y:0,x:0,var:"page8",top:0,right:0,left:0,bottom:0},compId:71,child:[{type:"Sprite",props:{y:1179,x:347,width:40,var:"tapCir8",height:40,alpha:.7},compId:72,child:[{type:"Rect",props:{y:-90,x:-128,width:313,lineWidth:1,height:180,fillColor:"#000000"},compId:79},{type:"Pie",props:{y:0,x:-128,startAngle:90,radius:90,lineWidth:1,fillColor:"#000000",endAngle:-90},compId:77},{type:"Pie",props:{y:0,x:185,startAngle:-90,radius:90,lineWidth:1,fillColor:"#000000",endAngle:90},compId:78}]},{type:"Label",props:{text:"<< 左右滑动控制方向 >>",right:0,left:0,fontSize:60,color:"#ffffff",centerY:-60,bold:!0,align:"center"},compId:75},{type:"Animation",props:{y:1219,x:375,var:"ani8",source:"preload/drage.ani",scaleY:4,scaleX:4,autoPlay:!0},compId:80}]},{type:"Sprite",props:{y:244,x:359,var:"warnInfo"},compId:65,child:[{type:"Sprite",props:{y:-58,x:-57,texture:"preload/circle3.png",name:"bg"},compId:66},{type:"Sprite",props:{y:0,x:0,texture:"preload/circle1.png",pivotY:70,pivotX:70,name:"circle"},compId:67},{type:"Sprite",props:{y:-26,x:-33,texture:"preload/heart.png",name:"heart"},compId:69},{type:"Animation",props:{y:0,x:0,source:"preload/warnning.ani",name:"warn"},compId:70},{type:"Sprite",props:{y:0,x:0,width:114,pivotY:57,pivotX:57,name:"progress",height:114},compId:123,child:[{type:"Sprite",props:{y:0,x:0,name:"left"},compId:68,child:[{type:"Sprite",props:{y:57,x:57,texture:"preload/redCircle1.png",rotation:0,pivotY:57,pivotX:57},compId:130},{type:"Sprite",props:{x:57,renderType:"mask"},compId:131,child:[{type:"Rect",props:{width:57,lineWidth:1,height:114,fillColor:"#ff0000"},compId:132}]}]},{type:"Sprite",props:{y:0,x:0,rotation:0,name:"right"},compId:124,child:[{type:"Sprite",props:{y:57,x:57,texture:"preload/redCircle1.png",rotation:180,pivotY:57,pivotX:57},compId:133},{type:"Sprite",props:{renderType:"mask"},compId:134,child:[{type:"Rect",props:{width:57,lineWidth:1,height:114,fillColor:"#ff0000"},compId:135}]}]}]}]}],loadList:["preload/lo.png","preload/tap.png","btn/notice19.png","btn/notice14.png","btn/notice12.png","main/icon_jew.png","main/coin.png","main/vivo_gold.png","main/gift_day.png","btn/btnColor2Down.png","btn/btnColor2Up.png","shop/img_tip_7.png","preload/btnBlue2.png","preload/btnBlue1.png","preload/change.png","preload/button_patchHilight0.png","preload/btnGreen2.png","preload/btnGreen1.png","preload/ok.png","preload/sel.png","preload/btnRed2.png","preload/btnRed1.png","preload/cool.png","preload/adIcon.png","preload/tap.ani","preload/red.png","preload/rollArrow.png","preload/black.png","preload/tapCircle.png","preload/photobook.png","preload/bofang.png","preload/refresh_name.png","preload/jixu.png","preload/img_share.png","preload/coin.png","preload/img_shareWx.png","main/vivo_di.png","btn/btnColor1Up.png","main/vivo_go.png","main/adbg.png","main/vivo_cancel.png","preload/untap.ani","preload/tap2.png","preload/drage.ani","preload/circle3.png","preload/circle1.png","preload/heart.png","preload/warnning.ani","preload/redCircle1.png"],loadList3D:[]},e.TeachUI=x,p("ui.main.TeachUI",x);class L extends r{constructor(){super()}createChildren(){super.createChildren(),this.createView(L.uiView)}}L.uiView={type:"View",props:{width:750,height:1334},compId:2,child:[{type:"Box",props:{top:0,right:0,left:0,bottom:0,alpha:1},compId:4,child:[{type:"Image",props:{y:625,x:172,var:"b1",skin:"preload/black.png",sizeGrid:"1,1,1,1",alpha:.6},compId:6},{type:"Image",props:{y:625,x:172,var:"b2",skin:"preload/black.png",sizeGrid:"1,1,1,1",alpha:.6},compId:7},{type:"Image",props:{y:625,x:172,var:"b3",skin:"preload/black.png",sizeGrid:"1,1,1,1",alpha:.6},compId:8},{type:"Image",props:{y:625,x:172,var:"b4",skin:"preload/black.png",sizeGrid:"1,1,1,1",alpha:.6},compId:9},{type:"Image",props:{y:543,x:445,width:220,var:"c1",skin:"preload/teachHelp.png",sizeGrid:"2,2,2,2",height:220,alpha:.6},compId:5,child:[{type:"Image",props:{y:-161,x:0,visible:!1,var:"fingerchoose",skin:"main/finger.png",centerX:0},compId:29}]},{type:"Image",props:{y:200,x:0,skin:"preload/red.png",sizeGrid:"1,1,1,1",right:0,left:0,height:140,alpha:.5},compId:10},{type:"Label",props:{y:240,x:0,wordWrap:!0,text:"点击野牛栖息地来选择它",right:0,left:0,leading:6,fontSize:44,color:"#ffffff",align:"center"},compId:11}]},{type:"Box",props:{y:0,x:0,top:0,right:0,mouseThrough:!0,left:0,bottom:0,alpha:1},compId:12,child:[{type:"Image",props:{y:200,x:0,skin:"preload/red.png",sizeGrid:"1,1,1,1",right:0,left:0,height:140,alpha:.5},compId:18},{type:"Label",props:{y:230,wordWrap:!0,valign:"middle",text:"建造一个漂亮的栖息地使",right:0,left:0,leading:6,fontSize:37,color:"#ffffff",align:"center"},compId:19},{type:"Label",props:{y:269,x:0,wordWrap:!0,valign:"middle",text:"客人们可以参观到你的小牛",right:0,left:0,leading:6,fontSize:37,color:"#ffffff",align:"center"},compId:30}]},{type:"Box",props:{y:0,x:0,top:0,right:0,mouseThrough:!0,left:0,bottom:0,alpha:1},compId:23,child:[{type:"Image",props:{y:200,x:0,skin:"preload/red.png",sizeGrid:"1,1,1,1",right:0,left:0,height:140,alpha:.5},compId:24},{type:"Label",props:{y:230,wordWrap:!0,width:750,valign:"middle",text:"想赚钱的话，赶紧开门营业吧",right:0,left:0,leading:6,height:80,fontSize:43,color:"#ffffff",align:"center"},compId:25}]}],loadList:["preload/black.png","preload/teachHelp.png","main/finger.png","preload/red.png"],loadList3D:[]},e.TeachGameUI=L,p("ui.main.TeachGameUI",L);class C extends r{constructor(){super()}createChildren(){super.createChildren(),this.createView(C.uiView)}}C.uiView={type:"View",props:{width:750,height:1360},compId:2,child:[{type:"Image",props:{var:"imgMask",top:0,skin:"main/img_whiteMask.png",sizeGrid:"1,1,1,1",right:0,left:0,bottom:0,alpha:.6},compId:3},{type:"Image",props:{x:0,skin:"main/blackMask.png",sizeGrid:"1,1,1,1",right:0,left:0,height:250,centerY:0,alpha:.8},compId:5},{type:"Box",props:{width:616,height:203,centerY:0,centerX:0},compId:13,child:[{type:"Image",props:{skin:"main/img_tip_zi0.png",centerX:0},compId:6},{type:"Button",props:{y:114,x:53,width:190,var:"btnClose",stateNum:1,skin:"btn/btnColor1Down.png",sizeGrid:"11,24,27,24",height:89},compId:7,child:[{type:"Image",props:{y:-40,width:244,skin:"btn/btnColor1Up.png",sizeGrid:"24,24,24,24",right:0,left:0,height:104},compId:8,child:[{type:"Image",props:{skin:"main/img_tip_zi1.png",centerY:0,centerX:0},compId:9}]}]},{type:"Button",props:{y:114,x:270,width:300,var:"btnShop",stateNum:1,skin:"btn/btnColor2Down.png",sizeGrid:"11,24,27,24",height:89},compId:10,child:[{type:"Image",props:{y:-40,width:244,skin:"btn/btnColor2Up.png",sizeGrid:"24,24,24,24",right:0,left:0,height:104},compId:11,child:[{type:"Image",props:{skin:"main/img_tip_zi2.png",centerY:0,centerX:0},compId:12}]}]}]}],loadList:["main/img_whiteMask.png","main/blackMask.png","main/img_tip_zi0.png","btn/btnColor1Down.png","btn/btnColor1Up.png","main/img_tip_zi1.png","btn/btnColor2Down.png","btn/btnColor2Up.png","main/img_tip_zi2.png"],loadList3D:[]},e.TipsUI=C,p("ui.main.TipsUI",C);class S extends r{constructor(){super()}createChildren(){super.createChildren(),this.createView(S.uiView)}}S.uiView={type:"View",props:{width:750,height:1334},compId:2,child:[{type:"Box",props:{top:0,right:0,left:0,bottom:0},compId:10,child:[{type:"Image",props:{top:0,skin:"btn/wxts7.png",sizeGrid:"1,1,1,1",right:0,left:0,bottom:0,alpha:.6},compId:17},{type:"Box",props:{var:"boxVideoTips",centerY:0,centerX:0},compId:16,child:[{type:"Image",props:{y:69,width:478,skin:"btn/notice14.png",sizeGrid:"1,13,13,12",height:412,centerX:0},compId:4},{type:"Image",props:{skin:"btn/wxts4.png"},compId:5},{type:"Image",props:{width:445,skin:"btn/notice20.png",sizeGrid:"9,8,10,8",height:300,centerY:-42,centerX:0},compId:18},{type:"Image",props:{y:217,x:107,var:"imgVideo",skin:"btn/wxts1.png"},compId:6},{type:"Label",props:{y:128,x:69,wordWrap:!0,width:396,visible:!1,var:"textTips",valign:"middle",text:"很抱歉，系统识别您今日游戏时长已经超过90分钟，您的游戏将强制下线",height:261,fontSize:35,color:"#ffffff",align:"center"},compId:19},{type:"Button",props:{y:556,x:29,width:479,var:"btnClose",stateNum:1,skin:"btn/notice11.png",sizeGrid:"5,26,26,23",height:44},compId:13,child:[{type:"Image",props:{y:-34,x:0,width:479,skin:"btn/notice10.png",sizeGrid:"22,25,29,24",height:62},compId:14,child:[{type:"Image",props:{y:14,x:168,skin:"btn/notice15.png"},compId:15}]}]}]}]}],loadList:["btn/wxts7.png","btn/notice14.png","btn/wxts4.png","btn/notice20.png","btn/wxts1.png","btn/notice11.png","btn/notice10.png","btn/notice15.png"],loadList3D:[]},e.VideoTipsUI=S,p("ui.main.VideoTipsUI",S);class A extends r{constructor(){super()}createChildren(){super.createChildren(),this.createView(A.uiView)}}A.uiView={type:"View",props:{width:750,height:1360},compId:2,child:[{type:"Image",props:{var:"imgMask",top:0,skin:"main/img_blackMask.png",sizeGrid:"1,1,1,1",right:0,left:0,bottom:0,alpha:.6},compId:3},{type:"Box",props:{width:750,var:"boxMain",height:875,centerX:0,bottom:0},compId:14,child:[{type:"Image",props:{skin:"btn/img_grey_2.png",sizeGrid:"28,28,28,28",right:20,left:20,height:900,bottom:250},compId:20,child:[{type:"Image",props:{y:174,skin:"btn/img_grey_1.png",sizeGrid:"28,28,28,28",right:20,left:20,height:710},compId:21,child:[{type:"Label",props:{var:"VipName",text:"巴风特",fontSize:50,font:"SimHei",color:"#ffffff",centerY:150,centerX:0,bold:!0},compId:202},{type:"Image",props:{var:"VipImg",skin:"main/logo.png",centerY:0,centerX:0},compId:203},{type:"Label",props:{y:100,top:100,text:"恭喜到达",fontSize:35,color:"#b1ccd5",centerX:-55},compId:224},{type:"Label",props:{var:"VipLel",top:100,text:"VIP5",fontSize:35,color:"#ffffff",centerX:55},compId:204},{type:"Image",props:{visible:!0,top:30,skin:"hat/img_pro1.png",sizeGrid:"1,1,1,1",right:50,left:50,height:65},compId:205,child:[{type:"Image",props:{y:0,x:0,width:167,var:"pro",skin:"hat/img_pro2.png",sizeGrid:"1,1,1,1",scaleX:1,height:65},compId:206},{type:"Label",props:{var:"exp",text:"1/50xp",fontSize:30,color:"#ffffff",centerY:0,centerX:0},compId:207}]},{type:"Button",props:{y:660,x:10,var:"btnGain",stateNum:1,skin:"daymission/img_22.png",sizeGrid:"11,24,27,24",right:50,left:50,height:35},compId:199,child:[{type:"Image",props:{y:-60,width:244,skin:"btn/img_5.png",sizeGrid:"24,24,24,24",right:0,left:0,height:80},compId:200,child:[{type:"Image",props:{width:100,skin:"daymission/img_23.png",name:"img",height:50,centerY:0,centerX:0},compId:201}]}]},{type:"Button",props:{width:40,var:"btnLook",top:110,stateNum:1,skin:"btn/img_grey_1.png",right:45,height:40},compId:208,child:[{type:"Image",props:{width:40,skin:"btn/img_grey_2.png",left:0,height:40,bottom:10,alpha:.9},compId:209}]}]},{type:"Button",props:{x:30,width:52.5,var:"btnPrev",top:65,stateNum:1,skin:"main/btnPrev.png",left:30,height:84},compId:212},{type:"Button",props:{width:52.5,var:"btnNext",top:65,stateNum:1,skin:"main/btnNext.png",right:30,height:84},compId:211},{type:"Label",props:{top:65,text:"VIP5专享",fontSize:80,font:"SimHei",color:"#ffffff",centerX:0,bold:!0},compId:213},{type:"Label",props:{top:25,text:"升级VIP领取专属神奇动物！",fontSize:35,font:"SimHei",color:"#e6c35f",centerX:0},compId:214}]},{type:"Button",props:{x:15,width:244,var:"btnBack",stateNum:1,skin:"btn/btnColor1Down.png",sizeGrid:"24,24,24,24",height:110,bottom:20},compId:215,child:[{type:"Image",props:{y:-40,width:244,skin:"btn/btnColor1Up.png",sizeGrid:"24,24,24,24",right:0,left:0,height:130},compId:217,child:[{type:"Image",props:{skin:"main/fanhui.png",centerY:0,centerX:0},compId:218}]}]},{type:"Button",props:{x:275,width:460,visible:!1,var:"btnShop",stateNum:1,skin:"btn/btnColor2Down.png",sizeGrid:"24,24,24,24",height:110,bottom:20},compId:216,child:[{type:"Image",props:{y:-40,width:244,skin:"btn/btnColor2Up.png",sizeGrid:"24,24,24,24",right:0,left:0,height:130},compId:219,child:[{type:"Image",props:{width:143,skin:"main/img_tip_zi2.png",height:77,centerY:0,centerX:0},compId:220}]}]}]}],loadList:["main/img_blackMask.png","btn/img_grey_2.png","btn/img_grey_1.png","main/logo.png","hat/img_pro1.png","hat/img_pro2.png","daymission/img_22.png","btn/img_5.png","daymission/img_23.png","main/btnPrev.png","main/btnNext.png","btn/btnColor1Down.png","btn/btnColor1Up.png","main/fanhui.png","btn/btnColor2Down.png","btn/btnColor2Up.png","main/img_tip_zi2.png"],loadList3D:[]},e.VipAnimalUI=A,p("ui.main.VipAnimalUI",A)}(e.main||(e.main={}))}(n||(n={})),function(e){e[e.entering=0]="entering",e[e.waiting=1]="waiting",e[e.leaving=2]="leaving",e[e.idle=3]="idle",e[e.running=4]="running"}(s||(s={}));class d{}!function(e){e[e.running=0]="running",e[e.ridden=1]="ridden",e[e.crashed=2]="crashed",e[e.eaten=3]="eaten",e[e.waitingForRecycle=4]="waitingForRecycle",e[e.launching=5]="launching",e[e.idle=6]="idle",e[e.knockback=7]="knockback",e[e.falling=8]="falling",e[e.ignoreAll=9]="ignoreAll"}(a||(a={})),function(e){e[e.riding=0]="riding",e[e.flying=1]="flying",e[e.landing=2]="landing",e[e.crashed=3]="crashed",e[e.waitingForStart=4]="waitingForStart",e[e.UI=5]="UI",e[e.beEat=6]="beEat",e[e.teach=7]="teach"}(o||(o={})),function(e){e[e.none=0]="none",e[e.preparing=1]="preparing",e[e.jumping=2]="jumping"}(h||(h={})),function(e){e[e.idle=0]="idle",e[e.pursuit=1]="pursuit"}(l||(l={}));const g=new class{constructor(){this._paused=!1,this._timerScale=1}flashScreen(){this._flash&&!this._flash.destroyed||(this._flash=new Laya.Sprite),this._flash.graphics.clear(),this._flash.graphics.drawRect(0,0,Laya.stage.width,Laya.stage.height,"#ffffff"),this._flash.alpha=.8,i.stage.addChild(this._flash,i.Layer.TOP),i.Tween.to(this._flash,{alpha:0},300,Laya.Ease.linearInOut,Laya.Handler.create(this,()=>{this._flash.removeSelf()}),0,!0,!0,!1)}get paused(){return this._paused}set paused(e){this._paused!==e&&(this._paused=e,e?(this._timerScale=Laya.timer.scale,Laya.timer.scale=0):Laya.timer.scale=this._timerScale)}};class c{constructor(){this._first=!1}init(){if(this._loadingPage=new n.main.LoadingUI,i.channel==i.Channel.zj);else if("vivo"==i.channel||"oppo"==i.channel||"none"==i.channel){this._mujiUi=new Laya.Image,this._mujiUi.skin="preload/white.png",this._mujiUi.sizeGrid="1,1,1,1";let e=new Laya.Image;e.skin="preload/oppo_vivo.png",e.centerX=0,e.centerY=-200,this._mujiUi.addChild(e)}}showMuJi(){"zj"!==i.channel&&"vivo"!=i.channel&&"none"!=i.channel||!this._mujiUi||(this._mujiUi.mouseEnabled=!0,this._mujiUi.on(Laya.Event.MOUSE_DOWN,this,e=>{e.stopPropagation()}),this._mujiUi.on("click",this,e=>{e.stopPropagation()}),Laya.timer.once(3e3,this,()=>{this._mujiUi.removeSelf(),this._mujiUi.destroy(!0),this._mujiUi=null}),this._mujiUi.size(Laya.stage.width,Laya.stage.height),Laya.stage.addChild(this._mujiUi))}show(e,t,n,s){if(this._loadingPage.pro.scaleX=0,"zoo"==i.stage.sceneName&&"game"==s){let e=g.taskCtrl.getTaskInfo();if(e&&e.length>0){let t=[];this._loadingPage.dec0.text=e[0].dec,this._loadingPage.complet0.getChildByName("difficult00").visible=!1,this._loadingPage.complet0.getChildByName("difficult01").visible=!1,this._loadingPage.complet0.getChildByName("difficult02").visible=!1,this._loadingPage.complet0.getChildByName("difficult0"+e[0].difficulty).visible=!0,t.push(this._loadingPage.complet0);let i=[null,[450],[600,750],[500,650,800]];for(let e=0;e<t.length;e++)t[e].visible=!0,t[e].bottom=i[t.length][e];this._loadingPage.tishi.visible=!0}this._loadingPage.pro1.centerY=NaN,this._loadingPage.pro1.bottom=150,this._loadingPage.first.visible=!0,this._loadingPage.txt.visible=!1}else this._loadingPage.pro1.centerY=0,this._loadingPage.txt.visible=!0,this._loadingPage.tishi.visible=!1,this._loadingPage.complet0.visible=!1;return this._loadingPage.checkTishi.visible=!1,console.log("scene name:"+i.stage.sceneName),"game"==i.stage.sceneName&&"zoo"==s?(this._loadingPage.first.visible=!0,"oppo"==i.channel?(i.ad.showQGbanner(0),this._loadingPage.pro1.bottom=i.ad.bannerHeight+20):"zj"==i.channel&&(i.ad.showTTBanner(0),this._loadingPage.pro1.bottom=i.ad.bannerHeight+20)):("check"==i.stage.sceneName&&"zoo"==s||"teach"==i.stage.sceneName&&"check"==s)&&(this._loadingPage.first.visible=!0,this._loadingPage.checkTishi.visible=!0),""!==i.stage.sceneName&&"ZY_FIRST"!==i.stage.sceneName?(this._loadingPage.banhao.visible=!1,this._loadingPage.fcm.visible=!1,this._loadingPage.kfqq.visible=!1):"zj"==i.channel?this._loadingPage.kfqq.visible=!1:this._loadingPage.kfqq.y=i.stage.notchHeight,"wx"!=i.channel||this._first||i.ad.showCustomAd(),this._loadingPage}setInfo(e){this._loadingPage.txt.text=e}setProgress(e){this._loadingPage.pro.scaleX=e,this._first||(1==e&&(this._first=!0),"oppo"==i.channel&&qg.setLoadingProgress({progress:100*e})),this._loadingPage.txt.visible&&(e=Math.floor(100*e),"oppo"==i.channel||"vivo"==i.channel?this._loadingPage.txt.text="警告：清除缓存会导致游戏数据全部丢失（"+e+"/100）":this._loadingPage.txt.text="动物园开门营业的第356天，正在开门中（"+e+"/100）")}}const m=new class extends Laya.EventDispatcher{constructor(){super(),this.cfgEnclosure={},this.showAllShip=!0,this.DAT_NAME="ZOOUserData",this._dailyTask=[1,1,2,1,100,2,3,1],this._ticket={1000:[2.5,1],1001:[2.5,1],1002:[2.5,1],1003:[5.5,2],1004:[2.5,1],1005:[2.5,1],1006:[2.5,1],1007:[2.5,1],1008:[2.5,1],1009:[2.5,1],1010:[2.5,1],1011:[2.5,1],1012:[5.5,2],1013:[2.5,1],1014:[2.5,1]},this._needSave=!1,this._uploadErrorCnt=0}init(){let e=Laya.LocalStorage.getItem("zoozyClient");e&&""!=e||(e=i.md5(Laya.Browser.now()+","+Math.random()),Laya.LocalStorage.setItem("zoozyClient",e)),this.client=e,this.cfgWorld=Laya.loader.getRes("cfg/cfgWorld.json"),this.cfgAnimal=Laya.loader.getRes("cfg/cfgAnimals.json"),this.cfgGround=Laya.loader.getRes("cfg/cfgGround.json"),this.cfgZoneDef=Laya.loader.getRes("cfg/cfgZoneDef.json"),this.cfgUpgradeKey=Laya.loader.getRes("cfg/cfgUpgradeKey.json"),this.cfgHats=Laya.loader.getRes("cfg/cfgHats.json"),this.cfgUpgrade=Laya.loader.getRes("cfg/cfgUpgrade.json"),this.cfgMission=Laya.loader.getRes("cfg/cfgMission.json"),this.cfgSpawn=Laya.loader.getRes("cfg/cfgSpawn.json"),this.cfgQuestion=Laya.loader.getRes("cfg/cfgQuestion.json");let t=Laya.loader.getRes("cfg/cfgEnc.json");this.qgData();for(let e=0;e<t.length;e++){const i=t[e];this.cfgEnclosure[i.id]=i,this.cfgEnclosure[i.res]=i}i.eventBus.once("LOGINED",this,this.onLogined),this.loadData(),i.sound.bSound=m.get("sound",!0),i.sound.bMusic=m.get("music",!0),i.eventBus.event("USERDATA_INIT"),this.loop(),Laya.timer.loop(1e4,this,this.loop)}qgData(){if("oppo"==i.channel||"vivo"==i.channel){console.log("oppo数据情况!!");let e=[],t=Laya.Browser.window.localStorage;for(let i=0;i<t.length;i++)console.log(t.key(i),t.getItem(t.key(i))),t.key(i).indexOf(this.DAT_NAME)>-1&&e.push([t.key(i),t.getItem(t.key(i))]);if(e&&1==e.length)Laya.LocalStorage.clear(),Laya.LocalStorage.setItem(this.DAT_NAME,e[0][1]);else if(e&&2==e.length){let t,i,n=e[0][1],s=e[1][1];try{t=JSON.parse(n)}catch(e){t=null}try{i=JSON.parse(s)}catch(e){i=null}Laya.LocalStorage.clear(),t&&i?t.dataVer&&i.dataVer?t.dataVer>i.dataVer?Laya.LocalStorage.setItem(this.DAT_NAME,n):Laya.LocalStorage.setItem(this.DAT_NAME,s):t.dataVer&&!i.dataVer?Laya.LocalStorage.setItem(this.DAT_NAME,n):!t.dataVer&&i.dataVer&&Laya.LocalStorage.setItem(this.DAT_NAME,s):t&&!i?Laya.LocalStorage.setItem(this.DAT_NAME,n):!t&&i&&Laya.LocalStorage.setItem(this.DAT_NAME,s)}}}onLogined(){this.loadData()}loop(){var e=new Date,t=e.getFullYear()+":"+(e.getMonth()+1)+":"+e.getDate();(!this._value.today||this._value.today&&this._value.today!=t)&&(this._value.today=e.getFullYear()+":"+(e.getMonth()+1)+":"+e.getDate(),this._value.dailyTask={},this._value.todayAd=0,this._value.changeTask=0,this.initTyetime(),this.aotdInit(),this.initFreeJewGain(),this.saveData(),m.set("visitorAd",0),m.set("rebornAd",0),m.set("fiveGoldAd",0),m.set("desktop1",0),m.set("desktop2",0),m.set("dollar_fh",0),m.set("dollar_start",0),m.set("dollar",0),m.set("dollar_open",0),m.set("questionCount",5),m.set("isShowNotice",1),m.set("isFirstInGame",0))}setDailyTask(e,t){var n=new Date;this._value.today&&this._value.today!=n.getFullYear()+":"+(n.getMonth()+1)+":"+n.getDate()&&(this._value.today=n.getFullYear()+":"+(n.getMonth()+1)+":"+n.getDate(),this._value.dailyTask={}),this._value&&this._value.dailyTask&&this._value.dailyTask[e]&&this._value.dailyTask[e][1]||(this._value.dailyTask=this._value.dailyTask||{},this._value.dailyTask[e]=this._value.dailyTask[e]||[],this._value.dailyTask[e][0]=this._value.dailyTask[e][0]||0,this._value.dailyTask[e][1]=this._value.dailyTask[e][1]||!1,this._value.dailyTask[e][0]+=t,this._value.dailyTask[e][0]>=this._dailyTask[e]&&(this._value.dailyTask[e]=[this._dailyTask[e],!0],i.eventBus.event("DAILY_TASK")),this.saveData())}get dailyTask(){this._value.dailyTask=this._value.dailyTask||{};for(let e=0;e<this._dailyTask.length;e++)this._value.dailyTask[e]=this._value.dailyTask[e]||[0,!1];return this._value.dailyTask||{}}get changeTask(){return this._value.changeTask||0}addChangeTask(){this._value.changeTask=this._value.changeTask||0,this._value.changeTask+=1,this.saveData()}setNickName(e,t,i){console.log("setnickname",e,t,i),this._value.animalNames=this._value.animalNames||{},this._value.animalNames[e]=[i,t],this.saveData()}get nickName(){return this._value.animalNames||{}}get today(){var e=new Date;return this._value.today||e.getFullYear()+":"+(e.getMonth()+1)+":"+e.getDate()}set today(e){this._value.today=e,this.saveData()}get freeJewGainTimes(){return i.channel==i.Channel.wx||i.channel==i.Channel.qq?null==this._value.freeJewGainTimes?3:this._value.freeJewGainTimes:i.channel==i.Channel.zj||"oppo"==i.channel||"vivo"==i.channel?9999:null==this._value.freeJewGainTimes?3:this._value.freeJewGainTimes}addFreeJewGainTimes(){this._value.freeJewGainTimes=this._value.freeJewGainTimes||0,this._value.freeJewGainTimes-=1,this.saveData()}initFreeJewGain(){i.channel==i.Channel.wx||i.channel==i.Channel.qq?this._value.freeJewGainTimes=3:i.channel==i.Channel.zj||"oppo"==i.channel||"vivo"==i.channel?this._value.freeJewGainTimes=9999:this._value.freeJewGainTimes=3,this.saveData()}get tryTime(){return this._value.tryTime=this._value.tryTime||{},this._value.tryTime}addTryTime(e){this._value.tryTime=this._value.tryTime||{},this._value.tryTime[e]=this._value.tryTime[e]||0,this._value.tryTime[e]+=1,this.saveData()}initTyetime(){this._value.tryTime={}}getEncUpgradeValue(e,t){if(this.cfgEnclosure[e]){let i=this.cfgEnclosure[e].res,n=-1;if(i){let s=this.cfgUpgrade[i],a=this.cfgUpgradeKey[t];if(s&&a){let i=this.enclosure[e]||-1,o=s.level;for(let e=0;e<i;e++){const i=o[e];i.key&&i.key==t&&(1===a.opt?n=a.default+i.value:2===a.opt&&(n=i.value))}-1===n&&(n=a.default)}}return n}}get(e,t){return this._value.hasOwnProperty(e)||(this._value[e]=t),this._value[e]}set(e,t,i=!0){this._value[e]=t,i&&this.saveData()}loadData(){let e,t,n;if(i.logined&&i.loginData&&i.loginData.length>1)if("oppo"!==i.channel&&"vivo"!==i.channel&&(e=i.loginData),n=!0,"hw"==i.channel&&i.uid)t=Laya.LocalStorage.getItem(this.DAT_NAME+i.uid)||"";else{let e,n,s=Laya.LocalStorage.getItem(this.DAT_NAME+i.uid)||"",a=Laya.LocalStorage.getItem(this.DAT_NAME);try{e=JSON.parse(s)}catch(t){e=null}try{n=JSON.parse(a)}catch(e){n=null}!n||n&&!n.dataVer||n&&n.dataVer&&e&&e.dataVer&&n.dataVer<e.dataVer?(e&&(Laya.LocalStorage.clear(),Laya.LocalStorage.setItem(this.DAT_NAME,s)),t=s):t=a}else e=Laya.LocalStorage.getItem(this.DAT_NAME),n=!1;"{}"==e?(e=null,t=null,this._jsonStr=""):this._jsonStr=e||"{}";let s=null;if(e)try{s=JSON.parse(e)}catch(e){s=null}if(n&&t){let e,i,n;try{e=JSON.parse(t)}catch(t){e=null}i=e&&e.dataVer||1,n=s&&s.dataVer||1,console.log(">>>:本地用户数据版本:"+i+",服务器用户数据版本:"+n),n<i&&(s=e)}if(s&&s.ver||(s=null),s&&s.ver!=i.ver&&(s.ver=i.ver),this._value=s,!this._value){let e={mapLevel:0,enclosure:{},gold:300,jew:0,animals:{1001:[101]},animalNames:{},hatExp:{},hatLevel:{},hats:["100","101"],curHatId:"100",sex:1,clothes:0,todayAd:0,completeTask:0,buff:{},changeTask:0,tryTime:{},dailyTask:{},photo:{}};i.channel==i.Channel.wx||i.channel==i.Channel.qq?e.freeJewGainTimes=3:i.channel==i.Channel.zj||i.channel==i.Channel.vivo||i.channel==i.Channel.oppo?e.freeJewGainTimes=9999:e.freeJewGainTimes=3;let t=this.cfgWorld[0].maps[0].animals;for(let i=0;i<t.length;i++){const n=t[i];e.enclosure[n]=-1}e.enclosure[1e3]=-1,e.startAnimal=101,e.aotdAnimal={},e.todayAotd=[],e.farest={},e.openCount=0,this._value=e,e.CURRENT_WORLD=0,e.ver=i.ver,e.dataVer=1,i.assetsManger.mkdirFile(i.assetsManger.fileRoot+"/photo")}this._value.dataVer=this._value.dataVer||1,this.saveData()}savePhoto(e){this._value.photo=this._value.photo||{},this._value.photo[e]=!0,this.saveData()}get photo(){return this._value.photo||{}}get worldLevel(){return Math.floor(this._value.mapLevel/5)}getMapLevelByWorld(e){return this._value.mapLevel>5*e+4?4:this._value.mapLevel%5}get mapLevel(){return this._value.mapLevel%5}get shipLevel(){return this._value.mapLevel}get animalsNum(){let e=[];if(this._value.animals)for(const t in this._value.animals)if(this._value.animals.hasOwnProperty(t)){const i=this._value.animals[t];for(let t=0;t<i.length;t++){const n=i[t];e.push(n)}}return e.length||0}updateOrder(e,t){this._value.order=this._value.order||{},this._value.order[e]=[t,1],this.saveData()}get orderSend(){return this._value.order=this._value.order||{},this._value.order}get uplvlTime(){let e=[[1001,1002,1003,1004,1005,1006,1007],[1008,1009,1010,1011,1012,1013,1014]],t=[];for(const i in e)if(e.hasOwnProperty(i))for(let n=0;n<e[i].length;n++){const s=e[i][n];this._value.enclosure[s]&&this._value.enclosure[s]>0&&(t[i]=t[i]||0,t[i]+=this._value.enclosure[s])}return t||[]}get compeletNum(){return this._value.completeTask||0}upmapLevel(){if(this._value.mapLevel=this._value.mapLevel||0,this._value.mapLevel+=1,this.worldLevel<2&&this.mapLevel<5){let e=this.cfgWorld[this.worldLevel].maps[this.mapLevel].animals;for(let t=0;t<e.length;t++){const i=e[t];this.enclosure.hasOwnProperty(i)||(this.enclosure[i]=-1)}}this.saveData()}get enclosure(){return this._value.enclosure}upgradeEnclosure(e){this._value.enclosure.hasOwnProperty(e)&&this._value.enclosure[e]<9&&(this._value.enclosure[e]++,this.saveData(),this.event("UPDATE_ENC",[e,this._value.enclosure[e]]))}get startAnimal(){return this._value.startAnimal||101}set startAnimal(e){this._value.startAnimal=e,this.saveData()}getFarest(e){return this._value.farest[e]||0}setFarest(e,t){this._value.farest?this._value.farest[e]=t:(this._value.farest={},this._value.farest[e]=t),this.saveData()}get touristTicket(){let e=0,t=0,i=0,n=0,s=0;for(const t in this._value.enclosure)if(this._value.enclosure.hasOwnProperty(t)&&this._value.enclosure[t]>=0&&this._ticket[t]){let n=this.getEncUpgradeValue(Number(t),15);e+=this._ticket[t][0],i+=(this._value.animals[t]&&this._value.animals[t].length||0)*this._ticket[t][1]*n}let a=!1;return m.getAnimals(1e3)&&m.getAnimals(1e3).indexOf(10)>-1&&(a=!0),e=Math.ceil(e),t=Math.max(Math.ceil(e/2),2),i=Math.ceil(i),[e,n=a?2*Math.floor(10+i):Math.floor(10+i),t,s=n*t]}get curHatId(){return this._value.curHatId||"100"}set curHatId(e){this._value.curHatId=e,this.saveData()}get buff(){return this._value.buff||{}}set buff(e){this._value.buff=e,this.saveData()}get startPos(){let e=0;return m.get("dollar_start",0)>0&&(e=1e3),this._value.buff&&this._value.buff.type&&1==this._value.buff.type&&this._value.buff.time&&this._value.buff.time>Laya.Browser.now()?800+e:0+e}get hats(){return this._value.hats||[]}get hatExp(){return this._value.hatExp||{}}get hatLevel(){return this._value.hatLevel||{}}setHatExp(e,t){this._value.hatExp&&(this._value.hatExp[e]||(this._value.hatExp[e]=0),this._value.hatExp[e]+=t,this.checkHatLevel(e),this.saveData())}checkHatLevel(e){let t=[25,150,600];this._value.hatExp[e]&&(this._value.hatLevel[e]||(this._value.hatLevel[e]=0),this._value.hatExp[e]>=t[this._value.hatLevel[e]]&&this._value.hatLevel[e]<3?(this._value.hatLevel[e]+=1,this._value.hatLevel[e]>=3?(this._value.hatLevel[e]=3,this._value.hatExp[e]=600):this._value.hatExp[e]-=t[this._value.hatLevel[e]-1],this.getHat()):this._value.hatLevel[e]&&3==this._value.hatLevel[e]&&(this._value.hatExp[e]=600))}getHat(){let e=[];for(const t in m.cfgHats)m.cfgHats.hasOwnProperty(t)&&this._value.hats.indexOf(t)<0&&e.push(t);if(e&&e.length>0){let t=Math.floor(Math.random()*e.length);if(e[t])return this._value.hats.push(e[t]),this.saveData(),e[t]}return null}giveHat(e){this._value.hats.indexOf(e)<0&&(this._value.hats.push(e),this.saveData())}zjCdHat(){this._value.hats.indexOf("102")<0&&(this._value.hats.push("102"),this.saveData())}get sex(){return this._value.sex||1}set sex(e){this._value.sex=e,this.saveData()}get clothes(){return this._value.clothes||1}set clothes(e){this._value.clothes=e,this.saveData()}getAotdAnimal(e){let t=(this._value.aotdAnimal||{})[e]||!1,i=!1;return this._value.todayAotd&&this._value.todayAotd[0]!=e&&(i=!0),t||i}setAotdAnimal(e,t){if(this.cfgSpawn&&this.cfgSpawn[e]&&this.cfgSpawn[e].animal&&this.cfgSpawn[e].animal.length){for(let i=0;i<this.cfgSpawn[e].animal.length;i++)if(this.cfgSpawn[e].animal[i].id==t){if(!this.cfgSpawn[e].animal[i].usedInAOTD)return;break}this._value.aotdAnimal=this._value.aotdAnimal||{},this._value.aotdAnimal[t]=!0,this.saveData()}}setTodayAotd(e){this._value.todayAotd[0]=e,m.enclosure[m.cfgAnimal[e].encID]&&m.enclosure[m.cfgAnimal[e].encID]<9||!m.enclosure[m.cfgAnimal[e].encID]?this._value.todayAotd[1]=!1:this._value.todayAotd[1]=!0,this.saveData()}getTodayAotd(){let e="game/Conventional/buffalo8.lh";return this._value.todayAotd||(this._value.todayAotd=[]),this._value.todayAotd[0]&&(e=this.cfgAnimal[this._value.todayAotd[0]].res),this._value.todayAotd[1]||(this._value.todayAotd[1]=!1),[e,this._value.todayAotd[1]]}isAvailableForCapture(e){if(null==e)return!1;let t=this.cfgAnimal[e.id].encId;return this.getAnimals(t).indexOf(e.id),!(!e.usedInAOTD||this._value.todayAotd[0]!=e.id||this.getAotdAnimal(e.id)||this._value.enclosure[t]<9)}aotdInit(){let e={};for(const t in m.cfgSpawn)if(m.cfgSpawn.hasOwnProperty(t)){let i=m.cfgSpawn[Number(t)].animal;if(i&&i.length>0)for(let n=0;n<i.length;n++)i[n].usedInAOTD&&(e[t]=i[n].id)}let t=[];for(const i in e)null!=e[i]&&t.push(e[i]);if(null==t||t.length<=0)return;let i=t[Math.floor(Math.random()*t.length)];m.setTodayAotd(i)}getAnimals(e){return(this._value.animals||{})[e]||[]}catchAnimal(e){e=parseInt(e);let t=this.cfgAnimal[e];if(t&&(t=t.encId),t){this._value.animals=this._value.animals||{};let n=this._value.animals[t];n||(this._value.animals[t]=n=[]),n.indexOf(e)<0&&n.push(e),i.eventBus.event("TASK_UPDATE",["ANIMAL",e,1]),this.setAotdAnimal(t,e),i.eventBus.event("CATCH_ANIMAL",e)}}get openTime(){return this._value.openTime||0}setNextOpentime(e){this._value.openTime=e,this.saveData()}addOpenCount(){this._value.openCount+=1,this.saveData()}get openCount(){return this._value.openCount||0}addTodayOpen(){var e=new Date;this._value.today!=e.getFullYear()+":"+(e.getMonth()+1)+":"+e.getDate()&&(this._value.today=e.getFullYear()+":"+(e.getMonth()+1)+":"+e.getDate(),this._value.todayAd=0),this._value.todayAd||(this._value.todayAd=0),this._value.todayAd+=1,this.saveData()}get todayOpen(){var e=new Date;return this._value.today!=e.getFullYear()+":"+(e.getMonth()+1)+":"+e.getDate()&&(this._value.today=e.getFullYear()+":"+(e.getMonth()+1)+":"+e.getDate(),this._value.todayAd=0),this._value.todayAd}get visitor(){return this._value.visitor||3}addGold(e,t){(e=Math.floor(e))<0?m.setDailyTask(4,-e):(1004==t&&(this._value.pickGold=this._value.pickGold||0,this._value.pickGold+=e),this._value.addGold=this._value.addGold||0,this._value.addGold+=e),this._value.gold=Math.floor(this._value.gold+e),this.saveData(),this.event("UPDATE_GOLD",[this._value.gold,e,t])}get gold(){return this._value.gold||0}addJew(e,t){if(this._value.jew=Math.floor(this._value.jew+e),this.saveData(),this.event("UPDATE_JEW"),e<0){let e={1001:"每钻石",1002:"每签到",1003:"购买传奇动物",1004:"解锁动物",1005:"转盘",1006:"购买金币包",1007:"每日任务"};"wx"==i.channel||"qq"==i.channel?i.TmCtrl.instance.tmSendEvent("use_diamond",{value:e[t]}):"zj"==i.channel&&i.reportEvent("use_diamond",{value:e[t]})}}get jew(){return this._value.jew||0}getEnclosurePrice(e){let t=0;if(this._value.enclosure[e]>=0&&this._ticket[e]){let i=this.getEncUpgradeValue(e,15);t=(this._value.animals[e]&&this._value.animals[e].length||0)*this._ticket[e][1]*i,t=Math.ceil(t)}return t}completeTask(){this._value.completeTask+=1,this.saveData()}set questionCount(e){this._value.questionCount=e,this.saveData()}get questionCount(){return void 0===this._value.questionCount?5:this._value.questionCount}saveData(){console.log("save data!!"),this._needSave=!0,Laya.systemTimer.frameOnce(2,this,this.saveDataNow)}saveDataNow(){if(!this._needSave)return;this._needSave=!1;let e=JSON.stringify(this._value);e!=this._jsonStr&&(console.log("save !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!"),this._value.dataVer=this._value.dataVer||1,this._value.dataVer++,e=JSON.stringify(this._value),"hw"==i.channel&&i.uid?Laya.LocalStorage.setItem(this.DAT_NAME+i.uid,e):Laya.LocalStorage.setItem(this.DAT_NAME,e),this._jsonStr=e,this._uploadErrorCnt=0,this.uploadData())}uploadData(){if(!i.logined||"oppo"==i.channel||"vivo"==i.channel)return;if(!i.uid||""==i.uid||"-1"==i.uid)return;let e=Laya.Browser.now();console.log("noice="+i.noice+",client="+this.client);let t="set?sha="+i.md5(i.md5(i.key+i.noice)+e+":"+this.client+"::"+i.noice)+"&noice="+i.noice+"&time="+e+"&client="+this.client;t=t+"&channel="+i.channel+"&sec="+i.sec+"&game=zoo&gid="+i.gid+"&uid="+i.uid;let n=new Laya.HttpRequest;n.http.timeout=1e4,n.once(Laya.Event.ERROR,this,e=>{console.log(">>>:login error:"+JSON.stringify(e)),this._uploadErrorCnt++,this._uploadErrorCnt<3&&Laya.systemTimer.once(1e3,this,this.uploadData)}),n.once(Laya.Event.COMPLETE,this,e=>{e&&0==e.code?(console.log(">>>:上传数据成功"),this._uploadErrorCnt=0):(console.log(">>>:上传数据失败，重试"),this._uploadErrorCnt++,this._uploadErrorCnt<3&&Laya.systemTimer.once(1e3,this,this.uploadData))}),console.log(">>>:set:https://api.smartjoygames.com/zy/"+t),n.send("https://api.smartjoygames.com/zy/"+t,i.codeStr(this._jsonStr),"post","json")}get stat_animals(){return this.animalsNum}get stat_savannahanimals(){let e=["1001","1002","1003","1004","1005","1006","1007"],t=[];if(this._value.animals)for(const i in this._value.animals)if(this._value.animals.hasOwnProperty(i)&&e.indexOf(i)>-1){const e=this._value.animals[i];for(let i=0;i<e.length;i++){const n=e[i];t.push(n)}}return t.length||0}get stat_jungleanimals(){let e=["1008","1009","1010","1011","1012","1013","1014"],t=[];if(this._value.animals)for(const i in this._value.animals)if(this._value.animals.hasOwnProperty(i)&&e.indexOf(i)>-1){const e=this._value.animals[i];for(let i=0;i<e.length;i++){const n=e[i];t.push(n)}}return t.length||0}get stat_upencs(){let e=0;for(const t in this._value.enclosure)if(this._value.enclosure.hasOwnProperty(t)){const i=this._value.enclosure[t];i>0&&(e+=i)}return e}get stat_savannahupencs(){let e=["1001","1002","1003","1004","1005","1006","1007"],t=0;for(const i in this._value.enclosure)if(this._value.enclosure.hasOwnProperty(i)&&e.indexOf(i)>-1){const e=this._value.enclosure[i];e>0&&(t+=e)}return t}get stat_jungleupencs(){let e=["1008","1009","1010","1011","1012","1013","1014"],t=0;for(const i in this._value.enclosure)if(this._value.enclosure.hasOwnProperty(i)&&e.indexOf(i)>-1){const e=this._value.enclosure[i];e>0&&(t+=e)}return t}get stat_hats(){return(this._value.hats&&(this._value.hats.length||1)||1)-1}get stat_tasks(){return this.compeletNum}get stat_addgold(){return this._value.addGold=this._value.addGold?this._value.addGold:this._value.gold,this._value.addGold||0}get stat_pickgold(){return this._value.pickGold||0}get stat_tickts(){return this.touristTicket[1]||11}add_stat_smashAnimals(e){this._value.smashAnimals=this._value.smashAnimals||0,this._value.smashAnimals+=e,this.saveData()}get stat_smashAnimals(){return this._value.smashAnimals||0}add_stat_smashObstacles(e){this._value.smashObstacles=this._value.smashObstacles||0,this._value.smashObstacles+=e,this.saveData()}get stat_smashObstacles(){return this._value.smashObstacles||0}add_stat_boxs(e){this._value.boxs=this._value.boxs||0,this._value.boxs+=e,this.saveData()}get stat_boxs(){return this._value.boxs||0}add_stat_eatAnimals(e){this._value.eatAnimals=this._value.eatAnimals||0,this._value.eatAnimals+=e,this.saveData()}get stat_eatAnimals(){return this._value.eatAnimals||0}get stat_distance(){let e=this.getFarest(0)||0,t=this.getFarest(1)||0;return e>=t?e:t}get stat_mapLevel(){return this._value.mapLevel||0}};var _;!function(e){e[e.yx_launch=100]="yx_launch",e[e.yx_logo=101]="yx_logo",e[e.show_kaishi=102]="show_kaishi",e[e.xj_kaishi=103]="xj_kaishi",e[e.show_chooseRole_ok=104]="show_chooseRole_ok",e[e.click_chooseRole_ok=105]="click_chooseRole_ok",e[e.click_changeRole=106]="click_changeRole",e[e.backLoadComplete=107]="backLoadComplete",e[e.yd_changan=108]="yd_changan",e[e.yd_songshou1=109]="yd_songshou1",e[e.yd_anzhu=110]="yd_anzhu",e[e.tutorial_1=111]="tutorial_1",e[e.tutorial_2=112]="tutorial_2",e[e.yd_songshou2=113]="yd_songshou2",e[e.yd_huadong=114]="yd_huadong",e[e.tutorial_3=115]="tutorial_3",e[e.tutorial_4=116]="tutorial_4",e[e.yd_zhujm=117]="yd_zhujm",e[e.tutorial_5=118]="tutorial_5",e[e.tutorial_6=119]="tutorial_6",e[e.tutorial_7=120]="tutorial_7",e[e.yd_kaimen=121]="yd_kaimen",e[e.tutorial_8=122]="tutorial_8",e[e.yd_fristrevive=123]="yd_fristrevive",e[e.yd_buffalo=124]="yd_buffalo",e[e.yd_run_2=125]="yd_run_2",e[e.yd_elephant=126]="yd_elephant",e[e.yd_run_3=127]="yd_run_3",e[e.yd_zebra=128]="yd_zebra",e[e.firstbuild=129]="firstbuild",e[e.show_open=130]="show_open",e[e.show_opennow=131]="show_opennow",e[e.show_start=132]="show_start",e[e.firsttime=133]="firsttime",e[e.firstdis=134]="firstdis",e[e.firstreborn=135]="firstreborn",e[e.show_noreborn=136]="show_noreborn",e[e.rebornbuy=137]="rebornbuy",e[e.reborncancel=138]="reborncancel",e[e.show_record=139]="show_record",e[e.show_build1=140]="show_build1",e[e.show_uplvl=141]="show_uplvl",e[e.after_uplvl=142]="after_uplvl",e[e.lvl_back=143]="lvl_back",e[e.start_back=144]="start_back",e[e.show_newanimal=145]="show_newanimal",e[e.ys_gift1=146]="ys_gift1",e[e.ys_gift2=147]="ys_gift2",e[e.ys_gift3=148]="ys_gift3",e[e.ys_gift4=149]="ys_gift4",e[e.ys_gift5=150]="ys_gift5",e[e.ys_gift6=151]="ys_gift6",e[e.ys_gift7=152]="ys_gift7",e[e.ys_gift8=153]="ys_gift8",e[e.ys_gift9=154]="ys_gift9",e[e.ys_gift10=155]="ys_gift10",e[e.ys_package1=156]="ys_package1",e[e.ys_package2=157]="ys_package2",e[e.ad_revive=158]="ad_revive",e[e.ad_5gold=159]="ad_5gold",e[e.ad_changeTask=160]="ad_changeTask",e[e.ad_newTask=161]="ad_newTask",e[e.ad_visit=162]="ad_visit",e[e.ad_3visitor=163]="ad_3visitor",e[e.ad_upgradePerch=164]="ad_upgradePerch",e[e.ad_unlockMap=165]="ad_unlockMap",e[e.ad_freeDiamond=166]="ad_freeDiamond",e[e.ad_wheel=167]="ad_wheel",e[e.ad_wheelAgain=168]="ad_wheelAgain",e[e.ad_signIn=169]="ad_signIn",e[e.ad_play=170]="ad_play",e[e.ad_skin=171]="ad_skin",e[e.ad_zuigao=172]="ad_zuigao",e[e.down_fail=173]="down_fail",e[e.oppo_fail=174]="oppo_fail"}(_||(_={}));class y{constructor(){this._host="https://api.smartjoygames.com/zy/",this._list=[]}static getInstance(){return y._instance||(y._instance=new y),y._instance}init(){let e=Laya.LocalStorage.getItem("zoozyClient"),n=Laya.Browser.now();if(console.log(">>>:reporter inited"),e)m.client=e,console.log("client:"+e),this.nextUpload();else{e=i.noice;let s=i.md5(i.md5(i.key+i.noice)+n+":"+e+"::"+i.noice),a=new t;a.once(Laya.Event.ERROR,this,t=>{console.log(t),Laya.LocalStorage.setItem("zoozyClient",e),m.client=e}),a.once(Laya.Event.COMPLETE,this,e=>{e&&(console.log(e),0==e.code&&e.data?(Laya.LocalStorage.setItem("zoozyClient",e.data),m.client=e.data,this.nextUpload()):Laya.timer.once(5e3,u,u.init))}),a.send(this._host+"newClient?sha="+s+"&noice="+i.noice+"&time="+n+"&client="+e,"","get","json")}}upload(e,t){let i={time:Laya.Browser.now(),value:t,event:e};this._list.push(i),this.nextUpload()}nextUpload(){let e=this._list.shift();if(e){let t=e.time,n=e.event,s=e.value||1,a=m&&m.client||i.md5(Laya.Browser.now()+","+Math.random()),o=i.md5(i.md5(i.key+i.noice)+t+":"+a+"::"+i.noice),h="-1"==i.uid?"-":i.uid,l="report?sha="+o+"&noice="+i.noice+"&time="+t+"&client="+a;l+="&appid=30291945&channel="+i.channel+"&game=zoo&uid="+h+"&point="+n+"&value="+s;let r=new Laya.HttpRequest;r.http.timeout=1e4,r.once(Laya.Event.ERROR,this,t=>{this._list.unshift(e),Laya.timer.once(1e3,u,u.nextUpload)}),r.once(Laya.Event.COMPLETE,this,t=>{console.log(">>>:upload response:"+JSON.stringify(t)),t&&1108==t.code&&this._list.unshift(e),Laya.timer.once(1e3,u,u.nextUpload)}),r.send(this._host+l,"","get","json")}}}const u=y.getInstance();const b=new class extends i.BaseCtrl{constructor(){super()}start(){super.start()}backProgress(e){console.log("后台加载进度:"+e),"check"==this._sceneName&&i.stage.setLoadProgress(e)}backLoadError(e){console.log("后在加载错误:"+e)}backLoadComplete(){console.log("后台加载完成"),this._completed=!0,"check"==this._sceneName&&i.stage.enterScene("zoo"),"oppo"==i.channel?u.upload(_.backLoadComplete):"bd"===i.channel&&i.reportEvent("backLoadComplete")}get audioFirstLoaded(){return this._audioFirstLoaded}afterEnterScene(e){"teach"==e?"wx"===i.channel||"zj"===i.channel||"qq"===i.channel||"oppo"===i.channel||"vivo"==i.channel||"bd"===i.channel?(this._completed=!1,this._audioFirstLoaded=!1,i.assetsManger.checkAndLoad(["audio_first"],this,e=>{},e=>{console.log("load audio error:"+e)},()=>{this._audioFirstLoaded=!0,i.eventBus.event("audio_first")}),i.assetsManger.checkAndLoad(["game"],this,this.backProgress,this.backLoadError,this.backLoadComplete)):this._completed=!0:"check"==e&&(this._completed?Laya.systemTimer.callLater(i.stage,i.stage.enterScene,["zoo"]):i.stage.showLoading(""))}};const f=new class extends i.BaseCtrl{constructor(){super(),this._teachSoundList=["audio/Amb_Farm_Cow.mp3","audio/Amb_Farm_Rooster.mp3","audio/Amb_Farm_Sheep.mp3"]}start(){super.start(),i.eventBus.on(Laya.Event.FOCUS,this,this.onFocus),"wx"!=i.channel&&"qq"!=i.channel&&"bd"!=i.channel||i.eventBus.on("VIDEO_CLOSE",this,this.onFocus)}createChildren(e){"teach"==e?"wx"!==i.channel&&"zj"!==i.channel&&"oppo"!==i.channel&&"vivo"!=i.channel&&"qq"!=i.channel&&"bd"!=i.channel||(b.audioFirstLoaded?this.playTeachSound():i.eventBus.once("audio_first",this,this.playTeachSound)):"zoo"==e&&(i.sound.stopMusic(),this._ambAirshipSC=i.sound.playSound("audioGame/Amb_Airship.mp3",0))}onFocus(){i.ad.isADing||("teach"==this._sceneName?"wx"!==i.channel&&"zj"!==i.channel&&"oppo"!==i.channel&&"vivo"!=i.channel&&"qq"!=i.channel&&"bd"!=i.channel||(b.audioFirstLoaded?this.playTeachSound():i.eventBus.once("audio_first",this,this.playTeachSound)):"zoo"==this._sceneName?(i.sound.stopMusic(),this._ambAirshipSC=i.sound.playSound("audioGame/Amb_Airship.mp3",0),Laya.timer.once(1e3,this,()=>{i.sound.playMusic("audioGame/Music_Zoo.mp3")})):"game"==this._sceneName&&(0==m.get("CURRENT_WORLD",0)?i.sound.playMusic("audioGame/Music_Savannah.mp3"):1==m.get("CURRENT_WORLD",0)&&i.sound.playMusic("audioGame/Music_Jungle.mp3")),g.shipCtrl.qqGiftSend(!0))}beforeEnterScene(e){"teach"==this._sceneName?(this._ambFarmSC&&this._ambFarmSC.clear(),this._ambFarmSC=null,this._teachSoundList=null,Laya.timer.clearAll(this),i.sound.stopMusic()):"zoo"==this._sceneName&&this._ambAirshipSC&&(this._ambAirshipSC.clear(),this._ambAirshipSC=null)}playTeachSound(){"teach"==this._sceneName&&(Laya.timer.clearAll(this),i.sound.playMusic("audio/Music/Music_Tutorial.mp3"),this._teachSoundList||(this._teachSoundList=[]),this._ambFarmSC=i.sound.playSound("audio/Amb_Farm.mp3",0),Laya.timer.once(Math.floor(5e3*Math.random()+1e3),this,this.onPlayTeachSound))}onPlayTeachSound(){if("teach"!=this._sceneName)return;let e=this._teachSoundList[Math.floor(Math.random()*this._teachSoundList.length)];i.sound.playSound(e,1,!1,this,()=>{Laya.timer.once(Math.floor(5e3*Math.random()+1e3),this,this.onPlayTeachSound)})}};var v,w;!function(e){e[e.spawnChance=0]="spawnChance",e[e.rideLength=1]="rideLength",e[e.rareSkinChance=2]="rareSkinChance",e[e.smashStrength=3]="smashStrength",e[e.special=4]="special",e[e.specialCoins=5]="specialCoins",e[e.lassooExtraSizeModifier=6]="lassooExtraSizeModifier",e[e.jumpHigherAndFasterModifier=7]="jumpHigherAndFasterModifier",e[e.landingOnDoesntHarmLassoo=8]="landingOnDoesntHarmLassoo",e[e.buckLengthMultiplier=9]="buckLengthMultiplier",e[e.landingBoostLengthModifier=10]="landingBoostLengthModifier",e[e.spawnGeographyChange=11]="spawnGeographyChange",e[e.allowCannibalism=12]="allowCannibalism",e[e.canEatEverything=13]="canEatEverything",e[e.crateValueMultiplier=14]="crateValueMultiplier",e[e.ticketValueMultiplier=15]="ticketValueMultiplier",e[e.moveToLassoo=16]="moveToLassoo",e[e.shockwaveOnBuck=17]="shockwaveOnBuck",e[e.zoomSpeedMultiplier=18]="zoomSpeedMultiplier",e[e.waterSpeedMultiplier=19]="waterSpeedMultiplier",e[e.stopperEnergyDeclineRateMultiplier=20]="stopperEnergyDeclineRateMultiplier",e[e.stopperChargeEnergyThresholdModifier=21]="stopperChargeEnergyThresholdModifier",e[e.runSpeedModifier=22]="runSpeedModifier",e[e.vaulterMidJumpLassoModifier=23]="vaulterMidJumpLassoModifier",e[e.vaulterLargerSmashArea=24]="vaulterLargerSmashArea",e[e.additionalRareSkins=25]="additionalRareSkins",e[e.vaultFallMultiplier=26]="vaultFallMultiplier",e[e.reduceAIAttackRadius=27]="reduceAIAttackRadius",e[e.resistFireWhenAngry=28]="resistFireWhenAngry",e[e.slowerBurnTime=29]="slowerBurnTime",e[e.waterIncreaseRideLength=30]="waterIncreaseRideLength",e[e.iceHandlingScaleModifier=31]="iceHandlingScaleModifier",e[e.iceImmune=32]="iceImmune",e[e.iceSmashStrengthBonus=33]="iceSmashStrengthBonus",e[e.lassoSize=34]="lassoSize",e[e.lassoStrength=35]="lassoStrength",e[e.animalAffinityRunLengthModifier=36]="animalAffinityRunLengthModifier",e[e.bounceCount=37]="bounceCount",e[e.jumpHeight=38]="jumpHeight",e[e.animalImmunityLength=39]="animalImmunityLength",e[e.babyLassoStartSizeMultiplier=40]="babyLassoStartSizeMultiplier",e[e.babyLassoStrengthMultiplier=41]="babyLassoStrengthMultiplier",e[e.babyRideLengthMultiplier=42]="babyRideLengthMultiplier",e[e.babyRideSlowdownMultiplier=43]="babyRideSlowdownMultiplier",e[e.babyRideSpeedMultiplier=44]="babyRideSpeedMultiplier",e[e.babyJumpSpeedMultiplier=45]="babyJumpSpeedMultiplier",e[e.babyJumpHeightMultiplier=46]="babyJumpHeightMultiplier",e[e.babyCrateValueMultiplier=47]="babyCrateValueMultiplier",e[e.babyMissionValueMultiplier=48]="babyMissionValueMultiplier",e[e.babyRareSkinChanceMultiplier=49]="babyRareSkinChanceMultiplier",e[e.babyBreedChanceMultiplier=50]="babyBreedChanceMultiplier",e[e.babyCaptureLengthMultiplier=51]="babyCaptureLengthMultiplier",e[e.babyBreedCaptureLengthMultiplier=52]="babyBreedCaptureLengthMultiplier",e[e.babyPredatorEfficiencyMultiplier=53]="babyPredatorEfficiencyMultiplier",e[e.babySwoopPeriodMultiplier=54]="babySwoopPeriodMultiplier",e[e.babyWaterSpeedMultiplier=55]="babyWaterSpeedMultiplier",e[e.babyBurnTimeMultiplier=56]="babyBurnTimeMultiplier",e[e.babyIceHandlingScaleMultiplier=57]="babyIceHandlingScaleMultiplier",e[e.babyBuckSizeMultiplier=58]="babyBuckSizeMultiplier",e[e.babyGlobalLassoStartSizeMultiplier=59]="babyGlobalLassoStartSizeMultiplier",e[e.babyGlobalLassoStrengthMultiplier=60]="babyGlobalLassoStrengthMultiplier",e[e.babyGlobalRideLengthMultiplier=61]="babyGlobalRideLengthMultiplier",e[e.babyGlobalCrateValueMultiplier=62]="babyGlobalCrateValueMultiplier",e[e.babyGlobalMissionValueMultiplier=63]="babyGlobalMissionValueMultiplier",e[e.babyGlobalRareSkinChanceMultiplier=64]="babyGlobalRareSkinChanceMultiplier",e[e.babyGlobalBreedChanceMultiplier=65]="babyGlobalBreedChanceMultiplier",e[e.babyGlobalCaptureLengthMultiplier=66]="babyGlobalCaptureLengthMultiplier",e[e.babyGlobalBreedCaptureLengthMultiplier=67]="babyGlobalBreedCaptureLengthMultiplier",e[e.babyGlobalBurnTimeMultiplier=68]="babyGlobalBurnTimeMultiplier",e[e.babyGlobalIceHandlingScaleMultiplier=69]="babyGlobalIceHandlingScaleMultiplier",e[e.babyGlobalSlowerEnergyDrain=70]="babyGlobalSlowerEnergyDrain",e[e.slowerEnergyDrain=71]="slowerEnergyDrain",e[e.babyGlobalSlowerEnergyDrainOlympus=72]="babyGlobalSlowerEnergyDrainOlympus",e[e.babyGlobalSlowerEnergyDrainInsect=73]="babyGlobalSlowerEnergyDrainInsect",e[e.webSlowdownScaleModifier=74]="webSlowdownScaleModifier",e[e.babyGlobalSlowerEnergyDrainGreatWall=75]="babyGlobalSlowerEnergyDrainGreatWall"}(v||(v={})),function(e){e[e.add=0]="add",e[e.subtract=1]="subtract",e[e.multiply=2]="multiply",e[e.divide=3]="divide",e[e.equals=4]="equals"}(w||(w={}));class I{constructor(e,t){this.modifiers=[],this._operation=e,this._defaultValue=t,this._value=this._defaultValue}get defaultValue(){return this._defaultValue}get operation(){return this._operation}get value(){return this._value}apply(e){if(null!=e){switch(this._operation){case w.add:this._value+=e.value;break;case w.subtract:this._value-=e.value;break;case w.multiply:this._value*=e.value;break;case w.divide:this._value/=e.value;break;case w.equals:this.modifiers.length>0&&console.log(e.key.toString()+"has been overwritten with a new value"),this.clearModifiers(),this._value=e.value}this.modifiers.push(e)}}remove(e){if(null==e)return;if(-1==this.modifiers.indexOf(e))return;let t=this.modifiers[this.modifiers.length-1];if(t==e)return this.removeInternal(e),void this.modifiers.pop();let i=[];do{this.removeInternal(t),i.push(t),this.modifiers.pop(),t=this.modifiers[this.modifiers.length-1]}while(t!=e);for(this.removeInternal(t),this.modifiers.pop();i.length>0;)t=i[i.length-1],this.apply(t),i.pop()}removeInternal(e){if(null!=e)switch(this._operation){case w.add:this._value-=e.value;break;case w.subtract:this._value+=e.value;break;case w.multiply:this._value/=e.value;break;case w.divide:this._value*=e.value;break;case w.equals:this.clearModifiers(),this._value=this._defaultValue}}clearModifiers(){for(;this.modifiers.length>0;)this.modifiers.pop()}set(e){this._value=e,this.clearModifiers()}reset(){this._value=this._defaultValue,this.clearModifiers()}}class k{constructor(){this._globalUpgrades=new x}static get instance(){return k._instance||(k._instance=new k),k._instance}init(){this._upgrades=new i.Dictionary,this._globalUpgrades.clear(),this.addUpgrade(v.spawnChance,w.add,0),this.addUpgrade(v.rideLength,w.add,0),this.addUpgrade(v.rareSkinChance,w.add,0),this.addUpgrade(v.smashStrength,w.add,0),this.addUpgrade(v.special,w.add,0),this.addUpgrade(v.specialCoins,w.add,0),this.addUpgrade(v.lassooExtraSizeModifier,w.add,0),this.addUpgrade(v.jumpHigherAndFasterModifier,w.add,0),this.addUpgrade(v.landingOnDoesntHarmLassoo,w.equals,0),this.addUpgrade(v.buckLengthMultiplier,w.equals,1),this.addUpgrade(v.landingBoostLengthModifier,w.add,0),this.addUpgrade(v.spawnGeographyChange,w.add,0),this.addUpgrade(v.allowCannibalism,w.equals,0),this.addUpgrade(v.canEatEverything,w.equals,0),this.addUpgrade(v.crateValueMultiplier,w.equals,1),this.addUpgrade(v.ticketValueMultiplier,w.equals,1),this.addUpgrade(v.moveToLassoo,w.add,0),this.addUpgrade(v.shockwaveOnBuck,w.equals,0),this.addUpgrade(v.zoomSpeedMultiplier,w.equals,1),this.addUpgrade(v.waterSpeedMultiplier,w.equals,1),this.addUpgrade(v.stopperEnergyDeclineRateMultiplier,w.equals,1),this.addUpgrade(v.stopperChargeEnergyThresholdModifier,w.equals,0),this.addUpgrade(v.runSpeedModifier,w.add,0),this.addUpgrade(v.vaulterMidJumpLassoModifier,w.add,0),this.addUpgrade(v.vaulterLargerSmashArea,w.equals,0),this.addUpgrade(v.additionalRareSkins,w.add,0),this.addUpgrade(v.vaultFallMultiplier,w.equals,1),this.addUpgrade(v.reduceAIAttackRadius,w.add,0),this.addUpgrade(v.resistFireWhenAngry,w.equals,0),this.addUpgrade(v.slowerBurnTime,w.add,0),this.addUpgrade(v.waterIncreaseRideLength,w.add,0),this.addUpgrade(v.iceHandlingScaleModifier,w.add,0),this.addUpgrade(v.iceImmune,w.equals,0),this.addUpgrade(v.iceSmashStrengthBonus,w.equals,0),this.addUpgrade(v.lassoSize,w.equals,m.get("lassoSize",1.2)),this.addUpgrade(v.lassoStrength,w.equals,m.get("lassoStrength",5)),this.addUpgrade(v.animalAffinityRunLengthModifier,w.equals,m.get("animalAffinityRunLengthModifier",1)),this.addUpgrade(v.bounceCount,w.equals,m.get("bounceCount",0)),this.addUpgrade(v.jumpHeight,w.equals,m.get("jumpHeight",10)),this.addUpgrade(v.animalImmunityLength,w.equals,m.get("animalImmunityLength",.5)),this.addUpgrade(v.babyLassoStartSizeMultiplier,w.add,1),this.addUpgrade(v.babyLassoStrengthMultiplier,w.add,1),this.addUpgrade(v.babyRideLengthMultiplier,w.add,1),this.addUpgrade(v.babyRideSpeedMultiplier,w.add,1),this.addUpgrade(v.babyRideSlowdownMultiplier,w.subtract,1),this.addUpgrade(v.babyJumpSpeedMultiplier,w.add,1),this.addUpgrade(v.babyJumpHeightMultiplier,w.add,1),this.addUpgrade(v.babyCrateValueMultiplier,w.add,1),this.addUpgrade(v.babyMissionValueMultiplier,w.add,1),this.addUpgrade(v.babyRareSkinChanceMultiplier,w.add,1),this.addUpgrade(v.babyBreedChanceMultiplier,w.add,1),this.addUpgrade(v.babyCaptureLengthMultiplier,w.subtract,1),this.addUpgrade(v.babyBreedCaptureLengthMultiplier,w.subtract,1),this.addUpgrade(v.babyPredatorEfficiencyMultiplier,w.add,1),this.addUpgrade(v.babySwoopPeriodMultiplier,w.subtract,1),this.addUpgrade(v.babyWaterSpeedMultiplier,w.subtract,1),this.addUpgrade(v.babyBurnTimeMultiplier,w.add,1),this.addUpgrade(v.babyIceHandlingScaleMultiplier,w.add,1),this.addUpgrade(v.babyBuckSizeMultiplier,w.subtract,1),this.addUpgrade(v.babyGlobalLassoStartSizeMultiplier,w.add,1),this.addUpgrade(v.babyGlobalLassoStrengthMultiplier,w.add,1),this.addUpgrade(v.babyGlobalRideLengthMultiplier,w.add,1),this.addUpgrade(v.babyGlobalCrateValueMultiplier,w.add,1),this.addUpgrade(v.babyGlobalMissionValueMultiplier,w.add,1),this.addUpgrade(v.babyGlobalRareSkinChanceMultiplier,w.add,1),this.addUpgrade(v.babyGlobalBreedChanceMultiplier,w.add,1),this.addUpgrade(v.babyGlobalCaptureLengthMultiplier,w.subtract,1),this.addUpgrade(v.babyGlobalBreedCaptureLengthMultiplier,w.subtract,1),this.addUpgrade(v.babyGlobalBurnTimeMultiplier,w.add,1),this.addUpgrade(v.babyGlobalIceHandlingScaleMultiplier,w.add,1),this.addUpgrade(v.babyGlobalSlowerEnergyDrain,w.add,0),this.addUpgrade(v.slowerEnergyDrain,w.add,0),this.addUpgrade(v.babyGlobalSlowerEnergyDrainOlympus,w.add,0),this.addUpgrade(v.babyGlobalSlowerEnergyDrainInsect,w.add,0),this.addUpgrade(v.webSlowdownScaleModifier,w.equals,1),this.addUpgrade(v.babyGlobalSlowerEnergyDrainGreatWall,w.add,0)}get globalUpgrades(){return this._globalUpgrades}addUpgrade(e,t,i){if(this._upgrades.has(e))return;let n=new I(t,i);this._upgrades.add(e,n)}getGlobalUpgrade(e){return this._globalUpgrades.getUpgrade(e)}getDefaultValue(e){return this._upgrades.has(e)?this._upgrades.get(e):null}getCompanionUpgrade(e){return this._GCU_babyUpgradeValue}applyGlobalUpgrades(){}}class x{constructor(){this._upgrades=new i.Dictionary}getUpgrade(e){if(!this._upgrades.has(e)){if(0==this.addMissingUpgrade(e))return null}return this._upgrades.get(e)}applyModifier(e){let t=e.key;if(!this._upgrades.has(t)){if(0==this.addMissingUpgrade(t))return}this._upgrades.get(t).apply(e)}removeModifier(e){let t=e.key;this._upgrades.has(t)&&this._upgrades.get(t).remove(e)}clear(){this._upgrades&&this._upgrades.clear()}addMissingUpgrade(e){return this._AMU_globalDefaultValue=k.instance.getDefaultValue(e),!!this._AMU_globalDefaultValue&&(this._AMU_localValue=new I(this._AMU_globalDefaultValue.operation,this._AMU_globalDefaultValue.defaultValue),this._upgrades.add(e,this._AMU_localValue),!0)}}class L extends Laya.EventDispatcher{constructor(e,t=null,i="main",n=-40,s=-28){super(),this._pack=i,this._upDistance=n,this._downDistance=s,e.on(Laya.Event.MOUSE_DOWN,this,this.mouseDownHandler),e.on(Laya.Event.MOUSE_OUT,this,this.mouseUpHandler),e.on(Laya.Event.CLICK,this,e=>{e.stopPropagation(),this.event("click")}),this._btn=e,Laya.stage.on(Laya.Event.MOUSE_UP,this,this.mouseUpHandler),this._skin=e.getChildAt(0),this._light=t,t&&(t.visible=!1,this._lightParent=t.parent,this.showLight()),this._skin.on(Laya.Event.MOUSE_DOWN,this,this.mouseDownHandler),this._skin.on(Laya.Event.MOUSE_OUT,this,this.mouseUpHandler),this._skin.on(Laya.Event.CLICK,this,e=>{e.stopPropagation(),this.event("click")})}clear(){this.hideLight(),this._skin.offAllCaller(this),this._btn.offAllCaller(this),Laya.stage.offAllCaller(this),this._skin=null,this._btn=null,this._light=null,this._lightParent=null,this._pack=null}showLight(){if(!this._light)return;this._light.visible=!0,this._light.skin=null,this._light.sizeGrid="24,24,24,24";let e=-1;Laya.systemTimer.frameLoop(2,this,()=>{this._skin.displayedInStage&&(-1==e?(this._light.skin=this._pack+"/button_patch.png",this._light.pos(0,0,!0),this._light.size(this._lightParent.width,this._lightParent.height)):e>19&&e<26?(this._light.skin=this._pack+"/button_patchHilight"+(e-20).toString()+".png",this._light.pos(0,0,!0),this._light.size(this._lightParent.width,this._lightParent.height)):0==e||26==e?this._light.skin=null:e>=30&&(e=-2),++e)})}hideLight(){this._light&&(this._light.visible=!1,Laya.systemTimer.clearAll(this))}mouseDownHandler(e){this._skin.y=this._downDistance,e.stopPropagation()}mouseUpHandler(e){this._skin.y=this._upDistance,e.stopPropagation()}}class C{constructor(){this._v=.02,this._list=[],this._funLis=[this.createCloudTet_0,this.createCloudTet_1,this.createCloudTet_2]}clear(){for(Laya.timer.clearAll(this);this._list.length>0;)this.recoverItem(this._list.pop())}start(e,t=100){if(this.clear(),this._scene=e,Laya.timer.frameLoop(1,this,this.loop),Laya.timer.loop(1500,this,this.shoot),t>0)for(let e=0;e<t;e++)this.shoot(2*(t-e))}loop(){let e=this._v*Laya.timer.delta;for(let t=0;t<this._list.length;t++){const i=this._list[t];i.transform.localPositionZ<-160?(this._list.splice(t,1),t--,this.recoverItem(i)):i.transform.localPositionZ-=e}}recoverItem(e){e.removeSelf(),Laya.Pool.recover(e.name,e)}shoot(e=0){let t=Math.floor(3*Math.random()),i=Laya.Pool.getItemByCreateFun("CloudTet_"+t,this._funLis[t]),n=Math.floor(1500*Math.random())-500,s=-180-Math.floor(420*Math.random()),a=2200-this._v*e*1e3;i.transform.localPosition=new Laya.Vector3(n,s,a),this._list.push(i),this._scene.addChild(i)}createCloudTet_0(){let e=Laya.Sprite3D.instantiate(Laya.loader.getRes("ship/Conventional/cloudTet_0.lh"));return e.name="CloudTet_0",e}createCloudTet_1(){let e=Laya.Sprite3D.instantiate(Laya.loader.getRes("ship/Conventional/cloudTet_1.lh"));return e.name="CloudTet_1",e}createCloudTet_2(){let e=Laya.Sprite3D.instantiate(Laya.loader.getRes("ship/Conventional/cloudTet_2.lh"));return e.name="CloudTet_2",e}}var S,A=Laya.Vector3,z=Laya.Vector2;class T{static SetEulerZ(e,t){e.rotationEuler=new A(e.rotationEuler.x,e.rotationEuler.y,t)}static SetEulerY(e,t){e.rotationEuler=new A(e.rotationEuler.x,t,e.rotationEuler.z)}static SetEulerX(e,t){e.rotationEuler=new A(t,e.rotationEuler.y,e.rotationEuler.z)}static SetLocalEulerZ(e,t){e.localRotationEulerZ=t}static SetLocalEulerY(e,t){e.localRotationEulerY=t}static SetLocalEulerX(e,t){e.localRotationEulerX=t}static SetLocalPosX(e,t){e.localPosition=new A(t,e.localPosition.y,e.localPosition.z)}static SetLocalPosY(e,t){e.localPosition=new A(e.localPosition.x,t,e.localPosition.z)}static SetLocalPosZ(e,t){e.localPosition=new A(e.localPosition.x,e.localPosition.y,t)}static SetPosX(e,t){e.position=new A(t,e.position.y,e.position.z)}static SetPosY(e,t){e.position=new A(e.position.x,t,e.position.z)}static SetPosZ(e,t){e.position=new A(e.position.x,e.position.y,t)}static SetLocalScaleX(e,t){e.localScale=new A(t,e.localScale.y,e.localScale.z)}static SetLocalScaleY(e,t){e.localScale=new A(e.localScale.x,t,e.localScale.z)}static SetLocalScaleZ(e,t){e.localScale=new A(e.localScale.x,e.localScale.y,t)}static GetDistance(e,t){let i,n,s;return e instanceof A&&t instanceof A?(i=e.x-t.x,n=e.y-t.y,s=e.z-t.z,Math.sqrt(i*i+n*n+s*s)):e instanceof z&&t instanceof z?(i=e.x-t.x,n=e.y-t.y,Math.sqrt(i*i+n*n)):e instanceof Laya.Point&&t instanceof Laya.Point?(i=e.x-t.x,n=e.y-t.y,Math.sqrt(i*i+n*n)):void 0}static GetLength(e){return e instanceof A?Math.sqrt(e.x*e.x+e.y*e.y+e.z*e.z):e instanceof z?Math.sqrt(e.x*e.x+e.y*e.y):e instanceof Laya.Point?Math.sqrt(e.x*e.x+e.y*e.y):0}static Map(e,t,i,n=0,s=1){return e==t?n:(e-t)*(s-n)/(i-t)+n}static RandomSign(){return 0==T.GetRandom(0,2,!0)?-1:1}static GetPositionYZero(e){let t=e.position;return t.y=0,t}static DeltaAngle(e,t){let i=t-e;return(i%=360)>180?i-=360:i<-180&&(i=360+i),i}static RotateEulerY(e,t){let i=t*Math.PI/180;T._tmpQuaternion1||(T._tmpQuaternion1=new Laya.Quaternion),T._tmpQuaternion2||(T._tmpQuaternion2=new Laya.Quaternion),T._tmpQuaternion1.x=T._tmpQuaternion1.y=T._tmpQuaternion1.z=0,T._tmpQuaternion1.w=1,T._tmpQuaternion1.rotateY(i,T._tmpQuaternion2);let n=new A;return A.transformQuat(e,T._tmpQuaternion2,n),n}static LerpAngle(e,t,i){let n=e+(t-e)*i;return(n%=360)<-180?n=360+n:n>180&&(n-=360),n}static Lerp(e,t,i){return e+(t-e)*i}static Clamp(e,t,i){return e<t?t:e>i?i:e}static MoveTowards(e,t,i){let n;return i>0?t>e?(n=e+i)>t&&(n=t):(n=e+(i=-i))<t&&(n=t):n=t>e?e+i:e+(i=-i),n}static MoveTowardsAngle(e,t,i){let n;return i>0?t>e?(n=e+i)>t&&(n=t):(n=e+(i=-i))<t&&(n=t):n=t>e?e+i:e+(i=-i),(n%=360)<-180?n=360+n:n>180&&(n-=360),n}static SqrMagnitude(e){return e.x*e.x+e.y*e.y+e.z*e.z}static insideUnitCircle(e=1){let t=Math.random()*Math.PI*2;return new z(Math.cos(t)*e,Math.sin(t)*e)}static GetRandom(e,t,i){return i?Math.floor(Math.random()*(t-e)+e):Math.random()*(t-e)+e}}class B{}B.WATER=16,B.PLAYER=128,B.WORLD_SIDE=256,B.LANDING_RANGE=512,B.LANDING_COLLIDER=1024,B.ANIMAL=2048,B.STAMPEDE_AI=4096,B.RAYCAST_OBSTACLE=8192,B.OBSTACLE=16384,B.JUMP_ZONE=32768;class G{constructor(){this._frameList=[]}addKeyFrame(e,t,i,n,s,a){let o={a:(n-t)/(i-e)/(i-e),h:e,k:t,begin:s,end:a};this._frameList.push(o)}evaluate(e){let t;e<0&&(e=0),e>1&&(e=1);for(let i=0;i<this._frameList.length;i++)if(e>=(t=this._frameList[i]).begin&&e<=t.end)return t.a*(e-t.h)*(e-t.h)+t.k;return 0}}class E{constructor(){this._caches={},this._activePfx=[]}static get instance(){return this._instance||(this._instance=new E),this._instance}init(){if(this._pfxInfo)return;let e=Laya.loader.getRes("cfg/cfgPfx.json");this._pfxInfo={};if(e)for(let t=0;t<e.length;t++){const i=e[t];this._pfxInfo[i.name]=i}}clearAndDestroy(){let e,t;for(;this._activePfx.length>0;)(e=this._activePfx.pop())&&(Laya.timer.clearAll(e),e.removeSelf(),e.destroy(!0));for(const i in this._caches)if(this._caches.hasOwnProperty(i))for(t=this._caches[i];t&&t.length>0;)(e=t.pop())&&e.destroy(!0);e=null,t=null}createCache(e,t){let i=[];for(let n=0;n<t;n++)i[n]=this.createPfx(e);for(let n=0;n<t;n++)this.recoverPfx(e,i[n])}createPfx(e){let t=this._caches[e];if(t&&t.length>0)return t.pop();let n=this._pfxInfo[e];if(n){let e;return e=n.scene&&n.scene[i.stage.sceneName]?n.scene[i.stage.sceneName]:n.prefab,Laya.Sprite3D.instantiate(Laya.loader.getRes(e))}}recoverPfx(e,t){let i=this._caches[e];i||(i=[],this._caches[e]=i),-1===i.indexOf(t)&&i.push(t)}create(e,t){if(!this._pfxInfo[e])return;let i=this.createPfx(e);if(!i)return null;if(-1===t?t=1e3*this._pfxInfo[e].time:t*=1e3,t>0){this._activePfx.push(i);let n=this;Laya.timer.once(t,i,()=>{if(i&&!i.destroyed){n.stop(i),i.removeSelf();let t=n._activePfx.indexOf(i);t>-1&&n._activePfx.splice(t,1),n.recoverPfx(e,i)}else i=null})}return i}stop(e){e instanceof Laya.ShuriKenParticle3D&&e.particleSystem.stop();for(let t=0;t<e.numChildren;t++){let i=e.getChildAt(t);this.stop(i)}}play(e){e instanceof Laya.ShuriKenParticle3D&&e.particleSystem.play();for(let t=0;t<e.numChildren;t++){let i=e.getChildAt(t);this.play(i)}}show(e,t,n=null,s=!0,a=-1){let o=this.create(e,a);if(o)return(n=n||i.stage.scene3D).addChild(o),s?(t.cloneTo(o.transform.localPosition),o.transform.localPosition=o.transform.localPosition):(t.cloneTo(o.transform.position),o.transform.position=o.transform.position),this.play(o),o}}!function(e){e[e.SHRUB=0]="SHRUB",e[e.ROCK=1]="ROCK",e[e.TREE=2]="TREE",e[e.COIN=3]="COIN",e[e.LAKE=4]="LAKE",e[e.WORLD_TRANSITION=5]="WORLD_TRANSITION"}(S||(S={}));class M extends Laya.Script3D{constructor(){super(),this._isLack=!1}destroy(){this.gameObject&&(this.gameObject.removeSelf(),this.gameObject.destroy(!1)),this.transform=null,this.gameObject=null,this._playerTransform=null,this.name=null,this._jumpZone=null,this._collider=null,this._isLack=null,this._lackCollider=null,this.smashStrength=null,this.indestructable=null,this.isHighObstacle=null,this.isLevelEdge=null,this.isCenterEdge=null,this.isFallEdge=null,this.isFrontEdge=null,this.isArch=null,this.jumpingPlayerDoesntCollide=null,this.smashed=null,this.boundsY=null,this.pickup=null,this.destroyPfx=null,this.destroSound=null,this._inUse=null,this._type=null,this._matN0&&(this._matN0.destroy(),this._matN0=null,this._matN1.destroy(),this._matN1=null,this._matN2.destroy(),this._matN2=null,this._matN3.destroy(),this._matN3=null,this._matN4.destroy(),this._matN4=null,this._matOld.destroy(),this._matNew.destroy(),this._matOld=null,this._matNew=null),i.eventBus.off("RECOVER_OBSTACLE",this,this.recove),i.eventBus.off("JUMP_ZONE_OPEN",this,this.openJumpZone),i.eventBus.off("JUMP_ZONE_CLOSE",this,this.closeJumpZone),super.destroy()}init(e,t){if(this.gameObject=t,this.transform=t.transform,this.name=t.name=e,this._playerTransform=g.player.transform,i.eventBus.on("RECOVER_OBSTACLE",this,this.recove),e.indexOf("lake")>-1){let e=t.getChildAt(0);e&&i.setCollisionGroup(e,B.WATER,B.ANIMAL),this._lackCollider=e,this._isLack=!0,this._type=S.LAKE}else if("WorldTransition"===e){let e;this._matN0=Laya.loader.getRes("game/Conventional/Assets/Textures/UI/Materials/number.lmat"),this._matN0.tilingOffsetZ=.909,this._matN1=this._matN0.clone(),this._matN2=this._matN0.clone(),this._matN3=this._matN0.clone(),this._matN4=this._matN0.clone(),this._type=S.WORLD_TRANSITION;for(let i=0;i<t.numChildren;i++)(e=t.getChildAt(i)).name.indexOf("txt")>-1?(e.getChildAt(0).meshRenderer.material=this._matN4,e.getChildAt(1).meshRenderer.material=this._matN3,e.getChildAt(2).meshRenderer.material=this._matN2,e.getChildAt(3).meshRenderer.material=this._matN1,e.getChildAt(4).meshRenderer.material=this._matN0):"levelOld"===e.name?(this._matOld=e.meshRenderer.material.clone(),e.meshRenderer.material=this._matOld):"levelNew"===e.name&&(this._matNew=e.meshRenderer.material.clone(),e.meshRenderer.material=this._matNew)}else{this._collider=t.getComponent(Laya.PhysicsCollider);let n=t.getChildByName("TrickJumpZone");n&&(this._jumpZone=n.getComponent(Laya.PhysicsCollider),this._jumpZone&&(i.setCollisionGroupSingle(n,null,B.JUMP_ZONE,B.PLAYER),i.eventBus.on("JUMP_ZONE_OPEN",this,this.openJumpZone),i.eventBus.on("JUMP_ZONE_CLOSE",this,this.closeJumpZone),this.closeJumpZone()));let s=e.toLowerCase();-1!==s.indexOf("shrub")?this._type=S.SHRUB:-1!==s.indexOf("tree")?this._type=S.TREE:-1!==s.indexOf("rock")?this._type=S.ROCK:-1!==s.indexOf("coin")&&(this._type=S.COIN)}this._collider&&(this._collider.collisionGroup=B.OBSTACLE,this._collider.canCollideWith=B.ANIMAL|B.PLAYER);let n=Laya.loader.getRes("cfg/cfgObsatacle.json");n[e]&&(this.smashStrength=n[e].smashStrength,this.indestructable=n[e].indestructable,this.isHighObstacle=n[e].isHighObstacle,this.isLevelEdge=n[e].isLevelEdge,this.isCenterEdge=n[e].isCenterEdge,this.isFallEdge=n[e].isFallEdge,this.isFrontEdge=n[e].isFrontEdge,this.isArch=n[e].isArch,this.jumpingPlayerDoesntCollide=n[e].jumpingPlayerDoesntCollide,this.smashed=n[e].smashed,this.boundsY=n[e].boundsY,this.pickup=n[e].pickup,this.destroyPfx=n[e].destroyPfx,this.destroSound=n[e].destroSound),this._renders=[],this.getAllRenders(t)}setDistance(e){if(this._matN4&&this._matN3&&this._matN2&&this._matN1){let t,i,n,s;e-=1e3*(t=Math.floor(e/1e3)),s=(e-=100*(i=Math.floor(e/100)))-10*(n=Math.floor(e/10)),this._matN4.tilingOffsetZ=.0909*t,this._matN3.tilingOffsetZ=.0909*i,this._matN2.tilingOffsetZ=.0909*n,this._matN1.tilingOffsetZ=.0909*s}}getAllRenders(e){e instanceof Laya.MeshSprite3D&&this._renders.push(e.meshRenderer);for(let t=0;t<e.numChildren;t++)this.getAllRenders(e.getChildAt(t))}openJumpZone(){this._jumpZone&&(this._jumpZone.enabled=!0)}closeJumpZone(){this._jumpZone&&(this._jumpZone.enabled=!1)}reset(e){this._inUse=!0,this.enabled=!0;let t,i=this.gameObject;if(e<0?e=0:e>2&&(e=2),this._type===S.WORLD_TRANSITION){if(this._matNew&&e>=0&&e<2){let n=g.worldCreater.cfgGround;this._matNew.albedoColor.fromArray(n.groundColor[e+1]),this._matNew.albedoColor=this._matNew.albedoColor,this._matOld.albedoColor.fromArray(n.groundColor[e]),this._matOld.albedoColor=this._matOld.albedoColor;for(let e=0;e<i.numChildren;e++)"levelOld"===(t=i.getChildAt(e)).name?t.meshRenderer.material=this._matOld:"levelNew"===t.name&&(t.meshRenderer.material=this._matNew)}}else if(this._type===S.SHRUB)for(let n=0;n<i.numChildren;n++)-1!=(t=i.getChildAt(n)).name.toLowerCase().indexOf("_bot")?t.meshRenderer.material=g.worldCreater.matShrubBot[e]:-1!=t.name.toLowerCase().indexOf("_top")&&(t.meshRenderer.material=g.worldCreater.matShrubTop[e]);else if(this._type===S.TREE)for(let n=0;n<i.numChildren;n++)-1!=(t=i.getChildAt(n)).name.toLowerCase().indexOf("_bot")?t.meshRenderer.material=g.worldCreater.matTreeBot[e]:-1!=t.name.toLowerCase().indexOf("_top")&&(t.meshRenderer.material=g.worldCreater.matTreeTop[e]);else if(this._type===S.ROCK)for(let n=0;n<i.numChildren;n++)-1!=(t=i.getChildAt(n)).name.toLowerCase().indexOf("_top")?t.meshRenderer.material=g.worldCreater.matRockTop[e]:-1!=t.name.toLowerCase().indexOf("rock")&&(t.meshRenderer.material=g.worldCreater.matRock[e])}recove(){this._inUse&&(this.gameObject.removeSelf(),g.worldCreater.recoverObstacle(this),this._inUse=!1)}onUpdate(){if(this.transform.localPositionZ<this._playerTransform.localPositionZ-25){let e=!1;for(let t=0;t<this._renders.length;t++){if(this._renders[t].isRender){e=!0;break}}e||(this.enabled=!1,this.recove())}}destroyObstacle(){this.recove(),g.gameCtrl.shakeScreen(),i.eventBus.event("TASK_UPDATE",["CRASH",0,1]),0==m.get("CURRENT_WORLD",0)&&i.eventBus.event("TASK_UPDATE",["CRASH_IN_ONE",0,1]),this.name.indexOf("shrub")>-1?(i.eventBus.event("TASK_UPDATE",["CRASH",1,1]),"zj"!=i.channel&&"wx"!=i.channel||i.eventBus.event("ZJ_TIGER")):this.name.indexOf("tree")>-1?(i.eventBus.event("TASK_UPDATE",["CRASH",2,1]),0==m.get("CURRENT_WORLD",0)&&i.eventBus.event("TASK_UPDATE",["CRASH_IN_ONE",2,1])):(this.name.indexOf("Rock")>-1||this.name.indexOf("rock")>-1)&&(i.eventBus.event("TASK_UPDATE",["CRASH",3,1]),0==m.get("CURRENT_WORLD",0)&&i.eventBus.event("TASK_UPDATE",["CRASH_IN_ONE",3,1])),this.destroyPfx&&E.instance.show(this.destroyPfx,this.transform.localPosition),this.destroSound&&i.sound.playSound("audioGame/"+this.destroSound),this.enabled=!1}collect(e){let t=m.get("CURRENT_WORLD",0),i=m.getMapLevelByWorld(t)+1,n=g.gameCtrl.upgradeValue(e,v.crateValueMultiplier),s=T.GetRandom([1,1,3,9,20,50,50][i]*n*1*1,[2,2,6,18,40,100,100][i]*n*1*1,!0);console.log("捡硬币"+s),m.buff&&m.buff.type&&4==m.buff.type&&m.buff.time&&m.buff.time>Laya.Browser.now()&&(s*=2),E.instance.show("pfx_collectSmash",this.transform.position),E.instance.show("pfx_money_1",this.transform.position),g.gameCtrl.addGold(s,1004),this.recove()}}class N extends Laya.Script3D{constructor(){super(),this.isRight=!1,i.eventBus.on("RECOVER_CHUNK",this,this.recover)}init(e,t,n=!1){this.gameObject=e,this.transform=e.transform,this._playerTransform=g.player.transform,this.name=t,n?(i.setCollisionGroupSingle(e,null,B.WORLD_SIDE,B.ANIMAL|B.PLAYER),e.name="island"):i.setCollisionGroupSingle(e.getChildByName("collider"),null,B.WORLD_SIDE,B.ANIMAL|B.PLAYER);let s=e.getChildByName("river");s&&i.setCollisionGroupSingle(s,null,B.WATER,B.ANIMAL)}resetMat(e,t,i){if(!t||!e)return;let n,s=this.gameObject;for(let a=0;a<s.numChildren;a++)(n=s.getChildAt(a))&&n instanceof Laya.MeshSprite3D&&(n.name.indexOf("_top")>0?n.meshRenderer.material=t:n.name.indexOf("_base")>0?n.meshRenderer.material=e:n.name.indexOf("rock")>=0&&(n.meshRenderer.material=i))}reset(e,t,i){this.isRight=e;let n=this.gameObject.getChildByName("collider");n&&(n.name=e?"right":"left"),this._inUse=!0,this.length=t;let s=g.worldCreater;this.resetMat(s.matBase[i],s.matTop[i],s.matRock[i])}destroy(){this.gameObject&&(this.gameObject.removeSelf(),this.gameObject.destroy(!0)),this.gameObject=null,this.transform=null,this._playerTransform=null,this.isRight=null,this.length=null,this.name=null,this._inUse=null,super.destroy()}recover(){this._inUse&&(this.gameObject.removeSelf(),g.worldCreater.recoverChunk(this),this._inUse=!1)}onUpdate(){this.transform.localPositionZ<this._playerTransform.localPositionZ-48&&this.recover()}}class P{constructor(){this._chunkPools={},this._readyObsList=[],this._readyWallList=[],this._mid=0,this._frameIndex=0,this._hits=[],this.tProcGen={left:[],right:[]},this._obsPools={},this._readyAnimal=[],this._ray=new Laya.Ray(new Laya.Vector3,new Laya.Vector3),this._hit=new Laya.HitResult,this._pathState={left:0,right:0,mid:0,isValid:!1,width:0,isIsland:!1},g.worldCreater=this}static get instance(){return P._instance||(P._instance=new P),P._instance}start(){this._phy=i.stage.scene3D.physicsSimulation;let e=m.cfgGround;this._path=e.chunksPath,this._cfgChunk=Laya.loader.getRes("cfg/cfgChunk.json"),this._playerTransform=g.player.transform;let t=m.get("CURRENT_WORLD",0),n=m.cfgWorld[t].worldName;this._worldIndex=t,this.cfgGround=e[n],this._lastObstaclePos=new Laya.Vector3,Laya.timer.frameLoop(1,this,this.frameLoop);let s,a=Laya.loader.getRes(this._path+this.cfgGround.topMat),o=Laya.loader.getRes(this._path+this.cfgGround.baseMat),h=Laya.loader.getRes(this._path+this.cfgGround.rockMat),l=Laya.loader.getRes(this._path+this.cfgGround.rockTopMat),r=Laya.loader.getRes(this._path+this.cfgGround.shrubTopMat),p=Laya.loader.getRes(this._path+this.cfgGround.shrubBotMat),d=Laya.loader.getRes(this._path+this.cfgGround.treeTopMat),c=Laya.loader.getRes(this._path+this.cfgGround.treeBotMat);this.matTop=[],this.matBase=[],this.matRock=[],this.matRockTop=[],this.matShrubTop=[],this.matShrubBot=[],this.matTreeTop=[],this.matTreeBot=[];for(let e=0;e<3;e++)a=a.clone(),o=o.clone(),h=h.clone(),l=l.clone(),r=r.clone(),p=p.clone(),d=d.clone(),c=c.clone(),(s=new Laya.Vector4).fromArray(this.cfgGround.topColor[e]),a.albedoColor=s,this.matTop.push(a),(s=new Laya.Vector4).fromArray(this.cfgGround.baseColor[e]),o.albedoColor=s,this.matBase.push(o),(s=new Laya.Vector4).fromArray(this.cfgGround.rockColor[e]),h.albedoColor=s,this.matRock.push(h),(s=new Laya.Vector4).fromArray(this.cfgGround.rockTopColor[e]),l.albedoColor=s,this.matRockTop.push(l),(s=new Laya.Vector4).fromArray(this.cfgGround.shrubTopColor[e]),r.albedoColor=s,this.matShrubTop.push(r),(s=new Laya.Vector4).fromArray(this.cfgGround.shrubBotColor[e]),p.albedoColor=s,this.matShrubBot.push(p),(s=new Laya.Vector4).fromArray(this.cfgGround.treeTopColor[e]),d.albedoColor=s,this.matTreeTop.push(d),(s=new Laya.Vector4).fromArray(this.cfgGround.treeBotColor[e]),c.albedoColor=s,this.matTreeBot.push(c);this.reset()}reset(){i.eventBus.event("RECOVER_OBSTACLE"),i.eventBus.event("RECOVER_CHUNK"),this._worldZ=m.startPos-48,this._worldLength=0,this._worldX=0,this._chunkInfo=null,this._worldLevel=0}createWorld(){let e,t,n=this._worldZ;e=n<1e3?0:n<2e3?1:2;let s=1e3-n%1e3,a=3;if(s<216&&s>0&&e<2){t=this.cfgGround.start[e+1],s-=56,a=Math.ceil(s/16);let n=this.createObstacle("WorldTransition",e);n.transform.localPosition.setValue(0,0,1e3+1e3*e),n.transform.localPosition=n.transform.localPosition,n.setDistance(1e3+1e3*e),i.stage.scene3D.addChild(n.gameObject)}else if(s>1e3)t=this.cfgGround.start[e];else{let i=this.cfgGround.worlds[e];if(t=i[Math.floor(Math.random()*i.length)],s-this._cfgChunk[t].len-48<104)for(let e=0;e<i.length&&(t=i[e],!(s-this._cfgChunk[t].len-48>=104));e++);}this.createChunk(t,a,e)}get mid(){return this._mid}get left(){return this._leftX}get right(){return this._rightX}getPathStateAt(e){let t=this._pathState;if(t.right=0,t.left=0,t.width=0,t.isValid=!1,t.isIsland=!1,this._ray.origin.setValue(100,.5,e),this._ray.direction.setValue(-1,0,0),this._phy.rayCastAll(this._ray,this._hits,200,B.ANIMAL,B.WORLD_SIDE)){let e;for(let i=0;i<this._hits.length;i++)(e=this._hits[i])&&e.succeeded&&(-1!==e.collider.owner.name.indexOf("left")?t.left=e.point.x:-1!==e.collider.owner.name.indexOf("right")?t.right=e.point.x:"island"==e.collider.owner.name&&(t.isIsland=!0));t.isValid=!0}return t.width=t.left-t.right,this._pathState}frameLoop(){let e=++this._frameIndex,t=this._playerTransform.localPositionZ;if(e%2==0){let e;if(this._ray.origin.setValue(100,.5,t),this._ray.direction.setValue(-1,0,0),i.clearArray(this._hits),this._leftX=1e3,this._rightX=1e3,this._phy.rayCastAll(this._ray,this._hits,200,B.ANIMAL,B.WORLD_SIDE))for(let t=0;t<this._hits.length;t++)if((e=this._hits[t])&&e.succeeded)if(-1!==e.collider.owner.name.indexOf("left")){if(this._leftX=e.point.x,this._leftX<1e3&&this._rightX<1e3){this._mid=this._leftX+this._rightX;break}}else if(-1!==e.collider.owner.name.indexOf("right")&&(this._rightX=e.point.x,this._leftX<1e3&&this._rightX<1e3)){this._mid=this._leftX+this._rightX;break}}if(e%2==1&&this._worldLevel<2){let e=Math.floor(t/1e3);t%1e3>968&&this._worldLevel<e+1&&(this._worldLevel++,i.eventBus.event("CHANGE_WORLD",this._worldLevel))}if(e%3==0&&this._worldLength<120&&this.createWorld(),e%3==1)for(let e=0;e<this._readyObsList.length;e++){const n=this._readyObsList[e];n.transform.localPositionZ<t+75&&(this._readyObsList.splice(e,1),--e,i.stage.scene3D.addChild(n.gameObject))}if(e%3==2)for(let e=0;e<this._readyWallList.length;e++){const n=this._readyWallList[e];n.transform.localPositionZ<t+75&&(this._readyWallList.splice(e,1),--e,i.stage.scene3D.addChild(n.gameObject))}for(let e=0;e<this._readyAnimal.length;e++){const i=this._readyAnimal[e];i.spawnPosition.z<t+70&&(this._readyAnimal.splice(e,1),--e,g.animalManager.spawnPositionalAnimal(i))}}createChunk(e,t=3,i=0){this.createProcGen(e,t,i);let n,s=this._worldX,a=this._chunkInfo.left,o=this._worldZ;a.sort(function(e,t){return e.pos[2]-t.pos[2]});for(let e=0;e<a.length;e++){const t=a[e],h=a[e+1];n=h?h.pos[2]-t.pos[2]:16,this.createWall(t.name+"_l",t.pos[0]+s,t.pos[2]+o,1,!1,n,i)}a=this._chunkInfo.right;for(let e=0;e<a.length;e++){const t=a[e],h=a[e+1];n=h?h.pos[2]-t.pos[2]:16,this.createWall(t.name+"_r",t.pos[0]+s,t.pos[2]+o,-1,!1,n,i),this._worldZ+=n,this._worldLength+=n}if(a=this._chunkInfo.split)for(let e=0;e<a.length;e++){const t=a[e];this.createWall(t.name,t.pos[0]+s,t.pos[2]+o,1,!0,0,i)}if(a=this._chunkInfo.obs)for(let e=0;e<a.length;e++){const t=a[e];if(t&&t.list){const e=t.list[Math.floor(Math.random()*t.list.length)];if(this.spawnAnimalSpawner(t,e,o,s),e&&""!==e)if(-1!==e.indexOf("round"))this.createWall(e,t.pos[0]+s,t.pos[2]+o,1,!0,0,i);else{const n=this.createObstacle(e,i);n.transform.localPosition.setValue(t.pos[0]+s,0,t.pos[2]+o),n.transform.localPosition=n.transform.localPosition,this._readyObsList.push(n)}}}}createProcGen(e,t=3,n=0){for(this.tProcGen=this.tProcGen||{left:[],right:[]};this.tProcGen.left.length>0;)this.tProcGen.left.pop();for(;this.tProcGen.right.length>0;)this.tProcGen.right.pop();let s,a,o,h;this._chunkInfo?(s=this._chunkInfo.out[0]+this._worldX,a=this._chunkInfo.out[1]+this._worldX):(s=16,a=-16);let l=this._cfgChunk[e];if(o=l.in[0],h=l.in[1],Math.abs(s-a-o+h)>24)return void this.createWorld();this._chunkInfo=l;let r,p,d=o-s;d>0?(r="o",p=-1):(r="i",p=1),d=Math.abs(d);let g=[];for(let e=0;e<t;e++)d>=6||e==t-1&&d>=4?(g.push(r+"4"),d-=4):d>=2?(g.push(r+"2"),d-=2):g.push("s");i.shuffle(g);let c=s;this.tProcGen.left.push(c);for(let t=0;t<g.length;t++)e=this.cfgGround[g[t]],this.createWall(e+"_l",c,this._worldZ+16*t,1,!1,16,n),"i2"==g[t]?c-=2:"i4"==g[t]?c-=4:"o2"==g[t]?c+=2:"o4"==g[t]&&(c+=4),this.tProcGen.left.push(c);let m=d*p,_=[];r=(d=h-a+m)>0?"i":"o",d=Math.abs(d);for(let e=0;e<t;e++)d>=6||e==t-1&&d>=4?(_.push(r+"4"),d-=4):d>=2?(_.push(r+"2"),d-=2):_.push("s");i.shuffle(_),c=a,this.tProcGen.right.push(c);for(let t=0;t<_.length;t++)e=this.cfgGround[_[t]],this.createWall(e+"_r",c,this._worldZ+16*t,-1,!1,16,n),"i2"==_[t]?c+=2:"i4"==_[t]?c+=4:"o2"==_[t]?c-=2:"o4"==_[t]&&(c-=4),this.tProcGen.right.push(c);this._worldX=m,this._worldZ+=16*t,this._worldLength+=16*t,this.spawnGreeblesAndObstacles(this._worldZ-16*t,16*t,!0,n)}guessPath(e){let t=Math.floor(e/16);t>=this.tProcGen.left.length&&(t=this.tProcGen.left.length-1);let i=this.tProcGen.left[t],n=this.tProcGen.left[t+1];n||(n=i);let s=(n-i)*(e-16*t)/16+i,a=this.tProcGen.right[t],o=this.tProcGen.right[t+1];return o||(o=a),{left:s,right:(o-a)*(e-16*t)/16+a}}createWall(e,t,i,n,s,a,o){let h,l=this._chunkPools[e];if(l&&l.length>0)h=l.pop();else{let t=Laya.Sprite3D.instantiate(Laya.loader.getRes(this._path+e+".lh"));(h=t.addComponent(N)).init(t,e,s)}h.transform.localPosition.setValue(t,0,i),h.transform.localPosition=h.transform.localPosition,h.reset(-1===n,a,o),this._readyWallList.push(h)}recoverChunk(e){let t=e.name;this._chunkPools[t]||(this._chunkPools[t]=[]);let i=this._chunkPools[t];i.indexOf(e)<0&&i.push(e);let n=this._readyWallList.indexOf(e);n>-1&&this._readyWallList.splice(n,1),e.isRight&&(this._worldLength-=e.length)}stopAndClear(){this._frameIndex=0,i.eventBus.event("RECOVER_CHUNK");for(const e in this._chunkPools)if(this._chunkPools.hasOwnProperty(e)){const t=this._chunkPools[e];if(t)for(;t.length>0;){t.pop().destroy()}}for(;this._readyWallList.length>0;){let e=this._readyWallList.pop();e&&!e.destroyed&&e.destroy()}i.eventBus.event("RECOVER_OBSTACLE");for(const e in this._obsPools)if(this._obsPools.hasOwnProperty(e)){const t=this._obsPools[e];if(t)for(;t.length>0;){t.pop().destroy()}}for(;this._readyObsList.length>0;){const e=this._readyObsList.pop();e&&!e.destroyed&&e.destroy()}for(;this._readyAnimal.length>0;){const e=this._readyAnimal.pop();e.encId=null,e.spawnPosition=null}for(this._lastObstaclePos=null,Laya.timer.clearAll(this);this.matBase&&this.matBase.length>0;)this.matBase.pop().destroy();for(;this.matTop&&this.matTop.length>0;)this.matTop.pop().destroy();this.matBase=null,this.matTop=null}recoverObstacle(e){let t=this._obsPools[e.name]||[];t.indexOf(e)<0&&(t.push(e),this._obsPools[e.name]=t);let i=this._readyObsList.indexOf(e);i>-1&&this._readyObsList.splice(i,1)}spawnGreeblesAndObstacles(e,t,i,n){if(e<=0)return;this._lastObstaclePos.setValue(-20,0,e);let s=m.cfgZoneDef[this._worldIndex].zone[n],a=s.greebleGridSize;if(a<=0)return null;if(i)for(let i=0;i*a<t;i++){let o=this.guessPath(i*a);this.spawnObstacles(e,t,i,a,o,s,n)}}createObstacle(e,t){let i,n=this._obsPools[e];if(n&&n.length>0)i=n.pop();else{let t=Laya.Sprite3D.instantiate(Laya.loader.getRes("game/Conventional/"+e+".lh"));(i=t.addComponent(M)).init(e,t)}return i.reset(t),i}spawnObstacles(e,t,i,n,s,a,o){if(null==a)return null;if(a.randomObstacles.Length<=0)return null;if(a.randomObstacleChance<=0)return null;let h=a.minObstacleDist,l=!0;if(i*n+e>this._lastObstaclePos.z+h&&i*n+e<e+t-8&&s.right+14<=s.left&&Math.random()<a.randomObstacleChance){let t=T.GetRandom(s.right+5,s.left-5,!0);if(t<this._lastObstaclePos.x-3||t>this._lastObstaclePos.x+3||l){this._lastObstaclePos.setValue(t,0,i*n+e);let s=this.createObstacle(a.randomObstacles[Math.floor(Math.random()*a.randomObstacles.length)],o);this._lastObstaclePos.cloneTo(s.transform.localPosition),s.transform.localPosition=s.transform.localPosition,this._readyObsList.push(s),l=!1}else l=!0}}spawnAnimalSpawner(e,t,i,n){let s={Vulture:1006,Alligator:1010};if("Vulture"==e.name||e.name.indexOf("Alligator")>-1){let a=m.get("CURRENT_WORLD",0),o=Laya.loader.getRes("cfg/cfgPrefabSpawner.json")[a];if(m.cfgWorld[a].maps[m.getMapLevelByWorld(a)].animals.indexOf(s[e.name])>-1){let s=0;o[t]&&(s=o[t]);let a=new Laya.Vector3(e.pos[0]+n,e.pos[1]+s,e.pos[2]+i),h={encId:o.encId,spawnPosition:a};this._readyAnimal.push(h)}}}}var R=Laya.Vector3;class D extends Laya.Script3D{constructor(){super(...arguments),this._lerpSpeed=.2,this.leadOffset=-10,this._leadTransitionDuration=4,this._lead=10,this._prevFrameXPos=0}onAwake(){D.instance=this,this.transform=this.owner.transform,this.gameObject=this.owner,this._offsetY=i.findChildByPath(this.owner,"CameraOrbit.SelfieOffsetY").transform,this._ground=this.owner.getChildByName("GroundPlane"),this._ground.active=!0,this._groundMat=this._ground.meshRenderer.material,this._groundMat.tilingOffsetX=10,this._groundMat.tilingOffsetY=10,this._ground.transform.localPosition=this._offsetY.localPosition=i.Temp.getVector3(0,0,m.startPos+10),this._crashPosition=new R,this.camera=i.findChildByPath(this.gameObject,"CameraOrbit.SelfieOffsetY.SelfieOffsetX.AnimOffset.AnimDolly.ShakeOffset.Main Camera.Camera");let e=m.get("CURRENT_WORLD",0),t=m.cfgWorld[e].worldName,n=m.cfgGround[t];this._groundColors=n.groundColor,this._groundMat.albedoColor.fromArray(this._groundColors[0]),this._groundMat.albedoColor=this._groundMat.albedoColor,i.eventBus.on("CHANGE_WORLD",this,this.onChangeWorld)}onChangeWorld(e){(e<0||e>2)&&(e=0),this._groundMat.albedoColor.fromArray(this._groundColors[e]),this._groundMat.albedoColor=this._groundMat.albedoColor}destroy(){this._playerTransform=null,this.gameObject.destroy(!0),this.gameObject=null,i.eventBus.off("CHANGE_WORLD",this,this.onChangeWorld),super.destroy()}onStart(){this._playerTransform=g.player.transform,Laya.Tween.to(this,{leadOffset:0},1e3*this._leadTransitionDuration,Laya.Ease.cubicOut)}reset(){this._ground.transform.localPosition=this._offsetY.localPosition=i.Temp.getVector3(0,0,m.startPos+10),Laya.Tween.to(this,{leadOffset:0},1e3*this._leadTransitionDuration,Laya.Ease.cubicOut),this._groundMat.albedoColor.fromArray(this._groundColors[0]),this._groundMat.albedoColor=this._groundMat.albedoColor,this._groundMat.tilingOffsetW=0}fuhuo(e){this._ground.transform.localPosition=this._offsetY.localPosition=i.Temp.getVector3(0,0,e+10)}getPosition(){if(g.player.state==o.crashed||g.player.state==o.UI)return this._crashPosition;{let e=this._playerTransform.position.x-1,t=this._playerTransform.position.z+this._lead+this.leadOffset,i=0;return e=.9*e+.1*P.instance.mid,e=T.Clamp(e,this._playerTransform.position.x-3,this._playerTransform.position.x+3),this._prevFrameXPos=e,this._crashPosition.setValue(e,i,t),this._crashPosition}}onLateUpdate(){let e=this._playerTransform.localPositionZ;this._ground.transform.localPositionZ=e,this._groundMat.tilingOffsetW=-e/60;let t=g.teachCtrl.status;if(!g.player||g.player.state==o.waitingForStart||0!=t&&(t<6||t>9))return;let n=60*this._lerpSpeed*Laya.timer.delta/1e3;n>1&&(n=1);let s=this.getPosition(),a=i.Temp.vector3;R.lerp(this._offsetY.localPosition,s,n,a),this._offsetY.localPosition=a}}var O=Laya.Vector3,U=Laya.Vector2;class V extends Laya.Script3D{constructor(){super(...arguments),this._nearbyAnimals=[],this.dontAvoidObstacles=!1,this.dontAvoidAnimals=!1,this._randomComponent=new U(0,0)}destroy(){i.clearArray(this._nearbyAnimals),this.transform=null,this.gameObject=null,super.destroy()}onAwake(){this.gameObject=this.owner,this.transform=this.gameObject.transform}init(e=null){i.clearArray(this._nearbyAnimals),e&&(this._animal=e)}calculateTargetVector(){let e=this._animal.getInitialStampedeVector();e.setValue(0,20,0);let t=new O,n=0,s=i.Temp.vector3;for(let i=0;i<this._nearbyAnimals.length;i++){const a=this._nearbyAnimals[i];a&&a.gameObject.active&&a.gameObject.parent?a.transform.position.z>this.transform.position.z&&(a.transform.position.z-this.transform.position.z<5&&Math.abs(a.transform.position.x-this.transform.position.x)<1&&(this._animal.slowedBehindAnimal(a),n=0==(n=Math.abs(this.transform.position.x-a.transform.position.x))?8:Math.max(8-n,0)*(this.transform.position.x-a.transform.position.x)/n,e.setValue(e.x+n,e.y,e.z)),this.dontAvoidAnimals&&a.edible||(t.setValue(this.transform.position.x-a.transform.position.x,this.transform.position.z-a.transform.position.z,0),n=3*Math.max(8-T.GetLength(t),0),O.normalize(t,s),t.setValue(s.x*n,s.y*n,s.z*n),e.setValue(t.x+e.x,t.y+e.y,t.z+e.z))):(this._nearbyAnimals.splice(i,1),--i)}let a=g.gameCtrl.upgradeValue(this._animal.encId,v.moveToLassoo);if(g.player.state==o.flying&&g.player.transform.position.z<this.transform.position.z&&a>0&&this.transform.position.z<g.player.transform.position.z+30){let e=(this.transform.position.z-g.player.jumpPoint.z)*Math.tan(Math.PI/180*g.player.jumpAngle),t=g.player.jumpPoint.x+e-this.transform.position.x;Math.abs(t)>1&&Math.abs(t)<15&&(s=new U,U.normalize(i.Temp.getVector2(t,0),s),this._randomComponent.setValue(s.x*a*4,s.y*a*4))}else this._animal.newRandomComponentTimer<0&&(this._randomComponent=T.insideUnitCircle(.5),this._animal.newRandomComponentTimer=4);let h=!1,l=this._animal.isClearForward(B.RAYCAST_OBSTACLE|B.WORLD_SIDE|B.PLAYER|B.OBSTACLE);return l.dist<16?(this.dontAvoidAnimals&&null!=l.transform&&l.transform.owner.getComponent(g.Player)||(l.pointOfRayImpact.x<l.transform.position.x?e.setValue(e.x-(16-l.dist),e.y,e.z):e.setValue(e.x+(16-l.dist),e.y,e.z)),h=!0):e.setValue(e.x+this._randomComponent.x,e.y+this._randomComponent.y,e.z),l.dist<16&&8==l.transform.owner.layer&&(l.dist<8?l.transform.owner.name.indexOf("right")>-1?e=new O(Math.max(e.x,12),e.y/16,3):l.transform.owner.name.indexOf("left")>-1?e=new O(Math.min(e.x,-12),e.y/16,3):"island"===l.transform.owner.name&&(e=l.transform.position.x>this.transform.position.x?new O(Math.min(e.x,-12),e.y/16,3):new O(Math.max(e.x,12),e.y/16,3)):l.transform.owner.name.indexOf("right")>-1?e=new O(Math.max(e.x,10),e.y/2,1):l.transform.owner.name.indexOf("left")>-1?e=new O(Math.min(e.x,-10),e.y/2,1):"island"===l.transform.owner.name&&(e=l.transform.position.x>this.transform.position.x?new O(Math.min(e.x,-10),e.y/2,1):new O(Math.max(e.x,10),e.y/2,1)),h=!0),e}bounce(){if(this.enabled=!1,this._nearbyAnimals&&this._nearbyAnimals.length>0)for(let e=0;e<this._nearbyAnimals.length;e++)this._nearbyAnimals[e].shockwaveKnockback(this.transform.localPosition)}smashLanding(e,t){if(this.enabled=!1,this._nearbyAnimals&&this._nearbyAnimals.length>0)for(let t=0;t<this._nearbyAnimals.length;t++)this._animal.smashAnimal(this._nearbyAnimals[t],e);this._nearbyAnimals.length>0&&(E.instance.show("pfx_money_1",this.transform.position),g.gameCtrl.addGold(t,1007))}onTriggerEnter(e){if(e&&e.owner&&"StampedeAI"==e.owner.name){let t=e.owner.parent.getComponent(g.Animal);t&&t!==this._animal&&this._nearbyAnimals.push(t)}}onTriggerExit(e){if(e&&e.owner&&"StampedeAI"==e.owner.name){let t=e.owner.parent.getComponent(g.Animal);if(t){let e=this._nearbyAnimals.indexOf(t);e>-1&&this._nearbyAnimals.splice(e,1)}}}}var X=Laya.Vector3,Y=Laya.Sprite3D,q=Laya.Animator;class j extends Laya.Script3D{constructor(){super(),this.waterSpeedMultiplier=-.55,this.speed=0,this.state=a.running,this.currentAngle=0,this.leanScale=0,this.playerJumpHeightMultiplier=1,this.playerJumpSpeedMultiplier=1,this.playerLassooBoostMultiplier=1,this.angryBuckTimer=0,this.buckBuildUpCount=1,this.buckArrayCounter=0,this.isSpawningAndRidden=!1,this.angerStage=0,this.xVelocity=0,this.maxWaterDepth=.9,this.wetness=0,this.waterDepth=0,this.lastWaterEntered=null,this._landingBoost=0,this._immuneToAnimals=!1,this._animSpeedModifier=.035,this._stampedeAnimSpeedModifier=.07,this._angerTimer=0,this._barkTimer=0,this.warningLength=2,this.centeringScale=1,this.resistFire=!1,this.isBreedingMatch=!1,this.idleAfterJump=!1,this.framesSinceLastAI=0,this.currentTargetVelocityFromAI=new X(0,20,0),this._disableDust=!1,this.newRandomComponentTimer=0,this.lastJumpPosition=i.Temp.getVector3(0,0,0),this.lastAnimalSmashed=null,this.lastAnimalEaten=null,this.lastAnimalRidden=null,this.lastObstacleSmashed=null,this.lastObstacleJumped=null,this._hit=new Laya.HitResult,this._dustPlaying=!1,this._oldScale=new Laya.Vector3,this._showNewIcon=!1,this.warningTimer=1,this._stampedeVector=new X(0,20,0),this._finishedBucking=!1,this._inWater=!1,this.cancelKnockback=!1,this._moveToDuration=0,this._moveToTimer=0,this._moveToStartPos=new X,this._moveToEndPos=new X,i.eventBus.on("RECOVER_ALL_ANIMAL",this,this.revoverSelf),i.eventBus.on("CATCH",this,this.updateCatchInfo),Laya.loader.getRes("game/Conventional/pfx_dust2.lh")&&(this._dust=Y.instantiate(Laya.loader.getRes("game/Conventional/pfx_dust2.lh")),this._dust.transform.localPosition=i.Temp.getVector3()),this.innerID=j.ID++,this.aiFrames=this.innerID%j.FLAG_ForwardCheckRay}get captureLengthFromArray(){let e=m.getAnimals(Number(this.encId)).length,t=1;m.buff&&m.buff.type&&3==m.buff.type&&m.buff.time&&m.buff.time>Laya.Browser.now()&&(t=.7);return e<this.captureLengthArray.length?1*this.captureLengthArray[e]*1*1*t:1*this.captureLengthArray[this.captureLengthArray.length-1]*1*1*t}get runSpeedUpgraded(){let e=g.gameCtrl.upgradeValue(this.encId,v.runSpeedModifier);return this.runSpeedModifier+e}updateCatchInfo(e){e==this.animalId&&(i.eventBus.off("CATCH",this,this.updateCatchInfo),this.hideNew())}resetTrackedValues(){this.lastJumpPosition=i.Temp.getVector3(0,0,0),this.lastAnimalSmashed=null,this.lastAnimalEaten=null,this.lastAnimalRidden=null,this.lastObstacleSmashed=null,this.lastObstacleJumped=null}clearAll(){this._elapsed=null,this.speed=0,this.state=null,this.isInIce=null,this.currentAngle=null,this.leanScale=null,this.offset=null,this._ani=null,this.playerJoint=null,this.playerJointOffset=null,this.objectsToPathAround=null,this.stampedingSpeedModifier=null,this.runSpeedModifier=null,this.angryRunSpeedModifier=null,this._animSpeedModifier=null,this._stampedeAnimSpeedModifier=null,this.playerJumpHeightMultiplier=null,this.playerJumpSpeedMultiplier=null,this.playerLassooBoostMultiplier=null,this.hasJumpOverride=null,this.smashStrength=null,this.smashAnimals=null,this.smashAnimalStengthLimited=null,this.edible=null,this.immuneToSmashing=null,this.immuneToObstaclesWhileBoosting=null,this.buckWhenAngry=null,this.angryBuckTimer=null,this.buckBuildUpCount=null,this.buckArc=null,this.buckArray=null,this.buckArrayCounter=null,this.isSpawningAndRidden=null,this.angerStage=null,this.xVelocity=null,this.maxWaterDepth=null,this.wetness=null,this.waterDepth=null,this._landingBoost=null,this._immuneToAnimals=null,this._animSpeedModifier=null,this._stampedeAnimSpeedModifier=null,this._angerTimer=null,this._barkTimer=null,this.runLength=null,this.warningLength=null,this.goingWildLength=null,this.centeringScale=null,this.fallTimer=null,this.fallSpeed=null,this.beingLandedOn=null,this.resistFire=null,this.isBreedingMatch=null,this.idleAfterJump=null,this.randomSpeedModifier=null,this.framesSinceLastAI=null,this.currentTargetVelocityFromAI=null,this.animalId=null,this.encId=null,this._mat=null,this._defaultrunSpeedModifier=null,this._stampedingSpeedRandomRangeDeviation=null,this._albedoColor=null,this._defaulsmashStrength=null,this._dust&&(i.stopPart(this._dust),this._dust.removeSelf(),this._dust.destroy(!0),this._dust=null),this._disableDust=null,this._shadowQuad=null,this._ctrlHips=null,this.newRandomComponentTimer=null,this._boxCollider=null,this.lastJumpPosition=null,this.lastAnimalSmashed=null,this.lastAnimalEaten=null,this.lastAnimalRidden=null,this.lastObstacleSmashed=null,this.lastObstacleJumped=null,this._fhdis=null,this._fhtime=null,this.stampedeAI&&this.stampedeAI.destroy(),this.stampedeAI=null,this.waterSpeedMultiplier=null,this.captureLengthArray=null,this.aiFrames=null,this._hit=null,this._dustPlaying=null,i.eventBus.off("RECOVER_ALL_ANIMAL",this,this.revoverSelf),i.eventBus.off("CATCH",this,this.updateCatchInfo),this.transform=null,this.gameObject&&this.gameObject.destroy(!0),this.gameObject=null,this._headJoint=null,this._showNewIcon=null,this._newIcon&&this._newIcon.owner.destroy(!0),this._newIcon=null,this._skinIndex=null,this._hatExp=null,this.rideTime=null,this.stayDis=null,this.stayTime=null,this._narrow=null,this.zjcd=null}destroy(){console.log("destroy:"+this.innerID),this.clearAll(),super.destroy()}playAni(e,t=0,n=0){i.animatorTrigger.stopTrigger(this._ani),"ridden"==e?this._ani.play("FX_ridden",1,0):this._ani.play("empty",1,0),this._ani.play(e,t,n)}triggerAni(e){i.animatorTrigger.playTrigger(this._ani,e)}get aniSpeed(){return this._ani.speed}set aniSpeed(e){this._ani.speed=e}setNodeMat(e){if(e instanceof Laya.SkinnedMeshSprite3D&&"eye"!==e.name&&"biteMesh"!==e.name&&(e.skinnedMeshRenderer.material=this._mat),e.numChildren>0)for(let t=0;t<e.numChildren;t++){const i=e.getChildAt(t);this.setNodeMat(i)}}isClearForward(e){let t=this._hit,n=new d;n.dist=100;let s=i.Temp.ray,a=new X;return X.transformQuat(i.Temp.getVector3(this._boxCollider.sizeX/2+.7,.2,0),this.transform.rotation,a),s.origin.setValue(this.transform.position.x+a.x,this.transform.position.y+a.y,this.transform.position.z+a.z),X.transformQuat(i.Temp.FORWARD,this.transform.rotation,a),s.direction=a,i.stage.scene3D.physicsSimulation.rayCast(s,t,this._boxCollider.sizeZ/2+15,B.ANIMAL,e)&&(n.dist=X.distance(t.point,s.origin)-this._boxCollider.sizeZ/2,n.transform=t.collider.owner.transform,n.pointOfRayImpact=t.point),X.transformQuat(i.Temp.getVector3(-this._boxCollider.sizeX/2-.7,.2,0),this.transform.rotation,a),s.origin.setValue(this.transform.position.x+a.x,this.transform.position.y+a.y,this.transform.position.z+a.z),X.transformQuat(i.Temp.FORWARD,this.transform.rotation,a),s.direction=a,i.stage.scene3D.physicsSimulation.rayCast(s,t,this._boxCollider.sizeZ/2+15,B.ANIMAL,e)&&X.distance(t.point,s.origin)-this._boxCollider.sizeZ/2<n.dist&&(n.dist=X.distance(t.point,s.origin)-this._boxCollider.sizeZ/2,n.transform=t.collider.owner.transform,n.pointOfRayImpact=t.point),X.transformQuat(i.Temp.getVector3(0,.2,0),this.transform.rotation,a),s.origin.setValue(this.transform.position.x+a.x,this.transform.position.y+a.y,this.transform.position.z+a.z),X.transformQuat(i.Temp.FORWARD,this.transform.rotation,a),s.direction=a,i.stage.scene3D.physicsSimulation.rayCast(s,t,this._boxCollider.sizeZ/2+15,B.ANIMAL,e)&&(X.distance(t.point,s.origin)-this._boxCollider.sizeZ/2<n.dist?(n.dist=X.distance(t.point,s.origin)-this._boxCollider.sizeZ/2,n.transform=t.collider.owner.transform,n.pointOfRayImpact=t.point):t.collider.owner.transform==n.transform&&(n.pointOfRayImpact=t.point)),n}revoverSelf(){Laya.timer.clearAll(this),this.state=a.waitingForRecycle,this.stopDustPfx(),this.gameObject.removeSelf(),this.stampedeAI&&this.stampedeAI.init(),this.hideNew(),g.animalManager.recover(this)}init(e,t,n=!0){this.rideTime=null,this.stayDis=null,this.stayTime=null,this.animalId=e;let s=m.cfgAnimal[e],a=s.linkEncId;this.encId=a||s.encId,this._skinIndex=s.skinIndex||0,this._hatExp=s.exp||0;let o=Laya.loader.getRes("cfg/cfgAttribute.json")[this.encId];if(this.gameObject=t,this.transform=t.transform,this._albedoColor=new Laya.Vector4(1,1,1,1),this._mat||(this._mat=this.gameObject.skinnedMeshRenderer.material.clone(),this._mat.tilingOffset=new Laya.Vector4(1,1,this._skinIndex/16,0)),this.smashStrength=o.smashStrength,this._defaulsmashStrength=o.smashStrength,this.stampedingSpeedModifier=o.stampedingSpeedModifier,this.runSpeedModifier=o.runSpeedModifier,this._defaultrunSpeedModifier=o.runSpeedModifier,this.playerJumpHeightMultiplier=o.playerJumpHeightMultiplier,this.playerJumpSpeedMultiplier=o.playerJumpSpeedMultiplier,this.playerLassooBoostMultiplier=o.playerLassooBoostMultiplier,this.hasJumpOverride=o.hasJumpOverride,this.edible=o.edible,this.buckArray=o.buckArray,this.playerJointOffset=o.playerJointOffset,this.runLength=o.runLength,this.goingWildLength=o.goingWildLength,this.centeringScale=o.centeringScale,this.waterSpeedMultiplier=o.waterSpeedMultiplier,this._barkSound=o.bark,this.leanScale=o.leanScale||0,"900"===e&&(this.runLength=Number.MAX_VALUE,this.stampedingSpeedModifier=0),this.buckWhenAngry=o.buckWhenAngry,this.angryRunSpeedModifier=o.angryRunSpeedModifier,this.smashAnimals=o.smashAnimals,this.smashAnimalStengthLimited=o.smashAnimalStengthLimited,this.immuneToSmashing=o.immuneToSmashing,this.immuneToObstaclesWhileBoosting=o.immuneToObstaclesWhileBoosting,this.captureLengthArray=o.captureLengthArray,o.buckArc&&o.buckArc.length>0){let e=new G;for(let t=0;t<o.buckArc.length;t++)e.addKeyFrame(o.buckArc[t][0],o.buckArc[t][1],o.buckArc[t][2],o.buckArc[t][3],o.buckArc[t][4],o.buckArc[t][5]);this.buckArc=e}this.playerJoint=i.findChildByPath(this.gameObject,o.playerJoint).transform,this._shadowQuad=t.getChildByName("shadowQuad").transform,this._ctrlHips=this.playerJoint.owner.parent.parent.transform,this.strName=m.cfgAnimal[e].name,this.sex=Math.random()>.5?1:2,this.transform.getWorldLossyScale().cloneTo(this._oldScale),this._oldScale=this._oldScale,this.offset=this.gameObject.getChildByName("offset").transform,this._ani=t.getComponent(q),this._stampedingSpeedRandomRangeDeviation=o.stampedingSpeedRandomRangeDeviation,this._dust||(this._dust=t.getChildByName("pfx_dust2")),this._dust.parent||this.gameObject.addChild(this._dust),this.stampedeAI=this.gameObject.addComponent(V);let h=t.getChildByName("LOC_pfx_above"),l=t.getComponent(Laya.Rigidbody3D);l&&(l.isTrigger=!0),this._headJoint=h?h.transform:this.playerJoint,this.reset(n),this._warning=g.warning}startDustPfx(){!this._dust||this._disableDust||this._dustPlaying||(i.playPart(this._dust),this._dustPlaying=!0)}stopDustPfx(){this._dust&&this._dustPlaying&&(i.stopPart(this._dust),this._dustPlaying=!1)}refreshName(){let e,t=[],i=Laya.loader.getRes("cfg/cfgNickname.json")[this.sex],n=m.getAnimals(Number(this.encId));for(let e=0;e<n.length;e++){const i=m.nickName[n[e]];t.push(i)}for(;;){let n=T.GetRandom(0,i.length-1-t.length,!0);if(!(t.indexOf(n)>-1)){e=n;break}}m.setNickName(Number(this.animalId),e,this.sex)}onAwake(){this.gameObject=this.owner,this.transform=this.gameObject.transform;let e=this.gameObject.getComponent(Laya.Rigidbody3D);e&&(e.collisionGroup=B.ANIMAL,this._boxCollider=e.colliderShape,e.canCollideWith=B.ANIMAL|B.WORLD_SIDE|B.STAMPEDE_AI|B.OBSTACLE|B.WATER),i.setCollisionGroupSingle(this.gameObject,"StampedeAI",B.STAMPEDE_AI,B.ANIMAL),i.setCollisionGroupSingle(this.gameObject,"landingCollider",B.LANDING_COLLIDER,B.LANDING_RANGE)}colorYellow(){this._albedoColor.fromArray([1,1,0,1]),this._mat.emissionColor=this._albedoColor,this.setNodeMat(this.gameObject)}colorNormal(){this._albedoColor.fromArray([0,0,0,0]),this._mat.emissionColor=this._albedoColor,this.setNodeMat(this.gameObject)}colorRed(){this._albedoColor.fromArray([1,0,0,1]),this._mat.emissionColor=this._albedoColor,this.setNodeMat(this.gameObject)}color(e,t,i){this._albedoColor.fromArray([e,t,i,1]),this._mat.emissionColor=this._albedoColor,this.setNodeMat(this.gameObject)}reset(e=!0){this.stampedeAI.init(this),this.playAni("run",0,0),this.startDustPfx(),this.randomSpeedModifier=Math.random()*(2*this._stampedingSpeedRandomRangeDeviation)+(1-this._stampedingSpeedRandomRangeDeviation),this.state=a.running;let t=g.gameCtrl.upgradeValue(this.encId,v.rideLength);this._angerTimer=1*(this.runLength-this.warningLength+t)*1*1,this.angerStage=0,this.buckArrayCounter=0,this._barkTimer=2,this.offset.localRotationEulerY=0,this.beingLandedOn=!1,this._finishedBucking=!1,this.transform.localRotationEulerY=0,e&&(this.transform.localPositionZ=0),this.currentTargetVelocityFromAI.setValue(0,20,0),this.currentAngle=0,this._inWater=!1,this.runSpeedModifier=this._defaultrunSpeedModifier,this.smashStrength=this._defaulsmashStrength,this.colorNormal(),this.transform.setWorldLossyScale(this._oldScale),this._narrow=2,this.zjcd=null,m.getAnimals(parseInt(this.encId)).indexOf(parseInt(this.animalId))<0&&"game"==i.stage.sceneName?Laya.systemTimer.frameOnce(4,this,this.showNew):this.destroyNew(),g.taskCtrl.on("TASK_ADD",this,this.addTask)}addTask(e){if("ANIMAL"==e.type){m.getAnimals(parseInt(this.encId)).indexOf(parseInt(this.animalId))<0&&"game"==i.stage.sceneName&&this._newIcon&&(this.destroyNew(),this.showNew())}else"RUN_NO_JUMP"==e.type?this.stayDis=g.player.transform.localPositionZ:"RIDE_STAY"==e.type&&(this.rideTime=Math.floor(Laya.Browser.now()/1e3),this.stayTime=0)}currentTarget(){let e=g.taskCtrl.getTaskInfo();if(e&&e.length>0){let t=e[0];if(t&&"ANIMAL"==t.type&&t.target>100)return t.target}}showNew(){if(!this._showNewIcon&&this.gameObject.parent){if(this._showNewIcon=!0,!this._newIcon){let e;e=this.currentTarget?this.currentTarget()>999?this.currentTarget()==Number(this.encId)?"game/Conventional/txtTask.lh":"game/Conventional/txtNew.lh":this.currentTarget()==Number(this.animalId)?"game/Conventional/txtTask.lh":"game/Conventional/txtNew.lh":"game/Conventional/txtNew.lh",this._newIcon=Y.instantiate(Laya.loader.getRes(e)).transform}this._newIcon.owner.parent||i.stage.scene3D.addChild(this._newIcon.owner)}}layoutNewIcon(){this._showNewIcon&&(this._headJoint.position.cloneTo(this._newIcon.position),this._newIcon.position.y+=.6,this._newIcon.position=this._newIcon.position)}hideNew(){this._showNewIcon&&(this._showNewIcon=!1,this._newIcon&&this._newIcon.owner.removeSelf())}destroyNew(){this._showNewIcon=null,this._newIcon&&(this._newIcon.owner.removeSelf(),this._newIcon.owner.destroy(!0),this._newIcon=null)}playRun(){this.playAni("run",0,0)}clearStatue(){let e=g.gameCtrl.upgradeValue(this.encId,v.rideLength);this._angerTimer=1*(this.runLength-this.warningLength+e)*1*1,this.angerStage=0,this.buckArrayCounter=0,this._barkTimer=2,this.offset.localRotationEulerY=0,this.beingLandedOn=!1,this._finishedBucking=!1,this.colorNormal(),this._warning.hideAll()}updateAngerTimer(){this._angerTimer-=Laya.timer.delta/1e3,this._angerTimer<0&&this.angerStage<3&&(this.angerStage++,1==this.angerStage&&(this._angerTimer=this.warningLength,this.warningTimer=1,this.PlayWarning()),2==this.angerStage&&(this.enterGoingWild(),this._warning.hideWarning()),3==this.angerStage&&this.getAngry())}enterGoingWild(){this._angerTimer=this.goingWildLength,this.playAni("goingWild",0,0)}getAngry(){this.Bark(100)}handleFall(){this.fallTimer<.6&&(this.fallSpeed*=.982,this.moveAnimal(this.fallSpeed)),this.fallTimer+=Laya.timer.delta,this.fallTimer>.3&&g.player.state!=o.crashed&&(g.player.state,o.UI)}checkAndStartFall(){return!1}GetRunSpeedBeforeModifiers(){return this.angerStage<3?(g.player.speed+this._landingBoost)*this.runSpeedUpgraded*g.player.speedScale:(g.player.speed+this._landingBoost)*(this.runSpeedUpgraded+this.angryRunSpeedModifier)*g.player.speedScale}PlayWarning(){this.colorRed(),Laya.systemTimer.frameOnce(4,this,()=>{this.colorNormal()}),this._warning.showWarning()}onUpdate(){if(this.dryOff(!0),this.state==a.falling)this.handleFall();else{if(this.newRandomComponentTimer-=Laya.timer.delta/1e3,this.state==a.ridden&&g.player.state!=o.waitingForStart){if(this.rideTime){let e=Math.floor(Laya.Browser.now()/1e3);e-this.rideTime>this.stayTime&&(1==g.paused?this._pauseTime=this._pauseTime||e:(this._pauseTime&&(this.rideTime+=e-(this._pauseTime||0),this.rideTime>e&&(this.rideTime=e),this._pauseTime=null),this.stayTime=e-this.rideTime,i.eventBus.event("TASK_UPDATE",["RIDE_STAY",this.encId,this.stayTime+this._fhtime])))}let e=Math.floor(g.player.transform.localPositionZ-this.stayDis);if(e>0&&i.eventBus.event("TASK_UPDATE",["RUN_NO_JUMP",0,e+this._fhdis]),this.updateAngerTimer(),this.angerStage>=3&&(this._barkTimer-=Laya.timer.delta/1e3,this._barkTimer<0&&(this.Bark(30),this._barkTimer=2)),1==this.angerStage){let e=T.Map(this._angerTimer/this.warningLength,1,.25,1,4);this.warningTimer-=Laya.timer.delta/1e3*e,this.warningTimer<0&&(this.warningTimer=1,this.PlayWarning())}if(this._warning.showed){let e=i.Temp.vector4,t=this.transform.position;t.y=5,D.instance.camera.viewport.project(t,D.instance.camera.projectionViewMatrix,e),this._warning.pos(e.x/Laya.stage.clientScaleX+120,e.y/Laya.stage.clientScaleY-60)}}if(this.state==a.running||this.state==a.idle)this.stampedeBehaviour(),this.speed=this.speed+this.wetness*this.speed*this.waterSpeedMultiplier;else if(this.state==a.ridden&&g.player.state!=o.waitingForStart){this.speed=this.GetRunSpeedBeforeModifiers();let e=g.gameCtrl.upgradeValue(this.encId,v.waterSpeedMultiplier);this.speed=this.speed+this.wetness*this.speed*this.waterSpeedMultiplier*e}0==m.get("CURRENT_WORLD",0)&&0==g.teachCtrl.status&&(this.speed*=.8),this.state==a.ridden&&g.player.state!=o.waitingForStart&&(this.calculateCurrentAngle(),this.turnOrBuck()),this.state!=a.crashed&&(this.state==a.ridden&&g.player.state==o.waitingForStart||this.moveAnimal(this.speed)),this.setAnimationSpeedScale(this.speed)}0==g.teachCtrl.status&&this.checkRecycle()}onLateUpdate(){if(this.state==a.ridden&&g.player.state==o.waitingForStart)this._shadowQuad.localPositionY=-10;else{let e=this._ctrlHips.position;e.y=.07,this._shadowQuad.position=e,this.layoutNewIcon()}}checkRecycle(){(this.transform.localPositionZ>g.player.transform.localPositionZ+85||this.transform.localPositionZ<g.player.transform.localPositionZ-25)&&(this.revoverSelf(),this.hideNew())}setAnimationSpeedScale(e){2==this.angerStage||this.state==a.crashed?this.aniSpeed=1:this.state==a.ridden?this.aniSpeed=e*this._animSpeedModifier:this.state==a.running&&(this.aniSpeed=e*this._stampedeAnimSpeedModifier),e<1||this.state==a.crashed||this._inWater?this.stopDustPfx():this.startDustPfx()}catchThis(){this.state==a.ridden&&g.player.state==o.riding&&0==g.teachCtrl.status&&g.gameCtrl.catchOne(this)}ride(e,t,n){if(this.state=a.ridden,this._warning&&this._warning.hideAll(),this._inputthisframe=.6*this.currentAngle,e){if(e&&m.getAnimals(Number(this.encId))&&(m.getAnimals(Number(this.encId)).indexOf(Number(this.animalId))<0||0==m.getAnimals(Number(this.encId)).length)){let e=m.cfgAnimal[this.animalId].encId;this._warning&&1e3!=e&&"901"!=this.animalId&&"902"!=this.animalId&&"903"!=this.animalId&&0==g.endangeredAnimals.curTryId&&this._warning.showHeart(this.captureLengthFromArray,this,this.catchThis)}}else this.landingBoost(),E.instance.show("pfx_dustcloud_sml",this.transform.localPosition),this._hatExp&&this._hatExp>0&&(m.setHatExp(this.encId,this._hatExp),E.instance.show("pfx_XPProgress",this.transform.localPosition,this.gameObject,!1,3)),this._showNewIcon&&this._warning.showHeart(this.captureLengthFromArray,this,this.catchThis),"1003"==this.encId?this.Bark(90):this.Bark(85);this._fhtime=t||0,this._fhdis=n||0,i.eventBus.event("TASK_UPDATE",["RIDE_CNT",this.encId,1]),this.stayTime=0,this.rideTime=Math.floor(Laya.Browser.now()/1e3),g.player.transform.localPositionZ>20?this.stayDis=g.player.transform.localPositionZ:this.stayDis=0,T.SetLocalEulerY(this.transform,0),this.aniRidden(),Laya.systemTimer.clear(this,this.showNew),this.hideNew(),g.teachCtrl.status>0&&g.teachCtrl.ride()}changeAnimal(e,t){this.state=a.ridden,this._warning&&this._warning.hideAll(),this._inputthisframe=.6*this.currentAngle,this.landingBoost(),E.instance.show("pfx_dustcloud_sml",this.transform.localPosition),"1003"==this.encId?this.Bark(90):this.Bark(85),this._fhtime=e||0,this._fhdis=t||0,i.eventBus.event("TASK_UPDATE",["RIDE_CNT",this.encId,1]),this.stayTime=0,this.rideTime=Math.floor(Laya.Browser.now()/1e3),this.stayDis=g.player.transform.localPositionZ,T.SetLocalEulerY(this.transform,0),this.aniRidden(),Laya.systemTimer.clear(this,this.showNew),this.hideNew()}aniRidden(){this.playAni("ridden",0,0),this.aniSpeed=.5+10*(this.speed-.01)}getInitialStampedeVector(){return this._stampedeVector}slowedBehindAnimal(e){}landingBoost(){this._landingBoost=5,this._immuneToAnimals=!0;let e=g.gameCtrl.upgradeValue(this.encId,v.landingBoostLengthModifier);Laya.timer.once(500+e,this,()=>{this._landingBoost=0,this._immuneToAnimals=!1})}turnOrBuck(){this.angerStage<3||!this.buckWhenAngry?this.baseTurning():this.buckFunction()}gamePaused(){}gameUnpaused(){}baseTurning(){this.transform.localRotationEulerY=this.currentAngle}buckFunction(){if(1==this._finishedBucking)return;let e=g.gameCtrl.upgradeValue(this.encId,v.buckLengthMultiplier),t=g.gameCtrl.upgradeValue(this.encId,v.shockwaveOnBuck),i=g.gameCtrl.upgradeValue(this.encId,v.specialCoins);if(this.angryBuckTimer-=Laya.timer.delta/1e3,this._buckSize=Math.min(this.buckArray[this.buckArrayCounter].maxBuckLength*e*1,.2*this.buckBuildUpCount),this.angryBuckTimer<=0&&(this.buckArrayCounter=(this.buckArrayCounter+1)%this.buckArray.length,0==this.buckArrayCounter&&t>0&&this.stampedeAI.bounce(),this.buckBuildUpCount*=1.45,T.SetLocalEulerY(this.transform,this.currentAngle),this._buckSize=Math.min(this.buckArray[this.buckArrayCounter].maxBuckLength*e,.2*this.buckBuildUpCount),this.angryBuckTimer=this._buckSize,E.instance.show("pfx_dustcloud_sml",this.transform.localPosition),i>0&&T.GetRandom(0,10,!0)>4&&this.angerStage>1&&(E.instance.show("pfx_money_1",this.transform.position),g.gameCtrl.addGold(i,1007,!0))),!this._finishedBucking){let e=(this._buckSize-this.angryBuckTimer)/this._buckSize;this.setBuckAnimTime(e),g.player.setPlayerBuckAnim(e),T.SetEulerY(this.offset,this.currentAngle),T.SetLocalPosY(this.transform,this.buckArc.evaluate(e)*this._buckSize*this.buckArray[this.buckArrayCounter].heightModifier-this.waterDepth*this.maxWaterDepth)}}setBuckAnimTime(e){"902"!==this.animalId&&this._ani.play("buck",0,e)}startFall(e,t,i=!1){i||(e?this.currentAngle>0&&(this.currentAngle=0,this.transform.localRotationEulerY=this.currentAngle):this.currentAngle<0&&(this.currentAngle=0,this.transform.localRotationEulerY=this.currentAngle)),this.state=a.falling,this.fallTimer=0,this.fallSpeed=this.speed,this.fallPunt(e,i),this.resetWarning(),this.buckWhenAngry&&3==this.angerStage&&(this._finishedBucking=!0,this.aniSpeed=1,T.SetLocalPosY(this.transform,0))}fallPunt(e,t=!1){for(;this.state==a.falling;)t?(this.transform.localRotation.x<50&&this.transform.rotate(i.Temp.getVector3(90*Laya.timer.delta,0,0)),this.transform.translate(i.Temp.getVector3(-5*Laya.timer.delta,0,0))):e?(this.transform.localRotation.z<50&&this.transform.rotate(i.Temp.getVector3(0,0,90*Laya.timer.delta)),this.transform.translate(i.Temp.getVector3(-5*Laya.timer.delta,0,0))):(this.transform.localRotation.z>-50&&this.transform.rotate(i.Temp.getVector3(0,0,-90*Laya.timer.delta)),this.transform.translate(i.Temp.getVector3(5*Laya.timer.delta,0,0)))}resetWarning(){Laya.timer.once(1e3,this,()=>{})}calculateCurrentAngle(){if(this.speed>0){let e=Math.max(this.speed,8);this.xVelocity+=(.35*e+16.25)*Math.sin(Math.abs(this._inputthisframe)*Math.PI/180)*Math.sign(this._inputthisframe)*1.5,this.xVelocity=T.Clamp(this.xVelocity,-.7*this.speed,.7*this.speed),this._inputthisframe=0,this.currentAngle=Math.asin(Math.min(Math.abs(this.xVelocity)/e,1))*Math.sign(this.xVelocity)*(180/Math.PI)}this.centerXVelocity()}centerXVelocity(){this.xVelocity=T.MoveTowards(this.xVelocity,0,1.5*Math.pow(Math.abs(this.xVelocity),1.5)*Laya.timer.delta/1e3)}turn(e){this.state==a.ridden&&(this._inputthisframe=-e)}moveAnimal(e){this.currentAngle>180&&(this.currentAngle-=360),this.state!=a.falling&&T.SetLocalEulerZ(this.transform,this.currentAngle*this.leanScale*-1),this.transform.translate(i.Temp.getVector3(0,0,e*Laya.timer.delta/1e3))}stampedeBehaviour(){this.state!=a.idle&&0==g.teachCtrl.status&&this.stampedeAI&&this.stampedeAI.enabled&&((i.timerManager.totalFrames%j.FLAG_ForwardCheckRay==this.aiFrames&&this.transform.position.z>g.player.transform.position.z-10||this.framesSinceLastAI>20)&&(this.currentTargetVelocityFromAI=this.stampedeAI.calculateTargetVector(),this.framesSinceLastAI=0),this.speed=T.GetLength(this.currentTargetVelocityFromAI)*this.stampedingSpeedModifier*this.randomSpeedModifier,this.currentAngle=T.MoveTowardsAngle(this.currentAngle,180/Math.PI*Math.atan2(this.currentTargetVelocityFromAI.x,this.currentTargetVelocityFromAI.y),2*(this.currentTargetVelocityFromAI.z+1)*this.speed*Laya.timer.delta/1e3),T.SetLocalEulerY(this.transform,this.currentAngle),this.framesSinceLastAI++)}JumpAngleOverride(e){return e}moveToGround(){if(this.transform.localPositionY>0){this.transform.localPosition;Laya.Tween.to(this.transform,{localPositionY:0},300,Laya.Ease.linearInOut)}}leaveAnimal(e=!1,t=!0){this.stampedeAI.enabled=!0,1==this.isBreedingMatch&&0==e&&(this.isBreedingMatch=!1),1==e?(1==t&&this.playAni("crash"),this.state=a.crashed,T.SetLocalEulerZ(this.offset,0)):0==this.idleAfterJump?(this.playAni("run"),this.state=a.running):this.state=a.idle,this.clearStatue(),this.buckBuildUpCount=1,T.SetLocalEulerY(this.offset,0)}SetEaten(){this.state=a.eaten,this._ani.play("crash"),Laya.timer.once(50,this,()=>{this.revoverSelf()})}onTriggerEnter(e){if(4==e.owner.layer&&this.wetness<.7){this._inWater=!0,this.wetness=.5,this.waterDepth=.65,E.instance.show("pfx_splashMud_med",this.transform.localPosition),this.stopDustPfx(),T.SetPosY(this.transform,-this.waterDepth*this.maxWaterDepth);let e=g.gameCtrl.upgradeValue(this.encId,v.waterIncreaseRideLength);e>0&&this.angerStage<1&&this.state==a.ridden&&g.player.state==o.riding&&(this._angerTimer+=e),Laya.timer.frameLoop(1,this,this.inWater)}this.RidingCollision(e)}inWater(){this._inWater?(this.wetness=Math.min(this.wetness+1.1*Laya.timer.delta/1e3,1),this.waterDepth=Math.min(this.waterDepth+4.2*Laya.timer.delta/1e3,1)):Laya.timer.clear(this,this.inWater)}onTriggerExit(e){4==e.owner.layer&&(this._inWater=!1)}RidingCollision(e){let t=g.gameCtrl.upgradeValue(this.encId,v.smashStrength);if(this.state==a.ridden&&g.player.state==o.riding){let i=e.owner.getComponent(j);i&&i.state!=a.crashed&&(this.smashAnimals&&(this.smashStrength+t>i.smashStrength||!this.smashAnimalStengthLimited)&&!i.immuneToSmashing?this.smashAnimal(i):this.animalCrash(i));let n=e.owner;if(8==n.layer||n.getComponent(M)){let e=n.getComponent(M);if(e){if("coin"==n.name)return e.collect(this.encId),void m.add_stat_boxs(1);!e.isLevelEdge&&this.smashStrength+t>e.smashStrength?e.smashed||this.smashObstacle(e):this.obstacleCrash(e)}else this.obstacleCrash(n)}}}obstacleCrashVerified(e){this.immuneToObstaclesWhileBoosting&&this._immuneToAnimals&&!e.isLevelEdge&&!e.isCenterEdge||(this.state=a.crashed,g.player.mountedCrash(!0,"HIT_OBSTACLE"))}smashAnimal(e,t=!0){if(e.immuneToSmashing||"1006"==e.encId);else{if(t&&(g.player.lastAnimalSmashed=e),i.eventBus.event("TASK_UPDATE",["CRASH_ANIMAL",0,1]),i.eventBus.event("TASK_UPDATE",["CRASH_ANIMAL_IN_ONE",0,1]),i.eventBus.event("TASK_UPDATE",["CRASH_ANIMAL_WITH",this.encId,1]),i.eventBus.event("TASK_UPDATE",["CRASH_ANIMAL_IN_ONE_WITH",this.encId,1]),m.add_stat_smashAnimals(1),("zj"==i.channel||"wx"==i.channel)&&"141"==this.animalId&&"101"==e.animalId){this._narrow-=1,this._narrow<0&&(this._narrow=0);let e=.3+.35*this._narrow;this.transform.setWorldLossyScale(new Laya.Vector3(this._oldScale.x*e,this._oldScale.y*e,this._oldScale.z*e))}e.animalSmashed(),this.Bark(30)}}jumpOverride(e){}animalSmashed(){this.state==a.crashed||this.state==a.ridden||this.beingLandedOn||("1001"==this.encId&&(i.eventBus.event("TASK_UPDATE",["CRASH_ANIMAL",1001,1]),i.eventBus.event("TASK_UPDATE",["CRASH_ANIMAL_IN_ONE",1001,1])),this.state=a.crashed,T.SetLocalPosY(this.transform,0),this.animalSmashedSequence())}animalSmashedSequence(){this.playAni("smashed");let e=new X(T.GetRandom(-20,20,!0),T.GetRandom(40,55,!0),T.GetRandom(75,95,!0)),t=T.GetRandom(600,1600,!0)*T.RandomSign();this.smashFinished=!1,Laya.timer.frameLoop(1,this,()=>{this.smashFinished||(this.transform.localPositionX+=e.x*Laya.timer.delta/1e3,this.transform.localPositionY+=e.y*Laya.timer.delta/1e3,this.transform.localPositionZ+=e.z*Laya.timer.delta/1e3,this.offset.localRotationEulerY+=t*Laya.timer.delta/1e3,e.y-=210*Laya.timer.delta/1e3,e.y<0&&this.transform.localPositionY<0&&(E.instance.show("pfx_dustcloud_sml",this.transform.localPosition),this.smashFinished=!0,Laya.timer.once(2,this,()=>{this.revoverSelf()})))})}animalCrash(e){!this._immuneToAnimals&&g.player.startImmunityTimer<0&&("zj"!=i.channel&&"wx"!=i.channel||"101"!=this.animalId||"121"!=e.animalId||this.zjcd?g.player.mountedCrash(this.smashStrength!=e.smashStrength,"HIT_ANIMAL"):g.player.mountedCrash(this.smashStrength!=e.smashStrength,"ZJ_CD"))}beBig(){this.transform.scale=new Laya.Vector3(1.7*this._oldScale.x,1.7*this._oldScale.y,1.7*this._oldScale.z)}shockwaveKnockback(e){if(this.state==a.ignoreAll)return;let t=this.normalized(new X(this.transform.localPositionX-e.x,this.transform.localPositionY-e.y,this.transform.localPositionZ-e.z)),i=T.Map(T.GetDistance(new X(e.x,e.y,e.z+2),this.transform.localPosition),0,8,8,3);this.transform.localPositionZ>e.z&&Math.abs(this.transform.localPositionX-e.x)<2&&(t.x=t.z*Math.sign(t.x)*.6,t=this.normalized(t)),this.knockback(new X(t.x*i,t.y*i,t.z*i))}knockback(e,t=.35){if(this.state==a.ridden)return;this.state=a.knockback,this.cancelKnockback=!1;let i=this.transform.localPosition,n=new X(i.x+e.x,i.y+e.y,i.z+e.z),s=g.worldCreater.getPathStateAt(i.z+e.z);n.x>0&&n.x>s.left?n.x=s.left:n.x<0&&n.x<s.right&&(n.x=s.right);Laya.timer.frameLoop(1,this,this.knock,[i,n,t])}knock(e,t,i){this._elapsed=this._elapsed||0,this._elapsed<i&&!this.cancelKnockback?(this._elapsed=T.MoveTowards(this._elapsed,i,Laya.timer.delta/1e3),this.transform.localPositionX=T.Lerp(e.x,t.x,this._elapsed/i),this.transform.localPositionY=T.Lerp(e.y,t.y,this._elapsed/i),this.transform.localPositionZ=T.Lerp(e.z,t.z,this._elapsed/i)):(this._elapsed=null,Laya.timer.clearAll(this),this.cancelKnockback||(this.transform.localPosition=t),g.player.steed==this?this.state=a.ridden:this.state=a.running)}dryOff(e){this.wetness=Math.max(this.wetness-.7*Laya.timer.delta/1e3,0),this.waterDepth=Math.max(this.waterDepth-4*Laya.timer.delta/1e3,0),this.state==a.ridden&&g.player.state==o.waitingForStart||this.state==a.launching||this.state==a.crashed||!e||this.state==a.ignoreAll||"1006"==this.encId||T.SetLocalPosY(this.transform,T.Lerp(this.transform.localPositionY,-this.waterDepth*this.maxWaterDepth,7*Laya.timer.delta/1e3))}obstacleCrash(e,t=!1){if(g.teachCtrl.status>0)return void this.obstacleCrashVerified(e);let n,s=this.transform.position;s.y=2;let a=i.Temp.getVector3(this.transform.localPositionX,1,this.transform.localPositionZ);a.x=this.transform.localPositionX>e.transform.position.x?a.x-=10:a.x+=10;let o=new Laya.HitResult;i.stage.scene3D.physicsSimulation.raycastFromTo(s,a,o),o.succeeded&&!o.collider.owner.getComponent(j)&&(n=o);let h=P.instance.getPathStateAt(this.transform.localPositionZ);if(n&&h.isValid&&(this.angerStage<3||!this.buckWhenAngry)&&"1006"!=this.encId&&this.additionalBounceCheck()){let i=180*Math.atan2(n.normal.z,n.normal.x)/Math.PI*-1;8==e.layer&&((i<-90||i>90)&&n.point.x>this.transform.localPositionX||i<90&&i>=0&&n.point.x<this.transform.localPositionX)?8==e.layer?this.bounceOffUnknownWall(n.point.x,i):this.speed>35?this.obstacleCrashVerified(e):i<90&&i>=0&&n.point.x<this.transform.localPositionX?(T.SetLocalPosX(this.transform,Math.min(n.point.x+.65*this.transform.localScale.x+.075,this.transform.localPositionX)),this.currentAngle+=12,this.iceSlideAngle=this.currentAngle,this.xVelocity=this.speed*Math.sin(Math.abs(this.currentAngle)*Math.PI/180)*Math.sign(this.currentAngle)):(T.SetLocalPosX(this.transform,Math.max(n.point.x-.65*this.transform.localScale.x-.075,this.transform.localPositionX)),this.currentAngle-=12,this.iceSlideAngle=this.currentAngle,this.xVelocity=this.speed*Math.sin(Math.abs(this.currentAngle)*Math.PI/180)*Math.sign(this.currentAngle)):Math.abs(T.DeltaAngle(i,this.currentAngle))<35||t&&(e.isLevelEdge||e.isCenterEdge)?(this.currentAngle>180&&(this.currentAngle-=360),e.isLevelEdge?e.transform.lossyScale.x<0?this.bounceLeft(h.left,i):this.bounceRight(h.right,i):e.isCenterEdge?e.transform.position.x>this.transform.localPositionX?this.bounceLeft(h.left,i):this.bounceRight(h.right,i):this.obstacleCrashVerified(e)):this.obstacleCrashVerified(e)}else(e.isLevelEdge||e.isCenterEdge)&&((this.angerStage<3||!this.buckWhenAngry)&&"1006"!=this.encId&&this.additionalBounceCheck()||t)?e.isCenterEdge&&this.obstacleCrashVerified(e):this.obstacleCrashVerified(e)}bounceLeft(e,t){T.SetLocalPosX(this.transform,Math.min(e+.65*this.transform.localScale.x+.05,this.transform.localPositionX)),this.currentAngle=Math.min(t,this.currentAngle),this.iceSlideAngle=this.currentAngle,this.xVelocity=this.speed*Math.sin(Math.abs(this.currentAngle)*Math.PI/180)*Math.sign(this.currentAngle)}bounceRight(e,t){T.SetLocalPosX(this.transform,Math.max(e-.65*this.transform.localScale.x-.05,this.transform.localPositionX)),this.currentAngle=Math.max(t,this.currentAngle),this.iceSlideAngle=this.currentAngle,this.xVelocity=this.speed*Math.sin(Math.abs(this.currentAngle)*Math.PI/180)*Math.sign(this.currentAngle)}additionalBounceCheck(){return!0}bounceOffUnknownWall(e,t){t<-90||t>90?(T.SetLocalPosX(this.transform,Math.min(e-.65*this.transform.localScale.x-1,this.transform.localPositionX)),t>0&&(t-=180),this.currentAngle=Math.min(t,this.currentAngle),this.iceSlideAngle=this.currentAngle,this.xVelocity=this.speed*Math.sin(Math.abs(this.currentAngle)*Math.PI/180)*Math.sign(this.currentAngle)):(T.SetLocalPosX(this.transform,Math.max(e+.65*this.transform.localScale.x+1,this.transform.localPositionX)),this.currentAngle=Math.max(t,this.currentAngle),this.iceSlideAngle=this.currentAngle,this.xVelocity=this.speed*Math.sin(Math.abs(this.currentAngle)*Math.PI/180)*Math.sign(this.currentAngle))}smashObstacle(e){e.smashed||(g.player.lastObstacleSmashed=e,m.add_stat_smashObstacles(1),e.destroyObstacle())}moveToStep(){this._moveToTimer+=Laya.systemTimer.delta*Laya.timer.scale;let e=this._moveToTimer/this._moveToDuration;e>1&&(e=1,Laya.systemTimer.clear(this,this.moveToStep)),X.lerp(this._moveToStartPos,this._moveToEndPos,e,i.Temp.vector3),this.transform.localPosition=i.Temp.vector3}moveTo(e,t){Laya.systemTimer.clear(this,this.moveToStep),this._moveToDuration=t,this.transform.localPosition.cloneTo(this._moveToStartPos),e.cloneTo(this._moveToEndPos),this._moveToTimer=0,Laya.systemTimer.frameLoop(1,this,this.moveToStep)}magnitude(e){return Math.sqrt(Math.pow(e.x,2)+Math.pow(e.y,2)+Math.pow(e.z,2))}normalized(e){let t=this.magnitude(e);if(0!=t){let i=new Laya.Vector3;return i.x=e.x/t,i.y=e.y/t,i.z=e.z/t,i}return new Laya.Vector3(0,0,0)}vectormult(e,t){return e.x=e.x*t,e.y=e.y*t,e.z=e.z*t,e}vectoradd(e,t){return e.x+=t.x,e.y+=t.y,e.z+=t.z,e}Foot1(){this._inWater?i.sound.playSound("audioGame/Foot_Mud_02.mp3"):i.sound.playSound("audio/Foot_Buffalo_01.mp3")}Foot2(){this._inWater?i.sound.playSound("audioGame/Foot_Mud_03.mp3"):i.sound.playSound("audio/Foot_Buffalo_02.mp3")}Foot3(){this._inWater?i.sound.playSound("audioGame/Foot_Mud_04.mp3"):i.sound.playSound("audio/Foot_Buffalo_03.mp3")}Foot4(){this._inWater?i.sound.playSound("audioGame/Foot_Mud_05.mp3"):i.sound.playSound("audio/Foot_Buffalo_04.mp3")}Bark(e=100){if(e<100){if(T.GetRandom(0,100,!0)>e)return}this._barkSound&&""!=this._barkSound&&i.sound.playSound("audioGame/"+this._barkSound)}Bounce(e,t=2.5,i=1.1){let n=new X(Math.sign(this.transform.localPositionX-e.x)*t,0,0);this.knockback(n);let s=i;for(;s>1;)return this.transform.setWorldLossyScale(new Laya.Vector3(this._oldScale.x*s,this._oldScale.y*s,this._oldScale.z*s)),void(s=T.MoveTowards(s,1,Laya.timer.delta/1e3*s*1.5))}}j.ID=0,j.FLAG_ForwardCheckRay=8,g.Animal=j;var H=Laya.Vector3;class F extends Laya.Script3D{constructor(){super(),this._possibleLandingTargets=[]}onAwake(){this.gameObject=this.owner,this.transform=this.gameObject.transform,i.setCollisionGroupSingle(this.gameObject,null,B.LANDING_RANGE,B.LANDING_COLLIDER),this._lassoRing=i.findChildByPath(this.gameObject,"Player_LassoPos.lassoRing").transform,this._lassoPos=i.findChildByPath(this.gameObject,"Player_LassoPos").transform}show(){this.gameObject.active||(this.gameObject.active=!0,this.enabled=!0)}hide(){this.gameObject.active&&(this.enabled=!1,this.gameObject.active=!1)}onLateUpdate(){if(this.enabled){let e=this._lassoPos.position;e.y=.1,this._lassoRing.position=e}}getLandingTarget(){if(this._possibleLandingTargets.length>0)for(let e=this._possibleLandingTargets.length-1;e>=0;e--){const t=this._possibleLandingTargets[e];t.state!=a.running&&t.state!=a.idle&&t.state!=a.knockback&&this._possibleLandingTargets.splice(e,1)}if(this._possibleLandingTargets.length>0){let e=this._possibleLandingTargets[0],t=T.GetPositionYZero(e.transform),i=T.GetPositionYZero(this.transform);t.setValue(t.x-i.x,t.y-i.y,t.z-i.z);let n=T.SqrMagnitude(t),s=this.isAnimalCapturable(e),a=!1;for(let o=1;o<this._possibleLandingTargets.length;o++){t=T.GetPositionYZero(this._possibleLandingTargets[o].transform),i=T.GetPositionYZero(this.transform),t.setValue(t.x-i.x,t.y-i.y,t.z-i.z);let h=T.SqrMagnitude(t),l=this.isAnimalCapturable(this._possibleLandingTargets[o]),r=!1;(s==l&&(a==r&&h<n||r&&!a)||l&&!s)&&this.hasAnimalLOS(this._possibleLandingTargets[o])&&(e=this._possibleLandingTargets[o],n=h,s=l,a=r)}return e!=this.targetedAnimal&&(this.targetedAnimal&&this.targetedAnimal.colorNormal(),e.colorYellow(),this.targetedAnimal=e),e}return this.targetedAnimal&&(this.targetedAnimal.colorNormal(),this.targetedAnimal=null),null}isAnimalCapturable(e){return!0}hasAnimalLOS(e){return!0}getLandingCount(){return this._possibleLandingTargets.length}onEnable(){for(;this._possibleLandingTargets.length;)this._possibleLandingTargets.pop()}onDisable(){this.targetedAnimal&&(this.targetedAnimal.colorNormal(),this.targetedAnimal=null)}onTriggerEnter(e){if("landingCollider"==e.owner.name){let t=e.owner.parent.getComponent(j);!t||t.state!=a.running&&t.state!=a.idle||t==g.player.steed||this._possibleLandingTargets.push(t)}}onTriggerExit(e){if("landingCollider"==e.owner.name){let t=e.owner.parent.getComponent(j);if(t){let e=this._possibleLandingTargets.indexOf(t);e>-1&&this._possibleLandingTargets.splice(e,1)}}}updateLassoSize(e){let t=g.player.jumpCount-g.player.lassooNotEffectingJumpCount,i=Math.max(.35,(1.2-t*(.05-.005))*(g.player.steed.playerLassooBoostMultiplier+e));g.player.rope.flyingLoopSize=i,this.transform.localScale=new H(i,1,i)}}class W extends Laya.Script3D{constructor(){super(...arguments),this._defaultLoopOffset=new Laya.Vector3(0,1.2,0),this._loopWorldPos=new Laya.Vector3,this.flyingLoopSize=1,this._lassooSet=!1,this._temp=new Laya.Vector2}get transform(){return this.owner.transform}onAwake(){let e=this.owner;this.meshObject=e.getChildByName("lasso_Poly 1"),this.start=i.findChildByPath(e,"_.offset.ctrl_main.ctrl_hips.ARM_L.SKELETON.joint_Bottom").transform,this.jointHand=i.findChildByPath(e,"ROOT.joint_Hand").transform,this.jointLoop=i.findChildByPath(e,"ROOT.joint_Loop").transform,this.flyingLoopSize=1,this.lassooArc=i.findChildByPath(e,"ROOT.joint_Hand.GameObject")}onStart(){this._loopWorldPos=this.jointLoop.position.clone()}onUpdate(){if(this.jointHand.position=this.start.position,g.player.state==o.riding||g.player.state==o.flying){let e=this._loopWorldPos.x+15*(this.jointHand.position.x+this._defaultLoopOffset.x-this._loopWorldPos.x)*Laya.timer.delta/1e3,t=this._loopWorldPos.y+15*(this.jointHand.position.y+this._defaultLoopOffset.y-this._loopWorldPos.y)*Laya.timer.delta/1e3;this._temp.setValue(e,t),this._loopWorldPos=new Laya.Vector3(this._temp.x,this._temp.y,this.jointHand.position.z),this.jointLoop.position=this._loopWorldPos}else g.player.state==o.waitingForStart?(this._temp.setValue(this.jointHand.position.x+this._defaultLoopOffset.x,this.jointHand.position.y+this._defaultLoopOffset.y),this._loopWorldPos=new Laya.Vector3(this._temp.x,this._temp.y,this.jointHand.position.z),this.jointLoop.position=this._loopWorldPos):g.player.state==o.landing&&this._lassooSet?this.jointLoop.position=this._targetAnimal.position:g.player.state==o.crashed&&this.meshObject.active&&(this.meshObject.active=!1)}forceRopeToStandardPosition(){this._temp.setValue(this.jointHand.position.x+this._defaultLoopOffset.x,this.jointHand.position.y+this._defaultLoopOffset.y),this._loopWorldPos=new Laya.Vector3(this._temp.x,this._temp.y,this.jointHand.position.z),this.jointLoop.position=this._loopWorldPos}grabAnimal(e,t,n,s){this.lassooArc.transform.lookAt(e.position,i.Temp.getVector3(0,1,0),!1),T.SetLocalEulerZ(this.lassooArc.transform,Laya.Vector3.distance(this.lassooArc.transform.position,e.position)/6);let a=new Laya.Vector3,o=this.jointLoop.position.clone(),h=e.position.clone(),l=0;Laya.systemTimer.frameLoop(1,this,()=>{if((l+=Laya.systemTimer.delta/1e3)>=t)return a=h,this.jointLoop.position=a,this._targetAnimal=e,this.jointLoop.localScale=new Laya.Vector3(.1,1,.1),this._lassooSet=!0,Laya.systemTimer.clearAll(this),void s.call(n);a.setValue(o.x+(h.x-o.x)*l/t,o.y+(h.y-o.y)*l/t,o.z+(h.z-o.z)*l/t),this.jointLoop.position=a})}switchOffRope(){this.meshObject.active=!1}resetRope(){this.meshObject.active||(this._lassooSet=!1,this.transform.localScale=i.Temp.getVector3(1,1,1),this.jointLoop.localScale=i.Temp.getVector3(1,1,1),this.meshObject.active=!0)}}var Z,K=Laya.Vector3,J=i.TouchPhase,Q=Laya.Animator;class $ extends Laya.Script3D{constructor(){super(),this.averageSpeed=1,this.averageSpeedTimer=1,this.distanceMissionCounter=0,this.timeMissionCounter=0,this.runTimer=0,this.speedPosFirst=-1,this.speedposSecond=0,this.state=o.riding,this._dpi=264,this.willBeLanding=!1,this.lassooNotEffectingJumpCount=0,this._lastSafePosition=new K,this.safePosition=new K,this._startImmunityTimerMax=.3,this._jumpLeapAcceleration=4,this._canJumpTimer=.6,this._flickCount=0,this.ignoreInputThisFrame=!1,this.velocity=new K,this._maxSpeed=27,this.speed=20,this._minSpeed=17,this._jumpSpeed=0,this._yVelocity=0,this._flickToJump=!1,this.jumpCount=0,this.jumpPoint=new K,this.jumpAngle=0,this.currentZone=0,this.lastJumpPosition=new K,this.lastAnimalSmashed=null,this.lastAnimalEaten=null,this.lastAnimalRidden=null,this.lastObstacleSmashed=null,this.lastObstacleJumped=null,this.shockwaveRadius=8,this.maxShockwaveForce=8,this.minShockwaveForce=3,this.canJumpDelay=.3,this.animTriggerJump=["launching","jumping"],this._speedScale=1,this.speedScaleMax=2.3,this.speedScaleIncreaseRate=.0066,this.temporarySpeedScaleDecrease=0,this._coinsInAirTimerMax=.2,this._lastRideEncId=0,this.rideSameCnt=0,this._taskTime=null,this.landingStarted=!1,this._stepIndex=0,this.flyDis=null,this._changeAnimal=!1,this._hitResult=new Laya.HitResult,g.player=this}destroy(){this.steed&&i.Tween.clearAll(this.steed.transform),this.transform&&(i.Tween.clearAll(this.transform),Laya.Tween.clearAll(this.transform)),Laya.timer.clearAll(this),Laya.systemTimer.clearAll(this),g.taskCtrl.off("TASK_ADD",this,this.addTask),super.destroy()}get speedScale(){return g.teachCtrl.status>0?1-this.temporarySpeedScaleDecrease:this._speedScale-this.temporarySpeedScaleDecrease}onAwake(){let e=this.owner;this.gameObject=e,this._shadowQuad=e.getChildByName("shadowQuad").transform,this._ctrlHips=i.findChildByPath(e,"offset.ctrl_main.ctrl_hips").transform,this.transform=e.transform,this._touch=i.touchManager.touch,this._ani=e.getComponent(Q);let t=this.gameObject.getChildByName("LandingRange");this.landingRange=t.addComponent(F),this.offset=this.gameObject.getChildByName("offset").transform,this.rope=i.addScript3D(e,"Lasso_poly",W),this._heart=e.getChildByName("pfx_hearts"),this.startImmunityTimer=this._startImmunityTimerMax;let n=new G;if(n.addKeyFrame(0,0,1,-50,0,1),this.edgeFallCurve=n,i.stopPart(this._heart),i.setCollisionGroupSingle(this.gameObject,null,B.PLAYER,B.WORLD_SIDE|B.OBSTACLE),i.setCollisionGroupSingle(this.gameObject,"AIAvoid",B.RAYCAST_OBSTACLE,B.ANIMAL),"100"!==m.curHatId){let t=i.findChildByPath(e,"offset.ctrl_main.ctrl_hips.HEAD 1.SKELETON 3.joint_head.joint_HAT.Hat_attach");t.removeChildren();let n=m.cfgHats[m.curHatId].res;i.stage.load([n],this,()=>{let e=Laya.loader.getRes(n);e.transform.localPosition.setValue(0,0,0),e.transform.localPosition=e.transform.localPosition,e.transform.localRotationEulerY=0,t.addChild(e)})}let s=i.findChildByPath(e,"offset.MESHES.DO_NOT_BATCH");s.getChildByName("cape")&&(s.getChildByName("cape").active=!1),s.getChildByName("skirt")&&(s.getChildByName("skirt").active=!1),g.taskCtrl.on("TASK_ADD",this,this.addTask)}addTask(e){"RIDE_IN_TIME"!=e.type&&"RUN_IN_TIME"!=e.type||(this._taskTime=Math.floor(Laya.Browser.now()/1e3))}onStart(){this.landingRange.hide()}showHeart(){i.playPart(this._heart)}hideHeart(){i.stopPart(this._heart)}onUpdate(){if(this.updateSafePosition(),this.state==o.waitingForStart);else{let e=g.teachCtrl.status;this.startImmunityTimer-=Laya.timer.delta/1e3,this.state!=o.crashed&&(this._speedScale<this.speedScaleMax&&(this._speedScale+=this.speedScaleIncreaseRate*Laya.timer.delta/1e3),this.temporarySpeedScaleDecrease>.08?this.temporarySpeedScaleDecrease-=Laya.timer.delta/1e3*.07:this.temporarySpeedScaleDecrease>0&&(this.temporarySpeedScaleDecrease=0)),this._canJumpTimer-=Laya.timer.delta/1e3,this._canJumpTimer<=0&&this.state!=o.crashed&&(0==e||e>5&&e<10)&&this.rope.resetRope(),g.paused||!(0==e||e>4&&e<10)||this.ignoreInputThisFrame||this._touch.phase!=J.Nothing&&(this._touch.phase==J.Began&&(this._lastTouchPos=this._touch.mouseX,this._flickCount=0),this.state==o.flying?this.land():this._touch.phase==J.Moved?(!g.gameCtrl.zjCdVulture&&g.gameCtrl.noMove&&Math.floor(Laya.Browser.now()/1e3)-g.gameCtrl.noMove<=8&&(g.gameCtrl.zjCdVulture=!0),null!=this.steed&&this.state!=o.beEat&&(0==e||e>7)&&(this._lastTouchPos?this._delta=this._touch.mouseX-this._lastTouchPos:this._delta=0,this._angleDiff=this.steed.currentAngle,this.steed.turn(T.Map(1*this._delta/this._dpi/Math.max(.015,Laya.timer.delta/1e3)/60,-1,1,-215,215)),this._angleDiff=Math.abs(this._angleDiff-this.steed.currentAngle),this._resistance=T.Map(Math.min(this._angleDiff,50),0,50,0,2),this.speed-=this.speed*this._resistance*Laya.timer.delta/1e3,this.speed=Math.max(this.speed,this._minSpeed),this._flickCount=0),this._lastTouchPos=this._touch.mouseX):this._touch.phase==J.Ended&&(this._flickToJump?this._flickCount>0&&T.GetDistance(this._flickStart,this._touch.position)/this._dpi>.08&&this.state==o.riding&&this._canJumpTimer<=0&&(this._angle=0):this.state==o.riding&&this._canJumpTimer<=0&&this.jump(this.transform.localRotationEulerY)))}if(this.state==o.flying||this.state==o.landing&&this.willBeLanding){this._yVelocity-=18*Laya.timer.delta/1e3*(this.transform.localPositionY<0?4:1);let e=i.Temp.getVector3(0,this._yVelocity*Laya.timer.delta/1e3,this._jumpSpeed*Laya.timer.delta/1e3);if(this.transform.translate(e),0==g.paused&&(this.landingRange.gameObject.active?(this.landingRange.getLandingTarget(),this.landingRange.getLandingCount()>0?g.teachCtrl.status>0?(Laya.timer.scale=.2,g.teachCtrl.landingTarget()):Laya.timer.scale=.4:Laya.timer.scale=.8):Laya.timer.scale=1),this.flyDis&&this.state==o.flying&&this.transform.localPositionY>0){let e=this.transform.localPositionZ-this.flyDis;i.eventBus.event("TASK_UPDATE",["JUMP_LONG_IN_ONE",e,1]),i.eventBus.event("TASK_UPDATE",["JUMP_LONG",e,1])}this.transform.localPositionY<0&&this.state==o.flying&&this.jumpingCrash(!0,!1),this.coinsInAir&&(this._coinsInAirTimer-=Laya.timer.delta/1e3,this._coinsInAirTimer<0&&(null!=this.lastAnimalRidden&&(E.instance.show("pfx_money_1",this.transform.position),g.gameCtrl.addGold(this._coinsInAirRate,1007)),this._coinsInAirTimer=this._coinsInAirTimerMax))}else this.state==o.riding&&(this.speed+=this._maxSpeed*Laya.timer.delta/1e3,this.speed=Math.min(this.speed,this._maxSpeed));this.averageSpeedTimer-=Laya.timer.delta/1e3,this.averageSpeedTimer<0&&(this.speedposSecond=this.speedPosFirst,this.speedPosFirst=this.transform.localPositionZ,this.averageSpeed=this.speedPosFirst-this.speedposSecond,this.averageSpeedTimer=1),this.transform.localPositionZ>=this.distanceMissionCounter&&(this.distanceMissionCounter=this.transform.localPositionZ),this.runTimer+=Laya.timer.delta/1e3,this.runTimer>=this.timeMissionCounter&&(this.timeMissionCounter=this.runTimer)}onLateUpdate(){if(this.state!=o.UI&&this.steed&&(this.state==o.riding||this.state==o.waitingForStart||this.steed.state==a.falling||this.state==o.beEat)){let e=new K;K.transformQuat(i.Temp.getVector3(0,0,-.5),this.steed.offset.rotation,e);let t=this.steed.playerJoint.position;e.setValue(e.x+t.x,e.y+t.y,e.z+t.z),this.transform.position=e,T.SetEulerY(this.transform,this.steed.currentAngle),T.SetEulerZ(this.transform,this.steed.transform.rotationEuler.z)}if(this.state==o.flying){let e=this._ctrlHips.position;e.y=.07,this._shadowQuad.position=e}else this._shadowQuad.localPositionY=-10}jumpingCrash(e,t,n=""){if(this.state!=o.crashed){if(e)this.transform.localPositionY=0,this._ani.play("dead"),this.state=o.crashed,g.teachCtrl.status>0?g.teachCtrl.crash():g.gameCtrl.crash(),E.instance.show("pfx_dustcloud_sml",this.transform.localPosition),i.animatorTrigger.stopTrigger(this._ani),this.landingRange.hide();else{let e=i.Temp.getVector3(this.transform.localPositionX,this.transform.localPositionY,this.transform.localPositionZ);if(t&&!(g.teachCtrl.status>0)){let t=P.instance.getPathStateAt(this.transform.localPositionZ);t.isValid&&(this.transform.localPositionX>t.left?e.x=t.left:this.transform.localPositionX<t.right&&(e.x=t.right))}if(this.transform.localPositionY>0&&!(g.teachCtrl.status>0)){E.instance.show("pfx_dustcloud_headOn",this.transform.localPosition).transform.localRotationEulerY=this.transform.localRotationEulerY,e.y=0}i.Tween.to(this.transform,{localPositionX:e.x,localPositionY:e.y,localPositionZ:e.z},300,Laya.Ease.linearInOut),this._ani.play("deadBack"),g.teachCtrl.status>0?g.teachCtrl.crash():g.gameCtrl.crash(),i.animatorTrigger.stopTrigger(this._ani),this.state=o.crashed,this.landingRange.hide()}this._yVelocity=0}}SetJumpCoins(e){this.coinsInAir=!0,this._coinsInAirRate=e,this._coinsInAirTimer=this._coinsInAirTimerMax}land(){this.target=this.landingRange.targetedAnimal,null!=this.target&&this.LandingSequence(this.target)}LandingSequence(e){e.beingLandedOn=!0,this.willBeLanding=!0,this.jumpCount++,this.coinsInAir=!1;this.state=o.landing;let t=i.Temp.getVector3(2*this.transform.position.x-e.playerJoint.position.x,2*this.transform.position.y-e.playerJoint.position.y,2*this.transform.position.z-e.playerJoint.position.z);this.transform.lookAt(t,i.Temp.UP),this._canJumpTimer=this.canJumpDelay,null!=this.landingRange.targetedAnimal&&(this.landingRange.targetedAnimal.colorNormal(),this.landingRange.targetedAnimal=null),this.landingRange.hide(),this._ani.play("castLasso",0,0),Laya.systemTimer.once(30,this,()=>{this.willBeLanding=!1,this._ani.speed=2,this.rope.grabAnimal(e.playerJoint,.06,this,()=>{this._ani.play("grappeling",0,0),Laya.Tween.to(this.transform,{localPositionX:e.playerJoint.position.x,localPositionY:e.playerJoint.position.y,localPositionZ:e.playerJoint.position.z},50,Laya.Ease.cubicIn,Laya.Handler.create(this,()=>{if(this.state==o.crashed)return;this.transform.localRotation=new Laya.Quaternion(0,0,0,1),this.ride(e,!1),this.rope.switchOffRope(),this.state=o.riding,this._ani.play("riding",0,0),this._ani.speed=1,this.speed=30,0==g.paused&&(Laya.timer.scale=1);let t=g.gameCtrl.upgradeValue(this.steed.encId,v.lassooExtraSizeModifier);this.landingRange.updateLassoSize(t),e.beingLandedOn=!1,this.steed.stampedeAI.bounce()}))})})}startRunLanding(){this.landingStarted=!0,this.steed.transform.localPosition=new K(0,50,9+m.startPos),this.lassooNotEffectingJumpCount=0,this.jumpCount=0,"1006"==this.steed.encId?i.Tween.to(this.steed.transform,{localPositionX:0,localPositionY:this.steed.cruiseHeight,localPositionZ:15},380,Laya.Ease.linearInOut,Laya.Handler.create(this,this.landEnd)):i.Tween.to(this.steed.transform,{localPositionX:0,localPositionY:0,localPositionZ:15+m.startPos},380,Laya.Ease.linearInOut,Laya.Handler.create(this,this.landEnd));let e=m.get("dollar_start",0);e>0&&m.set("dollar_start",e-1)}fuhuo(){this.landEnd()}landEnd(){this.startRunSetup(),this.landingStarted=!1,this.steed.Bark(100),this.steed.transform&&this.steed.transform.position.cloneTo(this.safePosition),this.safePosition=this.safePosition;let e=g.gameCtrl.upgradeValue(this.steed.encId,v.lassooExtraSizeModifier);this.landingRange.updateLassoSize(e),this.safePosition.cloneTo(this._lastSafePosition),this._lastSafePosition=this._lastSafePosition}startRunSetup(){this.state=o.riding,this._ani.play("riding"),this.steed&&this.steed.stampedeAI&&this.steed.stampedeAI.bounce(),this.startImmunityTimer=this._startImmunityTimerMax,this.runTimer=0,this.timeMissionCounter=0}blockJumping(e){this._canJumpTimer=e}beEat(){this.state=o.beEat,this.rope.switchOffRope()}eatenCrash(){T.SetPosY(this.transform,-100),this.steed.leaveAnimal(!0,!1),i.animatorTrigger.stopTrigger(this._ani),this.state=o.crashed,g.gameCtrl.showRestart()}mountedCrash(e,t,n=!1){this.steed.transform.localPositionZ>25&&(n?this.steed.leaveAnimal(!1,!1):(this.steed.moveToGround(),this.steed.leaveAnimal(!0)),this.transform.localPositionY>0&&i.Tween.to(this.transform,{localPositionY:0},300,Laya.Ease.linearInOut),e?this._ani.play("deadBack"):this._ani.play("dead"),i.animatorTrigger.stopTrigger(this._ani),this.state=o.crashed,this._yVelocity=0,"ZJ_CD"==t?g.gameCtrl.zjcd():g.teachCtrl.status>0?g.teachCtrl.crash():g.gameCtrl.crash())}onTriggerEnter(e){if(this.state!=o.flying)return;let t=e.owner;(8==t.layer||t.getComponent(M)&&"coin"!==t.name)&&this.jumpingCrash(!1,!0,"HIT_OBSTACLE")}getJumpSpeed(){let e=(this._maxSpeed+this._jumpLeapAcceleration)*(this.steed.playerJumpSpeedMultiplier+0)*1;return this.steed.runSpeedUpgraded>1&&(e*=this.steed.runSpeedUpgraded),e+=this.steed.wetness*e*this.steed.waterSpeedMultiplier*.75*1}Step(){i.sound.playSound("audio/Foot_Buffalo_0"+(this._stepIndex+1).toString()+".mp3"),this._stepIndex=(this._stepIndex+1)%4}jump(e,t=!1,n=!1,s=!1){let a=k.instance.getGlobalUpgrade(v.jumpHeight);if(this.steed&&(this._lastRideEncId=parseInt(this.steed.encId)),g.teachCtrl.status>4)return i.animatorTrigger.playTrigger(this._ani,this.animTriggerJump),this._yVelocity=1*a.value,this._jumpSpeed=this._maxSpeed+this._jumpLeapAcceleration,T.SetEulerY(this.transform,e),this.state=o.flying,this.jumpPoint=this.transform.position,this.jumpAngle=e,s&&(this._yVelocity=1.6*this._yVelocity,this._jumpSpeed=1.2*this._jumpSpeed),this._leftFirstAnimal=!0,this.steed&&this.steed.leaveAnimal(t),this._changeAnimal||(this.lastAnimalRidden=this.steed),this.lastJumpPosition=this.transform.position,Laya.timer.once(200,this,()=>{this.state==o.flying&&this.landingRange.show()}),void g.teachCtrl.jump();g.gameCtrl.upgradeValue(this.steed.encId,v.jumpHigherAndFasterModifier);this.steed.hasJumpOverride&&!n?this.steed.jumpOverride(e):(i.sound.playSound("audioGame/Player_Jump.mp3"),i.animatorTrigger.playTrigger(this._ani,this.animTriggerJump),this._yVelocity=a.value*this.steed.playerJumpHeightMultiplier*1,this._jumpSpeed=this.getJumpSpeed(),T.SetEulerY(this.transform,e),e=this.steed.JumpAngleOverride(e),this.state=o.flying,this.jumpPoint=this.transform.position,this.jumpAngle=e,s&&(this._yVelocity=1.6*this._yVelocity,this._jumpSpeed=1.2*this._jumpSpeed),this._leftFirstAnimal=!0,this.steed.leaveAnimal(t),this._changeAnimal||(this.lastAnimalRidden=this.steed),this.lastJumpPosition=this.transform.position,Laya.timer.once(200,this,()=>{this.state==o.flying&&this.landingRange.show()})),this.flyDis=Math.floor(this.transform.localPositionZ)}ride(e,t,n,s){this.steed=e,this.steed.ride(t,n,s),t||g.teachCtrl.status>0?(this._speedScale=1,this.state=o.waitingForStart,this.rope.resetRope(),"wx"==i.channel&&0==g.teachCtrl.status&&m.get("wxmd",0)<3&&m.set("wxmd",0)):(this.steed.animalId!=this.lastAnimalRidden.animalId&&(i.eventBus.event("TASK_UPDATE",["RIDE_DIF_ONE_TIME",0,1]),i.eventBus.event("TASK_UPDATE",["RIDE_DIF_IN_ONE",0,1])),this.state=o.riding,"wx"==i.channel&&0==g.teachCtrl.status&&m.get("wxmd",0)<3&&m.set("wxmd",m.get("wxmd",0)+1)),this._ani.play("riding"),this._changeAnimal=null,this._lastRideEncId==parseInt(e.encId)?(this.rideSameCnt++,i.eventBus.event("TASK_UPDATE",["RIDE_SAME_CNT",e.encId,this.rideSameCnt])):(this.rideSameCnt=1,i.eventBus.event("TASK_UPDATE",["RIDE_SAME_CNT",e.encId,this.rideSameCnt])),t||i.eventBus.event("TASK_UPDATE",["RIDE",e.encId,1]),this.flyDis&&i.eventBus.event("TASK_UPDATE",["JUMP_ANIMAL_FROM",this.lastAnimalRidden.encId,this.transform.localPositionZ-this.flyDis]),this.lastAnimalRidden=this.steed,this.flyDis=null}changeAnimal(e,t,n){this.steed=e,this.steed.changeAnimal(t,n),this._changeAnimal=!0,this.steed.animalId!=this.lastAnimalRidden.animalId&&(i.eventBus.event("TASK_UPDATE",["RIDE_DIF_ONE_TIME",0,1]),i.eventBus.event("TASK_UPDATE",["RIDE_DIF_IN_ONE",0,1])),this.state=o.riding,this._ani.play("riding"),this._lastRideEncId==parseInt(e.encId)?(this.rideSameCnt++,i.eventBus.event("TASK_UPDATE",["RIDE_SAME_CNT",e.encId,this.rideSameCnt]),i.eventBus.event("TASK_UPDATE",["RIDE",this._lastRideEncId,1])):(this.rideSameCnt=1,i.eventBus.event("TASK_UPDATE",["RIDE_SAME_CNT",e.encId,this.rideSameCnt])),this.flyDis&&i.eventBus.event("TASK_UPDATE",["JUMP_ANIMAL_FROM",this.lastAnimalRidden.encId,this.transform.localPositionZ-this.flyDis]),this.flyDis=null}setPlayerBuckAnim(e){this._ani.play("riding",0,e)}updateSafePosition(){if(this.state!=o.riding&&this.state!=o.flying)return;let e=null==this.steed?this.transform.position:this.steed.transform.position;e.z-this._lastSafePosition.z<15||(this._lastSafePosition.cloneTo(this.safePosition),this.safePosition=this.safePosition,e.cloneTo(this._lastSafePosition),this._lastSafePosition=this._lastSafePosition)}isGroundAtLocation(e){return!0}findSafeSpawnPlace(){let e=this.safePosition.z,t=new Laya.Vector3,i=!1,n=0,s=0;for(;!i;){let a=P.instance.getPathStateAt(e+n);if(a.isValid&&(t=new K(a.mid+s,0,e+n),i=this.testSpawnPoint(t)),1==i&&("1006"!=this.steed.encId&&"1014"!=this.steed.encId||(i=this.testSpawnPoint(new K(a.mid+s,this.steed.riddenHeight,e+n)))),s>=0&&(s+=3),s=-s,Math.abs(s)>10&&(s=0,(n+=3)>50))return this.safePosition}return t}testSpawnPoint(e){var t=new Laya.SphereColliderShape(2);let n=new K(0+e.x,30+e.y,-2+e.z),s=new K(0+e.x,0,-2+e.z);return i.stage.scene3D.physicsSimulation.shapeCast(t,n,s,this._hitResult),1!=this._hitResult.succeeded}}g.Player=$;class ee extends Laya.Script3D{onAwake(){this.gameObject=this.owner,this.transform=this.gameObject.transform,this._animal=this.gameObject.parent.getComponent(g.Animal),this._collider=this.gameObject.getComponent(Laya.PhysicsCollider)}switchOff(){this.enabled&&(this.enabled=!1),this._collider.enabled&&(this._collider.enabled=!1)}switchOn(){this.enabled||(this.enabled=!0),this._collider.enabled||(this._collider.enabled=!0)}onTriggerEnter(e){let t=e.owner.parent.getComponent(g.Animal);null!=t&&t.edible&&this._animal.RidingCollision(t)}}class te extends j{constructor(){super(...arguments),this.eatTimerBonusDecayTotal=0,this.eatTimer=0}onAwake(){super.onAwake(),this.gameObject=this.owner,this.mouthPosition=this.gameObject.getChildByName("mouthPosition").transform,this.preyEatStartPos=this.gameObject.getChildByName("preyEatStartPos").transform,this.eatCollider=this.gameObject.getChildByName("eatCollider"),this.eatCollider=this.eatCollider.addComponent(ee),this.eatTimerBonusDecayTotal=0}init(e,t){this._biteAni=i.findChildByPath(t,"offset.bite").getComponent(Laya.Animator),super.init(e,t);let n=Laya.loader.getRes("cfg/cfgAttribute.json")[this.encId];this.eatTimerBonus=n.eatTimerBonus,this.eatTimerBonusDecay=n.eatTimerBonusDecay,this.eatTimerBonusDecayMax=n.eatTimerBonusDecayMax,this.eatCooldown=n.eatCooldown;let s=new G;if(n.speedDropOffCurve&&n.speedDropOffCurve.length>0)for(let e=0;e<n.speedDropOffCurve.length;e++)s.addKeyFrame(n.speedDropOffCurve[e][0],n.speedDropOffCurve[e][1],n.speedDropOffCurve[e][2],n.speedDropOffCurve[e][3],n.speedDropOffCurve[e][4],n.speedDropOffCurve[e][5]);this.speedDropOffCurve=s}reset(){super.reset(),this._biteAni.play("off")}getAngry(){g.player.eatenCrash()}enterGoingWild(){"1007"==this.encId&&this.Bark(100),g.player.blockJumping(this.goingWildLength+1),g.player.beEat(),super.enterGoingWild()}animalCrash(e){let t=g.gameCtrl.upgradeValue(this.encId,v.allowCannibalism),i=g.gameCtrl.upgradeValue(this.encId,v.canEatEverything),n=g.gameCtrl.upgradeValue(this.encId,v.special),s=g.gameCtrl.upgradeValue(this.encId,v.rideLength),a=g.gameCtrl.upgradeValue(this.encId,v.specialCoins);if(this.angerStage<=1)if((e.edible&&(e.encId!=this.encId||t>0)||i>0)&&e!=g.player.steed&&g.player.state==o.riding){let t=1;"1013"==this.encId&&n>0&&"1008"==e.encId?this._angerTimer+=n*(this.eatTimerBonus+s/10-this.eatTimerBonusDecayTotal)*t:this._angerTimer+=(this.eatTimerBonus+s/10-this.eatTimerBonusDecayTotal)*t,1==this.angerStage?this._angerTimer>this.warningLength&&(this.angerStage--,this._angerTimer-=this.warningLength):this._angerTimer=Math.min(this._angerTimer,1*(this.runLength-this.warningLength+s)),this.EatDash(e),this.eatCollider.switchOff(),this.eatTimer=this.eatCooldown,a>0&&T.GetRandom(0,10,!0)>4&&(E.instance.show("pfx_money_1",this.transform.position),g.gameCtrl.addGold(a,1007)),this.EatAnimal(e)}else super.animalCrash(e)}animalCrashOriginal(e){super.animalCrash(e)}EatDash(e,t=.2){let i=g.gameCtrl.upgradeValue(this.encId,v.rideLength);T.SetPosX(this.transform,T.Lerp(this.transform.localPositionX,e.transform.position.x,t)),T.SetPosZ(this.transform,T.Lerp(this.transform.localPositionZ,e.transform.position.z,t)),this.eatTimerBonusDecayTotal+=this.eatTimerBonusDecay,this.eatTimerBonusDecayTotal=Math.min(this.eatTimerBonusDecayTotal,this.eatTimerBonusDecayMax+i),this.triggerAni(["attack","run"]),this._biteAni.play("attack",0,0),this._biteAni.speed=.1,this.Bark(25)}onUpdate(){this.state==a.ridden&&(this.eatTimer>0&&(this.eatTimer-=Laya.timer.delta/1e3),this.eatTimer<=0&&this.eatCollider.switchOn()),super.onUpdate()}UpdateOriginal(){super.onUpdate()}ride(e,t,i){this.eatTimer=0,this.eatCollider.switchOn(),super.ride(e,t,i)}leaveAnimal(e,t=!0){this.eatCollider.switchOff(),super.leaveAnimal(e,t)}LeaveAnimalOriginal(e,t=!0){super.leaveAnimal(e,t)}EatAnimal(e){this.eatAnimalSequence(e)}GetRunSpeedBeforeModifiers(){let e=1*(this.runLength+this.goingWildLength)*1;return 0==this.angerStage?super.GetRunSpeedBeforeModifiers()*this.speedDropOffCurve.evaluate(Math.min(this._angerTimer+this.warningLength,e)/e):super.GetRunSpeedBeforeModifiers()*this.speedDropOffCurve.evaluate(Math.min(this._angerTimer,e)/e)}eatAnimalSequence(e){e.SetEaten(),g.player.lastAnimalEaten=e,m.add_stat_eatAnimals(1)}turn(e){this.eatTimer<=0&&super.turn(e)}moveAnimal(e){this.angerStage<2&&super.moveAnimal(e)}SlowedBehindAnimal(e){}}class ie extends j{constructor(){super(),this.currentHeight=2,this.previousHeight=0,this.hasSwooped=!1,this.distanceStartBehind=50,this.flag=!0,this.heightMultiplier=1,this.heightMultiplierMinimum=1,this.heightMultiplierDecayRate=0,this.heightMultiplierDecayRateUpgrade=0,this._disableDust=!0}init(e,t){super.init(e,t);let i=Laya.loader.getRes("cfg/cfgAttribute.json")[this.encId];this.startHeight=i.startHeight,this.cruiseHeight=i.cruiseHeight,this.riddenHeight=i.riddenHeight,this.angryDescentSpeed=i.angryDescentSpeed,this.leavingAscentSpeed=i.leavingAscentSpeed,this.targetDistance=i.targetDistance,this.waitDuration=i.waitDuration,this.oscilateMax=i.oscilateMax,this.oscilateAccel=i.oscilateAccel,this.oscilateAccelUpgrade=i.oscilateAccelUpgrade,this.bottomTimeRegular=i.bottomTimeRegular,this.startFlyState=i.startFlyState;let n=new G;if(i.regularSwoop&&i.regularSwoop.length>0)for(let e=0;e<i.regularSwoop.length;e++)n.addKeyFrame(i.regularSwoop[e][0],i.regularSwoop[e][1],i.regularSwoop[e][2],i.regularSwoop[e][3],i.regularSwoop[e][4],i.regularSwoop[e][5]);this.regularSwoop=n,this.initValues()}onUpdate(){if(this.state==a.ridden)if(this.angerStage>=3){let e=g.gameCtrl.upgradeValue(this.encId,v.specialCoins),t=g.gameCtrl.upgradeValue(this.encId,v.special),i=1;this.oscilateT+=this.oscilateSpeed*Laya.timer.delta/1e3,this.oscilateT>1&&(this.hasSwooped=!1,this.oscilateT-=1,this.playAni("buck"),e>0&&T.GetRandom(0,10,!0)>4&&(E.instance.show("pfx_money_1",this.transform.position),g.gameCtrl.addGold(e,1007))),this.oscilateT>.33&&!this.hasSwooped&&(this.hasSwooped=!0),this.swoopHeight=this.regularSwoop.evaluate(this.oscilateT),this.oscilateT>this.bottomTimeRegular&&this.oscilateT-this.oscilateSpeed*Laya.timer.delta/1e3<=this.bottomTimeRegular&&(this.checkAndStartFall()||this.playAni("goingWild")),this.currentHeight=this.riddenHeight*this.swoopHeight*this.heightMultiplier+.5,this.oscilateSpeed<this.oscilateMax*i&&(this.oscilateSpeed+=t>0?this.oscilateAccelUpgrade*Laya.timer.delta/1e3*i:this.oscilateAccel*Laya.timer.delta/1e3*i),this.heightMultiplier>this.heightMultiplierMinimum&&(this.heightMultiplier-=t>0?this.heightMultiplierDecayRateUpgrade*Laya.timer.delta/1e3:this.heightMultiplierDecayRate*Laya.timer.delta/1e3)}else this.currentHeight=T.Lerp(this.currentHeight,this.riddenHeight,1.2*Laya.timer.delta/1e3);else this.state==a.crashed||this.state==a.falling||(this.currDistFromTarget=g.player.transform.localPositionZ+this.targetDistance-this.transform.localPositionZ,this.flyingState==s.idle?(this.stampedingSpeedModifier=0,this.flag&&(this.currentHeight=this.transform.position.y,this.flag=!1)):this.flyingState==s.entering?this.currDistFromTarget>6?(g.player.state==o.flying?this.stampedingSpeedModifier=.8:this.currDistFromTarget>this.targetDistance?this.stampedingSpeedModifier=4:this.stampedingSpeedModifier=T.Clamp(T.Map(this.currDistFromTarget,this.targetDistance,0,4,1.2),1.2,4),this.currentHeight=T.Lerp(this.startHeight,this.cruiseHeight,1-this.currDistFromTarget/this.distanceStartBehind)):this.flyingState=s.waiting:this.flyingState==s.waiting?(g.player.state==o.flying?this.stampedingSpeedModifier=T.Clamp(T.Map(this.currDistFromTarget,4*this.targetDistance,0,4,1),1,4):this.stampedingSpeedModifier=T.Clamp(T.Map(this.currDistFromTarget,this.targetDistance,0,4,1),1,4),this.waitTimer+=Laya.timer.delta/1e3,this.waitTimer>this.waitDuration&&(this.flyingState=s.leaving)):this.flyingState==s.running||this.flyingState==s.leaving&&(this.currentHeight+=this.leavingAscentSpeed*Laya.timer.delta/1e3));if(super.onUpdate(),this.state!=a.crashed){if(this.heightDiff=this.currentHeight-this.previousHeight,Laya.timer.delta/1e3>0){let e=Math.atan2(this.heightDiff/Laya.timer.delta/1e3,this.speed)*(180/Math.PI)*-1;T.SetLocalEulerX(this.offset,e),this.state==a.ridden&&g.player.state!=o.waitingForStart&&T.SetLocalEulerX(g.player.offset,e)}this.previousHeight=this.currentHeight}g.player.state!=o.waitingForStart&&this.state!=a.falling&&T.SetPosY(this.transform,this.currentHeight)}enterGoingWild(){this._angerTimer=this.goingWildLength}ride(e,t,i){this.currentAngle=0,super.ride(e,t,i),T.SetEulerY(this.transform,0),this.flyingState=s.running}initValues(){this.startFlyState&&(this.startFlyState==s.idle&&0==this.isSpawningAndRidden?this.state=a.idle:(this.currentHeight=this.startHeight,T.SetPosY(this.transform,this.currentHeight)),this.flyingState=this.startFlyState,T.SetLocalEulerX(this.offset,0),this.flag=!0,this.crashFallSpeed=0,this.oscilateT=0,this.oscilateSpeed=0,this.startFlyState&&this.startFlyState!=s.running&&this.playAni("idle"),this.waitTimer=0,this.heightMultiplier=1)}reset(){super.reset(),this.initValues()}SpawnerPostInit(){this.startFlyState!=s.idle&&this.startFlyState!=s.running&&T.SetPosZ(this.transform,g.player.transform.localPositionZ-this.distanceStartBehind)}leaveAnimal(e=!1,t=!0){super.leaveAnimal(e,t),this.flyingState=s.leaving,this.stampedingSpeedModifier=.8,T.SetLocalEulerX(g.player.offset,0),T.SetLocalEulerX(this.offset,0)}obstacleOnSmashed(){this.state!=a.ridden&&(this.state=a.running,this.flyingState=s.leaving)}DryOff(e){}StartFall(e,t,i=!1){t||super.startFall(e,t,i)}getFallOffset(){return 2.5}fallPunt(e,t=!1){for(;this.state==a.falling;)e?this.currentAngle>-45&&(this.currentAngle-=45*Laya.timer.delta/1e3,T.SetEulerY(this.transform,this.currentAngle)):this.currentAngle<45&&(this.currentAngle+=45*Laya.timer.delta/1e3,T.SetEulerY(this.transform,this.currentAngle))}AlpinePillarCollision(e){}smashAnimal(e,t=!0){g.gameCtrl.upgradeValue(this.encId,v.special);super.smashAnimal(e,t)}clearAll(){this.flyingState=null,this.currentHeight=null,this.previousHeight=null,this.startHeight=null,this.cruiseHeight=null,this.riddenHeight=null,this.angryDescentSpeed=null,this.leavingAscentSpeed=null,this.targetDistance=null,this.crashFallSpeed=null,this.oscilateT=null,this.oscilateSpeed=null,this.hasSwooped=null,this.distanceStartBehind=null,this.waitDuration=null,this.waitTimer=null,this.oscilateMax=null,this.oscilateAccel=null,this.oscilateAccelUpgrade=null,this.regularSwoop,this.bottomTimeRegular=null,this.startFlyState=null,this.swoopHeight=null,this.currDistFromTarget=null,this.heightDiff=null,this.heightMultiplier=null,this.heightMultiplierMinimum=null,this.heightMultiplierDecayRate=null,this.heightMultiplierDecayRateUpgrade=null,this.flag=null,super.clearAll()}}g.AnimalFlyer=ie;class ne extends j{constructor(){super(...arguments),this.defaultRunSpeed=0,this.slapWhenAngry=!1}onAwake(){this.defaultRunSpeed=Math.max(this.defaultRunSpeed,this.runSpeedModifier),this.runSpeedModifier=this.defaultRunSpeed,super.onAwake()}getAngry(){this.runSpeedModifier=this.defaultRunSpeed,g.player.jump(this.transform.localRotationEulerY,!1,!0),this.Bark(50),this.slapPlayer()}slapPlayer(){!this.slapWhenAngry||this.slapEffectsPrefab}enterGoingWild(){g.player.blockJumping(this.goingWildLength),this.runSpeedModifier=0,super.enterGoingWild()}jumpOverride(e){this.angerStage<2&&g.player.isGroundAtLocation(this.transform.position)&&(this.currentAngle=e,T.SetLocalEulerY(this.transform,e),T.SetLocalEulerY(this.offset,0),this.angerStage=2,this.enterGoingWild())}moveAnimal(e){super.moveAnimal(e)}turnOrBuck(){this.angerStage<2&&super.turnOrBuck()}GamePaused(){super.gamePaused()}gameUnpaused(){this.angerStage,super.gameUnpaused()}public(e,t,i){this.setupRide(),super.ride(e,t,i)}setupRide(){g.gameCtrl.upgradeValue(this.encId,v.specialCoins)>0&&this.ignoreCoinsOnThrow}}class se extends ne{constructor(){super(...arguments),this.thingsSmashed=0}ride(e,t,i){super.ride(e,t,i),this.thingsSmashed=0}obstacleCrash(e,t=!1){super.obstacleCrash(e,!0)}smashObstacle(e){let t=g.gameCtrl.upgradeValue(this.encId,v.specialCoins);super.smashObstacle(e),t>0&&(E.instance.show("pfx_money_1",this.transform.position),g.gameCtrl.addGold(t,1007,!0)),this.thingsSmashed++}animalCrash(e){let t=g.gameCtrl.upgradeValue(this.encId,v.special);e.smashStrength<this.smashStrength||t>0?(this.smashAnimal(e),this.thingsSmashed++):super.animalCrash(e)}}class ae extends j{constructor(){super(...arguments),this.zoomSpeedStart=1.1,this.zoomAccelerationRate=.1,this.zoomMax=1.6,this.coinsFromGoingMaxSpeed=!1,this.ignoreZoomAnimation=!1}init(e,t){super.init(e,t);let i=Laya.loader.getRes("cfg/cfgAttribute.json")[this.encId];this.zoomSpeedStart=i.zoomSpeedStart,this.zoomAccelerationRate=i.zoomAccelerationRate,this.zoomMax=i.zoomMax,this.runAnimInStampede=i.runAnimInStampede,this.ignoreZoomAnimation=i.ignoreZoomAnimation}getAngry(){super.getAngry(),this.AngryLoop()}BuildUpToRun(){Laya.timer.once(500,this,()=>{Laya.timer.once(500,this,()=>{Laya.timer.once(500,this,()=>{})})})}ride(e,t,i){this.runAnimInStampede,super.ride(e,t,i)}AngryLoop(){let e=g.gameCtrl.upgradeValue(this.encId,v.specialCoins),t=g.gameCtrl.upgradeValue(this.encId,v.zoomSpeedMultiplier),i=this.runSpeedModifier;this.currentZoom=this.zoomSpeedStart,this.runSpeedModifier=i*this.currentZoom;let n=2;Laya.timer.frameLoop(1,this,()=>{if(this.state==a.ridden){this.currentZoom<this.zoomMax&&(this.currentZoom+=this.zoomAccelerationRate*Laya.timer.delta/1e3),this.coinsFromGoingMaxSpeed&&e>0&&(n-=Laya.timer.delta/1e3)<0&&(n=2,E.instance.show("pfx_money_1",this.transform.position),g.gameCtrl.addGold(e,1007));this.currentZoom,this.zoomSpeedStart,this.zoomMax,this.zoomSpeedStart;this.ignoreZoomAnimation,this.runSpeedModifier=i+(this.currentZoom-1)*i*t}else this.runSpeedModifier=i,Laya.timer.clearAll(this)})}}!function(e){e[e.running=0]="running",e[e.flying=1]="flying",e[e.diving=2]="diving",e[e.rising=3]="rising"}(Z||(Z={}));var oe=Laya.Vector3;var he=Laya.Vector3;class le{}le.Animal=j,le.AnimalPredator=te,le.AnimalFlyer=ie,le.AnimalThrower=ne,le.Elephant=se,le.AnimalZoomerDontCrash=class extends ae{onAwake(){super.onAwake(),this.coinsFromGoingMaxSpeed=!0}animalCrash(e){g.gameCtrl.upgradeValue(this.encId,v.special)>0&&this.angerStage>=3?g.player.jump(this.transform.localRotationEulerY,!0):super.animalCrash(e)}obstacleCrashVerified(e){g.gameCtrl.upgradeValue(this.encId,v.special)>0&&this.angerStage>=3?g.player.jump(this.transform.localRotationEulerY,!0):super.obstacleCrashVerified(e)}},le.AnimalZoomer=ae,le.AnimalGriffin=class extends te{clearAll(){this.griffinState=null,this.diveCollider=null,super.clearAll()}init(e,t){super.init(e,t);let i=Laya.loader.getRes("cfg/cfgAttribute.json")[this.encId];this.flyHeight=i.flyHeight,this.runTime=i.runTime,this.risingTime=i.risingTime,this.diveRate=i.diveRate,this.currentHeight=0,T.SetPosY(this.transform,this.currentHeight),this.griffinState=Z.running;let n=new G;if(i.risingCurve&&i.risingCurve.length>0)for(let e=0;e<i.risingCurve.length;e++)n.addKeyFrame(i.risingCurve[e][0],i.risingCurve[e][1],i.risingCurve[e][2],i.risingCurve[e][3],i.risingCurve[e][4],i.risingCurve[e][5]);this.risingCurve=n}DivingCollision(){this.griffinState==Z.flying||this.griffinState==Z.rising?this.griffinState=Z.diving:this.griffinState==Z.running&&(this.runCounter=0)}ride(e,t,i){this.currentHeight=0,this.runCounter=0,this.risingCounter=0,this.griffinState=Z.running,super.ride(e,t,i)}onUpdate(){switch(this.griffinState){case Z.diving:this.currentHeight-=this.diveRate*Laya.timer.delta/1e3,this.currentHeight<=0&&(this.currentHeight=0,this.runCounter=0,this.griffinState=Z.running);break;case Z.flying:(this.state!=a.ridden||this.angerStage>=1)&&(this.griffinState=Z.diving);break;case Z.rising:if(this.state!=a.ridden){this.griffinState=Z.diving;break}this.risingCounter+=Laya.timer.delta,this.currentHeight=this.flyHeight*this.risingCurve.evaluate(this.risingCounter/this.risingTime),T.Clamp(3*this.currentHeight/this.flyHeight-2,0,1),this.risingCounter>this.risingTime&&(this.risingCounter=0,this.griffinState=Z.flying,this.currentHeight=this.flyHeight);break;case Z.running:this.state==a.ridden&&this.angerStage<1&&(this.runCounter+=Laya.timer.delta/1e3,this.runCounter>this.runTime&&(this.griffinState=Z.rising,this.risingCounter=0,this.runCounter=0))}super.onUpdate(),g.player.state!=o.waitingForStart&&this.state!=a.falling&&this.griffinState!=Z.running&&T.SetPosY(this.transform,this.currentHeight)}leaveAnimal(e=!1,t=!0){super.leaveAnimal(e,t)}},le.Giraffe=class extends ne{constructor(){super(...arguments),this.stumbleTimer=0,this.stumbleTimerMax=4}init(e,t){super.init(e,t),this.baseRunSpeedModifier=this.runSpeedModifier,this.stumbleTimer=0}onUpdate(){super.onUpdate(),this.stumbleTimer>0?this.angerStage<2&&(this.stumbleTimer>this.stumbleTimerMax-.05?this.runSpeedModifier=1.75*this.baseRunSpeedModifier:this.runSpeedModifier=this.baseRunSpeedModifier*T.Map(this.stumbleTimer/this.stumbleTimerMax,1,0,.65,1)):this.angerStage<2&&(this.runSpeedModifier=this.baseRunSpeedModifier),this.stumbleTimer-=Laya.timer.delta/1e3}animalCrash(e){g.gameCtrl.upgradeValue(this.encId,v.special)>0&&this.stumbleTimer<=.25*this.stumbleTimerMax&&e.smashStrength<=this.smashStrength?(this.stumbleTimer=this.stumbleTimerMax,this.smashAnimal(e)):super.animalCrash(e)}},le.AnimalBoar=class extends ae{},le.AnimalVaulter=class extends ne{constructor(){super(...arguments),this.smashOnLanding=!0,this.vaultState=h.none}init(e,t){super.init(e,t);let i=Laya.loader.getRes("cfg/cfgAttribute.json")[this.encId];this.vaultStrength=i.vaultStrength,this.jumpForce=i.jumpForce,this.gravity=i.gravity,this.shockwaveRadius=i.shockwaveRadius,this.shockwaveRadiusLarge=i.shockwaveRadiusLarge,this.smashOnLanding=i.smashOnLanding,this.vaultState=h.none}reset(){super.reset(),this.vaultState=h.none}obstacleCrash(e,t=!1){this.jumpOrSmash(e,t)}jumpOrSmash(e,t){this.state==a.ridden?this.vaultState==h.none?e.smashStrength<=this.vaultStrength&&!e.isLevelEdge&&!e.isCenterEdge&&!e.indestructable?e.smashed||this.vaultRoutine(e):super.obstacleCrash(e,t):this.vaultState==h.jumping&&(8==e.layer?this.transform.localPositionY>3.5?(this.vaultState=h.none,g.player.landingRange.updateLassoSize(0),super.obstacleCrashVerified(e)):super.obstacleCrash(e,!0):e.indestructable?super.obstacleCrash(e,t):super.smashObstacle(e)):this.vaultState==h.none?e.smashStrength<=this.vaultStrength&&!e.isLevelEdge&&!e.isCenterEdge&&!e.indestructable&&(e.smashed||this.vaultRoutine(e)):this.vaultState==h.jumping&&(e.indestructable||e.isLevelEdge||e.isCenterEdge?super.obstacleCrash(e,t):super.smashObstacle(e))}onTriggerEnter(e){super.onTriggerEnter(e)}animalCrash(e){this.vaultState==h.none?super.animalCrash(e):super.smashAnimal(e)}moveAnimal(e){this.vaultState!=h.preparing&&(this.state!=a.ridden&&this.vaultState==h.jumping?super.moveAnimal(3*e):super.moveAnimal(e))}calculateCurrentAngle(){this.vaultState==h.none&&super.calculateCurrentAngle()}dryOff(e){this.vaultState==h.none?super.dryOff(!0):super.dryOff(!1)}updateAngerTimer(){this.vaultState==h.none&&super.updateAngerTimer()}leaveAnimal(e=!1,t=!0){if(1==e)return void super.leaveAnimal(e,t);if(this.vaultState!=h.jumping)return void super.leaveAnimal(e,t);let i=g.gameCtrl.upgradeValue(this.encId,v.vaulterMidJumpLassoModifier);g.player.landingRange.updateLassoSize(i),super.leaveAnimal(e,t)}vaultRoutine(e){this.vaultState=h.preparing,e&&(e.isArch?T.SetLocalPosY(this.transform,2):(T.SetLocalPosX(this.transform,e.transform.localPositionX),T.SetLocalPosY(this.transform,e.boundsY))),"903"!==this.animalId&&this.playAni("buck"),this.state,a.ridden,Laya.timer.once(80,this,this.jumpOver)}jumpOver(){this.vaultState=h.jumping,Laya.timer.frameLoop(1,this,this.jumploop)}jumploop(e){let t=this.transform.position.y;t>0?(this._yVel=this._yVel||this.jumpForce,t+=this._yVel*Laya.timer.delta/1e3,this._yVel-=this.gravity*Laya.timer.delta/1e3,T.SetLocalPosY(this.transform,t)):(this._yVel=null,Laya.timer.clear(this,this.jumploop),T.SetLocalPosY(this.transform,0),"903"!==this.animalId&&this.playAni("attack"),g.player.state==o.riding&&this.state==a.ridden&&(this.checkAndStartFall()||(this.stampedeAI.enabled=!0,this.smashLanding(),this.playAni("run"))),this.vaultState=h.none)}smashLanding(){let e=g.gameCtrl.upgradeValue(this.encId,v.vaulterLargerSmashArea),t=g.gameCtrl.upgradeValue(this.encId,v.specialCoins),n=(g.gameCtrl.upgradeValue(this.encId,v.special),i.Temp.getVector3(0,0,0)),s=0;e>0?(n=new Laya.Vector3(this.shockwaveRadius,this.shockwaveRadius,this.shockwaveRadiusLarge),s=this.shockwaveRadiusLarge):(n=new Laya.Vector3(this.shockwaveRadius,this.shockwaveRadius,this.shockwaveRadius),s=this.shockwaveRadius),0!=this.smashOnLanding&&this.stampedeAI.smashLanding(this.state==a.ridden,t)}},le.Alligator=class extends te{constructor(){super(...arguments),this.alreadyAttempted=!1,this.rideTimer=100,this.vct1=new Laya.Vector3,this.vct2=new Laya.Vector3}onUpdate(){this.state==a.ridden&&(this.rideTimer+=Laya.timer.delta/1e3),super.onUpdate()}init(e,t){super.init(e,t),this.alreadyAttempted=!1,this.alligatorState=l.idle,this.state=a.idle,this.playAni("idle"),this.playerJoint.localPosition=new Laya.Vector3(0,0,0),this.rideTimer=100}stampedeBehaviour(){if(this.alligatorState==l.idle){this.speed=0;let e=35-g.gameCtrl.upgradeValue(this.encId,v.special);T.GetDistance(this.transform.localPosition,g.player.transform.position)<e&&g.player.state==o.riding&&g.player.steed.edible&&g.player.steed.encId!=this.encId&&!this.alreadyAttempted&&(this.alligatorState=l.pursuit,this.currentAngle=this.transform.localRotationEulerY,this.playAni("run"),this.speed=1)}else this.alligatorState==l.pursuit&&(this.speed+=3*Laya.timer.delta/1e3,this.speed=Math.min(this.speed,8),this.currentAngle=T.MoveTowardsAngle(this.currentAngle,180-180/Math.PI*Math.atan2(g.player.transform.localPositionX-this.mouthPosition.position.x,g.player.transform.localPositionY-this.mouthPosition.position.y),3),T.SetLocalEulerY(this.transform,this.currentAngle),this.alreadyAttempted||g.player.state!=o.riding||!g.player.steed.edible?(this.alligatorState=l.idle,this.playAni("idle")):T.GetDistance(this.mouthPosition.position,g.player.steed.transform.localPosition)<4&&g.player.state==o.riding&&g.player.steed.edible&&this.attackPlayer())}reset(){this.alreadyAttempted=!1,super.reset(),this.alligatorState=l.idle,this.state=a.idle,this.playAni("idle"),this.playerJoint.localPosition=new Laya.Vector3(0,0,0),this.rideTimer=100}attackPlayer(){this.alreadyAttempted=!0,this.attackPlayerSequence(g.player.steed)}animalCrash(e){super.animalCrash(e)}attackPlayerSequence(e){this.playAni("attack"),this.alligatorState=l.idle,this.state=a.idle;let t=new Laya.Vector3(e.transform.localPositionX,e.transform.localPositionY,e.transform.localPositionZ+2);this.wetness>.5&&this.lastWaterEntered,this.currentAngle=180-180/Math.PI*Math.atan2(t.x-this.transform.localPositionX,t.y-this.transform.localPositionY),T.SetLocalEulerY(this.transform,this.currentAngle),Laya.Vector3.lerp(this.transform.localPosition,t,.4,this.vct1),Laya.Tween.to(this.transform,{localPositionX:this.vct1.x,localPositionY:this.vct1.y,localPositionZ:this.vct1.z},150,Laya.Ease.linearInOut,Laya.Handler.create(this,()=>{T.GetDistance(this.mouthPosition.position,g.player.steed.transform.localPosition)<2&&g.player.state==o.riding&&this.attackSuccessSequence(e),Laya.Vector3.lerp(this.transform.localPosition,t,.4,this.vct2),Laya.Tween.to(this.transform,{localPositionX:this.vct2.x,localPositionY:this.vct2.y,localPositionZ:this.vct2.z},50,Laya.Ease.linearInOut)}))}attackSuccessSequence(e){g.player.eatenCrash(),e.SetEaten()}EatDash(e,t){super.EatDash(e,.6)}moveAnimal(e){this.rideTimer<2?super.moveAnimal((1+this.rideTimer)*e/3):super.moveAnimal(e)}setAnimationSpeedScale(e){this.rideTimer<2?super.setAnimationSpeedScale((1+this.rideTimer)*e/3):super.setAnimationSpeedScale(e)}ride(e,t,i){this.rideTimer=e?100:0,super.ride(e,t,i)}},le.Rhino=class extends se{constructor(){super(...arguments),this.rideTimer=0}init(e,t){super.init(e,t);let i=Laya.loader.getRes("cfg/cfgAttribute.json")[this.encId];this.smashTIncrease=i.smashTIncrease;let n=new G;if(i.speedCurve&&i.speedCurve.length>0)for(let e=0;e<i.speedCurve.length;e++)n.addKeyFrame(i.speedCurve[e][0],i.speedCurve[e][1],i.speedCurve[e][2],i.speedCurve[e][3],i.speedCurve[e][4],i.speedCurve[e][5]);this.speedCurve=n}onUpdate(){if(g.player.state==o.riding&&this.state==a.ridden&&this.angerStage<2){this.rideTimer+=Laya.timer.delta/1e3;let e=g.gameCtrl.upgradeValue(this.encId,v.special);this.runSpeedModifier=e>0?this.speedCurve.evaluate(Math.min(this.rideTimer/(2*this.runLength)+this.thingsSmashed*this.smashTIncrease,1)):this.speedCurve.evaluate(Math.min(this.rideTimer/(2*this.runLength),1))}super.onUpdate()}ride(e,t,i){this.rideTimer=0,this.runSpeedModifier=this.speedCurve.evaluate(this.rideTimer/this.runLength),super.ride(e,t,i)}},le.AnimalStopper=class extends j{constructor(){super(...arguments),this.energy=0,this.chargeBaseSpeedMultiplier=2,this.maxDecayRateMultiplier=20,this.additionalDecayRate=0,this.initialSmashStrength=3,this.chargeSmashStrength=7,this.dontUseChargeSmashProperties=!1,this.onAngryThrow=!1,this.coinTimerMax=.3,this.coinTimer=0}init(e,t){super.init(e,t);let i=Laya.loader.getRes("cfg/cfgAttribute.json")[this.encId];this.defaultRunSpeedModifier=this.runSpeedModifier,this.energyMax=i.energyMax,this.energyDecayRate=i.energyDecayRate,this.energyGainRate=i.energyGainRate,this._energyChargeThreshold=i._energyChargeThreshold,this.chargeBaseSpeedMultiplier=i.chargeBaseSpeedMultiplier,this.decayRateIncrease=i.decayRateIncrease,this.maxDecayRateMultiplier=i.maxDecayRateMultiplier,this.dontUseChargeSmashProperties=i.dontUseChargeSmashProperties,this.onAngryThrow=i.onAngryThrow,this.goinWildTimeScale=i.goinWildTimeScale;let n=new G;if(i.speedDropOffCurve&&i.speedDropOffCurve.length>0)for(let e=0;e<i.speedDropOffCurve.length;e++)n.addKeyFrame(i.speedDropOffCurve[e][0],i.speedDropOffCurve[e][1],i.speedDropOffCurve[e][2],i.speedDropOffCurve[e][3],i.speedDropOffCurve[e][4],i.speedDropOffCurve[e][5]);this.speedDropOffCurve=n,this.initValues()}get energyChargeThreshold(){let e=g.gameCtrl.upgradeValue(this.encId,v.stopperChargeEnergyThresholdModifier);return this._energyChargeThreshold-e}get energyDeclineRateMultiplier(){let e=g.gameCtrl.upgradeValue(this.encId,v.stopperEnergyDeclineRateMultiplier);return e>0?1/e:1}onUpdate(){let e=g.gameCtrl.upgradeValue(this.encId,v.specialCoins);this.state==a.ridden&&g.player.state!=o.waitingForStart&&(this.additionalDecayRate=Math.min(this.additionalDecayRate+this.decayRateIncrease*Laya.timer.delta/1e3*this.energyDeclineRateMultiplier,this.maxDecayRateMultiplier),this.getEnergyCheck()&&this.angerStage<2?(this.energy=T.Clamp(this.energy+this.energyGainRate*Laya.timer.delta/1e3,0,this.energyMax),e>0&&(this.coinTimer-=Laya.timer.delta/1e3,this.coinTimer<0&&(this.coinTimer=this.coinTimerMax,E.instance.show("pfx_money_1",this.transform.position),g.gameCtrl.addGold(e,1007)))):this.energy=T.Clamp(this.energy-this.energyDecayRate*this.energyDeclineRateMultiplier*Laya.timer.delta/1e3,0,this.energyMax),this.getEnergyCheck()&&this.angerStage,this.energy>this.energyChargeThreshold?(this.dontUseChargeSmashProperties||(this.smashAnimals=!0,this.smashStrength=this.chargeSmashStrength),this.playerJumpSpeedMultiplier=Math.max(.7,1.4*this.energy)):this.energy>this.energyChargeThreshold-.02?(this.dontUseChargeSmashProperties||(this.smashAnimals=!0,this.smashStrength=this.chargeSmashStrength),this.playerJumpSpeedMultiplier=Math.max(.7,this.energy)):(this.dontUseChargeSmashProperties||(this.smashAnimals=!1,this.smashStrength=this.initialSmashStrength),(!this.getEnergyCheck()||this.angerStage>=2)&&(this.energy=T.Clamp(this.energy-this.additionalDecayRate*Laya.timer.delta/1e3*g.player.speedScale,0,this.energyMax)),this.playerJumpSpeedMultiplier=Math.max(.7,this.energy))),super.onUpdate()}updateAngerTimer(){this._angerTimer=this.energy/(this.energyDecayRate*this.energyDeclineRateMultiplier),this.angerStage<=0?this._angerTimer<this.warningLength+this.goingWildLength&&(this.angerStage=1,this.PlayWarning()):1==this.angerStage?this._angerTimer>this.warningLength+this.goingWildLength?this.angerStage=0:this._angerTimer<this.goingWildLength&&(this.angerStage=2,this._warning.hideWarning(),this.enterGoingWild()):2==this.angerStage&&this._angerTimer<=0&&this.getAngry()}getAngry(){this.onAngryThrow?this.throwPlayer():g.player.eatenCrash()}throwPlayer(){}enterGoingWild(){if(this.onAngryThrow){g.player.blockJumping(this.goingWildLength);let e=Laya.timer.scale;Laya.timer.once(this.goingWildLength,this,()=>{this.runSpeedModifier=0,super.enterGoingWild(),Laya.timer.scale=e})}else g.player.blockJumping(this.goingWildLength+1),super.enterGoingWild()}GetRunSpeedBeforeModifiers(){return this.energy>this.energyChargeThreshold?super.GetRunSpeedBeforeModifiers()*this.chargeBaseSpeedMultiplier:super.GetRunSpeedBeforeModifiers()*this.speedDropOffCurve.evaluate(this.energy)*1}initValues(){this.dontUseChargeSmashProperties||(this.smashStrength=this.initialSmashStrength),this.additionalDecayRate=0,this.runSpeedModifier=this.defaultRunSpeedModifier}ride(e,t,i){let n=g.gameCtrl.upgradeValue(this.encId,v.special);this.additionalDecayRate=0,this.energy=n>0?this.energyMax:this.energyChargeThreshold-.01,this.runSpeedModifier=this.defaultRunSpeedModifier,super.ride(e,t,i)}leaveAnimal(e=!1,t=!0){super.leaveAnimal(e,t)}getEnergyCheck(){return this.wetness>.5}},le.AnimalCharger=class extends j{constructor(){super(...arguments),this._chargeDuration=.5,this._maxSpeedBoost=30,this._minSpeedBoost=0,this._gracePeriod=.3,this._anticpationLength=.12}init(e,t){super.init(e,t);let i=Laya.loader.getRes("cfg/cfgAttribute.json")[this.encId];this.alwaysCharge=i.alwaysCharge,this.chargeDurationBonus=i.chargeDurationBonus,this.chargeSpeedBonus=i.chargeSpeedBonus}landingBoost(){if(g.gameCtrl.upgradeValue(this.encId,v.special)<=0&&0==this.alwaysCharge)return void super.landingBoost();let e=g.gameCtrl.upgradeValue(this.encId,v.landingBoostLengthModifier),t=(this._chargeDuration+this.chargeDurationBonus)*(1+e);this._anticipatingCharge=!0,this._landingBoost=-20,this.smashStrength*=3,this.smashAnimals=!0,Laya.timer.once(this._anticpationLength,this,()=>{this._anticipatingCharge=!1;let e=i.Temp.getVector3(this.transform.localPositionX,this.transform.localPositionY+2,this.transform.localPositionZ+5),n=(E.instance.show("pfx_chargeSmashActual",e,this.gameObject,!1,t),t);Laya.timer.frameLoop(1,this,()=>{n>0&&this.state==a.ridden?(this._landingBoost=T.Map(n/t,1,0,this._maxSpeedBoost+this.chargeSpeedBonus,this._minSpeedBoost),n-=Laya.timer.delta/1e3):(this._landingBoost=0,Laya.timer.clearAll(this),this.state==a.ridden?Laya.timer.once(this._gracePeriod,this,()=>{this.smashStrength/=3,this.smashAnimals=!1}):(this.smashStrength/=3,this.smashAnimals=!1))})})}obstacleCrash(e,t=!1){super.obstacleCrash(e,this.smashAnimals)}turn(e){this._anticipatingCharge||super.turn(e)}calculateCurrentAngle(){this._anticipatingCharge||super.calculateCurrentAngle()}},le.AnimalBuckingSmasher=class extends ne{turnOrBuck(){this.angerStage<2&&this.buckFunction()}updateAngerTimer(){this._angerTimer-=Laya.timer.delta/1e3,this._angerTimer<0&&this.angerStage<3&&(this.angerStage++,1==this.angerStage&&(this._angerTimer=this.warningLength,this.warningTimer=1,this.PlayWarning()),2==this.angerStage&&this.angryBuckTimer-Laya.timer.delta/1e3<=0&&(this.enterGoingWild(),this._warning.hideWarning()),3==this.angerStage&&this.getAngry())}smashObstacle(e){super.smashObstacle(e);let t=g.gameCtrl.upgradeValue(this.encId,v.specialCoins);t<=0||(E.instance.show("pfx_money_1",this.transform.position),g.gameCtrl.addGold(t,1007))}},le.AnimalCuddler=class extends j{constructor(){super(...arguments),this.energyBonusDecayTotal=0,this.energy=0,this.bumpCooldown=0}init(e,t){super.init(e,t);let i=Laya.loader.getRes("cfg/cfgAttribute.json")[this.encId];this.energyBonus=i.energyBonus,this.energyBonusDecay=i.energyBonusDecay,this.energyBonusDecayMax=i.energyBonusDecayMax;let n=new G;if(i.speedDropOffCurve&&i.speedDropOffCurve.length>0)for(let e=0;e<i.speedDropOffCurve.length;e++)n.addKeyFrame(i.speedDropOffCurve[e][0],i.speedDropOffCurve[e][1],i.speedDropOffCurve[e][2],i.speedDropOffCurve[e][3],i.speedDropOffCurve[e][4],i.speedDropOffCurve[e][5]);this.speedDropOffCurve=n}getAngry(){g.player.eatenCrash()}enterGoingWild(){g.player.blockJumping(this.goingWildLength+1),super.enterGoingWild()}animalCrash(e){let t=g.gameCtrl.upgradeValue(this.encId,v.special),i=g.gameCtrl.upgradeValue(this.encId,v.specialCoins),n=g.gameCtrl.upgradeValue(this.encId,v.rideLength);if(t>0&&e.smashStrength<=5&&this.state==a.ridden&&this.angerStage<2){if(this.bumpCooldown>0)return;this.sizePop(1.2),e.Bounce(this.transform.localPosition,2.4,1.2),this.energyBonusDecayTotal+=this.energyBonusDecay,this.energyBonusDecayTotal=Math.min(this.energyBonusDecayTotal,this.energyBonusDecayMax+n),this._angerTimer+=this.energyBonus+n/10-this.energyBonusDecayTotal,this.bumpCooldown=this.bumpCooldownTime,1==this.angerStage?this._angerTimer>this.warningLength&&(this.angerStage--,this._angerTimer-=this.warningLength):this._angerTimer=Math.min(this._angerTimer,this.runLength-this.warningLength+n),i>0&&T.GetRandom(0,10,!0)}else super.animalCrash(e)}sizePop(e){let t=e;for(;t>1;)return this.transform.setWorldLossyScale(new Laya.Vector3(this._oldScale.x*t,this._oldScale.y*t,this._oldScale.z*t)),t=T.MoveTowards(t,1,Laya.timer.delta/1e3*t*1.5),0}ride(e){this.energy=0,this.bumpCooldown=0,super.ride(e)}GetRunSpeedBeforeModifiers(){let e=1*(this.runLength+this.goingWildLength)*1;return 0==this.angerStage?super.GetRunSpeedBeforeModifiers()*this.speedDropOffCurve.evaluate(Math.min(this._angerTimer+this.warningLength,e)/e):super.GetRunSpeedBeforeModifiers()*this.speedDropOffCurve.evaluate(Math.min(this._angerTimer,e)/e)}turn(e){this.energy<=0&&super.turn(e)}moveAnimal(e){this.angerStage<2&&super.moveAnimal(e)}reset(){super.reset(),this.energyBonusDecayTotal=0,this.bumpCooldown=0}onUpdate(){super.onUpdate(),this.bumpCooldown>0&&(this.bumpCooldown-=Math.floor(Laya.timer.delta/1e3))}},le.AnimalChineseDragon=class extends ne{init(e,t){super.init(e,t);let i=Laya.loader.getRes("cfg/cfgAttribute.json")[this.encId];this.leavingAscentSpeed=i.leavingAscentSpeed,this.leavingAngleSpeed=i.leavingAngleSpeed,this.goingWildRunSpeed=i.goingWildRunSpeed}turnOrBuck(){T.SetLocalEulerY(this.transform,this.currentAngle),this.angerStage<=3&&this.buckWhenAngry&&this.buckFunction()}reset(){super.reset(),this.leavingAngle=new oe(0,0,1),this.buckBuildUpCount=50}moveAnimal(e){if(this.state==a.ignoreAll){let t=e;T.MoveTowards(this.leavingAngle.x,0,this.leavingAngleSpeed*Math.floor(Laya.timer.delta)),T.MoveTowards(this.leavingAngle.y,2,this.leavingAngleSpeed*Math.floor(Laya.timer.delta)),T.MoveTowards(this.leavingAngle.z,1,this.leavingAngleSpeed*Math.floor(Laya.timer.delta)),this.leavingAngle.x*=t*Math.floor(Laya.timer.delta/1e3),this.leavingAngle.y*=t*Math.floor(Laya.timer.delta/1e3),this.leavingAngle.z*=t*Math.floor(Laya.timer.delta/1e3),this.transform.translate(this.leavingAngle),T.SetLocalEulerZ(this.offset,this.currentAngle*this.leanScale*-1),T.SetLocalEulerX(this.offset,180*Math.atan2(this.leavingAngle.y,this.leavingAngle.z)/Math.PI*-1)}else super.moveAnimal(e)}obstacleCrash(e,t=!1){super.obstacleCrash(e,!1)}leaveAnimal(e=!1,t=!0){super.leaveAnimal(e,t),e||(this.state=a.ignoreAll)}enterGoingWild(){super.enterGoingWild(),this.runSpeedModifier=this.goingWildRunSpeed}smashObstacle(e){let t=g.gameCtrl.upgradeValue(this.encId,v.specialCoins);t>0&&(E.instance.show("pfx_money_1",this.transform.position),g.gameCtrl.addGold(t,1007)),super.smashObstacle(e)}},le.AnimalSmallVaulter=class extends ne{constructor(){super(...arguments),this.smashOnLanding=!0,this.vaultState=h.none,this.maxDecayRateMultiplier=20,this.additionalDecayRate=0}init(e,t){super.init(e,t);let i=Laya.loader.getRes("cfg/cfgAttribute.json")[this.encId];this.vaultStrength=i.vaultStrength,this.jumpForce=i.jumpForce,this.jumpForceToilet=i.jumpForceToilet,this.jumpForceUnridden=i.jumpForceUnridden,this.jumpSpeedUnridden=i.jumpSpeedUnridden,this.gravity=i.gravity,this.shockwaveRadius=i.shockwaveRadius,this.shockwaveRadiusLarge=i.shockwaveRadiusLarge,this.smashOnLanding=i.smashOnLanding,this.energyMax=i.energyMax,this.energyDecayRate=i.energyDecayRate,this.energyGain=i.energyGain,this.energyGainUpgrade=i.energyGainUpgrade,this.decayRateIncrease=i.decayRateIncrease,this.maxDecayRateMultiplier=i.maxDecayRateMultiplier;let n=new G;if(i.speedDropOffCurve&&i.speedDropOffCurve.length>0)for(let e=0;e<i.speedDropOffCurve.length;e++)n.addKeyFrame(i.speedDropOffCurve[e][0],i.speedDropOffCurve[e][1],i.speedDropOffCurve[e][2],i.speedDropOffCurve[e][3],i.speedDropOffCurve[e][4],i.speedDropOffCurve[e][5]);this.speedDropOffCurve=n,this.initValues()}reset(e=!0){super.reset(),this.initValues()}initValues(){this.vaultState=h.none,this.additionalDecayRate=0,this.setEnergyMax(),this.energy=this.energyMaxTrue,this.yVel=0}setEnergyMax(){let e=g.gameCtrl.upgradeValue(this.encId,v.rideLength);this.energyMaxTrue=this.energyMax+e*this.energyDecayRate}get energyDeclineRateMultiplier(){let e=g.gameCtrl.upgradeValue(this.encId,v.stopperEnergyDeclineRateMultiplier);return e>0?1/e:1}onUpdate(){this.state==a.ridden&&g.player.state!=o.waitingForStart&&this.vaultState!=h.jumping&&this.vaultState!=h.preparing&&(this.additionalDecayRate=Math.min(this.additionalDecayRate+this.decayRateIncrease*Math.floor(Laya.timer.delta/1e3)*this.energyDeclineRateMultiplier,this.maxDecayRateMultiplier),this.energy=T.Clamp(this.energy-this.energyDecayRate*this.energyDeclineRateMultiplier*Math.floor(Laya.timer.delta/1e3),0,this.energyMaxTrue),this.energy=T.Clamp(this.energy-this.additionalDecayRate*Math.floor(Laya.timer.delta/1e3)*g.player.speedScale,0,this.energyMaxTrue),this.playerJumpSpeedMultiplier=Math.max(.8,this.energy)),super.onUpdate()}updateAngerTimer(){this._angerTimer=this.energy/(this.energyDecayRate*this.energyDeclineRateMultiplier+this.additionalDecayRate*g.player.speedScale),this.angerStage<=0?this._angerTimer<this.warningLength+this.goingWildLength&&(this.angerStage=1,this.PlayWarning()):1==this.angerStage?this._angerTimer>this.warningLength+this.goingWildLength?(this.angerStage=0,this._warning.hideWarning()):this._angerTimer<this.goingWildLength&&(this.angerStage=2,this.enterGoingWild(),this._warning.hideWarning()):2==this.angerStage&&this._angerTimer<=0&&this.getAngry()}GetRunSpeedBeforeModifiers(){return super.GetRunSpeedBeforeModifiers()*this.speedDropOffCurve.evaluate(this.energy/this.energyMaxTrue)*1}ride(e,t,i){super.ride(e),this.yVel=0}obstacleCrash(e,t=!1){this.jumpOrSmash(e,t)}animalCrash(e){this.vaultState=h.none,super.animalCrash(e)}jumpOrSmash(e,t){this.state==a.ridden?this.vaultState==h.none?e.smashStrength<=this.vaultStrength&&!e.isLevelEdge&&!e.isCenterEdge&&!e.indestructable?e.smashed||this.VaultRoutine(e):super.obstacleCrash(e,t):this.vaultState==h.jumping&&(8==e.layer?this.transform.localPositionY>3.5?(this.vaultState=h.none,g.player.landingRange.updateLassoSize(0),super.obstacleCrashVerified(e)):super.obstacleCrash(e,!0):e.indestructable?super.obstacleCrash(e,t):super.smashObstacle(e)):this.vaultState==h.none?e.smashStrength<=this.vaultStrength&&!e.isLevelEdge&&!e.isCenterEdge&&!e.indestructable&&(e.smashed||this.VaultRoutine(e)):this.vaultState==h.jumping&&super.obstacleCrash(e,t)}additionalBounceCheck(){return(this.state!=a.ridden||this.vaultState!=h.jumping)&&super.additionalBounceCheck()}onTriggerEnter(e){super.onTriggerEnter(e)}moveAnimal(e){this.vaultState!=h.preparing&&(this.state!=a.ridden&&this.vaultState==h.jumping?super.moveAnimal(3*e):super.moveAnimal(e))}calculateCurrentAngle(){this.vaultState==h.none&&super.calculateCurrentAngle()}dryOff(e){this.vaultState==h.none?super.dryOff(!0):super.dryOff(!1)}leaveAnimal(e=!1,t=!0){if(1==e)return void super.leaveAnimal(e,t);if(this.vaultState!=h.jumping)return void super.leaveAnimal(e,t);let i=g.gameCtrl.upgradeValue(this.encId,v.vaulterMidJumpLassoModifier);g.player.landingRange.updateLassoSize(i),super.leaveAnimal(e,t)}VaultRoutine(e){this.vaultState=h.preparing,e&&(e.isArch?T.SetLocalPosY(this.transform,2):(T.SetLocalPosX(this.transform,e.transform.localPositionX),T.SetLocalPosY(this.transform,e.boundsY))),this.state,a.ridden,Laya.timer.once(80,this,this.jumpOver)}jumpOver(){let e=g.gameCtrl.upgradeValue(this.encId,v.special);this.state==a.ridden&&e>0?this.energy=T.Clamp(this.energy+this.energyGainUpgrade,0,this.energyMaxTrue):this.energy=T.Clamp(this.energy+this.energyGain,0,this.energyMaxTrue),this.vaultState!=h.none&&(this.vaultState=h.jumping,this.state!=a.ridden?this.yVel=this.jumpForceUnridden:this.yVel=this.jumpForce,Laya.timer.frameLoop(1,this,this.jumploop))}jumploop(){let e=this.transform.localPositionY;if(e>0&&this.vaultState!=h.none)e+=this.yVel*Math.floor(Laya.timer.delta/1e3),this.yVel-=this.gravity*Math.floor(Laya.timer.delta/1e3),T.SetLocalPosY(this.transform,e);else{if(Laya.timer.clear(this,this.jumploop),this.vaultState==h.none)return;T.SetLocalPosY(this.transform,0),g.player.state==o.riding&&this.state==a.ridden&&(this.checkAndStartFall()||(this.smashLanding(),this.yVel=0)),this.vaultState=h.none}}handleFall(){this.fallTimer<.6&&(this.fallSpeed*=.982,this.moveAnimal(this.fallSpeed)),this.fallTimer+=Math.floor(Laya.timer.delta/1e3),T.SetLocalPosY(this.transform,g.player.edgeFallCurve.Evaluate(this.fallTimer)+this.fallTimer*this.yVel),this.fallTimer>.3&&g.player.state!=o.crashed&&g.player.state!=o.UI&&g.gameCtrl.crash()}smashLanding(){let e=g.gameCtrl.upgradeValue(this.encId,v.vaulterLargerSmashArea),t=g.gameCtrl.upgradeValue(this.encId,v.specialCoins),i=new he(0,0,0),n=0;e>0?(i=new he(this.shockwaveRadius,this.shockwaveRadius,this.shockwaveRadiusLarge),n=this.shockwaveRadiusLarge):(i=new he(this.shockwaveRadius,this.shockwaveRadius,this.shockwaveRadius),n=this.shockwaveRadius),0!=this.smashOnLanding&&this.stampedeAI.smashLanding(this.state==a.ridden,t)}};class re{constructor(){this._animalCnt=0,this._distSinceLastSpawn=0,this._timeSinceLastSpawn=0,this._lastFrameZPos=0,this._pathState={left:10,right:-10,isValid:!1,width:20,zPos:0,isIsland:!1},this.animalDespawnPosition=-20,this.animalSpawnPosition=60,this._spawnPosition=new Laya.Vector3,g.animalManager=this}static get instance(){return re._instance||(re._instance=new re),re._instance}start(){this.init(),this._playerTransform=g.player.transform,this._currentWorld=m.get("CURRENT_WORLD",0),this.initialSpawnWave(),Laya.systemTimer.loop(2,this,this.loop)}loop(){this._distSinceLastSpawn+=this._playerTransform.localPositionZ-this._lastFrameZPos,this._lastFrameZPos=this._playerTransform.localPositionZ,this._timeSinceLastSpawn+=Laya.timer.delta/1e3,(this._distSinceLastSpawn>16*(2-Math.cos(.01*this._playerTransform.localPositionZ))||g.player.averageSpeed<10&&this._timeSinceLastSpawn>1.4||this._timeSinceLastSpawn>2)&&this._animalCnt<7&&"game"==i.stage.sceneName&&(this.spawnHerdAnimal(),this._distSinceLastSpawn=0,this._timeSinceLastSpawn=0)}initialSpawnWave(){this._initialSpawanWaveIndex=0,Laya.systemTimer.frameLoop(1,this,this.initialSpawnWaveStep)}initialSpawnWaveStep(){let e=this._initialSpawanWaveIndex;e<this.animalSpawnPosition-this.animalDespawnPosition?this.spawnHerdAnimal(e,!0):Laya.systemTimer.clear(this,this.initialSpawnWaveStep),this._initialSpawanWaveIndex+=T.GetRandom(20,38,!0)}spawnHerdAnimal(e=0,t=!1){if(null!=this._currentWorld){if(t)this._pathState.isValid=!0,this._pathState.isIsland=!1,this._pathState.left=10,this._pathState.right=-10,this._pathState.width=20,this._pathState.zPos=60*Math.random()+this._playerTransform.localPositionZ-20;else if(g.player.averageSpeed>=10){let e=P.instance.getPathStateAt(this.animalSpawnPosition+this._playerTransform.localPositionZ);this._pathState.isValid=e.isValid,this._pathState.isIsland=e.isIsland,this._pathState.left=e.left,this._pathState.right=e.right,this._pathState.width=e.width,this._pathState.zPos=this.animalSpawnPosition+this._playerTransform.localPositionZ}else{let e=P.instance.getPathStateAt(this.animalDespawnPosition+this._playerTransform.localPositionZ);this._pathState.isValid=e.isValid,this._pathState.isIsland=e.isIsland,this._pathState.left=e.left,this._pathState.right=e.right,this._pathState.width=e.width,this._pathState.zPos=this.animalDespawnPosition+this._playerTransform.localPositionZ}0!=this._pathState.isValid&&1!=this._pathState.isIsland?this.spawnHerdAnimal_Default(this._currentWorld,t):console.log("Invalid path state, no herd spawned")}else console.log("LevelSpawner::currentWorld is null")}spawnHerdAnimal_Default(e,t){if(null==e)return;this._spawnPosition.setValue(T.GetRandom(this._pathState.right+2,this._pathState.left-2,!0),0,this._pathState.zPos);let n=this._cfgRefresh[e],s=0;0==t&&(s=this.currentZoneIdx);let a=n[s=T.Clamp(s,0,n.Length-1)];if(null==a)return;let o=a.animal,h=m.cfgWorld[e].maps[m.getMapLevelByWorld(e)].animals,l=[];for(const e in o)o.hasOwnProperty(e)&&h.indexOf(o[e].encId)>-1&&l.push(o[e]);if(null==l||l.length<=0)return void console.log("No possible animals to spawn");let r=i.getNodeByWeight(l,"chance");this.spawnAnimal(r.encId,this._spawnPosition)}pickVariantFromAnimalMeta(e,t=-1,n=!1){m.getAnimals(e).length<=0&&(t=0);let s=this._cfgSpawn[e].animal;if(t>=0&&t<s.length)return s[t];let a=m.getEncUpgradeValue(e,v.rareSkinChance),o=1;if(m.getAnimals(1e3)&&m.getAnimals(1e3).indexOf(12)>-1&&(o=2),m.buff&&m.buff.type&&5==m.buff.type&&m.buff.time&&m.buff.time>Laya.Browser.now()&&(o*=3),g.gameCtrl.upgl){let e=Math.floor(2*Math.random()+3);"zj"==i.channel?o*=10:o*=e}let h=0;for(let e=0;e<s.length;e++)this.shouldBeCounted(s[e])&&(s[e].dis<g.player.transform.localPositionZ||"zj"==i.channel&&g.gameCtrl.upgl)&&(h+=e>0?s[e].chance*Math.max(1,a)*o:s[e].chance);let l=0,r=T.GetRandom(0,h,!0);for(;l<s.length&&r>0;){if(0==this.shouldBeCounted(s[l])){++l;continue}if(s[l].dis>g.player.transform.localPositionZ&&("zj"!=i.channel||!g.gameCtrl.upgl)){++l;continue}let e=s[l].chance*Math.max(1,Math.min(l,1));if(l>0&&(e*=o),r<e)break;r-=l>0?s[l].chance*o:s[l].chance,++l}return l>=s.length&&(l=s.length-1),s[l]}shouldBeCounted(e){let t=m.cfgAnimal[e.id].encId;if(1==e.usedInAOTD){return 1==m.isAvailableForCapture(e)}return!e.onlySpawnsIfPurchased&&(m.getEncUpgradeValue(t,25)>=e.upgradeLevelRequired&&(!e.onlySpawnsIfCaptured||m.getAnimals(t).indexOf(e.id)>-1))}spawnAnimal(e,t){let i=this.pickVariantFromAnimalMeta(e).id;this.createOne(i,t)}spawnPositionalAnimal(e){this.spawnAnimal(e.encId,e.spawnPosition)}get currentZoneIdx(){let e=[0,1e3,2e3],t=g.player.transform.localPositionZ;for(let i=e.length-1;i>=0;i--)if(t>=e[i])return i}init(){this._animalCache||(this._animalCache={}),this._cfgAnimal||(this._cfgAnimal=m.cfgAnimal),this._cfgAttribute||(this._cfgAttribute=Laya.loader.getRes("cfg/cfgAttribute.json")),this._cfgRefresh||(this._cfgRefresh=Laya.loader.getRes("cfg/cfgRefresh.json")),this._cfgSpawn||(this._cfgSpawn=m.cfgSpawn)}createStep1(e,t,n,s,a,o){i.stage.scene3D&&i.stage.scene3D.addChild(t);let h=new le[n];h.init(e,t),this.setCreateAnimalPos(h,s),Laya.systemTimer.frameOnce(1,this,this.createStep3,[h,t,a,o],!1)}createStep3(e,t,i,n){t.addComponentIntance(e),i&&n&&n.call(i,e)}createStep2(e,t,n,s){e&&e.gameObject&&(i.stage.scene3D.addChild(e.gameObject),e.reset(),this.setCreateAnimalPos(e,t),n&&s&&s.call(n,e))}setCreateAnimalPos(e,t){if(t)t.cloneTo(e.transform.localPosition),e.transform.localPosition=e.transform.localPosition;else{let t;t=g.player.state==o.flying||g.player.state==o.riding||g.player.state==o.landing?this._playerTransform.localPositionZ+80:this._playerTransform.localPositionZ-20;const i=P.instance.getPathStateAt(t);let n;n=i.isValid?i.right+3+Math.random()*(i.width-6):0,e.transform.localPosition.setValue(n,0,t),e.transform.localPosition=e.transform.localPosition}}createOne(e,t=null,n=null,s=null){let a;this._animalCnt++;let o=this._animalCache[e];if(o&&o.length>0)a=o.pop(),Laya.systemTimer.frameOnce(1,this,this.createStep2,[a,t,n,s],!1);else{let a,o=this._cfgAnimal[e];if(!o)return void(n&&s&&s.call(n));if(!(a=o.linkEncId?this._cfgAttribute[o.linkEncId]:this._cfgAttribute[o.encId]))return void(n&&s&&s.call(n));let h=a.class;i.load([o.res],this,()=>{let i=Laya.Sprite3D.instantiate(Laya.loader.getRes(o.res));Laya.systemTimer.frameOnce(1,this,this.createStep1,[e,i,h,t,n,s],!1)})}}recover(e){this._animalCnt--,this._animalCache[e.animalId]||(this._animalCache[e.animalId]=[]),this._animalCache[e.animalId].indexOf(e)<0&&this._animalCache[e.animalId].push(e)}restart(){i.eventBus.event("RECOVER_ALL_ANIMAL"),this._animalCnt=0,this.initialSpawnWave()}stopAndClear(){i.eventBus.event("RECOVER_ALL_ANIMAL");for(const e in this._animalCache)if(this._animalCache.hasOwnProperty(e)){const t=this._animalCache[e];for(;t.length>0;){const e=t.pop();e&&e.destroy()}}this._animalCnt=0,Laya.systemTimer.clearAll(this),this._playerTransform=null}}class pe extends Laya.Script3D{constructor(){super()}Fire(){console.log("fire animal"),g.shipCtrl.fireAnimal()}}var de=Laya.Sprite3D;class ge extends i.BaseCtrl{constructor(){super(),this._selectEnc=null,this._login=!0,this._needOpenSign=!1,this._hasAutoOpenSignin=!1,this._moveSpeed=60,this._skinIndexList=[1,2,3,4,5]}start(){super.start(),this._point=new Laya.Vector2,this._outHitResult=new Laya.HitResult,this._ray=new Laya.Ray(new Laya.Vector3,new Laya.Vector3),this.bindAssets("main/builtNotice.png",Laya.Loader.IMAGE,"zoo"),this.bindAssets("main/blackMask.png",Laya.Loader.IMAGE,"zoo"),this.bindAssets("res/atlas/prize.atlas",Laya.Loader.ATLAS,"zoo"),this.bindAssets("res/atlas/rank.atlas",Laya.Loader.ATLAS,"zoo"),this.bindAssets("res/atlas/btn.atlas",Laya.Loader.ATLAS,"zoo"),this.bindAssets3D("ship/Conventional/ExportZoo.ls","zoo"),this.bindAssets3D("ship/Conventional/CameraRig.lh","zoo"),this.bindAssets3D("ship/Conventional/AirshipRoot.lh","zoo"),this.bindAssets3D("ship/Conventional/Ship_sides.lh","zoo"),this.bindAssets3D("ship/Conventional/Ship_mid.lh","zoo"),this.bindAssets3D("ship/Conventional/cloudTet_0.lh","zoo"),this.bindAssets3D("ship/Conventional/cloudTet_1.lh","zoo"),this.bindAssets3D("ship/Conventional/cloudTet_2.lh","zoo"),this.bindAssets3D("ship/Conventional/Select.lh","zoo"),this.bindAssets3D("ship/Conventional/SelectBig.lh","zoo"),this.bindAssets3D("ship/Conventional/pfx_Upgrade.lh","zoo"),this.bindAssets3D("ship/Conventional/pfx_UpgradeBig.lh","zoo"),this.bindAssets3D("game/Conventional/PlayerNew.lh","zoo"),this.bindAssets3D("game/Conventional/pfx_dust2.lh","zoo"),this.bindAssets("res/atlas/friend.atlas",Laya.Loader.ATLAS,"zoo"),this.bindAssets("cfg/cfgAttribute.json",Laya.Loader.JSON,"zoo"),this.bindAssets3D("ship/Conventional/HatBlackBg.lh","zoo"),this.bindAssets3D("ship/Conventional/HatSliderBg.lh","zoo"),this.bindAssets("cfg/cfgNickname.json",Laya.Loader.JSON,"zoo");for(let e=-1;e<11;e++)-1==e?this.bindAssets3D("ship/Conventional/fence_unbuilt.lh","zoo"):this.bindAssets3D("ship/Conventional/fence_lvl"+e+".lh","zoo");this._cloudShooter=new C,this._enclosureList=[]}beforeEnterScene(e){if(super.beforeEnterScene(e),"zoo"==this._sceneName&&(this.removeListener(),i.channel,i.Channel.oppo,this._view.teachMask1.offAllCaller(this),this._view.teackMask3.offAllCaller(this),this._view.teachMask4.offAllCaller(this),this._view.teackMask2.offAllCaller(this),this._view.signMask.offAllCaller(this),this._selectEnc=null,this._mouseDown=!1,this._camOffY&&Laya.Tween.clearAll(this._camOffY),this._camOffX&&Laya.Tween.clearAll(this._camOffX),this.stopFrameLoop(),Laya.timer.clearAll(this),this._cam&&Laya.Tween.clearAll(this._cam),this._cameraNode&&Laya.Tween.clearAll(this._cameraNode.transform),this._view&&Laya.Tween.clearAll(this._view.ticket),this._view&&Laya.Tween.clearAll(this._view.ticketBox),this._view&&Laya.Tween.clearAll(this._view.imgQ),Laya.Tween.clearAll(this._view.imgLeftWing),Laya.Tween.clearAll(this._view.imgRightWing),Laya.Tween.clearAll(this._view.btnKn),Laya.systemTimer.clearAll(this),this._cloudShooter&&this._cloudShooter.clear(),re.instance.stopAndClear(),this.changeStatus(0),this._view.notice_word.off(Laya.Event.MOUSE_DOWN,this,this.startScrollText),"wx"!==i.channel&&"qq"!==i.channel||this._view.btnUpdateTip.visible&&this._view.btnUpdateTip.off(Laya.Event.CLICK,this,this.onBtnUpdateTip),this._view=null,this._scene=null,this._enclosures=null,this._camAni=null,this._cam=null,this._camOffY=null,this._camOffX=null,this._select=null,this._selectBig=null,this._btnMap.clear(),this._btnMap=null,this._btnShop.clear(),this._btnShop=null,this._btnDanger.clear(),this._btnDanger=null,this._btnHat.clear(),this._btnHat=null,this._btnOpen.clear(),this._btnOpen=null,this._btnSoon.clear(),this._btnSoon=null,this._btnStart.clear(),this._btnStart=null,this._btnOpenNow.clear(),this._btnOpenNow=null,this._btnMoreVisitor.clear(),this._btnMoreVisitor=null,this._btnDayMis.clear(),this._btnDayMis=null,this._btnRank.clear(),this._btnRank=null,this._btnInvi.clear(),this._btnInvi=null,this._btnKn.clear(),this._btnKn=null,this._btnGiftSure.clear(),this._btnGiftSure=null,i.clearArray(this._enclosureList),this._launchGamePos=null,this._cameraNode=null,this._aniCannon=null,this._aniShip=null,this._shipRoot=null,this._openGoldAdd=null,this._fenceCreateFun=null,this._mouseDownY=null,this._mouseDownX=null,this._mouseDownTime=null,this._lastMouseY=null,this._lastMouseX=null,this._mouseDown=null,this._hasMove=null,this._camJoint=null,this._midCnt=null,this._targetAnimal=null,this._cfgHats=null,this._hatCube=null,this._role=null,this._roleHead=null,this._roleAni=null,this._hatModel=null,this._sexPoint=null,this._skinIndex=null,this._tilingOffset=null,this._clothes=null,this._ungainHatArr=null,this._beforeCam=null,this._beforeHat=null,this._openList=null,this._curHat=null,this._next=null,this._nextParam=null,this.wxmd=null,this._legent=null,i.eventBus.off(Laya.Event.FOCUS,this,this.onFocus),this._shareTime=null,i.clearArray(this._midList),this._midList=null,this._from=null,this.zjInsert=null,this._showGift=null,Laya.Tween.clearAll(this)),"zoo"==e){this._enclosures={};let e=m.cfgEnclosure;for(const t in e)e.hasOwnProperty(t)&&e[t]&&!e[t].path&&this.bindAssets3D("ship/Conventional/"+m.cfgEnclosure[t].res+"_Enclosure.lh","zoo",!0);this._cfgHats=m.cfgHats;for(const e in this._cfgHats)this._cfgHats.hasOwnProperty(e)&&this.bindAssets3D(this._cfgHats[e].res,"zoo",!0);let i=m.get("dangerFreshTime",0),n=Laya.Browser.now(),s=new Date(n),a=new Date(i);if(s.setHours(0,0,0,0)!=a.setHours(0,0,0,0)){m.set("dangerFreshTime",n);let e=[],i=["lion8","gorilla8","llama8","emu8"],s=m.cfgSpawn;for(var t in s){let n=s[t].animal;for(let t=0;t<n.length;t++){let s=n[t];s.change<=0||(i.indexOf(s.name)>-1||s.hasOwnProperty("onlySpawnsIfPurchased")&&s.onlySpawnsIfPurchased||m.getAnimals(m.cfgAnimal[s.id].encId).indexOf(s.id)>-1||e.push(s.id))}}e.sort(function(e,t){return Math.random()>.5?-1:1});let a=e.slice(0,3);m.set("dangerArr",a)}let o=m.get("dangerArr",[0,0,0]);for(let e=0;e<o.length;e++){let t=o[e];if(0==t)break;let i=m.cfgAnimal[t].res;this.bindAssets3D(i,"zoo",!0)}}}afterEnterScene(e){if(super.afterEnterScene(e),"-1"!=i.uid&&1!=i.logined||1!=this._login||(this._login=!1,"wx"==i.channel||"zj"==i.channel&&i.reportEvent("enter_mainPage",{})),"zoo"==e){if(g.teachCtrl.status>0&&("wx"==i.channel||"qq"==i.channel?i.TmCtrl.instance.tmSendEvent("yd_zhujm"):"oppo"==i.channel?u.upload(_.yd_zhujm):"bd"===i.channel&&i.reportEvent("yd_zhujm")),this._next&&this._next>0){if(2==this._next)this.openZoo();else if(1==this._next&&this._nextParam){let e=m.cfgEnclosure[this._nextParam];if(!e)return;let t=e.res,i=this._enclosures[t];i&&this.selectEnc(i,t,e.size>1,0,!0)}else 3==this._next?this.openMap():4==this._next?this.openQuestion():5==this._next&&this.openRank();this._next=null,this._nextParam=null}i.sound.playSound("audioGame/Music_Title.mp3"),this.showDian(),"oppo"==i.channel?i.ad.hideBanner():"qq"==i.channel?(this.qqPatch(),this.qqGiftSend()):"hw"===i.channel&&this.hwPatch()}}qqGiftSend(e=!1){let n=new t;n.once(Laya.Event.COMPLETE,this,t=>{if(0==t.code&&t.data&&t.data.length>0){let i=[];for(let n=0;n<t.data.length;n++){let s=t.data[n];"10009"==s&&i.indexOf("10009")<0?(i.push("10009"),m.addGold(100,1029),m.addJew(10,1017),this.showIndex(1,e)):"10010"==s&&i.indexOf("10010")<0&&(i.push("10010"),m.addGold(20,1029),m.addJew(2,1017),this.showIndex(2,e))}}});let s=Laya.Browser.now(),a=Laya.LocalStorage.getItem("zoozyClient"),o="qqGiftSend?sha="+i.md5(i.md5(i.key+i.noice)+s+":"+a+"::"+i.noice)+"&noice="+i.noice+"&time="+s+"&client="+a;o=o+"&channel="+i.channel+"&game=zoo&openid="+i.uid,console.log(o),n.send("https://api.smartjoygames.com/zy/"+o,"","get","json")}btnGiftSure(){3==this._showGift?(this._view.LableGold.text="+20",this._view.LableJew.text="+2",this._view.TitleGift.skin="main/gift_day.png",this._showGift=null):this._view.giftBox.visible=!1}showIndex(e,t=!1){this._showGift=this._showGift||0,this._showGift+=e,this._showGift=this._showGift>=3?3:this._showGift,t&&this.showGift()}showGift(){this._showGift&&0==this._view.notice.visible&&(this._view.giftBox.visible=!0,1==this._showGift||3==this._showGift?(this._view.LableGold.text="+100",this._view.LableJew.text="+10",this._view.TitleGift.skin="main/gift_rookie.png"):2==this._showGift&&(this._view.LableGold.text="+20",this._view.LableJew.text="+2",this._view.TitleGift.skin="main/gift_day.png"))}testHttp(){let e=new t;e.once(Laya.Event.ERROR,this,e=>{}),e.once(Laya.Event.COMPLETE,this,e=>{});let n=Laya.Browser.now(),s=Laya.LocalStorage.getItem("zoozyClient"),a="wxSubscribeSave?sha="+i.md5(i.md5(i.key+i.noice)+n+":"+s+"::"+i.noice)+"&noice="+i.noice+"&time="+n+"&client="+s;a=a+"&channel="+i.channel+"&game=zoo&gid="+i.gid,console.log(a),e.send("http://192.168.170.240:9000/api/"+a,"","get","json")}hwPatch(){let e=new t;e.once(Laya.Event.ERROR,this,e=>{console.log("请求失败~",e)}),e.once(Laya.Event.COMPLETE,this,e=>{if(console.log("请求成功",e),0==e.code){if(console.log("订单查询成功 ==> 发货"),e.data)for(let t=0;t<e.data.length;t++)g.shopCtrl.giveAward(e.data[t].produceName)}else console.log("订单查询失败")});let n=Math.floor(Laya.Browser.now()/1e3),s=Laya.LocalStorage.getItem("zoozyClient"),a="sha="+i.md5(i.md5(i.key+i.noice)+n+":"+s+"::"+i.noice)+"&noice="+i.noice+"&time="+n+"&client="+s;a=a+"&gid="+i.gid,e.send("https://api.smartjoygames.com/zy/hwZooSearch?"+a,"","get","json"),console.log("https://api.smartjoygames.com/zy/hwZooSearch?"+a)}qqPatch(){let e=new t;e.once(Laya.Event.ERROR,this,t=>{e.destroy(),console.log("请求失败~",t)}),e.once(Laya.Event.COMPLETE,this,t=>{if(0==t.code){if(t.data&&t.data.length>0)for(let e=0;e<t.data.length;e++){let i=t.data[e];console.log(i),i.orderId&&i.name&&null!=i.send&&(m.orderSend[i.orderId]||1!=i.send?!m.orderSend[i.orderId]&&0==i.send||m.orderSend[i.orderId]&&0==m.orderSend[i.orderId][1]?g.shopCtrl.giveAward(i.name,i.orderId):m.orderSend[i.orderId]&&1==m.orderSend[i.orderId][1]&&0==i.send&&g.shopCtrl.oppoPayComplete(i.orderId):this.calComplete(i.name,i.orderId))}}else console.log(t.msg);e.destroy()});let n=Laya.Browser.now(),s=Laya.LocalStorage.getItem("zoozyClient"),a="qqPatch?sha="+i.md5(i.md5(i.key+i.noice)+n+":"+s+"::"+i.noice)+"&noice="+i.noice+"&time="+n+"&client="+s;a=a+"&gid="+i.gid,e.send("https://api.smartjoygames.com/zy/"+a,"","get","json")}oppoPatch(){let e=new t;e.once(Laya.Event.ERROR,this,t=>{e.destroy(),console.log("请求失败~",t)}),e.once(Laya.Event.COMPLETE,this,t=>{if(0==t.code){if(t.data&&t.data.length>0)for(let e=0;e<t.data.length;e++){let i=t.data[e];console.log(i),i.orderId&&i.name&&null!=i.send&&(m.orderSend[i.orderId]||1!=i.send?(!m.orderSend[i.orderId]&&0==i.send||m.orderSend[i.orderId]&&0==m.orderSend[i.orderId][1])&&g.shopCtrl.giveAward(i.name,i.orderId):this.calComplete(i.name,i.orderId))}}else console.log(t.msg);e.destroy()});let n=Laya.Browser.now(),s=Laya.LocalStorage.getItem("zoozyClient"),a="oppoPatch?sha="+i.md5(i.md5(i.key+i.noice)+n+":"+s+"::"+i.noice)+"&noice="+i.noice+"&time="+n+"&client="+s;a=a+"&gid="+i.gid,e.send("https://api.smartjoygames.com/zy/"+a,"","get","json")}calComplete(e,t){let i={"1000金币和象伯爵":["143",1e3],"5000金币和电子斑马":["126",5e3],"24000金币和所有高级动物":[24e3],"摇钱牛":["10"],"任务狂螺":["13"],"复活渡鸦":["11"],"幸运羔羊":["12"]};if("摇钱牛"==e||"任务狂螺"==e||"复活渡鸦"==e||"幸运羔羊"==e||"1000金币和象伯爵"==e||"5000金币和电子斑马"==e)m.getAnimals(m.cfgAnimal[i[e][0]].encId)&&m.getAnimals(m.cfgAnimal[i[e][0]].encId).indexOf(i[e][0])<0&&g.shopCtrl.giveAward(e,t);else{let i=this.calcFreshIds();for(let n=0;n<i.length;n++){let s=i[n];if(m.cfgAnimal[s]&&!(m.getAnimals(m.cfgAnimal[s].encId).indexOf(s)>-1)){g.shopCtrl.giveAward(e,t);break}}}}calcFreshIds(){let e=[],t=["lion8","gorilla8","llama8","emu8"],i=m.cfgSpawn;for(var n in i){let s=i[n].animal;for(let i=0;i<s.length;i++){let n=s[i];n.change<=0||(t.indexOf(n.name)>-1||n.hasOwnProperty("onlySpawnsIfPurchased")&&n.onlySpawnsIfPurchased||e.push(n.id))}}return e}createChildren(e){if("zoo"==e){this.changeStatus(1),this._view=i.stage.sceneUI,m.enclosure[1001]>-1?(this._view.teachMask1.removeSelf(),this._view.teackMask2.removeSelf(),this._view.teackMask3.removeSelf(),this._view.teachMask4.removeSelf()):(this._view.teachMask1.visible=!1,this._view.teackMask2.visible=!1,this._view.teackMask3.visible=!1,this._view.teachMask4.visible=!1,this._view.signMask.visible=!1,this.disableMouseEvent(this._view.teachMask1),this.disableMouseEvent(this._view.teackMask2),this.disableMouseEvent(this._view.teackMask3),this.disableMouseEvent(this._view.teachMask4)),this.disableMouseEvent(this._view.signMask),this._btnDollar=new L(this._view.btnDollar,this._view.btnLightDollar),this._btnMap=new L(this._view.btnMap),this._btnShop=new L(this._view.btnShop,this._view.shopligth),this._btnDanger=new L(this._view.btnDanger),this._btnHat=new L(this._view.btnHat),this._btnOpen=new L(this._view.btnOpen,this._view.btnOpenLight),this._btnSoon=new L(this._view.btnSoon,this._view.btnLightSoon),this._btnStart=new L(this._view.btnStart),this._btnOpenNow=new L(this._view.btnOpenNow),this._btnMoreVisitor=new L(this._view.btnMoreVisitor,this._view.btnMoreLight),this._btnSetting=new L(this._view.btnSetting),this._btnDayMis=new L(this._view.btnDayMis),this._btnRank=new L(this._view.btnRank),this._btnInvi=new L(this._view.btnInvi),this._btnclosenotice=new L(this._view.btnclosenotice,null,null,-34,-20),this._btnKn=new L(this._view.btnKn,null,null,-65,-55),this._btnGiftSure=new L(this._view.btnGiftSure,null,null,-35,-20),this._view.aniSpSale.play(0,!0),"bd"!==i.channel?(this._view.topUI.y=30+i.stage.notchHeight,this._view.topjew.y=30+i.stage.notchHeight):(this._view.topjew.y=30+i.stage.notchHeight,this._view.topUI.y=this._view.topjew.y-this._view.topUI.height-30,this._view.topUI.right=NaN,this._view.topUI.left=this._view.topjew.left),this._view.boxBtn.y=100+i.stage.notchHeight,this._view.gold1.text=m.gold.toString(),this._view.gold2.text=m.gold.toString(),this._select=Laya.loader.getRes("ship/Conventional/Select.lh"),this._selectBig=Laya.loader.getRes("ship/Conventional/SelectBig.lh"),this._scene=Laya.loader.getRes("ship/Conventional/ExportZoo.ls"),this._scene.addChild(this._select),this._scene.addChild(this._selectBig),this._select.transform.localPositionX=1e3,this._selectBig.transform.localPositionX=1e3,i.stage.addChild(this._scene,i.Layer.D3);let e=Laya.loader.getRes("ship/Conventional/CameraRig.lh");this._camJoint=e.getChildByName("joint").transform,e.getChildByName("GroundPlane")&&(e.getChildByName("GroundPlane").active=!1),this._cameraNode=e,e.transform.localPosition=i.Temp.getVector3(-87.5,253,-270),this._camOffY=i.findChildByPath(e,"CameraOrbit.SelfieOffsetY").transform,this._camOffX=i.findChildByPath(e,"CameraOrbit.SelfieOffsetY.SelfieOffsetX").transform,this._camAni=this._scene.addChild(e).getComponent(Laya.Animator),this._camAni.play("default"),this._cam=i.findChildByPath(e,"CameraOrbit.SelfieOffsetY.SelfieOffsetX.AnimOffset.AnimDolly.ShakeOffset.Main Camera.Camera"),this._cam.fieldOfView=35,this._shipRoot=Laya.loader.getRes("ship/Conventional/AirshipRoot.lh"),this._shipRoot.transform.localPosition=i.Temp.getVector3(0,0,-14),this._aniShip=this._shipRoot.getComponent(Laya.Animator),this._scene.addChild(this._shipRoot);let t=m.enclosure,n=[],s=[],a=[],o=[];for(const e in t)if(t.hasOwnProperty(e)){t[e];const i=m.cfgEnclosure[e];i.path?a.push(i):1===i.size?(o[i.world]=o[i.world]||0,o[i.world]=o[i.world]+1,n.push(i)):s.push(i)}let h=0;for(let e=0;e<o.length;e++)h+=o[e]+1>>1;h+=s.length;let l=this._shipRoot.getChildByName("ship_front");l.transform.localPositionZ=28*(h-1);let r=l.getChildByName("cannon");r.addComponent(pe);let p=r.getComponent(Laya.Animator);p.play("prelaunch",0,0),this._aniCannon=p,this._shipRoot.addChild(Laya.loader.getRes("ship/Conventional/Ship_sides.lh"));let d=[],g=Laya.loader.getRes("ship/Conventional/Ship_mid.lh");d.push(g),this._shipRoot.addChild(g),this._launchGamePos=i.findChildByPath(this._shipRoot,"ship_front.camTarget_launchGame").transform;for(let e=1;e<h;e++){let t=de.instantiate(g,this._shipRoot);t.transform.localPositionZ=28*e,d.push(t)}this._midList=d;let c=0,_=0;for(let e=0;e<m.worldLevel+1;e++){let a;for(let s=0;s<n.length;s++){const o=n[s];o.world==e&&((a=t[o.id])||0===a||(a=-1),o.path?this.createEnclosure(i.findChildByPath(this._shipRoot,o.path),o,a,0):(this.createEnclosure(d[c],o,a,_%2*20),++_),_%2==0&&_>1&&++c)}_%2!=0&&++c;for(let n=0;n<s.length;n++){const o=s[n];o.world==e&&(a=t[o.id]||-1,o.path?this.createEnclosure(i.findChildByPath(this._shipRoot,o.path),o,a,0):(this.createEnclosure(d[c],o,a,20),++c))}}for(let e=0;e<a.length;e++){const t=a[e];t.path&&this.createEnclosure(i.findChildByPath(this._shipRoot,t.path),t,-1,0)}if(this._cloudShooter.start(this._scene),this.addListener(),this.updateOpenInfo(),this._topPosZ=28*(h-1)+70,re.instance.init(),this._midCnt=h,this.initHatModule(),this.initBuff(),this.initBtn(),this.initJew(),this.initActive(),this.initKnowledgeIcon(),this.initBtnDeskApp(),this.teachOpenSign(),this.initDollar(),"hw"==i.channel&&(this._view.btnRank.visible=!1,this._view.btnPrize.visible=!1,this._view.btnInvi.visible=!1,this._view.btnActive.visible=!1,this._view.btnKn.visible=!1,this._view.btnFreeJew.visible=!1,this._view.btnAddJew.visible=!1),m.showAllShip||(this._view.start.visible=!1,this._cameraNode.transform.localPosition.setValue(-17.5,45,-70),this._cameraNode.transform.localPosition=this._cameraNode.transform.localPosition,this._view.zooUI.visible=!0,this._view.zooUIBottom.visible=!0,this._view.zooUIOpen.visible=!1,this.changeStatus(2),i.sound.playSound("audioGame/Music_Zoo_Intro.mp3",1,!1,this,()=>{i.sound.playMusic("audioGame/Music_Zoo.mp3")})),this._view.start.visible||this.initFudai(),i.eventBus.on("DAILY_TASK",this,this.showDian),"qq"!=i.channel&&"none"!=i.channel||this.qqGiftSend(),m.get("isShowNotice",1)&&!this._firstShowNotice){if(this._view.notice_word.on(Laya.Event.MOUSE_DOWN,this,this.startScrollText),this._view.btnCheckShow.on(Laya.Event.CLICK,this,this.onBtnCheckShow),this._view.btnUpdateTip.visible=!1,this._view.imgContent.y=148,"wx"===i.channel){if(Laya.Browser.window.wx.getSetting){let e=this;Laya.Browser.window.wx.getSetting({withSubscriptions:!0,success(t){if(t.subscriptionsSetting&&t.itemSettings){let i=t.itemSettings["ErO_Yw0X3nCApo4SuvgX5-3Rl0watEDGa4SrPWNVJf8"];i&&"accept"===i&&(e._view.btnUpdateTip.visible=!1)}},fail(e){}})}}else if("qq"===i.channel&&Laya.Browser.window.qq.getSetting){let e=this;Laya.Browser.window.qq.getSetting({withSubscriptions:!0,success(t){if(t.subscriptionsSetting&&t.itemSettings){let i=t.itemSettings.aabb391c66d8c6818a66169c2a30c93b;i&&"accept"===i&&(e._view.btnUpdateTip.visible=!1)}},fail(e){}})}this.notice()}else"qq"==i.channel&&this.showGift()}"ZY_FIRST"!==e&&(m.showAllShip=!1),i.stage.scene3D&&(i.stage.scene3D.input.multiTouchEnabled=!1)}onBtnCheckShow(){m.get("isShowNotice",1)?(m.set("isShowNotice",0),this._view.btnCheckShow.getChildAt(0).visible=!0):(m.set("isShowNotice",1),this._view.btnCheckShow.getChildAt(0).visible=!1)}onBtnUpdateTip(){if("wx"===i.channel){if(Laya.Browser.window.wx.requestSubscribeMessage){let e=this;Laya.Browser.window.wx.requestSubscribeMessage({tmplIds:["ErO_Yw0X3nCApo4SuvgX5-3Rl0watEDGa4SrPWNVJf8"],success(t){console.log(t),i.msg.show("更新消息订阅成功！"),e.sendMessageToServer()},fail(e){console.log(e),i.msg.show("更新消息订阅失败！")}})}}else if("qq"===i.channel&&Laya.Browser.window.qq.subscribeAppMsg){let e=this;Laya.Browser.window.qq.subscribeAppMsg({tmplIds:["aabb391c66d8c6818a66169c2a30c93b"],subscribe:!0,success(t){console.log(t),i.msg.show("更新消息订阅成功！"),e.sendMessageToServer()},fail(e){console.log(e),i.msg.show("更新消息订阅失败！")}})}}sendMessageToServer(){let e=new Laya.HttpRequest;e.http.timeout=5e3,e.once(Laya.Event.COMPLETE,this,e=>{e&&console.log("订阅成功！")}),e.send("http://192.168.170.240:9000/api/wxSubscribeSave?channel="+i.channel+"&game=zoo&gid="+i.gid,"","get","json")}startScrollText(){this.prevX=this._view.notice_word.mouseX,this.prevY=this._view.notice_word.mouseY,this._view.notice_word.on(Laya.Event.MOUSE_MOVE,this,this.scrollText),this._view.notice_word.on(Laya.Event.MOUSE_UP,this,this.finishScrollText)}scrollText(e){var t=this._view.notice_word.mouseX,i=this._view.notice_word.mouseY;this._view.notice_word.textField.scrollX+=this.prevX-t,this._view.notice_word.textField.scrollY+=this.prevY-i,this.prevX=t,this.prevY=i}finishScrollText(e){this._view.notice_word.off(Laya.Event.MOUSE_MOVE,this,this.scrollText),this._view.notice_word.off(Laya.Event.MOUSE_UP,this,this.finishScrollText)}notice(){let e=m.get("notice_ver",0);if(this._notice&&1==this.status&&0==g.teachCtrl.status&&this._notice.ver!==e)this._view.notice.visible=!0,this._view.notice_word.text=this._notice.notice,m.set("notice_ver",this._notice.ver),this._notice=null;else{let e=new Laya.HttpRequest;e.http.timeout=5e3,e.once(Laya.Event.COMPLETE,this,e=>{0==e.code&&e.data&&e.data.notice&&0==g.teachCtrl.status&&(1==this.status?(this._firstShowNotice=!0,this._view.notice.visible=!0,this._view.notice_word.text=e.data.notice,m.set("notice_ver",e.data.ver)):this._notice=e.data)}),e.send("https://zy-1257315588.file.myqcloud.com/zoo/"+i.channel+"/notice.json?time="+Laya.Browser.now(),"","get","json")}}mapDian(){g.mapCtrl.showDian()?this._view.mapDian.visible=!0:this._view.mapDian.visible=!1}mapZi(){g.mapCtrl.showDian()&&1==this._view.visitorInfo.visible&&(this._view.mapZi.visible=!0,Laya.timer.once(15e3,this,this.clearZi))}clearZi(){this._view.mapZi.visible=!1}showDian(){"zoo"==this._sceneName&&(g.dayMissionCtrl.showDian()?this._view.dian.visible=!0:this._view.dian.visible=!1,this.mapDian(),this.mapZi())}checkSignin(){if(!(this._next&&this._next>0)&&m.enclosure[1001]>-1){let e=m.get("signDay",0),t=Laya.Browser.now(),n=m.get("signinTime",0),s=new Date(t),a=new Date(n);s.setHours(0,0,0,0)!=a.setHours(0,0,0,0)&&(m.set("hasSignin",0),7==e&&(e=0,m.set("signDay",0))),0==m.get("hasSignin",0)&&(this._hasAutoOpenSignin||(this._hasAutoOpenSignin=!0,g.settingCtrl.showSetting(4),this._view.signMask.visible=!0,"wx"==i.channel||"qq"==i.channel?i.TmCtrl.instance.tmSendEvent("ad_signIn",{value:"曝光"}):"zj"==i.channel?i.reportEvent("ad_signIn",{value:"曝光"}):"oppo"==i.channel&&u.upload(_.ad_signIn,2)))}}teachOpenSign(){this._next&&this._next>0||0==m.get("hasSignin",0)&&(this._needOpenSign&&Laya.timer.callLater(this,()=>{g.settingCtrl.showSetting(4),this._view.signMask.visible=!0,"wx"==i.channel||"qq"==i.channel?i.TmCtrl.instance.tmSendEvent("ad_signIn",{value:"曝光"}):"zj"==i.channel?i.reportEvent("ad_signIn",{value:"曝光"}):"oppo"==i.channel&&u.upload(_.ad_signIn,2),m.set("needAutoOpenSign",0),this._hasAutoOpenSignin=!0,this._needOpenSign=!1}),m.enclosure[1001]>-1||(this._needOpenSign=!0))}initDollar(){if(Laya.Browser.onAndroid&&("qq"==i.channel||"wx"==i.channel||"bd"==i.channel)||"oppo"==i.channel||"vivo"==i.channel){m.loop(),0==m.get("dollar",0)?this._view.btnDollar.visible=!0:this._view.btnDollar.visible=!1;let e=m.get("dollar_start",0);e>0?(this._view.dollar.visible=!0,this._view.dollar.text="1000米起跑*"+e):this._view.dollar.visible=!1}else"none"==i.channel?this._view.btnDollar.visible=!0:this._view.btnDollar.visible=!1}initActive(){let e=[[1001,"108"],[1005,"188"],[1007,"229"]];this._view.btnActive.visible=!1,"zj"==i.channel||"vivo"==i.channel||"hw"==i.channel||"bd"==i.channel?this._view.btnActive.y=420:"qq"==i.channel?this._view.btnActive.y=700:"oppo"==i.channel?this._view.btnActive.y=540:"wx"==i.channel&&(this._view.btnActive.y=700);for(let t=0;t<e.length;t++){let i=e[t][1],n=e[t][0];if(null!=m.enclosure[n]&&m.getAnimals(Number(n)).indexOf(Number(i))<0){this._view.btnActive.visible=!0,Laya.Tween.clearAll(this._view.btnActive),this.activeMove();break}}}activeMove(){let e=this._view.btnActive;if(!e)return;Laya.Tween.to(e,{rotation:15},300,null,null,0,!1),Laya.Tween.to(e,{rotation:-15},600,null,null,300,!1),Laya.Tween.to(e,{rotation:0},300,null,Laya.Handler.create(this,this.activeMove),900,!1)}initKnowledgeIcon(){"zj"==i.channel||"vivo"==i.channel||"oppo"==i.channel||"hw"==i.channel||"bd"==i.channel?this._view.btnKn.y=290:"wx"!=i.channel&&"qq"!=i.channel||(this._view.btnKn.y=540),Laya.Tween.clearAll(this._view.btnKn),m.questionCount>0?(this._view.btnKn.getChildAt(0).getChildAt(0).visible=!0,this.knowledgeIconMove()):(this._view.btnKn.getChildAt(0).getChildAt(0).visible=!1,this._view.btnKn.rotation=0)}knowledgeIconMove(){let e=this._view.btnKn;if(!e)return;Laya.Tween.to(e,{rotation:15},300,null,Laya.Handler.create(this,()=>{Laya.Tween.to(e,{rotation:-15},600,null,Laya.Handler.create(this,()=>{Laya.Tween.to(e,{rotation:0},300,null,Laya.Handler.create(this,this.knowledgeIconMove))}))}))}initBtnDeskApp(){if("vivo"==i.channel||"oppo"==i.channel||"qq"==i.channel||"none"==i.channel||"bd"==i.channel&&Laya.Browser.onAndroid){let e;"bd"==i.channel?e=1==m.get("bdShortCut",0):"vivo"==i.channel?e=1==m.get("vivoShortCut",0):"oppo"==i.channel?e=1==m.get("oppoShortCut",0):"qq"==i.channel&&(e=1==m.get("qqShortCut",0)),console.log("==========================="),console.log(e),console.log(m.get("qqShortCut",0)),this._view.btnDeskApp.visible=!e,e||("oppo"==i.channel?this._view.btnDeskApp.y=360:"qq"==i.channel||"none"==i.channel?(this._view.btnDeskApp.y=620,Laya.Browser.onAndroid?(this._view.btnActive.x=55,this._view.btnActive.y=790):(this._view.btnActive.x=55,this._view.btnActive.y=660)):this._view.btnDeskApp.y=550,Laya.Tween.clearAll(this._view.imgQ),this.showBubble())}else this._view.btnDeskApp.visible=!1}showBubble(){this._view.imgQ.scale(0,0),Laya.Tween.to(this._view.imgQ,{scaleX:1,scaleY:1},500,null,Laya.Handler.create(this,()=>{Laya.systemTimer.once(5e3,this,this.showBubble)}))}initFudai(){let e=m.get("getFdRewardDay",""),t=new Date,i=t.getFullYear(),n=t.getMonth()+1,s=t.getDate(),a=i+"-"+n+"-"+s;if((""==e||-1==e.indexOf(a))&&(9==n&&s>=18||10==n&&s<=11)){this._view.btnFudai.visible=!0;let e=100*Math.random();this._view.btnFudai.x=e<50?-this._view.btnFudai.width:Laya.stage.width,this._view.btnFudai.y=Laya.stage.height*(.5*Math.random()+.25),this._view.btnFudai.x<0?this._moveDirX=1:this._moveDirX=-1,e=100*Math.random(),this._moveDirY=e<50?1:-1,this._view.imgLeftWing.rotation=10,this._view.imgRightWing.rotation=-10,Laya.Tween.clearAll(this._view.imgLeftWing),Laya.Tween.clearAll(this._view.imgRightWing),Laya.Tween.to(this._view.imgLeftWing,{rotation:-25},800,null).repeat=0,Laya.Tween.to(this._view.imgRightWing,{rotation:25},800,null).repeat=0,this._stayTime=0,m.get("isFirstInGame",0)?this._intervalTime=0:(this._intervalTime=15e3,m.set("isFirstInGame",1)),this._isMove=!1,Laya.systemTimer.loop(1,this,this.fudaiMove)}}fudaiMove(){this._isMove?(this._stayTime+=i.timerManager.delta,(this._stayTime<1e4||this._stayTime>13e3)&&(this._stayTime<2e4||this._stayTime>23e3)&&(this._view.btnFudai.x+=this._moveSpeed*i.timerManager.delta/1e3*this._moveDirX,this._view.btnFudai.y+=this._moveSpeed*i.timerManager.delta/1e3*this._moveDirY),this._stayTime<3e4?(this._view.btnFudai.x>Laya.stage.width-this._view.btnFudai.width&&(this._moveDirX=-1),this._view.btnFudai.x<0&&(this._moveDirX=1),this._view.btnFudai.y<0&&(this._moveDirY=1),this._view.btnFudai.y>Laya.stage.height-this._view.btnFudai.height&&(this._moveDirY=-1)):(this._view.btnFudai.x>Laya.stage.width||this._view.btnFudai.x<-this._view.btnFudai.width||this._view.btnFudai.y>Laya.stage.height||this._view.btnFudai.y<-this._view.btnFudai.height)&&(this._isMove=!1,this._intervalTime=0)):(this._intervalTime+=i.timerManager.delta,this._intervalTime>3e4&&(this._isMove=!0,this._stayTime=0,this._view.btnFudai.x<0?this._moveDirX=1:this._moveDirX=-1,this._view.btnFudai.y<0?this._moveDirY=1:this._moveDirY=-1))}initJew(){this.onUpdateJew()}initBtn(){if(this.showFreeJewBtn(),this._view.btnDayMis.visible=!0,"oppo"!=i.channel&&"vivo"!=i.channel&&"zj"!=i.channel&&"hw"!=i.channel&&"bd"!=i.channel||(this._view.btnDayMis.top=40),Laya.Browser.onMiniGame&&"wx"==i.channel?(console.log("主域传递图片到子域"),Laya.MiniAdpter.sendAtlasToOpenDataContext(i.assetsManger.getUrl("res/atlas/rank.atlas")),Laya.MiniAdpter.sendAtlasToOpenDataContext("res/atlas/rank.atlas"),Laya.QQMiniAdapter.sendAtlasToOpenDataContext(i.assetsManger.getUrl("res/atlas/friend.atlas")),Laya.QQMiniAdapter.sendAtlasToOpenDataContext("res/atlas/friend.atlas")):"qq"===i.channel&&(Laya.QQMiniAdapter.sendAtlasToOpenDataContext(i.assetsManger.getUrl("res/atlas/rank.atlas")),Laya.QQMiniAdapter.sendAtlasToOpenDataContext("res/atlas/rank.atlas"),Laya.QQMiniAdapter.sendAtlasToOpenDataContext(i.assetsManger.getUrl("res/atlas/friend.atlas")),Laya.QQMiniAdapter.sendAtlasToOpenDataContext("res/atlas/friend.atlas")),"wx"==i.channel||"qq"===i.channel){let e;if("wx"==i.channel?e=wx:"qq"==i.channel&&(e=window.qq),this._view.btnRank.visible=!0,this._view.btnInvi.visible=!0,e){let t=m.getFarest(0);t<m.getFarest(1)&&(t=m.getFarest(1)),console.log("记录自己的成绩");let i=[];i.push({key:"grade",value:t.toString()}),i.push({key:"ticket",value:m.stat_tickts.toString()}),i.push({key:"animal",value:m.stat_animals.toString()}),i.push({key:"gold",value:m.stat_addgold.toString()}),console.log(i.toString()),e.setUserCloudStorage({KVDataList:i,success:function(e){console.log("存储成功\n",e)},fail:function(e){console.error(e)}})}}else"qq"==i.channel||(this._view.btnRank.visible=!1)}initBuff(){let e=m.buff;if(e.time&&e.time>Laya.Browser.now()){this._view.btnPrize.visible=!1,this._view.btnBuff.visible=!0,this._view.btnBuff.mouseEnabled=!1,this._view.imgBuffIcon.skin=e.icon;let t=Math.floor((e.time-Laya.Browser.now())/1e3);this._buffTime=t,this.buffTimeOut(),Laya.systemTimer.loop(1e3,this,this.buffTimeOut)}else e.time&&e.time<Laya.Browser.now()?this._view.btnPrize.visible=!0:e.label&&"大礼包"==e.label?this._view.btnPrize.visible=!0:e.label&&e.label.length>0&&(this._view.btnPrize.visible=!1);let t=m.get("lastFreshPrizeTime",0),i=Laya.Browser.now(),n=new Date(i),s=new Date(t);n.setHours(0,0,0,0)!=s.setHours(0,0,0,0)&&(m.set("lastFreshPrizeTime",i),m.set("todayPrizeTimes",3)),m.get("todayPrizeTimes",3)<=0&&(this._view.btnPrize.visible=!1)}mapLevelUp(){let e=m.enclosure,t=[],n=[],s=[],a=[];for(const i in e)if(e.hasOwnProperty(i)){e[i];const o=m.cfgEnclosure[i];o.path?s.push(o):1===o.size?(a[o.world]=a[o.world]||0,a[o.world]=a[o.world]+1,t.push(o)):n.push(o)}let o=0;for(let e=0;e<a.length;e++)o+=a[e]+1>>1;o+=n.length,this._midCnt=o;for(const e in this._enclosures)if(this._enclosures.hasOwnProperty(e)){const t=this._enclosures[e];t&&t.removeSelf()}this._shipRoot.getChildByName("ship_front").transform.localPositionZ=28*(o-1);let h=this._midList,l=Laya.loader.getRes("ship/Conventional/Ship_mid.lh");for(let e=h.length;e<o;e++){let t=de.instantiate(l,this._shipRoot);t.transform.localPositionZ=28*e,h.push(t)}let r,p=0,d=0;for(let s=0;s<m.worldLevel+1;s++){let a;for(let n=0;n<t.length;n++){const o=t[n];o.world==s&&((a=e[o.id])||0===a||(a=-1),(r=this._enclosures[o.res])?o.path?this.resetEnclosure(i.findChildByPath(this._shipRoot,o.path),r,o,a,0):(this.resetEnclosure(h[p],r,o,a,d%2*20),++d):o.path?this.createEnclosure(i.findChildByPath(this._shipRoot,o.path),o,a,0):(this.createEnclosure(h[p],o,a,d%2*20),++d),d%2==0&&d>1&&++p)}d%2!=0&&++p;for(let t=0;t<n.length;t++){const o=n[t];o.world==s&&(a=e[o.id]||-1,(r=this._enclosures[o.res])?o.path?this.resetEnclosure(i.findChildByPath(this._shipRoot,o.path),r,o,a,0):(this.resetEnclosure(h[p],r,o,a,20),++p):o.path?this.createEnclosure(i.findChildByPath(this._shipRoot,o.path),o,a,0):(this.createEnclosure(h[p],o,a,20),++p))}}for(let e=0;e<s.length;e++){const t=s[e];(r=this._enclosures[t.res])?t.path&&this.resetEnclosure(i.findChildByPath(this._shipRoot,t.path),r,t,-1,0):t.path&&this.createEnclosure(i.findChildByPath(this._shipRoot,t.path),t,-1,0)}}get middleCount(){return this._midCnt}showTeachMask(){this.fingerMove(this._view.fingerOpen),"oppo"==i.channel?u.upload(_.show_open):"bd"===i.channel&&i.reportEvent("show_open"),this._view.teachMask1.visible=!0,this._view.teachMask1.skin="preload/black.png",this._view.teackMask2.visible=!0,this._view.teackMask2.skin="preload/black.png",this._view.teackMask2.height=Laya.stage.height/i.stageScale-350}showOpenMask(){this._view.teackMask3.visible=!0,this._view.teackMask3.alpha=0,this._view.teackMask3.skin="preload/black.png",this._view.teackMask2.visible=!0,this._view.teackMask2.alpha=0,this._view.teackMask2.skin="preload/black.png"}showOpenMaskAfter(){this._view.teackMask3.visible=!0,this._view.teackMask3.alpha=.6,this._view.teackMask3.skin="preload/black.png",this._view.teackMask2.visible=!0,this._view.teackMask2.alpha=.6,this._view.teackMask2.skin="preload/black.png",this._view.teackMask2.height=Laya.stage.height/i.stageScale-560,"zj"==i.channel&&(this._view.tip.visible=!0)}clearSignMask(){this._view.signMask.visible=!1,this._view.signMask.removeSelf()}showStart(){this._view.teachMask1.removeSelf(),this._view.teackMask3.removeSelf(),g.teachCtrl.beforeStop(),this._view.teackMask2.visible=!0,this._view.teackMask2.alpha=0,this._view.teackMask2.skin="preload/black.png",this._view.teachMask4.visible=!0,this._view.teachMask4.alpha=0,this._view.teachMask4.skin="preload/black.png",this._view.teackMask2.height=Laya.stage.height/i.stageScale-350}showStartAfter(){this._view.teachMask4.alpha=.6,this._view.teackMask2.alpha=.6,this._view.teackMask2.height=Laya.stage.height/i.stageScale-350,this._view.teachLast.visible=!0}disableMouseEvent(e){e.mouseEnabled=!0,e.on(Laya.Event.MOUSE_DOWN,this,this.stopEvent),e.on(Laya.Event.MOUSE_UP,this,this.stopEvent),e.on(Laya.Event.CLICK,this,this.stopEvent),e.on(Laya.Event.MOUSE_MOVE,this,this.stopEvent)}stopEvent(e){e.stopPropagation()}hideTeachMask(){this._view.teachMask1.removeSelf(),this._view.teackMask3.removeSelf(),this._view.teachMask4.removeSelf(),this._view.teackMask2.removeSelf()}initHatModule(){this.dealHatsArr(),this._role=Laya.Sprite3D.instantiate(Laya.loader.getRes("game/Conventional/PlayerNew.lh")),this._blackBackGround=Laya.loader.getRes("ship/Conventional/HatBlackBg.lh"),this._hatBackGround=Laya.loader.getRes("ship/Conventional/HatSliderBg.lh"),this._scene.addChild(this._role),this._scene.addChild(this._blackBackGround),this._scene.addChild(this._hatBackGround),this._blackBackGround.transform.localPosition=i.Temp.getVector3(-1009,26,-25),this._hatBackGround.transform.localPosition=i.Temp.getVector3(-1009,26.8,-25.1),this._hatBackGround.transform.localScaleX=100,this._hatBackGround.transform.localScaleY=4.8,this._blackBackGround.transform.localScaleY=100,this._role.transform.localPosition=i.Temp.getVector3(-1009,26,-26),this._role.transform.localRotationEulerY=180,this._roleAni=this._role.getComponent(Laya.Animator),this._roleAni.play("inConfig"),i.findChildByPath(this._role,"Lasso_poly").destroy(),i.findChildByPath(this._role,"LandingRange").destroy(),this._sexPoint=i.findChildByPath(this._role,"offset.MESHES.DO_NOT_BATCH");let e=this._sexPoint.getChildByName("skirt"),t=this._sexPoint.getChildByName("cape");e.active=!1,t.active=!1,this._clothesPoint=i.findChildByPath(this._role,"offset.MESHES.DO_NOT_BATCH"),this._clothes=this._role.getChildByName("MESH_BODY").skinnedMeshRenderer.material,this._skinIndex=0,this._tilingOffset||(this._tilingOffset=new Laya.Vector4),this._tilingOffset.x=1,this._tilingOffset.y=1,this._tilingOffset.z=0,this._tilingOffset.w=-.0625,this._roleHead=i.findChildByPath(this._role,"offset.ctrl_main.ctrl_hips.HEAD 1.SKELETON 3.joint_head.joint_HAT.Hat_attach"),this._roleHead.removeChildren(),this._hatCube=new Laya.Sprite3D,this._scene.addChild(this._hatCube),this._hatCube.transform.localPosition=i.Temp.getVector3(-1009,27.8,-25.5),this.createHats(),this.addEventHats(),this._lastHatIndex=-1,this.changeSex(m.sex,!1),this.setClothes(m.clothes)}camMoveHat(e,t=!1){if(0==e)this.changeStatus(5),this._hatCube.active=!0,this._roleHead.active=!0,this._hatBackGround.active=!0,this._cameraNode.transform.localPosition=i.Temp.getVector3(-1e3,2.8,0),this._role.transform.localPosition=i.Temp.getVector3(-1009,26,-26);else if(1==e){let e=Object.keys(this._cfgHats).length-this._ungainHatArr.length;this._lastHatIndex>=e&&(this._lastHatIndex=e-1),this.changeStatus(6),g.hatCtrl.showHatBtn(this._lastHatIndex),this._hatBackGround.active=!1,this._role.transform.localPosition=i.Temp.getVector3(-1011.4,32.11,-34.47),this._hatCube.active=!1,this._roleHead.active=t}0==this._lastHatIndex&&(this._roleHead.active=!1)}createHats(){let e=this._curHatArr.slice(0),t=e.length,n=this._cfgHats;for(let s=0;s<t;s++){let t=e[s],a=n[t].res,o=Laya.loader.getRes(a);if(o.transform.localRotationEulerY=180,this._hatCube.addChild(o),o.transform.localPosition=i.Temp.getVector3(1.3*-s,0,0),this._ungainHatArr.indexOf(t)>-1){let e=o.meshRenderer.material;e.albedoColor.setValue(0,0,0,1),e.albedoColor=e.albedoColor}}}openHat(){"wx"!=i.channel&&"qq"!=i.channel||i.TmCtrl.instance.tmSendEvent("gn_dress"),this.unlockAnimal(),this.unselectEnc(),Laya.timer.clearAll(this),Laya.Tween.clearAll(this._cameraNode.transform),Laya.Tween.clearAll(this._camOffY),Laya.Tween.clearAll(this._camOffX),this.changeStatus(5),this._view.visible=!1,g.hatCtrl.showHat();let e=this._cameraNode.transform.localPositionX,t=this._cameraNode.transform.localPositionY,n=this._cameraNode.transform.localPositionZ,s=this._camOffX.localPosition,a=this._camOffY.localPosition;this._beforeCam=[s,a],this._beforeHat=[e,t,n],this._camOffX.localPosition=i.Temp.getVector3(0,0,0),this._camOffY.localPosition=i.Temp.getVector3(0,0,0),this.camMoveHat(0);let o=1.3*this._curHatArr.indexOf(m.curHatId)-1009;this._hatCube.transform.localPositionX=o,this.changeHat(o)}removeEventHats(){Laya.stage.off(Laya.Event.MOUSE_DOWN,this,this.onHatDown),Laya.stage.off(Laya.Event.MOUSE_MOVE,this,this.onHatMove),Laya.stage.off(Laya.Event.MOUSE_UP,this,this.onHatUp),Laya.stage.off(Laya.Event.MOUSE_OUT,this,this.onHatUp)}onHatDown(e){5==this.status&&(this._mouseDown=!0,this._hasMove=!1,this._mouseDownX=Laya.MouseManager.instance.mouseX,this._lastMouseX=this._mouseDownX,this._mouseDownTime=Laya.Browser.now())}onHatMove(e){if(5!=this.status)return;if(!this._mouseDown)return;let t=Laya.MouseManager.instance.mouseX,i=t-this._lastMouseX;if(Math.abs(i)<5)return;this._hasMove=!0,this._lastMouseX=t,this._camOffX&&(this._hatCube.transform.localPositionX-=.01*i,this._hatCube.transform.localPositionX<=-1009&&(this._hatCube.transform.localPositionX=-1009));let n=this._hatCube.transform.localPositionX;this.changeHat(n)}changeHat(e){let t=e- -1009.5,n=Math.floor(t/1.3);this._curHatArr[n];if(!(n>=this._curHatArr.length)&&this._lastHatIndex!=n){if(this._curHat){this._curHat.removeSelf(),this._hatCube.addChild(this._curHat),this._curHat.transform.localRotationEulerY=180;let e=-1.3*this._lastHatIndex;this._curHat.transform.localPosition=i.Temp.getVector3(e,0,0)}let e=this._curHatArr[n],t=this._cfgHats[e].res,s=this._cfgHats[e].name;this._curHat=Laya.loader.getRes(t),this._curHat.transform.localPosition.setValue(0,0,0),this._curHat.transform.localPosition=this._curHat.transform.localPosition,this._curHat.transform.localRotationEulerY=0,this._roleHead.addChild(this._curHat),g.hatCtrl.changeName(s,e),this._lastHatIndex=n,this._roleHead.active="100"!=e,this._ungainHatArr.indexOf(e)>-1?this.hideRoleColor():(this.showRoleColor(),this._curHatId=e,m.curHatId=this._curHatId)}}zjCdHat(){if(this._curHat){this._curHat.removeSelf(),this._hatCube.addChild(this._curHat),this._curHat.transform.localRotationEulerY=180;let e=-1.3*this._lastHatIndex;this._curHat.transform.localPosition=i.Temp.getVector3(e,0,0)}let e="102",t=this._cfgHats[e].res,n=this._cfgHats[e].name;this._curHat=Laya.loader.getRes(t),this._curHat.transform.localPosition.setValue(0,0,0),this._curHat.transform.localPosition=this._curHat.transform.localPosition,this._curHat.transform.localRotationEulerY=0,this._roleHead.addChild(this._curHat),g.hatCtrl.changeName(n,e),this._lastHatIndex=2,this._roleHead.active=!0,this.showRoleColor(),this._curHatId=e,this.dealHatsArr()}hideRoleColor(){let e=this._clothesPoint.numChildren;this._clothes.albedoColor.setValue(0,0,0,1),this._clothes.albedoColor=this._clothes.albedoColor;let t=this._curHat.meshRenderer.material;t.albedoColor.setValue(0,0,0,1),t.albedoColor=t.albedoColor;for(let t=0;t<e;t++){let e=this._clothesPoint.getChildAt(t).skinnedMeshRenderer.material;e.albedoColor.setValue(0,0,0,1),e.albedoColor=e.albedoColor}}showRoleColor(){let e=this._clothesPoint.numChildren;this._clothes.albedoColor.setValue(1,1,1,1),this._clothes.albedoColor=this._clothes.albedoColor;let t=this._curHat.meshRenderer.material;t.albedoColor.setValue(1,1,1,1),t.albedoColor=t.albedoColor;for(let t=0;t<e;t++){let e=this._clothesPoint.getChildAt(t).skinnedMeshRenderer.material;e.albedoColor.setValue(1,1,1,1),e.albedoColor=e.albedoColor}}calcHatPosByHatId(e){return this._curHatArr.indexOf(e)}dealHatsArr(){let e=[];e=m.hats;let t=Object.keys(this._cfgHats);this._ungainHatArr=t.filter(function(t){return e.indexOf(t)<0}),this._curHatArr=e.concat(this._ungainHatArr)}changeSex(e,t=!0){let i=this._sexPoint.getChildByName("CHESTGIRL"),n=this._sexPoint.getChildByName("HAIRGIRL");this._sexPoint.getChildByName("skirt"),this._sexPoint.getChildByName("cape");1==e?(t&&(m.sex=1),i.active=!1,n.active=!1):2==e&&(i.active=!0,n.active=!0,t&&(m.sex=2))}setClothes(e){let t=this._sexPoint.getChildByName("CHESTGIRL").skinnedMeshRenderer.material;this._skinIndex=e,this._tilingOffset.z=.0625*this._skinIndexList[this._skinIndex],this._clothes.tilingOffset=this._tilingOffset,t.tilingOffset=this._tilingOffset}changeClothes(e){if("up"==e){let e=this._skinIndex-1;e<0&&(e=4),this._skinIndex=e}else"down"==e&&(this._skinIndex=(this._skinIndex+1)%this._skinIndexList.length);m.clothes=this._skinIndex,this.setClothes(this._skinIndex)}showHat(e){this._roleHead.active=e}addEventHats(){Laya.stage.on(Laya.Event.MOUSE_DOWN,this,this.onHatDown),Laya.stage.on(Laya.Event.MOUSE_MOVE,this,this.onHatMove),Laya.stage.on(Laya.Event.MOUSE_UP,this,this.onHatUp),Laya.stage.on(Laya.Event.MOUSE_OUT,this,this.onHatUp)}onHatUp(e){if(5!=this.status)return;if(!this._mouseDown)return;this._mouseDown=!1;let t=1.3*this._lastHatIndex-1009;Laya.Tween.to(this._hatCube.transform,{localPositionX:t},200,Laya.Ease.cubicOut,null,0,!1)}removeListener(){Laya.stage.off(Laya.Event.MOUSE_DOWN,this,this.onMouseDown),Laya.stage.off(Laya.Event.MOUSE_MOVE,this,this.onMouseMove),Laya.stage.off(Laya.Event.MOUSE_UP,this,this.onMouseUp),Laya.stage.off(Laya.Event.MOUSE_OUT,this,this.onMouseUp),m.off("UPDATE_GOLD",this,this.onUpdateGold),m.off("UPDATE_JEW",this,this.onUpdateJew),m.off("UPDATE_ENC",this,this.onUpdateEnc),this._btnStart&&this._btnStart.off("click",this,this.startGame),this._btnOpen&&this._btnOpen.off("click",this,this.openZoo),this._btnSoon&&this._btnSoon.off("click",this,this.btnSoon),this._btnOpenNow&&this._btnOpenNow.off("click",this,this.openZooNow),this._btnMoreVisitor&&this._btnMoreVisitor.off("click",this,this.moreVisitor),this._btnMap&&this._btnMap.off("click",this,this.openMap),this._btnShop&&this._btnShop.off("click",this,this.openShop),this._btnHat&&this._btnHat.off("click",this,this.openHat),this._btnclosenotice&&this._btnclosenotice.off("click",this,this.btnclosenotice),this._btnDollar&&this._btnDollar.off("click",this,this.openDollar),this._view.btnSpSale.off(Laya.Event.CLICK,this,this.openShop),this._view.btnAddCoin.off("click",this,this.openShop),this._view.btnAddJew.off("click",this,this.openJew),this._view.btnActive.off("click",this,this.openGiftBag),this._view.btnDeskApp.off(Laya.Event.CLICK,this,this.onBtnDeskApp),this._view.btnDeskApp.off(Laya.Event.MOUSE_DOWN,this,this.stopMaoPao),this._view.btnFudai.off(Laya.Event.MOUSE_DOWN,this,this.stopMaoPao)}addListener(){Laya.stage.on(Laya.Event.MOUSE_DOWN,this,this.onMouseDown),Laya.stage.on(Laya.Event.MOUSE_MOVE,this,this.onMouseMove),Laya.stage.on(Laya.Event.MOUSE_UP,this,this.onMouseUp),Laya.stage.on(Laya.Event.MOUSE_OUT,this,this.onMouseUp),this._view.btnAddCoin.on("click",this,this.openShop,[2]),this._view.btnAddJew.on("click",this,this.openJew),m.on("UPDATE_GOLD",this,this.onUpdateGold),m.on("UPDATE_JEW",this,this.onUpdateJew),m.on("UPDATE_ENC",this,this.onUpdateEnc),this._btnStart.on("click",this,this.startGame),this._btnOpen.on("click",this,this.openZoo),this._btnSoon.on("click",this,this.btnSoon),this._btnOpenNow.on("click",this,this.openZooNow),this._btnMoreVisitor.on("click",this,this.moreVisitor),this._btnMap.on("click",this,this.openMap),this._btnHat.on("click",this,this.openHat),this._btnShop.on("click",this,this.openShop,[100]),this._btnSetting.on("click",this,this.openSetting),this._btnDanger.on("click",this,this.openDanger),this._btnclosenotice.on("click",this,this.btnclosenotice),this._btnDayMis.on("click",this,this.openDayMis),this._btnRank.on("click",this,this.openRank),this._btnInvi.on("click",this,this.openInvi),this._btnDollar.on("click",this,this.openDollar),this._btnKn.on("click",this,this.openQuestion),this._btnGiftSure.on("click",this,this.btnGiftSure),this._view.btnSpSale.on("click",this,this.openShop,[0]),this._view.btnPrize.on("click",this,this.openPrize),this._view.btnActive.on("click",this,this.openGiftBag,[2]),this._view.btnFreeJew.on("click",this,this.openFreeJew),this._view.btnFreeJew.on(Laya.Event.MOUSE_DOWN,this,this.stopMaoPao),this._view.btnSpSale.on(Laya.Event.MOUSE_DOWN,this,this.stopMaoPao),this._view.btnPrize.on(Laya.Event.MOUSE_DOWN,this,this.stopMaoPao),this._view.btnActive.on(Laya.Event.MOUSE_DOWN,this,this.stopMaoPao),this._view.notice.on(Laya.Event.MOUSE_DOWN,this,this.stopMaoPao),this._view.btnDeskApp.on(Laya.Event.CLICK,this,this.onBtnDeskApp),this._view.btnDeskApp.on(Laya.Event.MOUSE_DOWN,this,this.stopMaoPao),this._view.btnFudai.on(Laya.Event.CLICK,this,this.onBtnFudai),this._view.btnFudai.on(Laya.Event.MOUSE_DOWN,this,this.stopMaoPao)}onBtnFudai(){g.festivalActivityCtrl.showFestivalActivity(),this._view.btnFudai.visible=!1,Laya.Tween.clearAll(this._view.imgLeftWing),Laya.systemTimer.clear(this,this.fudaiMove)}onBtnDeskApp(){if("vivo"==i.channel){let e=this;Laya.Browser.window.qg.installShortcut&&Laya.Browser.window.qg.installShortcut({success:function(){e._view.btnDeskApp.visible=!1,m.addGold(100,1027),i.msg.show("恭喜获得100金币"),m.set("vivoShortCut",1)},fail:function(){i.msg.show("添加失败")}})}else if("bd"==i.channel){let e=this;Laya.Browser.window.swan.showAddToDesktopGuide&&Laya.Browser.window.swan.showAddToDesktopGuide({type:"bar",content:"一键添加到我的桌面",success:function(t){e._view.btnDeskApp.visible=!1,m.addGold(100,1027),i.msg.show("恭喜获得100金币"),m.set("bdShortCut",1)},fail:function(e){i.msg.show("添加失败:"+e.errCode)}})}else if("oppo"==i.channel){let e=this;window.qg.hasShortcutInstalled&&window.qg.hasShortcutInstalled({success:function(t){0==t&&window.qg.installShortcut({success:function(){e._view.btnDeskApp.visible=!1,m.addGold(100,1027),i.msg.show("恭喜获得100金币"),m.set("oppoShortCut",1)},fail:function(e){},complete:function(){}})},fail:function(e){},complete:function(){}})}else if("qq"==i.channel){let e=this;window.qq.saveAppToDesktop&&window.qq.saveAppToDesktop({success:function(){e._view.btnDeskApp.visible=!1,m.addGold(100,1027),i.msg.show("恭喜获得100金币"),m.set("qqShortCut",1)},fail:function(e){},complete:function(){}})}}btnclosenotice(){this._view.notice.visible=!1,this.showGift()}openInvi(){"wx"!=i.channel&&"qq"!=i.channel||i.TmCtrl.instance.tmSendEvent("gn_invitefriends"),g.inviteCtrl.showView()}openDollar(e,t){this._view.visible=!1,g.onedollarctrl.showView(e,t)}openQuestion(){this.changeStatus(0),this._view.visible=!1,g.questionCtrl.showQuestion()}openRank(){"wx"!=i.channel&&"qq"!=i.channel||i.TmCtrl.instance.tmSendEvent("gn_rank"),g.rankCtrl.showView()}openDayMis(){"wx"!=i.channel&&"qq"!=i.channel||i.TmCtrl.instance.tmSendEvent("gn_Dailytask"),g.dayMissionCtrl.showView()}stopMaoPao(e){e.stopPropagation()}openFreeJew(e){"wx"!=i.channel&&"qq"!=i.channel||i.TmCtrl.instance.tmSendEvent("gn_freeDiamond"),e.stopPropagation(),g.freeJewCtrl.showView()}openJew(e){"wx"!=i.channel&&"qq"!=i.channel||i.TmCtrl.instance.tmSendEvent("gn_diamond");var t=new Date;m.today!=t.getFullYear()+":"+(t.getMonth()+1)+":"+t.getDate()&&(m.today=t.getFullYear()+":"+(t.getMonth()+1)+":"+t.getDate(),m.initFreeJewGain()),m.freeJewGainTimes>0?(e.stopPropagation(),g.freeJewCtrl.showView()):i.msg.show("次数已用尽，明日再来")}openDanger(){"wx"!=i.channel&&"qq"!=i.channel||i.TmCtrl.instance.tmSendEvent("gn_endangered"),this.changeStatus(0),this._view.visible=!1,g.endangeredAnimals.showDanger()}openPrize(){this.changeStatus(0),this._view.visible=!1,g.prizeCtrl.showPrize()}openSetting(){"wx"!=i.channel&&"qq"!=i.channel||i.TmCtrl.instance.tmSendEvent("gn_set"),this.changeStatus(0),this._view.visible=!1,g.settingCtrl.showSetting()}openMap(){"wx"!=i.channel&&"qq"!=i.channel||i.TmCtrl.instance.tmSendEvent("gn_map"),this.changeStatus(0),this._view.visible=!1,!g.mapCtrl.showDian()||"wx"!=i.channel&&"qq"!=i.channel&&"zj"!=i.channel||("zj"==i.channel?i.ad.showZjInsertAd():i.ad.showInsertAd()),g.mapCtrl.showMap()}showFreeJewBtn(){var e=new Date;m.today!=e.getFullYear()+":"+(e.getMonth()+1)+":"+e.getDate()&&(m.today=e.getFullYear()+":"+(e.getMonth()+1)+":"+e.getDate(),m.initFreeJewGain()),m.freeJewGainTimes<=0?this._view.btnFreeJew.visible=!1:this._view.btnFreeJew.visible=!0}openGiftBag(e,t){this._view.visible=!1,g.giftbagCtrl.showGiftBag(e,t)}openShop(e=0){"wx"!=i.channel&&"qq"!=i.channel||(2==e?i.TmCtrl.instance.tmSendEvent("gn_gold"):100==e&&i.TmCtrl.instance.tmSendEvent("gn_mall"));let t=101==e;e>=100&&(e=0),this.changeStatus(0),this._view.visible=!1,g.shopCtrl.showShop(e,t)}backToShip(e="",t){this.changeStatus(2),"hat"==e&&(this._camOffX.localPosition=this._beforeCam[0],this._camOffY.localPosition=this._beforeCam[1],this._cameraNode.transform.localPositionX=this._beforeHat[0],this._cameraNode.transform.localPositionY=this._beforeHat[1],this._cameraNode.transform.localPositionZ=this._beforeHat[2],this.removeEventHats(),m.curHatId=this._curHatId),"prize"==e?this.initBuff():"gift1"==e?this.checkSignin():"gift2"==e?this.initActive():"shop"==e?this.checkSignin():"dollar"==e?this.initDollar():"start"==e?this.trySkin(t):"festival"==e&&this.initFudai(),this.mapDian(),this.initKnowledgeIcon(),this._view.visible=!0}trySkin(e=-1){let t=m.get("tryGift",0);t<4?(m.set("tryGift",t+1),this.openGiftBag(3,e)):this.startGame2(e)}showBuffTip(e){e.stopPropagation(),this._view.imgGiftTip.visible=!this._view.imgGiftTip.visible}buffTimeOut(){let e=this._view.labelBuffTime,t=Math.floor(this._buffTime/60).toString(),i=Math.floor(this._buffTime%60).toString();if(t=t.length>1?t:"0"+t,i=i.length>1?i:"0"+i,e.text=t+":"+i,this._buffTime--,this._buffTime<0){this._view.btnBuff.visible=!1;let e=m.get("todayPrizeTimes",3);this._view.btnPrize.visible=!(e<=0),Laya.systemTimer.clear(this,this.buffTimeOut)}}updateOpenInfo(){if("zoo"!=this._sceneName)return;let e=m.openTime,t=Laya.Browser.now();Laya.systemTimer.clear(this,this.updateOpenTime),t>=e?(this._view.btnOpen.visible=!0,this._view.btnMap.y=this._view.btnStart.y=201,this._view.visitorInfo.visible=!1):(this._view.btnOpen.visible=!1,2==m.openCount?("wx"==i.channel||"qq"==i.channel?i.TmCtrl.instance.tmSendEvent("ad_visit",{value:"曝光"}):"zj"==i.channel?i.reportEvent("ad_visit",{value:"曝光"}):i.channel,"vivo"==i.channel?this._view.btnSoon.visible=!1:this._view.btnSoon.visible=!0):m.todayOpen<2?("wx"==i.channel||"qq"==i.channel?i.TmCtrl.instance.tmSendEvent("ad_visit",{value:"曝光"}):"zj"==i.channel?i.reportEvent("ad_visit",{value:"曝光"}):i.channel,"vivo"==i.channel?this._view.btnSoon.visible=!1:this._view.btnSoon.visible=!0):this._view.btnSoon.visible=!1,"hw"==i.channel&&(this._view.btnSoon.visible=!1),this._view.visitorInfo.visible=!0,this._view.visitorInfo.text="",Laya.systemTimer.loop(1e3,this,this.updateOpenTime))}btnSoon(){m.openTime>=Laya.Browser.now()&&("wx"==i.channel?i.ad.showVideoAd(this,this.btnSoon2,i.wxAd.soon,"ad_visit"):"vivo"==i.channel?i.ad.showVivoVideo(this,this.btnSoon2,i.vivoAd.soon,"ad_visit"):"oppo"==i.channel?i.ad.showOPPOVideo(this,this.btnSoon2,_.ad_visit):"yl"===i.channel?i.ad.showVideoAd(this,this.btnSoon2,i.ylAd.soon):i.ad.showVideoAd(this,this.btnSoon2,0,"ad_visit"))}btnSoon2(e){if(e){m.setDailyTask(6,1);let e=Laya.Browser.now();m.addTodayOpen(),m.setNextOpentime(e),this._view.btnSoon.visible=!1,this._view.visitorInfo.visible=!1,this._view.btnOpen.visible=!0,"wx"==i.channel||"qq"==i.channel?i.TmCtrl.instance.tmSendEvent("ad_visit",{value:"完成"}):"zj"==i.channel?i.reportEvent("ad_visit",{value:"完成"}):i.channel}else g.videoTipCtrl.showTips();"vivo"==i.channel&&i.sound.playMusic("audioGame/Music_Zoo.mp3")}updateOpenTime(){let e=m.openTime;if((e-=Laya.Browser.now())<=0)return void this.updateOpenInfo();let t=Math.floor(e/1e3),i=Math.floor(t/60/60);t-=3600*i;let n=Math.floor(t/60);t-=60*n,this._view.visitorInfo.text="下个观光团："+i+"时"+n+"分"+t+"秒"}fireAnimal(){let e=m.startAnimal;if(e>999){let t=m.getAnimals(e);e=t&&t.length>0?t[Math.floor(Math.random()*t.length)]:101}g.endangeredAnimals.curTryId>0&&(e=g.endangeredAnimals.curTryId);let t=i.findChildByPath(this._shipRoot,"ship_front.cannon.joint").transform,n=Laya.loader.getRes("game/Conventional/PlayerNew.lh");this.changeSkin(n),this._scene.addChild(n);let s=n.addComponent($);s.state=o.waitingForStart,re.instance.createOne(e.toString(),t.position,this,e=>{e.transform.rotation=t.rotation,n.transform.position=t.position,s.ride(e,!0),i.sound.playSound("audioGame/Cannon_Fire.mp3"),Laya.timer.frameLoop(1,this,()=>{e.transform.position=this._camJoint.position})})}changeSkin(e){let t=i.findChildByPath(e,"offset.MESHES.DO_NOT_BATCH"),n=t.getChildByName("CHESTGIRL"),s=t.getChildByName("HAIRGIRL");1==m.sex?(n.active=!1,s.active=!1):2==m.sex&&(n.active=!0,s.active=!0);let a=i.findChildByPath(e,"offset.ctrl_main.ctrl_hips.HEAD 1.SKELETON 3.joint_head.joint_HAT.Hat_attach"),o=Laya.loader.getRes(m.cfgHats[m.curHatId].res);a.addChild(o);i.findChildByPath(e,"offset.MESHES.DO_NOT_BATCH"),e.getChildByName("MESH_BODY").skinnedMeshRenderer.material;let h=n.skinnedMeshRenderer.material,l=new Laya.Vector4(1,1,0,-.0625);l.z=.0625*[1,2,3,4,5][m.clothes],e.getChildByName("MESH_BODY").skinnedMeshRenderer.material.tilingOffset=l,h.tilingOffset=l}startGame(e=-1){if(m.loop(),Laya.Browser.onAndroid&&("qq"==i.channel||"wx"==i.channel||"bd"==i.channel)||"oppo"==i.channel||"vivo"==i.channel||"none"==i.channel)return console.log(m.get("dollar",0),m.get("dollar_open",0),m.get("teach",0)),0==m.get("dollar",0)&&0==m.get("dollar_open",0)&&0!==m.get("teach",0)?(m.set("dollar_open",1),void this.openDollar("start",e)):void this.trySkin(e);{let t=m.get("tryGift",0);if(t<4)return m.set("tryGift",t+1),void this.openGiftBag(3,e)}this.startGame2(e)}startGame2(e=-1){"wx"!=i.channel&&"qq"!=i.channel||i.TmCtrl.instance.tmSendEvent("gn_Start"),3===g.teachCtrl.status&&(this._view.teachLast.visible=!1,g.teachCtrl.stopTeach()),(e<0||e>1)&&(e=m.get("CURRENT_WORLD",m.worldLevel||0)),m.set("CURRENT_WORLD",e),console.log("world index="+e),Laya.timer.clearAll(this),Laya.Tween.clearAll(this._cameraNode.transform),this.moveOffsetY(0,0,0),this.moveOffsetX(0,0,0);let t=this._launchGamePos.position;this.removeListener(),Laya.Tween.to(this._cameraNode.transform,{localPositionX:t.x,localPositionY:t.y,localPositionZ:t.z},200,Laya.Ease.cubicOut,Laya.Handler.create(this,()=>{this._aniCannon.play("launchGame"),this._camAni.play("cam_launchGame"),Laya.Tween.to(this._cam,{fieldOfView:35},1900,Laya.Ease.linearInOut,Laya.Handler.create(this,()=>{Laya.Tween.to(this._cam,{fieldOfView:21},150)}))})),this._view.zooUIBottom.visible=!1,this.changeStatus(3),i.sound.playSound("audioGame/Music_Savannah_Intro.mp3"),Laya.timer.once(3800,this,()=>{i.stage.enterScene("game")})}openZooNow(){this.shortCut(),3===g.teachCtrl.status&&(this._view.tip.visible=!1,this.showStart()),m.setDailyTask(7,1),m.addGold(this._openGoldAdd||0,1002);let e=[180,600,360,10800][m.openCount]||10800;m.setNextOpentime(Laya.Browser.now()+1e3*e),m.addOpenCount(),this._view.zooUIOpen.visible=!1,this.updateOpenInfo(),this._aniShip.play("loadPunters"),Laya.systemTimer.once(1500,this,()=>{i.sound.playSound("audioGame/Bus_Bell.mp3")}),Laya.systemTimer.once(3600,this,()=>{g.touristMoveCtrl.touristOut(this._openList[0]),this._view.zooUIBottom.y=Laya.stage.height/i.stageScale-350,this._view.zooUIBottom.visible=!0,this.mapZi(),3===g.teachCtrl.status&&(this._view.tip.visible=!1,this.showStartAfter(),this.fingerMove(this._view.fingerStart),"oppo"==i.channel?u.upload(_.show_start):"bd"===i.channel&&i.reportEvent("show_start"))}),Laya.systemTimer.once(4500,this,()=>{i.sound.playSound("audioGame/Bus_Crowd_Cheer.mp3")}),Laya.systemTimer.once(9e3,this,()=>{this._aniShip.play("balloonLeave")}),Laya.Tween.to(this._cameraNode.transform,{localPositionZ:-70},8e3,Laya.Ease.linearInOut,Laya.Handler.create(this,()=>{this.changeStatus(2)}),3600)}onFocus(){let e=Laya.Browser.now();if(this._shareTime&&e-this._shareTime>2500)m.set("visitorAd",0),this._openList[0]*=2,this._openList[2]*=2,this._openList[3]*=2,this._view.ticket.text=this._openList[1].toString(),this._view.homeCnt.text="x"+this._openList[2].toString(),this._view.moneyAdd.text=this._openList[3].toString(),this._openGoldAdd=this._openList[3],this._view.btnMoreVisitor.visible=!1,this._view.ticketBox.y+=180,this._view.homeIcon.y+=180;else{i.TmCtrl.instance.tmSendEvent("share_3visitor",{value:"完成"});let e=[null,"请分享到不同的群","分享失败，请分享给不同好友试试","不要频繁分享到同一个群，换个群试试","该群已分享过，请换个群试试"];i.msg.show(e[Math.floor(3*Math.random()+1)])}i.eventBus.off(Laya.Event.FOCUS,this,this.onFocus),this._shareTime=null}moreVisitor(){if(this._openList&&this._openList.length>0)if("wx"==i.channel){m.loop(),3==m.get("visitorAd",0)?(wx&&i.tmShare("share_3visitor"),this._shareTime=Laya.Browser.now(),i.TmCtrl.instance.tmSendEvent("share_3visitor",{value:"点击"}),i.eventBus.on(Laya.Event.FOCUS,this,this.onFocus)):i.ad.showVideoAd(this,this.moreVisitor2,i.wxAd.open,"ad_3visitor")}else"qq"==i.channel?i.ad.showVideoAd(this,this.moreVisitor2,i.wxAd.open,"ad_3visitor"):"vivo"==i.channel?i.ad.showVivoVideo(this,this.moreVisitor2,i.vivoAd.open,"ad_3visitor"):"oppo"==i.channel?i.ad.showOPPOVideo(this,this.moreVisitor2,_.ad_3visitor):"zj"==i.channel||"bd"==i.channel?i.ad.showVideoAd(this,this.moreVisitor2,0,"ad_3visitor"):"yl"===i.channel?i.ad.showVideoAd(this,this.moreVisitor2,i.ylAd.open):"none"==i.channel&&this.moreVisitor2(!0)}moreVisitor2(e){if(e)if(m.setDailyTask(6,1),this._openList[0]*=3,this._openList[2]*=3,this._openList[3]*=3,this._view.ticket.text=this._openList[1].toString(),this._view.homeCnt.text="x"+this._openList[2].toString(),this._view.moneyAdd.text=this._openList[3].toString(),this._openGoldAdd=this._openList[3],this._view.btnMoreVisitor.visible=!1,this._view.ticketBox.y+=180,this._view.homeIcon.y+=180,"wx"==i.channel){let e=m.get("visitorAd",0);m.set("visitorAd",e+1),i.TmCtrl.instance.tmSendEvent("ad_3visitor",{value:"完成"})}else"qq"==i.channel?i.TmCtrl.instance.tmSendEvent("ad_3visitor",{value:"完成"}):"zj"==i.channel?i.reportEvent("ad_3visitor",{value:"完成"}):i.channel;else g.videoTipCtrl.showTips();"qq"==i.channel||"vivo"==i.channel||"wx"==i.channel?i.ad.showInsertAd():"zj"==i.channel&&i.ad.showZjInsertAd()}openZoo(){Laya.timer.clearAll(this),"wx"==i.channel||"qq"==i.channel?i.TmCtrl.instance.tmSendEvent("gn_Opendoor"):"oppo"==i.channel?u.upload(_.yd_kaimen):"bd"==i.channel&&i.reportEvent("yd_kaimen"),3===g.teachCtrl.status&&("wx"==i.channel||"qq"==i.channel?i.TmCtrl.instance.tmSendEvent("tutorial_7",{}):"zj"==i.channel||"bd"==i.channel?i.reportEvent("tutorial_7",{}):"oppo"==i.channel&&u.upload(_.tutorial_7),this.showOpenMask()),this._openList=m.touristTicket;let e=this._openList[2],t=10;this.moveOffsetY(0,0,0),this.moveOffsetX(0,0,0),this._view.zooUIBottom.visible=!1,this._view.zooUIOpen.visible=!0,this._view.zooUIOpen.height=160,this._view.zooUIOpen.y=Laya.stage.height/i.stageScale-540,this._view.btnOpenNow.visible=!1,this._view.btnMoreVisitor.visible=!1,this._view.homeIcon.visible=!1,this._view.ticketBox.x=Math.floor((Laya.stage.width-this._view.ticketBox.width)/2),this._view.ticketBox.y=-79,this._view.homeIcon.y=100,this._view.ticket.text=t.toString();let n=28*(this._midCnt-1)-70;Laya.Tween.to(this._cameraNode.transform,{localPositionZ:n},150,Laya.Ease.cubicOut,Laya.Handler.create(this,()=>{let s=n+134,a=[];for(const e in this._enclosures)this._enclosures.hasOwnProperty(e)&&a.push(e);Laya.timer.frameLoop(2,this,()=>{let e=0,i=0;for(let t=0;t<a.length;t++){const n=a[t],s=this._enclosures[n];if(s&&s.transform.position.z-6>=this._cameraNode.transform.localPositionZ){a.splice(t,1),--t;let o=m.getEnclosurePrice(m.cfgEnclosure[n].id);o>0&&(e>0?Laya.timer.once(e,this,()=>{s.getChildByName("pfxGold").particleSystem.play()}):s.getChildByName("pfxGold").particleSystem.play(),e+=100,i+=o)}}i>0&&(t+=i,Laya.Tween.clearAll(this._view.ticket),Laya.Tween.to(this._view.ticket,{scaleX:2,scaleY:2},100,Laya.Ease.cubicOut,Laya.Handler.create(this,()=>{this._view.ticket.text=t.toString(),Laya.Tween.to(this._view.ticket,{scaleX:1,scaleY:1},100,Laya.Ease.cubicIn)})))}),Laya.Tween.to(this._cameraNode.transform,{localPositionZ:-134},s/50*1e3,Laya.Ease.linearInOut,Laya.Handler.create(this,()=>{Laya.timer.clearAll(this),this._view.homeIcon.visible=!0,this._view.homeCnt.text="x1",Laya.Tween.to(this._view.ticketBox,{x:20},150,Laya.Ease.cubicOut,Laya.Handler.create(this,()=>{let t=1;Laya.timer.loop(300,this,()=>{if(++t>e){if(Laya.timer.clearAll(this),this._view.zooUIOpen.height=560,this._view.zooUIOpen.y=Laya.stage.height/i.stageScale-560,this._view.btnOpenNow.visible=!0,3===g.teachCtrl.status&&("oppo"==i.channel?u.upload(_.show_opennow):"bd"===i.channel&&i.reportEvent("show_opennow"),this.showOpenMaskAfter()),"hw"==i.channel?this._view.btnMoreVisitor.visible=!1:this._view.btnMoreVisitor.visible=!0,"wx"==i.channel){m.loop();let e=m.get("visitorAd",0),t=this._view.btnMoreVisitor.getChildAt(0).getChildAt(0);3==e?(t.skin="main/img_shareWx.png",t.height=79,t.width=76,t.left=90,t.centerY=0,this._view.moreVisitorLabel.text="2",i.TmCtrl.instance.tmSendEvent("share_3visitor",{value:"曝光"})):(t.skin="main/adIcon.png",t.height=95,t.width=120,t.left=50,t.centerY=0,this._view.moreVisitorLabel.text="3")}if("wx"==i.channel||"qq"==i.channel?i.TmCtrl.instance.tmSendEvent("ad_3visitor",{value:"曝光"}):"zj"==i.channel?i.reportEvent("ad_3visitor",{value:"曝光"}):i.channel,this._openList&&this._openList.length>0){this._view.ticket.text=this._openList[1].toString(),this._view.homeCnt.text="x"+this._openList[2].toString(),this._view.moneyAdd.text="+"+this._openList[3].toString(),this._openGoldAdd=this._openList[3];let e=3==m.get("visitorAd",0)?2*this._openList[3]:3*this._openList[3];this._view.goldPos.right=-90-30*e.toString().length,this._view.moreGold.text="+"+e.toString()}m.getAnimals(1e3)&&m.getAnimals(1e3).indexOf(10)>-1?(this._legent||(this._legent=new Laya.Image,this._legent.skin="icons/buffalo6.png",this._legent.width=this._view.legent.width,this._legent.height=this._view.legent.height,this._view.legent.addChild(this._legent)),this._view.legent.visible=!0):this._view.legent.visible=!1}else this._view.homeCnt.text="x"+t})}))}))})),this._view.zooUIBottom.visible=!1,this.changeStatus(4)}onUpdateEnc(e,t){let i=m.cfgEnclosure[e];if(!i)return;let n=i.res,s=this._enclosures[n];s&&(this.layoutEnclosure(s,t,e),this.selectEnc(s,n,i.size>1),this.showEncUpgradePfx(s,i.size>1))}onUpdateJew(){let e=m.jew;this._view.jew1.text=e+"",this._view.jew2.text=e+""}onUpdateGold(e,t,i){this._view.gold1.text=e.toString(),this._view.gold2.text=e.toString(),this.mapDian()}onMouseUp(e){if(!this._view.signMask.visible&&this._mouseDown&&5!=this.status&&!(g.teachCtrl.status>1))if(this._mouseDown=!1,this._hasMove){if(2==this.status){Laya.Tween.clearAll(this._cameraNode.transform);let e,t,i=Laya.MouseManager.instance.mouseY,n=Laya.Browser.now()-this._mouseDownTime,s=(i-this._mouseDownY)/n*1e3,a=s;e=s>0?-4e3:4e3,Laya.timer.clearAll(this),Laya.timer.frameLoop(1,this,()=>{n=Laya.timer.delta/1e3,(s+=e*n)*a<0?(Laya.timer.clearAll(this),this._camOffX.localPositionZ<-65?(Laya.Tween.clearAll(this._camOffX),Laya.Tween.to(this._camOffX,{localPositionZ:-65},500,Laya.Ease.cubicInOut)):this._camOffX.localPositionZ>this._topPosZ&&(Laya.Tween.clearAll(this._camOffX),Laya.Tween.to(this._camOffX,{localPositionZ:this._topPosZ},500,Laya.Ease.cubicInOut))):(t=s*n+.5*e*n*n,this._camOffX.localPositionZ+=t/20,this._camOffX.localPositionZ<-65?e=-4e3*(this._camOffX.localPositionZ+65):this._camOffX.localPositionZ>this._topPosZ&&(e=-4e3*(this._camOffX.localPositionZ-this._topPosZ)))})}}else if(2==this.status)if(this._point.x=Laya.MouseManager.instance.mouseX,this._point.y=Laya.MouseManager.instance.mouseY,this._cam.viewportPointToRay(this._point,this._ray),this._scene.physicsSimulation.rayCast(this._ray,this._outHitResult),this._outHitResult.succeeded){let e,t=this._outHitResult.collider.owner,n=0;if(t.getChildByName("StampedeAI")&&g.teachCtrl.status<1&&(e=t,n=2),t=this.findParent(t,"_Enclosure")){let s=t.name.substr(0,t.name.indexOf("_Enclosure"));console.log("碰撞到了"+s);let a=m.cfgEnclosure[s];1===g.teachCtrl.status&&(g.teachCtrl.selectEnc(),"Buffalo"==s&&("wx"==i.channel||"qq"==i.channel?i.TmCtrl.instance.tmSendEvent("tutorial_5",{}):"zj"==i.channel||"bd"==i.channel?i.reportEvent("tutorial_5",{}):"oppo"==i.channel&&u.upload(_.tutorial_5))),this.selectEnc(t,s,a.size>1,n),e&&g.teachCtrl.status<1&&this.lockAnimal(e.transform)}else this.unselectEnc(),(t=this.findParent(this._outHitResult.collider.owner,"ZooShop"))&&("wx"!=i.channel&&"qq"!=i.channel||i.TmCtrl.instance.tmSendEvent("gn_mall model"),console.log("选中商店"),g.shopCtrl.showShop(0))}else console.log("没有碰到任何东西"),this.unselectEnc()}selectEncByName(e){let t=m.cfgEnclosure[e];if(!t)return;let i=this.getEnclosure(t.id);i&&this.selectEnc(i,e,t.size>1,-1)}onMouseDown(e){if(!this._view.signMask.visible)if(1==this.status&&0==this._view.notice.visible)this.changeStatus(0),this._view.start.visible=!1,Laya.Tween.to(this._cameraNode.transform,{localPositionX:-17.5,localPositionY:45,localPositionZ:-70},500,Laya.Ease.linearInOut,Laya.Handler.create(this,()=>{this._view.zooUI.visible=!0,this._view.zooUIBottom.visible=!0,this._view.zooUIOpen.visible=!1,this.changeStatus(2),this.initFudai(),"hw"==i.channel?m.getAnimals(1e3)&&m.getAnimals(1e3).indexOf(10)>-1?(g.shipCtrl.openShop(101),this._view.removeSelf()):this.openGiftBag(1):this.openGiftBag(20)})),i.sound.playSound("audioGame/Music_Zoo_Intro.mp3",1,!1,this,()=>{i.sound.playMusic("audioGame/Music_Zoo.mp3")});else if(2==this.status){if(this._mouseDown)return;this._mouseDown=!0,this._hasMove=!1,this._mouseDownY=Laya.MouseManager.instance.mouseY,this._lastMouseY=this._mouseDownY,this._mouseDownTime=Laya.Browser.now()}}onMouseMove(e){if(5==this.status)return;if(!this._mouseDown)return;if(g.teachCtrl.status>0)return;let t=Laya.MouseManager.instance.mouseY,i=t-this._lastMouseY;Math.abs(i)<5||(this._hasMove=!0,this._lastMouseY=t,this._camOffX&&(this._camOffX.localPositionZ+=.1*i),this.unselectEnc())}unselectEnc(){this._selectEnc&&(this._selectEnc=null,this._selectBig.transform.localPositionX=1e3,this._select.transform.localPositionX=1e3,this.moveOffsetY(0,0,0),this._view.zooUIBottom.visible=!0,g.upgradeCtrl.hideUI())}selectNext(){if(this._selectEnc){let e=this._enclosureList.indexOf(this._selectEnc);e=(e+1)%this._enclosureList.length;let t=this._enclosureList[e],i=this._enclosures[t];i&&this.selectEnc(i,t,m.cfgEnclosure[t].size>1)}}selectPrev(){if(this._selectEnc){let e=this._enclosureList.indexOf(this._selectEnc);e=(e-1+this._enclosureList.length)%this._enclosureList.length;let t=this._enclosureList[e],i=this._enclosures[t];i&&this.selectEnc(i,t,m.cfgEnclosure[t].size>1)}}selectEnc(e,t,i=!1,n=0,s=!1){this._selectEnc=t;let a=e.transform.position,o=e.getChildByName("CamOffset").transform.position;this.moveOffsetY(o.x,o.y,o.z),this.moveOffsetX(0,0,0),Laya.timer.clearAll(this),i?(this._select.transform.localPositionX=1e3,this._selectBig.transform.localPositionX=0,this._selectBig.transform.localPositionZ=a.z):(this._selectBig.transform.localPositionX=1e3,this._select.transform.localPositionX=a.x-10,this._select.transform.localPositionZ=a.z),this._view.zooUIBottom.visible=!1,g.upgradeCtrl.showUI(t,n,s)}showEncUpgradePfx(e,t){let n,s=e.transform.position;t?(n=Laya.loader.getRes("ship/Conventional/pfx_UpgradeBig.lh"),s.x=10):n=Laya.loader.getRes("ship/Conventional/pfx_Upgrade.lh"),n.parent||this._scene.addChild(n),n.transform.localPositionX=s.x-10,n.transform.localPositionZ=s.z,i.playPart(n)}moveOffsetY(e,t,i){this._camOffY&&(this.unlockAnimal(),Laya.Tween.clearAll(this._camOffY),Laya.Tween.to(this._camOffY,{localPositionX:e,localPositionY:t,localPositionZ:i},400,Laya.Ease.cubicOut))}followAnimal(){if(this._targetAnimal){let e=this._targetAnimal.position,t=12*Laya.timer.delta/1e3;t>1&&(t=1);let n=this._camOffY.localPosition;(n=i.Temp.getVector3(n.x+(e.x+23.38-n.x)*t,n.y+(e.y-66.4-n.y)*t,n.z+(e.z+86.9-n.z)*t)).cloneTo(this._camOffY.localPosition),this._camOffY.localPosition=this._camOffY.localPosition}}selectAnimalNext(){if(!this._lastSelAnimal)return;let e=this._targetAnimal.owner.name.toString(),t=m.cfgAnimal[e];if(!t)return;let i=t.encId,n=g.animalMoveCtrl.getAnimals(i);if(!n||n.length<1)return;let s=this._lastSelAnimal[i]||0,a=n[s=(s+1)%n.length].body.transform;this.lockAnimal(a)}selectAnimalPrev(){if(!this._lastSelAnimal)return;let e=this._targetAnimal.owner.name.toString(),t=m.cfgAnimal[e];if(!t)return;let i=t.encId,n=g.animalMoveCtrl.getAnimals(i);if(!n||n.length<1)return;let s=this._lastSelAnimal[i]||0,a=n[s=(s-1+n.length)%n.length].body.transform;this.lockAnimal(a)}lockAnimal(e,t=null){if(e){let t=e.owner.name.toString(),i=m.cfgAnimal[t];if(!i)return;let n=i.encId,s=g.animalMoveCtrl.getAnimals(n);if(!s||s.length<1)return;for(let t=0;t<s.length;t++){if(s[t].body===e.owner){this._lastSelAnimal||(this._lastSelAnimal={}),this._lastSelAnimal[n]=t,console.log("锁定动物索引:"+t);break}}}else if(t){let i=m.cfgEnclosure[t];if(i){let t=g.animalMoveCtrl.getAnimals(i.id);if(t&&t.length>0){this._lastSelAnimal=this._lastSelAnimal||{};let n=this._lastSelAnimal[i.id]||0;if(n>=t.length&&(n=0),!t[n])return;this._lastSelAnimal[i.id]=n,console.log("锁定动物索引:"+n),e=t[n].body.transform}}}e&&(this._targetAnimal=e,g.upgradeCtrl.selectAnimal(e.owner.name),Laya.Tween.clearAll(this._camOffY),Laya.timer.frameLoop(1,this,this.followAnimal))}unlockAnimal(){Laya.timer.clear(this,this.followAnimal)}moveOffsetX(e,t,i){this._camOffX&&(this.unlockAnimal(),Laya.Tween.clearAll(this._camOffX),Laya.Tween.to(this._camOffX,{localPositionX:e,localPositionY:t,localPositionZ:i},400,Laya.Ease.cubicOut))}findParent(e,t){return e.name.indexOf(t)>-1?e:e.parent?this.findParent(e.parent,t):null}createEnclosure(e,t,n,s){let a;t.path?a=e:((a=Laya.loader.getRes("ship/Conventional/"+t.res+"_Enclosure.lh")).transform.localPosition=i.Temp.getVector3(s,0,6),e.addChild(a),this.layoutEnclosure(a,n,t.id,!1)),this._enclosures[t.res]=a,this._enclosureList.indexOf(t.res)<0&&this._enclosureList.push(t.res)}resetEnclosure(e,t,n,s,a){n.path?t=e:(t.transform.localPosition=i.Temp.getVector3(a,0,6),e.addChild(t),this.layoutEnclosure(t,s,n.id,!1)),this._enclosures[n.res]=t,this._enclosureList.indexOf(n.res)<0&&this._enclosureList.push(n.res)}layoutEnclosure(e,t,n,s=!0){let a,o;e.getChildByName("Built").active=t>-1;for(let i=1;i<9;i++)if((a=e.getChildByName("Upgrade ("+i+")"))||(a=e.getChildByName("upgrade ("+i+")")),a)if(i<t){if(a.active=!0,s)for(let e=0;e<a.numChildren;e++)(o=a.getChildAt(e).getComponent(Laya.Animator))&&o.play("enclosure_upgrade",0,0)}else a.active&&(a.active=!1);let h=t,l=e.getChildByName("zoo_homes");m.getAnimals(n).length>0?(e.getChildByName("Empty").active=!1,h<0&&(h=0)):e.getChildByName("Empty").active=!0;let r=e.getChildByName("pfx");if(r)if(t<9&&h>-1){let e=m.cfgUpgrade[m.cfgEnclosure[n].res].price;m.gold>=e[t+1]?r.active=!0:r.active=!1}else r.active=!1;for(let e=0;e<11;e++)l.getChildAt(e).active=e==h;let p,d=e.getChildByName("fence");for(d||((d=new Laya.Sprite3D).name="fence",e.addChild(d));d.numChildren>0;)(p=d.removeChildAt(0))&&(-1!=p.name.indexOf("fence")?Laya.Pool.recover(p.name,p):p.destroy(!0));2==m.cfgEnclosure[n].size?((p=d.addChild(this.getFenceByLvl(t))).transform.localPosition=i.Temp.getVector3(0,0,0),p.transform.localRotationEulerY=0,(p=d.addChild(this.getFenceByLvl(t))).transform.localPosition=i.Temp.getVector3(-40,0,0),p.transform.localRotationEulerY=0,(p=d.addChild(this.getFenceByLvl(t))).transform.localPosition=i.Temp.getVector3(-10,0,10),p.transform.localRotationEulerY=90,(p=d.addChild(this.getFenceByLvl(t))).transform.localPosition=i.Temp.getVector3(-10,0,-10),p.transform.localRotationEulerY=90,(p=d.addChild(this.getFenceByLvl(t))).transform.localPosition=i.Temp.getVector3(-30,0,10),p.transform.localRotationEulerY=90,(p=d.addChild(this.getFenceByLvl(t))).transform.localPosition=i.Temp.getVector3(-30,0,-10),p.transform.localRotationEulerY=90):((p=d.addChild(this.getFenceByLvl(t))).transform.localPosition=i.Temp.getVector3(0,0,0),p.transform.localRotationEulerY=0,(p=d.addChild(this.getFenceByLvl(t))).transform.localPosition=i.Temp.getVector3(-20,0,0),p.transform.localRotationEulerY=0,(p=d.addChild(this.getFenceByLvl(t))).transform.localPosition=i.Temp.getVector3(-10,0,10),p.transform.localRotationEulerY=90,(p=d.addChild(this.getFenceByLvl(t))).transform.localPosition=i.Temp.getVector3(-10,0,-10),p.transform.localRotationEulerY=90)}getFenceByLvl(e){if(!this._fenceCreateFun){this._fenceCreateFun={},this._fenceCreateFun.fence_unbuilt=(()=>{let e=Laya.loader.getRes("ship/Conventional/fence_unbuilt.lh");return(e=de.instantiate(e)).name="fence_unbuilt",e});for(let e=0;e<11;e++)this._fenceCreateFun["fence_lvl"+e]=(()=>{let t=Laya.loader.getRes("ship/Conventional/fence_lvl"+e+".lh");return(t=de.instantiate(t)).name="fence_lvl"+e,t})}return-1==e?Laya.Pool.getItemByCreateFun("fence_unbuilt",this._fenceCreateFun.fence_unbuilt):e>-1&&e<11?Laya.Pool.getItemByCreateFun("fence_lvl"+e,this._fenceCreateFun["fence_lvl"+e]):null}getEnclosure(e){if(m.cfgEnclosure[e]){let t=m.cfgEnclosure[e].res;if("zoo"==this._sceneName)return this._enclosures[t]}return null}get root(){return this._shipRoot}next(e,t){this._next=e,this._nextParam=t,"wx"==i.channel&&(this.wxmd=!0)}fingerMove(e){e.visible=!0;for(let t=0;t<1e3;t++)Laya.Tween.to(e,{y:-120},300,null,null,300*t,!1),Laya.Tween.to(e,{y:-160},300,null,null,300*(t+1),!1),t++}from(e){this._from="game"}shortCut(){if(m.loop(),"oppo"==i.channel){if(0==g.teachCtrl.status&&0==m.get("oppoShortCut",0)&&m.get("desktop1",0)<2){m.set("desktop1",m.get("desktop1",0)+1);let e=window.qg;e.hasShortcutInstalled({success:function(t){0==t&&e.installShortcut({success:function(){},fail:function(e){},complete:function(){}})},fail:function(e){},complete:function(){}})}}else if("vivo"==i.channel&&0==g.teachCtrl.status&&0==m.get("vivoShortCut",0)&&m.get("desktop1",0)<2){let e=window.qg,t=this;e.hasShortcutInstalled({success:function(n){n?console.log("已创建"):(console.log("未创建"),e.installShortcut({success:function(){t._view.btnDeskApp.visible=!1,console.log("创建成功"),m.addGold(100,1027),i.msg.show("恭喜获得100金币"),m.set("vivoShortCut",1)},fail:function(e){console.log("创建失败",e)},complete:function(){m.set("desktop1",m.get("desktop1",0)+1)}}))}})}}}g.shipCtrl=new ge;class ce{constructor(){}init(e){this._heartBg=e.getChildByName("bg"),this._warnCircle=e.getChildByName("circle"),this._heart=e.getChildByName("heart"),this._warnAni=e.getChildByName("warn"),this._progress=e.getChildByName("progress");let t=this._progress.getChildByName("left");this._mLeft=t.getChildAt(0),t=this._progress.getChildByName("right"),this._mRight=t.getChildAt(0),this._warnRoot=e,this.hideAll()}showWarning(){this._warnAni.visible||(this._warnAni.visible=!0),this._warnAni.stop(),this._warnAni.play(0),this._heartBg.visible&&(this._heart.visible=!1,this._warnCircle.visible=!0)}showHeart(e,t,i){this._heartBg.visible=!0,this._heart.visible=!0,this._progress.visible=!0,this._mLeft.rotation=0,this._mRight.rotation=180,e*=1e3;let n=0,s=Laya.timer;s.frameLoop(1,this,()=>{if((n+=s.delta)>=e)return s.clearAll(this),n=null,e=null,s=null,this._heartBg.visible=!1,this._heart.visible=!1,this._progress.visible=!1,this._warnAni.visible&&(this._warnCircle.visible=!1),t&&i&&i.call(t),t=null,void(i=null);let a=n/e*360;a>180?(this._mLeft.rotation=180,this._mRight.rotation=a):(this._mLeft.rotation=a,this._mRight.rotation=180)})}hideWarning(){this._warnAni.stop(),this._warnAni.visible=!1,this._warnCircle.visible=!1,this._heartBg.visible&&(this._heart.visible=!0)}get showed(){return this._warnAni.visible||this._heartBg.visible}hideAll(){this._warnAni.stop(),this._heartBg.visible=!1,this._warnCircle.visible=!1,this._progress.visible=!1,this._heart.visible=!1,this._warnAni.visible=!1,Laya.timer.clearAll(this)}pos(e,t){this._warnRoot.pos(e,t,!0)}}var me=Laya.Vector3,_e=Laya.Vector2,ye=Laya.Quaternion,ue=i.TouchPhase;class be extends Laya.Script3D{constructor(){super(),this._pos=new me,this._dir=new me,this._quat=new ye,this._oldPos=new me,this._oldQuat=new ye,this._yp=new _e,this._oDir=new me,this._mouseDown=!1}onAwake(){this.gameObject=this.owner,this.transform=this.gameObject.transform,this._touch=i.touchManager.touch,this.enabled=!1}lookAt(e,t){this._yp.setValue(-30*Math.PI/180,-30*Math.PI/180),this.transform.localRotation.cloneTo(this._oldQuat),this.transform.localPosition.cloneTo(this._oldPos),this._target=e,this.enabled=!0,this._oDir.setValue(0,0,t),this.updateThis(),this._mouseDown=!0}updateThis(){let e=this._target.position;ye.createFromYawPitchRoll(this._yp.x,this._yp.y,0,this._quat),me.transformQuat(this._oDir,this._quat,this._dir),this._pos.setValue(this._dir.x+e.x,this._dir.y+e.y,this._dir.z+e.z),this.transform.position=this._pos,this.transform.lookAt(e,i.Temp.UP,!1)}reset(e=null,t=null){this._target=null,this.enabled=!1,e?this.transform.localPosition=e:(this._oldPos.cloneTo(this.transform.localPosition),this.transform.localPosition=this.transform.localPosition),t?this.transform.localRotation=t:(this._oldQuat.cloneTo(this.transform.localRotation),this.transform.localRotation=this.transform.localRotation)}onUpdate(){this._target&&(this._touch.phase==ue.Moved?this._mouseDown&&(this._yp.x-=.005*this._touch.deltaX,this._yp.y-=.005*this._touch.deltaY,this._yp.y>-6*Math.PI/180?this._yp.y=-6*Math.PI/180:this._yp.y<-89*Math.PI/180&&(this._yp.y=-89*Math.PI/180),this._yp.x>-30*Math.PI/180?this._yp.x=-30*Math.PI/180:this._yp.x<-150*Math.PI/180&&(this._yp.x=-150*Math.PI/180),this.updateThis()):this._touch.phase==ue.Began&&(this._mouseDown=!0))}}class fe{static startRecordVideo(){if("zj"===i.channel){var e=fe.tt.getGameRecorderManager();e&&(e.start({duration:300}),e.onStart(e=>{console.log("回调 录屏开始"),fe.videoPath="",fe._timeRecord=Laya.Browser.now(),fe._timeInThis=0,fe.recording=!0}),e.onStop(t=>{fe._timeInThis=Laya.Browser.now()-fe._timeRecord,fe.recording=!1,console.log("回调 录屏结束"+t.videoPath),e.clipVideo({path:t.videoPath,timeRange:[30,0],success(e){console.log("回调 录屏结束且剪辑成功"+e.videoPath),fe.videoPath=e.videoPath,fe._photocaller&&fe._photocallback&&fe._photoparam&&(fe._photocallback.call(fe._photocaller,fe._photoparam[0],fe._photoparam[1]),fe._photocaller=null,fe._photocallback=null,fe._photoparam=null)},fail(e){}}),fe.videoPath&&(fe.videoPath=t.videoPath)}))}}static stopRecordVideo(e,t,n){if("zj"!==i.channel&&e&&t&&n)t.call(e,n[0],n[1]);else{var s=fe.tt.getGameRecorderManager();if(console.log("录屏结束1"),s){if(console.log("录屏结束2"),t&&e&&(fe._photocaller=e,fe._photocallback=t,fe._photoparam=n),!fe.recording&&fe.videoPath&&fe._photocaller&&fe._photocallback&&fe._photoparam)return fe._photocallback.call(fe._photocaller,fe._photoparam[0],fe._photoparam[1]),fe._photocaller=null,fe._photocallback=null,void(fe._photoparam=null);s.stop()}}}static pauseRecordVideo(){var e=fe.tt.getGameRecorderManager();console.log("录屏暂停"),e&&e.pause()}static resumeRecordVideo(){var e=fe.tt.getGameRecorderManager();console.log("录屏继续"),e&&e.resume()}static ttShareAppMessage(e="video",t,n,s){""!=fe.videoPath&&fe._timeInThis>3e3?(console.log("录屏分享",s),fe.tt.shareAppMessage({channel:e,title:"",imageUrl:"",query:"",extra:{videoPath:fe.videoPath,hashtag_list:["疯狂动物园","木鸡游戏"],videoTopics:["疯狂动物园","木鸡游戏"]},success(){console.log("分享视频成功"),t&&n&&n.call(t,{code:0,param:s})},fail(e){console.log("分享视频失败",e),-1!=e.errMsg.indexOf("cancel")?t&&n&&n.call(t,{code:-1}):-1!=e.errMsg.indexOf("fail shareInfo is null")?i.msg.show("分享视频信息不存在,分享失败!"):-1!=e.errMsg.indexOf("fail Request token failed")||t&&n&&n.call(t,{code:-2})}})):fe._timeInThis<3e3?(console.log("录屏时长小于3秒，分享失败"),fe.tt.showToast({title:"录屏时长小于3秒，分享失败"}),t&&n&&n.call(t,{code:-2})):(fe.tt.showToast({title:"录屏时长小于3秒，分享失败"}),t&&n&&n.call(t,{code:-3}))}}fe.videoPath="",fe.recording=!1,fe._timeRecord=0,fe._timeInThis=0,fe.tt=window.tt,new fe;const ve=new class{constructor(){}init(){i.eventBus.on("NATIVE_AD_LOADED",this,this.onAdInfoLoaded),this._view={},this._urls={}}onAdInfoLoaded(e){this.updateView(e)}updateView(e){if("oppo"===i.channel&&"207983"===e&&2==g.giftbagCtrl.giftIndex)return;let t=i.ad.getNativeAdList(e)[0],n=this._view[e];if(n)if(n.visible||(n.visible=!0),"banner"===n.name){let e=n.getChildAt(2);e&&(e.text=t.title,e.fontSize=26,e.color="#ffffff",e.pos(25,27),e.size(276,63),e.align="left",e.valign="middle",e.bold=!0,n.visible=!0)}else if("banner2"===n.name){let e=n.getChildByName("title");e&&(e.text=t.title);let i=n.getChildByName("title2");i&&(i.text=t.desc);let s=n.getChildByName("imgIcon");s&&t.icon&&(s.skin=t.icon);let a=n.getChildByName("imgPicture");a&&t.imgUrlList[0]&&(a.skin=t.imgUrlList[0])}else if("bigImage"===n.name){let e=n.getChildByName("imgIcon");e&&t.imgUrlList[0]&&(e.skin=t.imgUrlList[0])}else{let i=n.getChildAt(0);i&&(this._urls[e]&&Laya.loader.cancelLoadByUrl(this._urls[e]),this._urls[e]=t.icon,Laya.loader.load(t.icon,Laya.Handler.create(this,()=>{this._urls[e]===t.icon&&(this._urls[e]=null,i.texture=Laya.loader.getRes(t.icon),i.size(n.width,n.height),i.pos(0,0),n.visible=!0,console.log("加载完成",i))})))}}showAsBanner(e,t){console.log(e,t),this._view[e]=t,t.name="banner";let n=new Laya.Label;t.addChild(n),t.on("click",this,this.onClickNative,[e]);let s=i.ad.getNativeAdList(e);console.log(s),s?this.updateView(e):t.visible=!1}showAsBanner2(e,t){console.log(e,t),this._view[e]=t,t.name="banner2",t.getChildByName("imgbg").on("click",this,this.onClickNative,[e]),t.getChildByName("imgClose").on("click",this,this.onCloseNativeAd,[e]),console.log("==================="+e);let n=i.ad.getNativeAdList(e);console.log(n),n?this.updateView(e):t.visible=!1}showAsBigImage(e,t){console.log(e,t),this._view[e]=t,t.name="bigImage",t.getChildByName("imgbg").on("click",this,this.onClickNative,[e]),t.getChildByName("imgClose").on("click",this,this.onCloseNativeAd,[e]);let n=i.ad.getNativeAdList(e);console.log(n),n?this.updateView(e):t.visible=!1}showAsIcon(e,t){if(console.log("显示native广告[icon]:"+e+","+t.numChildren),this._view[e]=t,t.name="icon",t.numChildren>0)return void console.error("容器内有子项！！adid="+e);let n=new Laya.Image;t.addChild(n),n.on("click",this,this.onClickNative,[e]);let s=i.ad.getNativeAdList(e);console.log(s),s?this.updateView(e):t.visible=!1}onClickNative(e){let t=i.ad.getNativeAdList(e);t&&i.ad.reportNativeClick(e,t[0].adId)}onCloseNativeAd(e){this._view[e].visible=!1,this.clearAd(e)}clearAd(e){console.log("清理native广告对象:"+e);let t=this._view[e];t&&("banner"===t.name?t.offAllCaller(this):"banner2"===t.name||"bigImage"===t.name?(t.getChildByName("imgbg").offAllCaller(this),t.getChildByName("imgClose").offAllCaller(this)):t.getChildAt(0).offAllCaller(this),this._view[e]=null,delete this._view[e],console.log("我被清理了"))}};class we extends i.BaseCtrl{constructor(){super(),this.zjCdVulture=!1,this._upgradeList={},this._wxPd=0,this._distance=0}start(){super.start(),this.bindAssets("cfg/cfgRefresh.json",Laya.Loader.JSON,"game"),this.bindAssets("cfg/cfgChunk.json",Laya.Loader.JSON,"game"),this.bindAssets("res/atlas/preload.atlas",Laya.Loader.ATLAS,"game"),this.bindAssets("res/atlas/btn.atlas",Laya.Loader.ATLAS,"game"),this.bindAssets("cfg/cfgAttribute.json",Laya.Loader.JSON,"game"),this.bindAssets("cfg/cfgNickname.json",Laya.Loader.JSON,"game"),this.bindAssets("cfg/cfgObsatacle.json",Laya.Loader.JSON,"game"),this.bindAssets("cfg/cfgPrefabSpawner.json",Laya.Loader.JSON,"game"),this.bindAssets("res/atlas/btn.atlas",Laya.Loader.ATLAS,"game"),this.bindAssets("main/warnning.ani",Laya.Loader.JSON,"game"),this.bindAssets("main/blackMask.png",Laya.Loader.IMAGE,"game"),this.bindAssets("main/img_xiyou1.png",Laya.Loader.IMAGE,"game"),this.bindAssets("res/atlas/main.atlas",Laya.Loader.ATLAS,"game"),this.bindAssets("res/atlas/friend.atlas",Laya.Loader.ATLAS,"game"),this.bindAssets3D("game/Conventional/PlayerNew.lh","game"),this.bindAssets3D("game/Conventional/pfx_dustcloud_sml.lh","game"),this.bindAssets3D("game/Conventional/pfx_chargeSmashActual.lh","game"),this.bindAssets3D("game/Conventional/pfx_dust2.lh","game"),this.bindAssets3D("game/Conventional/pfx_dustcloud_headOn.lh","game"),this.bindAssets3D("game/Conventional/pfx_smashCactus.lh","game"),this.bindAssets3D("game/Conventional/pfx_splashMud_med.lh","game"),this.bindAssets3D("game/Conventional/pfx_XPProgress.lh","game"),this.bindAssets3D("game/Conventional/pfx_money_1.lh","game"),this.bindAssets3D("game/Conventional/pfx_money_10.lh","game"),this.bindAssets3D("game/Conventional/pfx_money_50.lh","game"),this.bindAssets3D("game/Conventional/pfx_money_250.lh","game"),this.bindAssets3D("game/Conventional/pfx_smashRock.lh","game"),this.bindAssets3D("game/Conventional/pfx_smashTree.lh","game"),this.bindAssets3D("game/Conventional/pfx_collectSmash.lh","game"),this.bindAssets3D("game/Conventional/txtNew.lh","game"),this.bindAssets3D("game/Conventional/txtTask.lh","game")}removeListener(){Laya.timer.clearAll(this),this._btnZoo&&this._btnZoo.off("click",this,this.gotoZoo),this._btnRestart&&this._btnRestart.off("click",this,this.trySkin),i.eventBus.off(Laya.Event.BLUR,this,this.clickPause),this._btnContinue&&this._btnContinue.off("click",this,this.onContinue),this._btnContinue4&&this._btnContinue4.off("click",this,this.onContinue),this._view.btnContinue5.off("click",this,this.onContinue),this._btnZoo2&&this._btnZoo2.off("click",this,this.gotoZoo),this._btnContinue2&&this._btnContinue2.off("click",this,this.onContinue2),this._btnshareRecord&&this._btnshareRecord.off("click",this,this.share),this._btnPauseAd&&this._btnPauseAd.off("click",this,this.clickpauseAd),this._btnChangeTaskPause&&this._btnChangeTaskPause.off("click",this,this.changeTaskPause),this._btnChangeTaskStart&&this._btnChangeTaskStart.off("click",this,this.changeTaskStart),this._btnSure&&this._btnSure.off("click",this,this.moreAd3),this._btnCloseQg&&this._btnCloseQg.off("click",this,this.closeRecord),this._btncloseRecord&&this._btncloseRecord.off("click",this,this.closeRecord),this._btncloseReborn&&this._btncloseReborn.off("click",this,this.closeReborn),this._btnRebornAd&&this._btnRebornAd.off("click",this,this.closeRebornAd),this._btnRebornLegent&&this._btnRebornLegent.off("click",this,this.btnlegent),this._btnlockPause&&this._btnlockPause.off("click",this,this.gotoZoo),this._btnlockStart&&this._btnlockStart.off("click",this,this.gotoZoo),this._btncontinue3&&this._btncontinue3.off("click",this,this.onContinue2),this._btnZoo3&&this._btnZoo3.off("click",this,this.gotoZoo),this._btnPhoto&&this._btnPhoto.off("click",this,this.takePhoto),this._btnNextVisitor&&this._btnNextVisitor.off("click",this,this.gotoZoo),this._view.btnKn.off("click",this,this.gotoZoo),this._btnShare&&this._btnShare.off("click",fe,fe.stopRecordVideo),this._btnShare1&&this._btnShare1.off("click",fe,fe.stopRecordVideo),this._view.btnPhotoShare.off("click",fe,fe.stopRecordVideo),this._btnMap&&this._btnMap.off("click",this,this.btnMap),this._moreAd&&this._moreAd.off("click",this,this.moreAd),this._shareGoldZj&&this._shareGoldZj.off("click",this,this.share),this._btnZjlu&&this._btnZjlu.off("click",this,this.share),this._closeRecordZj&&this._closeRecordZj.off("click",this,this.closeRecord),this._btntzhy&&this._btntzhy.off("click",this,this.btntzhy),this._btnnext1000&&this._btnnext1000.off("click",this,this.btnnext1000),this._btnrank&&this._btnrank.off("click",this,this.btnrank),this._view.btnCold.off("click",this,this.btncold),this._view.shareGoldZj2.off("click",this,this.share),this._view.moreGold.off("click",this,this.moreAd),g.taskCtrl.off("TASK_COMPLETE",this,this.completTask),this._view.btnPause.off("click",this,this.clickPause),this._view.btnRefresh.off("click",this,this.refreshName),this._view.btnMoreXy.off("click",this,this.moreGl),this._view.oppoActive2.off("click",this,this.oppoActive2),this._view.btnZjLiarFH.off(Laya.Event.CLICK,this,this.fiveGou),this._view.btnZjLiarMG.off(Laya.Event.CLICK,this,this.rebornGou),this._view.btnJewQg.off("click",this,this.btnJewQg),this._view.btnVideoQg.off("click",this,this.btnVideoQg),i.eventBus.off("ZJ_TIGER",this,this.zjTiger),Laya.stage.offAllCaller(this)}beforeEnterScene(e){if("game"==this._sceneName&&(this.removeListener(),this.stopFrameLoop(),P.instance.stopAndClear(),re.instance.stopAndClear(),this._btnZoo.clear(),this._btnZoo=null,this._btnRestart.clear(),this._btnRestart=null,this._scene=null,this._cam=null,this._camRig&&this._camRig.destroy(),this._camRig=null,Laya.Tween.clearAll(this._view.finger),this._view=null,this._player&&this._player.destroy(),this._player=null,this._camCtrl.destroy(),this._camCtrl=null,this._btnContinue.clear(),this._btnShare.clear(),this._btnContinue=null,this._btnShare=null,this._btnShare1.clear(),this._btnShare1=null,this._upgradeList=null,this._reborn=null,g.warning=null,this._completTask=null,this._goldAdd=null,this._taskGold=null,this._photoId=null,this._buildAnimal=null,this.firstTime=null,this._warnInfo.hideAll(),i.eventBus.off(Laya.Event.FOCUS,this,this.onFocus),this._shareTime=null,this._fiveGou=null,this._rebornGou=null,this.upgl=null,this._background=null,this._effect=null,this._animal=null,this._zjTigerNum=null,this._noChange=null,this.noMove=null,this.zjCdVulture=null,this._qgGold=null,this._qgJew=null,this._wxPd=null,this._next1000=null,i.channel===i.Channel.oppo?(ve.clearAd("207939"),ve.clearAd("207940")):"vivo"===i.channel&&ve.clearAd("abea873d8eef4a7d904c27e005acebea"),i.ad.hideBanner()),"game"==e){let e,t=m.get("CURRENT_WORLD",0),i=m.getMapLevelByWorld(t),n=m.cfgWorld[t].maps[i].animals,s=m.cfgAnimal,a=m.startAnimal;if(a>999){let e=m.getAnimals(a);a=e&&e.length>0?e[Math.floor(Math.random()*e.length)]:101}g.endangeredAnimals.curTryId>0&&(a=g.endangeredAnimals.curTryId),this._defaultAnimalId=a,e=s[a],this.bindAssets3D(e.res,"game",!0);for(const t in s)s.hasOwnProperty(t)&&(e=s[t])&&n.indexOf(e.encId)>-1&&this.bindAssets3D(e.res,"game",!0);let o=m.cfgWorld[t].worldName,h=(s=m.cfgGround)[o].load,l=s.chunksPath;for(let e=0;e<h.length;e++)this.bindAssets3D(l+h[e]+".lh","game",!0);let r,p=m.cfgZoneDef[t].zone,d=[];for(let e=0;e<p.length;e++)if(r=p[e].randomObstacles)for(let e=0;e<r.length;e++){const t=r[e];-1===d.indexOf(t)&&(d.push(t),this.bindAssets3D("game/Conventional/"+t+".lh","game",!0))}d=null,r=null,this._sceneResUrl=l+s[o].scene+".ls",this._cameraResUrl=l+s[o].camera+".lh",this.bindAssets3D(this._cameraResUrl,"game",!0),this.bindAssets3D(this._sceneResUrl,"game",!0)}}createChildren(e){if("game"==e){g.paused=!1,this._view=i.stage.sceneUI,this._view.botBox.visible=!1,this._view.screenshoot.visible=!1,this._view.botPause.visible=!1,this._view.botRecord.visible=!1,this._view.botFarest.visible=!1,this._btnZoo=new L(this._view.btnZoo),this._btnRestart=new L(this._view.btnRestart),this._btnContinue4=new L(this._view.btnContinue4),this._btnContinue=new L(this._view.btnContinue,null,"preload"),this._btnShare=new L(this._view.btnShare,this._view.btnShareLight,"preload"),this._btnZjlu=new L(this._view.btnZjlu,this._view.btnShareLight2,"preload"),this._btnShare1=new L(this._view.btnShare1,null,"main",-15,0),this._btnVideoQg=new L(this._view.btnVideoQg,this._view.qgLight),this._btnJewQg=new L(this._view.btnJewQg),this._btnCloseQg=new L(this._view.btnCloseQg),this._btnlockPause=new L(this._view.btnLockPause),this._btnlockStart=new L(this._view.btnLock),this._btnZoo2=new L(this._view.btnZoo2),this._btnChangeTaskPause=new L(this._view.btnChangeTaskPause),this._btnChangeTaskStart=new L(this._view.btnChangeTaskStart),this._btnContinue2=new L(this._view.btnContinue2),this._btnPauseAd=new L(this._view.btnAd),this._moreAd=new L(this._view.moreAd),this._btnNextVisitor=new L(this._view.btnNextVisitor,this._view.btnShareLight3,"preload"),this._btnshareRecord=new L(this._view.btnWx),this._btncloseRecord=new L(this._view.btnClose),this._btnSure=new L(this._view.btnSure),this._btncloseReborn=new L(this._view.btncloseborn),this._btnRebornAd=new L(this._view.btnReborn),this._btnRebornLegent=new L(this._view.btnlegent),this._btnMap=new L(this._view.btnMap,this._view.btnShareLight4,"preload"),this._btncontinue3=new L(this._view.btncontinue3),this._btnZoo3=new L(this._view.btnZoo3),this._btnPhoto=new L(this._view.btnPhoto),this._shareGoldZj=new L(this._view.shareGoldZj),this._closeRecordZj=new L(this._view.closeRecordZj),this._btntzhy=new L(this._view.btn_tzhy),this._btnnext1000=new L(this._view.btn_next1000),this._btnrank=new L(this._view.btn_rank),this._btnShare.hideLight(),this._warnInfo||(this._warnInfo=new ce),this._warnInfo.init(this._view.warnInfo),g.warning=this._warnInfo,"bd"!==i.channel?this._view.topBox.y=i.stage.notchHeight:this._view.topBox.y=i.stage.notchHeight+70,this._view.tapInfo.visible=!1,this._view.gold1.text=Math.floor(m.gold).toString(),this._view.gold2.text=Math.floor(m.gold).toString(),this._scene=Laya.loader.getRes(this._sceneResUrl),i.stage.addChild(this._scene,i.Layer.D3);let e=Laya.loader.getRes(this._cameraResUrl);this._scene.addChild(e),e.transform.localPosition=i.Temp.getVector3(0,0,0),this._cam=i.findChildByPath(e,"CameraOrbit.SelfieOffsetY.SelfieOffsetX.AnimOffset.AnimDolly.ShakeOffset.Main Camera.Camera"),this._cam.fieldOfView=35,this._camCtrl=this._cam.addComponent(be),this._ShakeOffset=i.findChildByPath(e,"CameraOrbit.SelfieOffsetY.SelfieOffsetX.AnimOffset.AnimDolly.ShakeOffset").transform,this._camRig=e.addComponent(D);let t=Laya.loader.getRes("game/Conventional/PlayerNew.lh");if(this.changeSkin(t),this._player=t.addComponent($),this._player.state=o.waitingForStart,this._scene.addChild(t),re.instance.start(),P.instance.start(),re.instance.createOne(this._defaultAnimalId.toString(),i.Temp.getVector3(0,50,m.startPos+9),this,this.onStartAnimalCreate),this._btnRestart.on("click",this,this.trySkin),this._btnZoo.on("click",this,this.gotoZoo),this._btnContinue.on("click",this,this.onContinue),this._btnContinue4.on("click",this,this.onContinue),this._view.btnContinue5.on("click",this,this.onContinue),this._btnZoo2.on("click",this,this.gotoZoo),this._btnContinue2.on("click",this,this.onContinue2),this._btnshareRecord.on("click",this,this.share,[100,1008]),this._btnPauseAd.on("click",this,this.clickpauseAd,[0]),this._btncloseRecord.on("click",this,this.closeRecord),this._btnlockPause.on("click",this,this.gotoZoo,[3]),this._btnlockStart.on("click",this,this.gotoZoo,[3]),this._btncloseReborn.on("click",this,this.closeReborn),this._btnRebornAd.on("click",this,this.closeRebornAd),this._btnRebornLegent.on("click",this,this.btnlegent),this._btnZjlu.on("click",this,this.share,[30,1014]),this._view.btnPhotoShare.on("click",fe,fe.stopRecordVideo,[this,this.share,[30,1013]]),this._btnMap.on("click",this,this.btnMap),this._moreAd.on("click",this,this.moreAd),this._btnSure.on("click",this,this.moreAd3),this._btnChangeTaskPause.on("click",this,this.changeTaskPause),this._btnChangeTaskStart.on("click",this,this.changeTaskStart),this._view.moreGold.on("click",this,this.moreAd),this._btnShare.on("click",fe,fe.stopRecordVideo,[this,this.share,[30,1013]]),this._btnShare1.on("click",fe,fe.stopRecordVideo,[this,this.share,[30,1013]]),this._btncontinue3.on("click",this,this.onContinue2),this._btnZoo3.on("click",this,this.gotoZoo),this._btnPhoto.on("click",this,this.takePhoto),this._btnNextVisitor.on("click",this,this.gotoZoo,[2]),this._view.btnKn.on("click",this,this.gotoZoo,[4]),this._shareGoldZj.on("click",this,this.share,[100,1008]),this._view.shareGoldZj2.on("click",this,this.share,[100,1008]),this._closeRecordZj.on("click",this,this.closeRecord),this._view.btnRefresh.on("click",this,this.refreshName),this._view.btnPause.on("click",this,this.clickPause),i.eventBus.on(Laya.Event.BLUR,this,this.clickPause),g.taskCtrl.on("TASK_COMPLETE",this,this.completTask),this._btnCloseQg.on("click",this,this.closeRecord),this._btnVideoQg.on("click",this,this.btnVideoQg),this._btnJewQg.on("click",this,this.btnJewQg),this._view.btnZjLiarFH.on(Laya.Event.CLICK,this,this.fiveGou),this._view.btnZjLiarMG.on(Laya.Event.CLICK,this,this.rebornGou),this._view.btnMoreXy.on("click",this,this.moreGl),this._view.oppoActive2.on("click",this,this.oppoActive2),this._view.signMask.on(Laya.Event.MOUSE_DOWN,this,this.stopMaoPao),this._view.teachGlMask.on(Laya.Event.MOUSE_DOWN,this,this.stopMaoPao),this._btntzhy.on("click",this,this.btntzhy),this._btnnext1000.on("click",this,this.btnnext1000),this._btnrank.on("click",this,this.btnrank),this._view.btnCold.on("click",this,this.btncold),i.eventBus.on("ZJ_TIGER",this,this.zjTiger),this.startFrameLoop(),this.creatUpgrade(),this.displayTarget(!0),"zj"==i.channel&&fe.startRecordVideo(),"vivo"==i.channel&&(this._view.btnVideoQg.visible=!1,this._view.btnJewQg.left=275),"hw"==i.channel){this._view.otherTaskRestart.visible=!1,this._view.otherTaskPause.visible=!1,this._view.hwTaskRestart.visible=!0,this._view.hwTaskPause.visible=!0,this._view.moreAd.visible=!1;for(let e=2;e<6;e++)this._view.moreGold.getChildAt(e).visible=!1;this._view.getGold.centerY=0,this._view.getGold.fontSize=70,this._view.changeTaskPause.getChildAt(1).text="花费金币立即刷新任务",this._view.changeTaskStart.getChildAt(1).text="花费金币立即刷新任务",this._view.btnKn.visible=!1,this._view.btnReborn.getChildAt(0).getChildAt(1).visible=!1,this._view.btnReborn.getChildAt(0).getChildAt(2).visible=!0}else this._view.otherTaskRestart.visible=!0,this._view.otherTaskPause.visible=!0,this._view.hwTaskRestart.visible=!1,this._view.hwTaskPause.visible=!1;if("qq"==i.channel||"wx"==i.channel){this._view.distance.visible=!1,this._view.distance2.visible=!1,this._view.mi.visible=!1;let e=Laya.Browser.window.qq;if(e){e.getOpenDataContext().postMessage({type:"initfriend"})}}}}oppoActive2(e){}adMove(){let e=this._view.oppoActive;if(!e)return;Laya.Tween.to(e,{rotation:45},300,null,null,0,!1),Laya.Tween.to(e,{rotation:-45},600,null,null,300,!1),Laya.Tween.to(e,{rotation:0},300,null,Laya.Handler.create(this,this.adMove),900,!1)}backToGame(){this._view.visible=!0,this._view.gold1.text=Math.floor(m.gold).toString(),this._view.gold2.text=Math.floor(m.gold).toString(),this.afterReborn()}zjTiger(){"zj"!=i.channel&&"wx"!=i.channel||(this._zjTigerNum||(this._zjTigerNum=0),this._zjTigerNum+=1,this._player&&this._player.state==o.riding&&6==this._zjTigerNum&&!this._noChange&&(this._noChange=!0,g.gameCtrl.changeAnimal("348")))}stopMaoPao(e){e.stopPropagation()}afterEnterScene(e){"game"==e&&(0==m.get("CURRENT_WORLD",0)?i.sound.playMusic("audioGame/Music_Savannah.mp3"):1==m.get("CURRENT_WORLD",0)&&i.sound.playMusic("audioGame/Music_Jungle.mp3"),0==m.get("openOne",0)?("wx"==i.channel||"qq"==i.channel?i.TmCtrl.instance.tmSendEvent("tutorial_8",{}):"zj"==i.channel||"bd"==i.channel?i.reportEvent("tutorial_8",{}):"oppo"==i.channel&&(this.firstTime=Laya.Browser.now(),u.upload(_.tutorial_8)),m.set("openOne",1)):1!=m.get("openOne",0)||"wx"!=i.channel&&"qq"!=i.channel?2!=m.get("openOne",0)||"wx"!=i.channel&&"qq"!=i.channel?1==m.get("openOne",0)&&"oppo"==i.channel?(u.upload(_.yd_run_2),m.set("openOne",2)):2==m.get("openOne",0)&&"oppo"==i.channel?(u.upload(_.yd_run_3),m.set("openOne",3)):1==m.get("openOne",0)&&"bd"===i.channel?(i.reportEvent("yd_run_2"),m.set("openOne",2)):2==m.get("openOne",0)&&"bd"===i.channel&&(i.reportEvent("yd_run_3"),m.set("openOne",3)):(i.TmCtrl.instance.tmSendEvent("yd_run_3"),m.set("openOne",3)):(i.TmCtrl.instance.tmSendEvent("yd_run_2"),m.set("openOne",2)))}changeSkin(e){let t=i.findChildByPath(e,"offset.MESHES.DO_NOT_BATCH"),n=t.getChildByName("CHESTGIRL"),s=t.getChildByName("HAIRGIRL");1==m.sex?(n.active=!1,s.active=!1):2==m.sex&&(n.active=!0,s.active=!0);let a=i.findChildByPath(e,"offset.ctrl_main.ctrl_hips.HEAD 1.SKELETON 3.joint_head.joint_HAT.Hat_attach"),o=Laya.loader.getRes(m.cfgHats[m.curHatId].res);a.addChild(o);i.findChildByPath(e,"offset.MESHES.DO_NOT_BATCH"),e.getChildByName("MESH_BODY").skinnedMeshRenderer.material;let h=n.skinnedMeshRenderer.material,l=new Laya.Vector4(1,1,0,-.0625);l.z=.0625*[1,2,3,4,5][m.clothes],e.getChildByName("MESH_BODY").skinnedMeshRenderer.material.tilingOffset=l,h.tilingOffset=l}onStartAnimalCreate(e){this._next1000?(this._next1000=null,i.posSprite3D(this._player,0,50,1009,!1),i.posSprite3D(e,0,50,1009,!1)):(i.posSprite3D(this._player,0,50,9+m.startPos,!1),i.posSprite3D(e,0,50,9+m.startPos,!1)),this._player.ride(e,!0),Laya.systemTimer.frameOnce(3,this._player,this._player.startRunLanding),this.noMove=Math.floor(Laya.Browser.now()/1e3),"zj"==i.channel&&Laya.timer.once(8e3,this,()=>{this.zjCdVulture||this._player.state!=o.riding||0!=g.paused?(this.zjCdVulture=null,this.noMove=null):(this.changeAnimal("207"),this.zjCdVulture=null)})}onContinue(e){i.ad.hideBanner(),this._btnShare.hideLight(),this._view.screenshoot.visible=!1,this._view.tapInfo.visible=!0,Laya.stage.once(Laya.Event.MOUSE_DOWN,this,()=>{g.paused=!1,this._view.tapInfo.visible=!1,this._view.btnPause.visible=!0,this.displayTarget(!0),"zj"==i.channel&&(fe.recording?fe.resumeRecordVideo():fe.startRecordVideo())})}onContinue2(e){this._view.tapInfo.visible=!0,this._view.botPause.visible=!1,this._view.changeTaskPause.visible=!1,this._view.lockMapPause.visible=!1,i.ad.hideBanner(),Laya.stage.once(Laya.Event.MOUSE_DOWN,this,()=>{g.paused=!1,this._view.tapInfo.visible=!1,this._view.btnPause.visible=!0,this.displayTarget(!0),"zj"==i.channel&&fe.resumeRecordVideo()})}share(e,t){if("wx"==i.channel){if(wx){let e={5:"share_5gold",6:"share_revive",1013:"share_tame",1008:"share_highest"};i.tmShare(e[t])}e&&t&&(1013==t?(i.TmCtrl.instance.tmSendEvent("share_photo",{value:"点击"}),this.addGold(e,t),this.onContinue()):1008==t&&(this._shareTime=Laya.Browser.now(),i.eventBus.on(Laya.Event.FOCUS,this,this.onFocus,[3]),i.TmCtrl.instance.tmSendEvent("share_highscore",{value:"点击"})))}else if("qq"==i.channel){if(window.qq){let n=[null,["开局一条龙，快来试玩吧！","https://zy-1257315588.file.myqcloud.com/zoo/share_img/share7.jpg"],["园长，快进来看看你的动物怎么样了？","https://zy-1257315588.file.myqcloud.com/zoo/share_img/share8.jpg"],["太魔性啦！这谁顶得住啊？","https://zy-1257315588.file.myqcloud.com/zoo/share_img/share9.jpg"]],s=Math.floor(2*Math.random()+1),a=this;window.qq.shareAppMessage({title:n[s][0],imageUrl:n[s][1],query:"gid="+i.gid,success:()=>{e&&t&&(1013==t?(i.TmCtrl.instance.tmSendEvent("share_photo",{value:"点击"}),a.addGold(e,t),a.onContinue()):1008==t&&(a._shareTime=Laya.Browser.now(),i.eventBus.on(Laya.Event.FOCUS,a,a.onFocus,[3]),i.TmCtrl.instance.tmSendEvent("share_highscore",{value:"点击"})))}})}}else"zj"==i.channel&&fe.ttShareAppMessage("video",this,this.shareComplet,[e,t])}shareComplet(e){0==e.code&&(e.param[0]&&e.param[1]&&this.addGold(e.param[0],e.param[1]),1013==e.param[1]?this.onContinue():1008==e.param[1]?this.closeRecord():1014==e.param[1]&&(this._view.zjLuxiang.visible=!1),console.log("分享成功",e),"wx"==i.channel||"qq"==i.channel?i.TmCtrl.instance.tmSendEvent("recording_succ",{}):"zj"==i.channel&&i.reportEvent("recording_succ",{}))}changeTaskPause(){g.taskCtrl.changeTask(1)||i.msg.show("一天最多更换三次任务")}changeTaskStart(){g.taskCtrl.changeTask(2)||i.msg.show("一天最多更换三次任务")}afterReborn(){m.setDailyTask(2,1),this._view.botReborn.visible=!1,this._view.oppoActive4.visible=!1,this._view.gailvUp.visible=!1;let e=m.get("CURRENT_WORLD",0),t=m.getFarest(e);if(t<this._distance){m.setFarest(e,this._distance);let n=this._distance-t;if("qq"==i.channel)i.TmCtrl.instance.tmSendEvent("share_highscore",{value:"曝光"}),this._view.botRecordZj.visible=!1,this._view.botRecord.visible=!0,this._view.botRecordQg.visible=!1,this._view.btnClose.visible=!1,this._view.txtRecord.text="提高了"+n+"米",Laya.timer.once(2e3,this,()=>{this._view.btnClose.visible=!0});else if("zj"==i.channel)this._view.botRecord.visible=!1,this._view.botRecordZj.visible=!0,this._view.botRecordQg.visible=!1,this._view.closeRecordZj.visible=!1,this._view.txtRecordZj.text="提高了"+n+"米",Laya.timer.once(2e3,this,()=>{this._view.closeRecordZj.visible=!0}),fe.stopRecordVideo();else if("wx"==i.channel||"oppo"==i.channel||"vivo"==i.channel||"hw"==i.channel||"bd"==i.channel||"none"==i.channel)if(this._distance>=200){let t=[[200,500,1],[500,1e3,2],[1e3,1500,3],[1500,2e3,4],[2e3,2500,5],[2500,3e3,6],[3e3,3500,7],[3500,4e3,8],[4e3,4500,9],[4500,5e3,10],[5e3,null,11]];this._view.botRecordZj.visible=!1,this._view.botRecord.visible=!1,this._view.botRecordQg.visible=!0,"oppo"==i.channel&&this.firstTime||("wx"==i.channel?i.TmCtrl.instance.tmSendEvent("share_highscore",{value:"曝光"}):"hw"==i.channel?(this._view.btnVideoQg.visible=!1,this._view.btnJewQg.centerX=0,this._view.btnJewQg.left=NaN):"bd"===i.channel&&this.firstTime&&i.reportEvent("show_record")),this._view.txtRecordQg.text="提高了"+n+"米","oppo"==i.channel?this._view.btnCloseQg.visible=!0:Laya.timer.once(2e3,this,()=>{this._view.btnCloseQg.visible=!0});for(let i=0;i<t.length;i++){const n=t[i];if(n[0]<=this._distance&&(n[1]&&n[1]>this._distance||!n[1])){this._qgJew=n[2]*(e+1),this._qgGold=Math.floor((this._distance-200)*(e+1)*.2+50),this._view.oneQg.text=String(this._qgGold),this._view.doubleQg.text="+"+String(2*this._qgGold),this._view.fiveQg.text="+"+String(5*this._qgGold),this._view.cutJewQg.text="X"+String(this._qgJew);break}}}else this.closeRecord();else this._view.botRecord.visible=!1,this._view.botRecordZj.visible=!1,this._view.botRecordQg.visible=!0,this._view.closeRecordZj.visible=!1,this._view.txtRecordZj.text="提高了"+n+"米",Laya.timer.once(2e3,this,()=>{this._view.closeRecordZj.visible=!0})}else this.closeRecord()}closeReborn(e=!1){if("vivo"==i.channel&&i.ad.hideBanner(),("zj"==i.channel||"wx"==i.channel||"qq"==i.channel||"bd"==i.channel)&&!e){if(this._rebornGou)return this._rebornGou=null,void this.closeRebornAd();"zj"==i.channel&&fe.stopRecordVideo()}"qq"==i.channel||"vivo"==i.channel||"wx"==i.channel?i.ad.showInsertAd():"zj"==i.channel&&1==we.zjGameInsert&&i.ad.showZjInsertAd();let t=!1;"wx"!=i.channel&&"qq"!=i.channel&&"bd"!=i.channel||Laya.Browser.onAndroid||(t=!0),this._giftBag%2==0&&m.getAnimals(1e3)&&m.getAnimals(1e3).indexOf(11)<0&&!t&&"zj"!==i.channel?(this._view.visible=!1,g.giftbagCtrl.showGiftBag(0),"oppo"==i.channel&&this.firstTime||"bd"===i.channel&&this.firstTime&&i.reportEvent("show_noreborn")):this.afterReborn(),this._giftBag+=1}btnJewQg(){this._qgJew<=m.jew?(m.addJew(-this._qgJew,1009),this.addGold(2*this._qgGold,1016,!0),i.msg.show("消耗"+this._qgJew+"钻石，获得"+2*this._qgGold+"金币"),this.closeRecord()):i.msg.show("钻石不足")}btnVideoQg(){"vivo"==i.channel?i.ad.showVivoVideo(this,this.btnVideoQg2,i.vivoAd.record):"oppo"==i.channel?i.ad.showOPPOVideo(this,this.btnVideoQg2,_.ad_zuigao):"wx"==i.channel||"bd"==i.channel?i.ad.showVideoAd(this,this.btnVideoQg2):"yl"===i.channel&&i.ad.showVideoAd(this,this.btnVideoQg2,i.ylAd.fivegold)}btnVideoQg2(e){e?(i.channel,this.addGold(5*this._qgGold,1017,!0),i.msg.show("获得"+5*this._qgGold+"金币"),this.closeRecord()):g.videoTipCtrl.showTips(this,this.closeRecord),"vivo"==i.channel&&(0==m.get("CURRENT_WORLD",0)?i.sound.playMusic("audioGame/Music_Savannah.mp3"):1==m.get("CURRENT_WORLD",0)&&i.sound.playMusic("audioGame/Music_Jungle.mp3"))}addGold(e,t,i=!0){if(1008!=t&&1013!=t&&1016!=t&&1017!=t&&(this._goldAdd=this._goldAdd||0,this._goldAdd+=e,this._goldAdd=Math.floor(this._goldAdd)),1006==t&&(this._taskGold=this._taskGold||0,this._taskGold+=e),i){let t=Math.floor(m.gold+e);this._view.gold1.text=t.toString(),this._view.gold2.text=t.toString(),this._view.gold3.text="(+"+e+")",this._view.gold4.text="(+"+e+")",this._view.gold3.visible=!0,this._view.gold4.visible=!0,Laya.timer.once(1500,this,()=>{this._view.gold3.visible=!1,this._view.gold4.visible=!1})}m.addGold(e,t)}hideStar(){if(this._completTask&&this._completTask.length>0){let e=this._completTask.length;if(1==e){for(let e=0;e<3;e++)this._view.complet0.getChildByName("difficult0"+e).visible=!1;this._view.complet0.getChildByName("getgold0").visible=!0,this._view.complet0.getChildByName("getgold0").text="+"+this._completTask[0][2],this._view.gou0.visible=!0}else if(2==e){for(let e=0;e<3;e++)this._view.complet0.getChildByName("difficult0"+e).visible=!1,this._view.complet1.getChildByName("difficult1"+e).visible=!1;this._view.complet0.getChildByName("getgold0").visible=!0,this._view.complet0.getChildByName("getgold0").text="+"+this._completTask[0][2],this._view.complet1.getChildByName("getgold1").visible=!0,this._view.complet1.getChildByName("getgold1").text="+"+this._completTask[1][2],this._view.gou0.visible=!0,this._view.gou1.visible=!0}else if(3==e){for(let e=0;e<3;e++)this._view.complet0.getChildByName("difficult0"+e).visible=!1,this._view.complet1.getChildByName("difficult1"+e).visible=!1,this._view.complet2.getChildByName("difficult2"+e).visible=!1;this._view.complet0.getChildByName("getgold0").visible=!0,this._view.complet0.getChildByName("getgold0").text="+"+this._completTask[0][2],this._view.complet1.getChildByName("getgold1").visible=!0,this._view.complet1.getChildByName("getgold1").text="+"+this._completTask[1][2],this._view.complet2.getChildByName("getgold2").visible=!0,this._view.complet2.getChildByName("getgold2").text="+"+this._completTask[2][2],this._view.gou0.visible=!0,this._view.gou1.visible=!0,this._view.gou2.visible=!0}else if(4==e){for(let e=0;e<3;e++)this._view.complet0.getChildByName("difficult0"+e).visible=!1,this._view.complet1.getChildByName("difficult1"+e).visible=!1,this._view.complet2.getChildByName("difficult2"+e).visible=!1,this._view.complet3.getChildByName("difficult3"+e).visible=!1;this._view.complet0.getChildByName("getgold0").visible=!0,this._view.complet0.getChildByName("getgold0").text="+"+this._completTask[0][2],this._view.complet1.getChildByName("getgold1").visible=!0,this._view.complet1.getChildByName("getgold1").text="+"+this._completTask[1][2],this._view.complet2.getChildByName("getgold2").visible=!0,this._view.complet2.getChildByName("getgold2").text="+"+this._completTask[2][2],this._view.complet3.getChildByName("getgold3").visible=!0,this._view.complet3.getChildByName("getgold3").text="+"+this._completTask[3][2],this._view.gou0.visible=!0,this._view.gou1.visible=!0,this._view.gou2.visible=!0,this._view.gou3.visible=!0}else if(5==e){for(let e=0;e<3;e++)this._view.complet0.getChildByName("difficult0"+e).visible=!1,this._view.complet1.getChildByName("difficult1"+e).visible=!1,this._view.complet2.getChildByName("difficult2"+e).visible=!1,this._view.complet3.getChildByName("difficult3"+e).visible=!1,this._view.complet4.getChildByName("difficult4"+e).visible=!1;this._view.complet0.getChildByName("getgold0").visible=!0,this._view.complet0.getChildByName("getgold0").text="+"+this._completTask[0][2],this._view.complet1.getChildByName("getgold1").visible=!0,this._view.complet1.getChildByName("getgold1").text="+"+this._completTask[1][2],this._view.complet2.getChildByName("getgold2").visible=!0,this._view.complet2.getChildByName("getgold2").text="+"+this._completTask[2][2],this._view.complet3.getChildByName("getgold3").visible=!0,this._view.complet3.getChildByName("getgold3").text="+"+this._completTask[3][2],this._view.complet4.getChildByName("getgold4").visible=!0,this._view.complet4.getChildByName("getgold4").text="+"+this._completTask[4][2],this._view.gou0.visible=!0,this._view.gou1.visible=!0,this._view.gou2.visible=!0,this._view.gou3.visible=!0,this._view.gou4.visible=!0}}if(this._taskGold&&this._taskGold>0){let e=Math.floor(m.gold);this._view.gold1.text=e.toString(),this._view.gold2.text=e.toString(),this._view.gold3.text="(+"+this._taskGold+")",this._view.gold4.text="(+"+this._taskGold+")",this._view.gold3.visible=!0,this._view.gold4.visible=!0,Laya.timer.once(1500,this,()=>{this._view.gold3.visible=!1,this._view.gold4.visible=!1})}}closeRecord(){if(this._view.botRecord.visible=!1,this._view.botRecordZj.visible=!1,this._view.botRecordQg.visible=!1,this._view.moreGold.visible=!1,this._qgGold=null,this._qgJew=null,this.displayTarget(!1),this._goldAdd&&0==this._goldAdd||!this._goldAdd)return void this.lastUI();let e=[];if(this._view.taskAfter.visible=!0,this._completTask&&this._completTask.length>0&&(1==this._completTask.length?(this._view.dec0.text=this._completTask[0][0],this._view.complet0.getChildByName("getgold0").visible=!1,this._view.complet0.getChildByName("getgold0").text="+"+this._completTask[0][2],this._view.complet0.getChildByName("difficult0"+this._completTask[0][1]).visible=!0,e.push(this._view.complet0),this._view.gou0.visible=!1,Laya.timer.once(1e3,this,this.hideStar)):2==this._completTask.length?(this._view.dec0.text=this._completTask[0][0],this._view.dec1.text=this._completTask[1][0],e.push(this._view.complet0),e.push(this._view.complet1),this._view.complet0.getChildByName("getgold0").visible=!1,this._view.complet1.getChildByName("getgold1").visible=!1,this._view.complet0.getChildByName("difficult0"+this._completTask[0][1]).visible=!0,this._view.complet1.getChildByName("difficult1"+this._completTask[1][1]).visible=!0,this._view.gou0.visible=!1,this._view.gou1.visible=!1,Laya.timer.once(1e3,this,this.hideStar)):3==this._completTask.length?(this._view.dec0.text=this._completTask[0][0],this._view.dec1.text=this._completTask[1][0],this._view.dec2.text=this._completTask[2][0],e.push(this._view.complet0),e.push(this._view.complet1),e.push(this._view.complet2),this._view.complet0.getChildByName("getgold0").visible=!1,this._view.complet1.getChildByName("getgold1").visible=!1,this._view.complet2.getChildByName("getgold2").visible=!1,this._view.complet0.getChildByName("difficult0"+this._completTask[0][1]).visible=!0,this._view.complet1.getChildByName("difficult1"+this._completTask[1][1]).visible=!0,this._view.complet2.getChildByName("difficult2"+this._completTask[2][1]).visible=!0,this._view.gou0.visible=!1,this._view.gou1.visible=!1,this._view.gou2.visible=!1,Laya.timer.once(1e3,this,this.hideStar)):4==this._completTask.length?(this._view.dec0.text=this._completTask[0][0],this._view.dec1.text=this._completTask[1][0],this._view.dec2.text=this._completTask[2][0],this._view.dec3.text=this._completTask[3][0],e.push(this._view.complet0),e.push(this._view.complet1),e.push(this._view.complet2),e.push(this._view.complet3),this._view.complet0.getChildByName("getgold0").visible=!1,this._view.complet1.getChildByName("getgold1").visible=!1,this._view.complet2.getChildByName("getgold2").visible=!1,this._view.complet3.getChildByName("getgold3").visible=!1,this._view.complet0.getChildByName("difficult0"+this._completTask[0][1]).visible=!0,this._view.complet1.getChildByName("difficult1"+this._completTask[1][1]).visible=!0,this._view.complet2.getChildByName("difficult2"+this._completTask[2][1]).visible=!0,this._view.complet3.getChildByName("difficult3"+this._completTask[3][1]).visible=!0,this._view.gou0.visible=!1,this._view.gou1.visible=!1,this._view.gou2.visible=!1,this._view.gou3.visible=!1,Laya.timer.once(1e3,this,this.hideStar)):5==this._completTask.length&&(this._view.dec0.text=this._completTask[0][0],this._view.dec1.text=this._completTask[1][0],this._view.dec2.text=this._completTask[2][0],this._view.dec3.text=this._completTask[3][0],this._view.dec4.text=this._completTask[4][0],e.push(this._view.complet0),e.push(this._view.complet1),e.push(this._view.complet2),e.push(this._view.complet3),e.push(this._view.complet4),this._view.complet0.getChildByName("getgold0").visible=!1,this._view.complet1.getChildByName("getgold1").visible=!1,this._view.complet2.getChildByName("getgold2").visible=!1,this._view.complet3.getChildByName("getgold3").visible=!1,this._view.complet4.getChildByName("getgold4").visible=!1,this._view.complet0.getChildByName("difficult0"+this._completTask[0][1]).visible=!0,this._view.complet1.getChildByName("difficult1"+this._completTask[1][1]).visible=!0,this._view.complet2.getChildByName("difficult2"+this._completTask[2][1]).visible=!0,this._view.complet3.getChildByName("difficult3"+this._completTask[3][1]).visible=!0,this._view.complet4.getChildByName("difficult4"+this._completTask[4][1]).visible=!0,this._view.gou0.visible=!1,this._view.gou1.visible=!1,this._view.gou2.visible=!1,this._view.gou3.visible=!1,this._view.gou4.visible=!1,Laya.timer.once(1e3,this,this.hideStar))),this._goldAdd&&this._goldAdd>0)if(this._view.getGold.text="本局金币："+this._goldAdd,e.push(this._view.moreGold),"wx"==i.channel||"qq"==i.channel||"bd"==i.channel){m.loop();let e=m.get("fiveGoldAd",0),t=this._view.moreAd.getChildAt(0).getChildAt(0);3==e?(i.TmCtrl.instance.tmSendEvent("share_5gold",{value:"曝光"}),t.skin="main/img_shareWx.png",this._view.moregoldText.text="3",this._view.ZjLiarMG.visible=!1):(i.TmCtrl.instance.tmSendEvent("ad_5gold",{value:"曝光"}),t.skin="main/ad.png",this._view.moregoldText.text="5",this.zjLiar(2))}else"zj"==i.channel?(this.zjLiar(2),i.reportEvent("ad_5gold",{value:"曝光"})):i.channel;let t=e.length,n=[null,[500],[600,750],[350,500,650],[300,450,600,750],[300,450,600,750,900],[150,300,450,600,750,900]];for(let i=0;i<t;i++)e[i].visible=!0,e[i].y=n[t][i];e.length>0&&("vivo"==i.channel||"oppo"==i.channel||i.ad.showTTBanner(0)),"oppo"==i.channel||"vivo"==i.channel?(this._view.btnSure.visible=!0,this._view.btnSure.bottom=i.ad.bannerHeight+10):(this._view.btnSure.visible=!1,Laya.timer.once(2e3,this,()=>{this._view.btnSure.visible=!0,this._view.btnSure.bottom=i.ad.bannerHeight+10}))}teachOne(e){0==m.get("teach",0)&&0==m.enclosure[1001]&&(m.set("teach",1),this._buildAnimal="1001",e.push(this._view.botBuild),this._view.textBuild.text="建造并升级野牛栖息地",this._view.signMask.visible=!0,"oppo"==i.channel||"bd"===i.channel&&i.reportEvent("show_build1"))}lastUI(){let e={1001:"野牛",1002:"斑马",1003:"大象",1004:"鸵鸟",1005:"长颈鹿",1006:"秃鹫",1007:"狮子",1008:"野猪",1009:"大猩猩",1010:"鳄鱼",1011:"河马",1012:"犀牛",1013:"老虎",1014:"巨嘴鸟"},t=[];this._view.taskAfter.visible=!1,this._view.botBox.visible=!0,this._view.moreGold.visible=!1,this._view.lastUI.visible=!0,this._view.textFar.text=m.getFarest(m.get("CURRENT_WORLD",0))+"米";let n=[];for(const e in m.enclosure)m.enclosure.hasOwnProperty(e)&&m.getAnimals(Number(e)).length>0&&-1==m.enclosure[e]&&n.push(Number(e));n.sort(),n[n.length-1]&&e[n[n.length-1]]?(this._buildAnimal=n[n.length-1],this._view.textBuild.text="建造"+e[n[n.length-1]]+"栖息地",t.push(this._view.botBuild)):this.teachOne(t),m.openTime<Laya.Browser.now()&&t.push(this._view.nextVisitor),"zj"==i.channel&&t.push(this._view.zjLuxiang),"qq"!==i.channel&&(t.push(this._view.botFarest),"hw"!==i.channel&&t.push(this._view.btnKn));let s,a=t.length;if("qq"==i.channel){this._view.qqFriends.visible=!0,this._view.qqFriends.y=600,this._view.farest.text=m.getFarest(m.get("CURRENT_WORLD",0))+"米",console.log("主域通知子域初始化");let e=Laya.Browser.window.qq;if(e){e.getOpenDataContext().postMessage({type:"friend",value:1})}s=[null,[300],[300,450],[300,450,600]]}else s=[null,[600],[600,750],[250,400,550],[250,400,550,700],[300,450,600,750,900],[250,400,550,700,850,1e3]];for(let e=0;e<a;e++)t[e].visible=!0,t[e]==this._view.botBuild&&m.get("teach",0)<4&&"1001"!=this._buildAnimal&&(m.set("teach",3),this._view.signMask.visible=!0,"bd"===i.channel&&i.reportEvent("show_newanimal")),t[e].y=s[a][e];if(1==this._view.finger.visible){let e=this._view.finger,t=-160;for(let i=0;i<1e3;i++)Laya.Tween.to(e,{y:t+40},300,null,null,300*i,!1),Laya.Tween.to(e,{y:t},300,null,null,300*(i+1),!1),i++}"oppo"==i.channel?(this._view.oppoActive3.bottom=140,ve.showAsBigImage("207940",this._view.oppoActive3)):"zj"==i.channel?(i.ad.showTTBanner(0),this._view.botBox.bottom=i.ad.bannerHeight+10):"vivo"==i.channel?(this._view.oppoActive3.bottom=140,ve.showAsBigImage("abea873d8eef4a7d904c27e005acebea",this._view.oppoActive3)):i.channel}btntzhy(){this.share()}btnnext1000(){i.ad.showVideoAd(this,this.next1000)}btnrank(){this.gotoZoo(5)}btncold(){this.gotoZoo(4)}next1000(e){e&&(this._next1000=!0,this.restartGame())}moreAd3(){if(("zj"==i.channel||"wx"==i.channel||"qq"==i.channel||"bd"==i.channel)&&this._fiveGou)return this.moreAd(),void(this._fiveGou=null);"oppo"!==i.channel&&i.ad.hideBanner(),"qq"==i.channel||"vivo"==i.channel||"wx"==i.channel?i.ad.showInsertAd():"zj"==i.channel&&1==we.zjGameInsert&&i.ad.showZjInsertAd(),this._view.botFarest.visible=!1,this._view.botBuild.visible=!1,this._view.complet0.visible=!1,this._view.complet1.visible=!1,this._view.complet2.visible=!1,this._view.complet3.visible=!1,this._view.complet4.visible=!1,this._view.moreGold.visible=!1,this.lastUI()}moreAd2(e){if(e){if(m.setDailyTask(6,1),i.ad.hideBanner(),"wx"==i.channel||"qq"==i.channel){let e=m.get("fiveGoldAd",0);m.set("fiveGoldAd",e+1),i.TmCtrl.instance.tmSendEvent("ad_5gold",{value:"完成"})}else"zj"==i.channel?i.reportEvent("ad_5gold",{value:"完成"}):i.channel;m.addGold(4*this._goldAdd,1005);let e=Math.floor(m.gold);this._view.gold1.text=e.toString(),this._view.gold2.text=e.toString(),this._view.gold3.text="(+"+5*this._goldAdd+")",this._view.gold4.text="(+"+5*this._goldAdd+")",this._view.gold3.visible=!0,this._view.gold4.visible=!0,Laya.timer.once(1500,this,()=>{this._view.gold3.visible=!1,this._view.gold4.visible=!1}),this._goldAdd=0,this._view.botFarest.visible=!1,this._view.botBuild.visible=!1,this._view.complet0.visible=!1,this._view.complet1.visible=!1,this._view.complet2.visible=!1,this._view.complet3.visible=!1,this._view.complet4.visible=!1,this._view.moreGold.visible=!1,this.lastUI()}else this._fiveGou=null,g.videoTipCtrl.showTips(this,this.moreAd3);"vivo"==i.channel&&(0==m.get("CURRENT_WORLD",0)?i.sound.playMusic("audioGame/Music_Savannah.mp3"):1==m.get("CURRENT_WORLD",0)&&i.sound.playMusic("audioGame/Music_Jungle.mp3"))}moreAd(){if("wx"==i.channel||"qq"==i.channel){m.loop(),3==m.get("fiveGoldAd",0)?(this.share(null,5),this._shareTime=Laya.Browser.now(),i.TmCtrl.instance.tmSendEvent("share_5gold",{value:"点击"}),i.eventBus.on(Laya.Event.FOCUS,this,this.onFocus,[2])):i.ad.showVideoAd(this,this.moreAd2,i.wxAd.fivegold,"ad_5gold")}else"zj"==i.channel||"bd"===i.channel?i.ad.showVideoAd(this,this.moreAd2,0,"ad_5gold"):"vivo"==i.channel?i.ad.showVivoVideo(this,this.moreAd2,i.vivoAd.fivegold,"ad_5gold"):"oppo"==i.channel?i.ad.showOPPOVideo(this,this.moreAd2,_.ad_5gold):"yl"===i.channel&&i.ad.showVideoAd(this,this.moreAd2,i.ylAd.fivegold)}btnMap(){this._view.signMask.visible=!1,this.gotoZoo(1,this._buildAnimal)}completTask(e){if(g.teachCtrl.status>0)return;this._view.gou.visible=!0,this._view.taskTarget.visible=!1,Laya.timer.once(1e3,this,()=>{g.taskCtrl.getTaskInfo().length<=0&&this.displayTarget(!1)}),this._completTask?this._completTask=this._completTask||[]:this._completTask=[],this._completTask.length>=3&&this._completTask.splice(0,1);let t={0:{0:30,1:60,2:90},1:{0:120,1:240,2:360}}[m.get("CURRENT_WORLD",0)][e.difficulty];this._completTask.push([e.dec,e.difficulty,t]),this.addGold(t,1006,!1),i.sound.playSound("audio/UI_Mission_Complete.mp3"),"wx"==i.channel||"qq"==i.channel?i.TmCtrl.instance.tmSendEvent("finish_task",{value:e.id}):"zj"==i.channel&&i.reportEvent("finish_task",{value:e.id})}clickpauseAd(e){this._view.botPause.visible=!1,console.log("放廣告~",e),g.paused=!1,this._view.tapInfo.visible=!1,this._view.btnPause.visible=!0,"zj"==i.channel&&fe.resumeRecordVideo()}closeRebornAd2(e){if(e){m.setDailyTask(6,1),m.setDailyTask(1,1),this._view.botReborn.visible=!1,this._view.oppoActive4.visible=!1,this._view.taskAfter.visible=!1,console.log("放廣告~");let e=g.player.lastAnimalRidden.animalId;if(Laya.timer.once(1e3,this,()=>{re.instance.createOne(e.toString(),g.player.safePosition,this,this.rebornAnimalCreate),g.player.lastAnimalRidden.revoverSelf(),"zj"==i.channel&&fe.resumeRecordVideo()}),"wx"==i.channel){let e=m.get("rebornAd",1);m.set("rebornAd",e+1),i.TmCtrl.instance.tmSendEvent("ad_revive",{value:"完成"})}else"zj"==i.channel?i.reportEvent("ad_revive",{value:"完成"}):"oppo"==i.channel||"qq"==i.channel&&i.TmCtrl.instance.tmSendEvent("ad_revive",{value:"完成"})}else this._rebornGou=null,g.videoTipCtrl.showTips(this,this.closeReborn);"vivo"==i.channel&&(0==m.get("CURRENT_WORLD",0)?i.sound.playMusic("audioGame/Music_Savannah.mp3"):1==m.get("CURRENT_WORLD",0)&&i.sound.playMusic("audioGame/Music_Jungle.mp3"))}closeRebornAd(e=null){if("wx"==i.channel){m.loop(),3==m.get("rebornAd",0)?(this.share(null,6),i.TmCtrl.instance.tmSendEvent("share_revive",{value:"点击"}),this._shareTime=Laya.Browser.now(),i.eventBus.on(Laya.Event.FOCUS,this,this.onFocus,[1])):i.ad.showVideoAd(this,this.closeRebornAd2,i.wxAd.reborn,"ad_revive")}else"vivo"==i.channel?i.ad.showVivoVideo(this,this.closeRebornAd2,i.vivoAd.reborn,"ad_revive"):"oppo"==i.channel?(i.ad.showOPPOVideo(this,this.closeRebornAd2,_.ad_revive),0==m.get("wxmdfh",0)&&(u.upload(_.yd_fristrevive,1),m.set("wxmdfh",1))):"yl"===i.channel?i.ad.showVideoAd(this,this.closeRebornAd2,i.ylAd.reborn):"hw"===i.channel?m.gold>=200?(m.addGold(-200,1026),this.closeRebornAd2(!0)):i.msg.show("金币不够"):("bd"===i.channel&&0==m.get("bdmdfh",0)&&(i.reportEvent("yd_fristrevive"),m.set("bdmdfh",1)),i.ad.showVideoAd(this,this.closeRebornAd2,0,"ad_revive"));i.ad.hideBanner()}zjLiar(e){if("zj"===i.channel||"wx"===i.channel||"qq"===i.channel||"bd"===i.channel)if(1==e){let e=we.zjLiarFHLimit,t=we.zjLiarFHVal,i=m.get("zjLiarFHBig",0),n=m.get("zjLiarFHSmall",1);console.log(e,t,i,n),i<e?t<=n?(Laya.timer.once(2e3,this,()=>{this._view.zjLiarFH.visible=!0}),this._view.btnZjLiarFH.getChildAt(0).visible=!0,this._rebornGou=!0,m.set("zjLiarFHSmall",1),m.set("zjLiarFHBig",i+1)):(m.set("zjLiarFHSmall",n+1),this._view.zjLiarFH.visible=!1,this._rebornGou=null):(this._rebornGou=null,this._view.zjLiarFH.visible=!1)}else if(2==e){let e=we.zjLiarMGLimit,t=we.zjLiarMGVal,n=m.get("zjLiarMGBig",0),s=m.get("zjLiarMGSmall",1);console.log(e,n,n,s),n<e?t<=s?(Laya.timer.once(2e3,this,()=>{this._view.ZjLiarMG.visible=!0}),this._view.ZjLiarMG.bottom=i.ad.bannerHeight+180,this._view.btnZjLiarMG.getChildAt(0).visible=!0,this._fiveGou=!0,m.set("zjLiarMGSmall",1),m.set("zjLiarMGBig",n+1)):(m.set("zjLiarMGSmall",s+1),this._view.ZjLiarMG.visible=!1,this._fiveGou=null):(this._fiveGou=null,this._view.ZjLiarMG.visible=!1)}}rebornGou(){let e=this._view.btnZjLiarMG.getChildAt(0);e.visible=!e.visible,this._fiveGou=e.visible}fiveGou(){let e=this._view.btnZjLiarFH.getChildAt(0);e.visible=!e.visible,this._rebornGou=e.visible}onFocus(e){let t=Laya.Browser.now();if(this._shareTime&&t-this._shareTime>2500)if(1==e)i.TmCtrl.instance.tmSendEvent("share_revive",{value:"完成"}),m.set("rebornAd",1),this.btnlegent();else if(2==e){i.TmCtrl.instance.tmSendEvent("share_5gold",{value:"完成"}),m.addGold(2*this._goldAdd,1015);let e=Math.floor(m.gold);this._view.gold1.text=e.toString(),this._view.gold2.text=e.toString(),this._view.gold3.text="(+"+2*this._goldAdd+")",this._view.gold4.text="(+"+2*this._goldAdd+")",this._view.gold3.visible=!0,this._view.gold4.visible=!0,Laya.timer.once(1500,this,()=>{this._view.gold3.visible=!1,this._view.gold4.visible=!1}),this._goldAdd=0,m.set("fiveGoldAd",0),i.ad.hideBanner(),this.lastUI()}else 3==e&&(this.addGold(100,1008),i.TmCtrl.instance.tmSendEvent("share_highscore",{value:"完成"}),this.closeRecord());else{let e=[null,"请分享到不同的群","分享失败，请分享给不同好友试试","不要频繁分享到同一个群，换个群试试","该群已分享过，请换个群试试"];i.msg.show(e[Math.floor(3*Math.random()+1)])}i.eventBus.off(Laya.Event.FOCUS,this,this.onFocus),this._shareTime=null}btnlegent(){"oppo"==i.channel&&this.firstTime||"bd"===i.channel&&this.firstTime&&i.reportEvent("firstreborn"),"vivo"!=i.channel&&"oppo"!=i.channel||i.ad.hideBanner(),m.get("dollar_fh",0)>0&&0==this._reborn&&m.set("dollar_fh",m.get("dollar_fh",0)-1),m.setDailyTask(1,1),this._view.botReborn.visible=!1,this._view.oppoActive4.visible=!1,console.log("放廣告~");let e=g.player.lastAnimalRidden.animalId;Laya.timer.once(1e3,this,()=>{re.instance.createOne(e.toString(),g.player.safePosition,this,this.rebornAnimalCreate),g.player.lastAnimalRidden.revoverSelf(),"zj"==i.channel&&fe.resumeRecordVideo()})}rebornAnimalCreate(e){let t=g.player.findSafeSpawnPlace();i.posSprite3D(this._player,t.x,t.y,t.z,!1),i.posSprite3D(e,t.x,t.y,t.z,!1);let n=g.player.lastAnimalRidden,s=n.stayTime,a=Math.floor(g.player.transform.localPositionZ-n.stayDis);if(this._camRig&&this._camRig.fuhuo(t.z),1==g.paused)return;let o=g.taskCtrl.getTaskInfo();if(o&&o.length>0){let t=o[0],i=t.progress||0;if("RIDE_STAY"==t.type&&t.target==Number(n.encId))this._view.taskTarget.text=s+" / "+t.value,this._player.ride(e,!0,s);else if("RUN_NO_JUMP"==t.type)this._view.taskTarget.text=a+" / "+t.value,this._player.ride(e,!0,0,a);else if("RIDE_SAME_CNT"==t.type){let i=g.player.rideSameCnt;Number(this._player.lastAnimalRidden.encId)!==t.target&&(i=0),this._view.taskTarget.text=t.dec+" 目前进度:"+(i||0)+"/"+t.value,this._player.ride(e,!0)}else this._view.taskTarget.text=i+" / "+t.value,this._player.ride(e,!0);this._view.completTask.visible=!0,this._view.whichTask.text=t.dec,this._view.taskTarget.visible=!0,this._view.gou.visible=!1,this._view.completTask.getChildByName("difficult30").visible=!1,this._view.completTask.getChildByName("difficult31").visible=!1,this._view.completTask.getChildByName("difficult32").visible=!1,this._view.completTask.getChildByName("difficult3"+t.difficulty).visible=!0}else this._player.ride(e,!0),this._view.completTask.visible=!1,this._view.taskTarget.visible=!1;this._player.fuhuo(),Laya.systemTimer.frameOnce(1,this,()=>{this._view.tapInfo.bottom=250,this._view.tapInfo.visible=!0,this._view.btnPause.visible=!0,g.paused=!0,"zj"==i.channel&&fe.pauseRecordVideo(),Laya.stage.once(Laya.Event.MOUSE_DOWN,this,()=>{g.paused=!1,this._view.tapInfo.visible=!1})})}pauseChangeTask(){this._view.imgTask0.visible=!1;let e=this._view.imgTask0;e.visible=!1;let t=e.getChildByName("star"),n=this._view.task0;n.color="#fffdc3";this._view.btnAd0;let s=g.taskCtrl.getTaskInfo(),a=this._view.boxPauseTask;if(0==s.length)a.y=-650;else if(1==s.length){a.y=-705,e.visible=!0,n.text=s[0].dec;let o=s[0].difficulty;t.skin="main/img_parse_star"+o+".png",this._view.changeTaskPause.visible=!0,this._view.changeTaskPause.y=-565,"wx"==i.channel||"qq"==i.channel?i.TmCtrl.instance.tmSendEvent("ad_changeTask",{value:"曝光"}):"zj"==i.channel?i.reportEvent("ad_changeTask",{value:"曝光"}):i.channel}}clickPause(e=null){if("wx"!=i.channel&&"vivo"!=i.channel&&"qq"!=i.channel&&"zj"!=i.channel||!i.focus||("zj"==i.channel?i.ad.showZjInsertAd():i.ad.showInsertAd()),!this._player||this._player.state===o.crashed||1==g.paused||!g.player.steed)return;let t;if(!this.zjCdVulture&&this.noMove&&Math.floor(Laya.Browser.now()/1e3)-this.noMove<=8&&(this.zjCdVulture=!0),this.displayTarget(!1),g.paused=!0,this._view.btnPause.visible=!1,this._view.botPause.visible=!0,"zj"==i.channel){let e=g.player.steed.animalId;if(m.photo[e]){let n=window.tt.getFileSystemManager(),s=i.assetsManger.fileRoot+"/photo/"+e+".webp";try{n.accessSync(s),t=!0}catch(e){t=!1}}else t=!1}else t=!!m.nickName[g.player.steed.animalId];t?(this._view.boxNormal.visible=!0,this._view.boxPhoto.visible=!1):(this._view.boxNormal.visible=!1,this._view.boxPhoto.visible=!0),"vivo"==i.channel?i.ad.showQGbanner(i.vivoBannerAd.pause):"oppo"==i.channel?i.ad.showQGbanner(i.oppoBannerAd.pause):i.ad.showTTBanner(0),t?this._view.boxNormal.bottom=i.ad.bannerHeight:this._view.boxPhoto.bottom=i.ad.bannerHeight,"zj"==i.channel&&fe.pauseRecordVideo();let n=this._view.imgTask0,s=this._view.imgTask1,a=this._view.imgTask2;n.visible=s.visible=a.visible=!1,this._view.imgChange.visible=!0;let h=n.getChildByName("star"),l=s.getChildByName("star"),r=a.getChildByName("star"),p=this._view.task0,d=this._view.task1,c=this._view.task2;p.color=d.color=c.color="#fffdc3";let _=this._view.btnAd0,y=this._view.btnAd1,u=this._view.btnAd2;_.visible=y.visible=u.visible=!1;let b=g.taskCtrl.getTaskInfo(),f=this._view.boxPauseTask;if(0==b.length)f.y=-650,this._view.imgChange.y=n.y;else if(1==b.length){f.y=-705,n.visible=!0,p.text=b[0].dec,this._view.imgChange.y=s.y;let e=b[0].difficulty;h.skin="main/img_parse_star"+e+".png";let t=b[0];if(t.target>100){let e=t.target;t.target<1e3&&m.cfgAnimal[e]&&(e=m.cfgAnimal[e].encId);let i=m.get("CURRENT_WORLD",0);m.cfgWorld[i].maps[m.getMapLevelByWorld(i)].animals.indexOf(e)>-1?(this._view.changeTaskPause.visible=!0,this._view.lockMapPause.visible=!1,this._view.changeTaskPause.y=-565):(this._view.changeTaskPause.visible=!1,this._view.lockMapPause.visible=!0,this._view.lockMapPause.y=-565)}else Number(t.area)>m.worldLevel?(this._view.changeTaskPause.visible=!1,this._view.lockMapPause.visible=!0,this._view.lockMapPause.y=-565):(this._view.changeTaskPause.visible=!0,this._view.lockMapPause.visible=!1,this._view.changeTaskPause.y=-565);"wx"==i.channel||"qq"==i.channel?i.TmCtrl.instance.tmSendEvent("ad_changeTask",{value:"曝光"}):"zj"==i.channel?i.reportEvent("ad_changeTask",{value:"曝光"}):i.channel}else if(2==b.length){f.y=-767,n.visible=!0,s.visible=!0,p.text=b[0].dec,d.text=b[1].dec,this._view.imgChange.y=a.y;let e=b[0].difficulty;h.skin="main/img_parse_star"+e+".png";let t=b[1].difficulty;l.skin="main/img_parse_star"+t+".png"}else if(3==b.length){f.y=-832,n.visible=!0,s.visible=!0,a.visible=!0,p.text=b[0].dec,d.text=b[1].dec,c.text=b[2].dec,this._view.imgChange.y=530;let e=b[0].difficulty;h.skin="main/img_parse_star"+e+".png";let t=b[1].difficulty;l.skin="main/img_parse_star"+t+".png";let i=b[2].difficulty;r.skin="main/img_parse_star"+i+".png"}this._view.imgChange.visible=!1}timeout0(){if(!this._view)return;let e=this._view.task0,t=Laya.Browser.now(),i=m.get("nextTaskTime",0),n=Math.floor((i-t)/1e3),s=Math.floor(n/3600)+"时"+Math.floor(n%60)+"分";e.text="新任务在"+s+" 后出现"}fakePhoto(e){this._background||(this._background=new Laya.Image,this._view.animalImg.addChild(this._background),this._background.width=this._view.animalImg.width,this._background.height=this._view.animalImg.height);let t=m.cfgAnimal[e].linkEncId&&m.cfgAnimal[e].linkEncId||m.cfgAnimal[e].encId;this._background.skin="icons/enc_"+t+".png",this._effect||(this._effect=new Laya.Image,this._view.animalImg.addChild(this._effect),this._effect.centerX=this._effect.centerY=0,this._effect.width=this._view.animalImg.width,this._effect.height=this._view.animalImg.height),this._effect.skin="icons/effect.png",this._animal||(this._animal=new Laya.Image,this._view.animalImg.addChild(this._animal),this._animal.centerX=this._animal.centerY=0);let n=m.cfgAnimal[e].res;n=(n=n.replace(".lh","")).replace("game/Conventional/",""),this._animal.skin="icons/"+n+".png",this._view.animalBook.visible=!0,"wx"==i.channel||"qq"==i.channel||"none"==i.channel?(this._view.qgSure.visible=!1,"wx"==i.channel?this._view.otherSure.visible=!0:(this.aniPlay(),this._view.qqSure.visible=!0),this._btnShare.showLight(),i.TmCtrl.instance.tmSendEvent("share_photo",{value:"曝光"}),this._view.bofang.visible=!1,this._view.btnPhotoShare.visible=!1,this._view.imgShare.skin="main/fenxiang.png",this._view.extraZj.visible=!1,this._view.extraWx.visible=!0):"oppo"!=i.channel&&"vivo"!=i.channel&&"hw"!=i.channel&&"bd"!=i.channel||(this._view.bofang.visible=!1,this._view.btnPhotoShare.visible=!1,this._view.qgSure.visible=!0,this._view.otherSure.visible=!1,this._view.qqSure.visible=!1,"vivo"==i.channel?ve.showAsBanner2("abea873d8eef4a7d904c27e005acebea",this._view.vivoActive2):i.channel),g.flashScreen(),this._camCtrl.reset()}aniPlay(){let e=this._view.btnShare1;e&&(i.Tween.to(e,{scaleX:1,scaleY:1},300,null,null,0,!1,!0,!1),i.Tween.to(e,{scaleX:.6,scaleY:.6},600,null,null,300,!1,!0,!1),i.Tween.to(e,{scaleX:1,scaleY:1},300,null,Laya.Handler.create(this,this.aniPlay),900,!1,!0,!1))}takePhoto(){if("vivo"==i.channel?(i.ad.showQGbanner(i.vivoBannerAd.new),this._view.btnContinue4.bottom=i.ad.bannerHeight):"oppo"==i.channel?(i.ad.showQGbanner(i.oppoBannerAd.new),this._view.btnContinue4.bottom=i.ad.bannerHeight):"zj"==i.channel?(i.ad.showTTBanner(0),this._view.btnContinue4.bottom=i.ad.bannerHeight):i.ad.hideBanner(),m.nickName[g.player.steed.animalId]){let e,t=Laya.loader.getRes("cfg/cfgNickname.json"),i=m.nickName[g.player.steed.animalId];i&&i[0]&&i[1]&&(e=t[i[0]][i[1]]),this._view.animalPicName.text=e}else this.refreshName(!0);this._view.changeTaskPause.visible=!1,this._view.lockMapPause.visible=!1,this.displayTarget(!1),this._view.botPause.visible=!1,this._view.screenshoot.visible=!0,this._view.tabAreaBox.visible=!1,this._view.animalBook.visible=!1,this._view.newNotice.visible=!1,this._view.qgSure.visible=!1,this._view.otherSure.visible=!1,this._view.qqSure.visible=!1,Laya.systemTimer.once(1,this,()=>{this._warnInfo.hideAll(),this._camCtrl.lookAt(this._player.transform,20),this._view.newInfo.visible=!1,i.channel!=i.Channel.wx&&i.channel!=i.Channel.qq&&i.channel!=i.Channel.oppo&&i.channel!=i.Channel.vivo&&"hw"!=i.channel&&"bd"!=i.channel&&"none"!=i.channel?(this._view.tabAreaBox.visible=!0,this._view.newNotice.visible=!0,this._view.tabAreaBox.once("click",this,()=>{console.log("拍照了"),this._view.tabAreaBox.visible=!1,this._view.newNotice.visible=!1,i.sound.playSound("audio/FX_Camera_05.mp3"),Laya.systemTimer.frameOnce(2,this,()=>{let e=Laya.Browser.mainCanvas;if(i.channel==i.Channel.zj){let t,n=e.source,s=n.height,a=n.width,o=s-a>>1;console.log(a,s,o),i.channel==i.Channel.wx?t="jpg":i.channel==i.Channel.zj&&(t="webp");let h=n.toTempFilePathSync({x:0,y:o,width:a,height:a,destWidth:300,destHeight:300,fileType:t,quality:1});console.log(h);let l=new Laya.Image;l.loadImage(h,Laya.Handler.create(this,()=>{l.scale(400/300,400/300,!0),this._view.animalImg.addChild(l)})),this._photoId=g.player.steed.animalId,i.assetsManger.copyFile(h,i.assetsManger.fileRoot+"/photo/"+g.player.steed.animalId+"."+t,this,this.savePhoto),this._view.bofang.visible=!0,this._view.btnPhotoShare.visible=!0,this._view.imgShare.skin="main/douyin.png",this._view.extraZj.visible=!0,this._view.extraWx.visible=!1,this._view.qgSure.visible=!1,this._view.otherSure.visible=!0,this._view.qqSure.visible=!1}else{let t=e.getTexture(),i=new Laya.Sprite,n=t.sourceWidth;t=Laya.Texture.createFromTexture(t,0,t.sourceHeight-n>>1,n,n),i.graphics.drawImage(t),i.scaleX=i.scaleY=400/n,i.pos(0,0,!0),this._view.animalImg.addChild(i),this._view.extraZj.visible=!1,this._view.extraWx.visible=!0}this._view.animalBook.visible=!0,g.flashScreen(),this._camCtrl.reset(),this._btnShare.showLight()})})):this.fakePhoto(g.player.steed.animalId)})}refreshName(e=!1){g.player.steed.refreshName();let t,i=Laya.loader.getRes("cfg/cfgNickname.json"),n=m.nickName[g.player.steed.animalId];n&&null!==n[0]&&null!==n[1]&&(t=i[n[0]][n[1]]),e?this._view.animalPicName.text=t:(this._view.animalName0.text=this._view.animalName1.text=g.player.steed.strName,this._view.animalPicName.text=t)}catchOne(e){"vivo"==i.channel?(i.ad.showQGbanner(i.vivoBannerAd.new),this._view.btnContinue4.bottom=i.ad.bannerHeight):"oppo"==i.channel?(i.ad.showQGbanner(i.oppoBannerAd.new),this._view.btnContinue4.bottom=i.ad.bannerHeight):i.ad.hideBanner(),this._warnInfo.hideAll(),this.displayTarget(!1),m.catchAnimal(e.animalId),i.eventBus.event("CATCH",e.animalId),g.paused=!0,this._view.screenshoot.visible=!0,this.refreshName(),this._view.newInfo.visible=!0,this._view.tabAreaBox.visible=!1,this._view.animalBook.visible=!1,this._view.newNotice.visible=!1,this._view.changeTaskPause.visible=!1,this._view.lockMapPause.visible=!1,this._view.botPause.visible=!1,this._view.qgSure.visible=!1,this._view.otherSure.visible=!1,this._view.qqSure.visible=!1,Laya.systemTimer.once(1500,this,()=>{this._warnInfo.hideAll(),this._camCtrl.lookAt(this._player.transform,20),this._view.newInfo.visible=!1,i.channel!=i.Channel.wx&&i.channel!=i.Channel.qq&&i.channel!=i.Channel.oppo&&i.channel!=i.Channel.vivo&&"hw"!=i.channel&&"bd"!=i.channel&&"none"!=i.channel?(this._view.tabAreaBox.visible=!0,this._view.newNotice.visible=!0,this._view.tabAreaBox.once("click",this,()=>{console.log("拍照了"),this._view.tabAreaBox.visible=!1,this._view.newNotice.visible=!1,i.sound.playSound("audio/FX_Camera_05.mp3"),Laya.systemTimer.frameOnce(2,this,()=>{let t=Laya.Browser.mainCanvas;if(i.channel==i.Channel.zj){let n,s=t.source,a=s.height,o=s.width,h=a-o>>1;console.log(o,a,h),i.channel==i.Channel.wx?n="jpg":i.channel==i.Channel.zj&&(n="webp");let l=s.toTempFilePathSync({x:0,y:h,width:o,height:o,destWidth:300,destHeight:300,fileType:n,quality:1});console.log(l);let r=new Laya.Image;r.loadImage(l,Laya.Handler.create(this,()=>{r.scale(400/300,400/300,!0),this._view.animalImg.addChild(r)})),this._photoId=e.animalId,i.assetsManger.copyFile(l,i.assetsManger.fileRoot+"/photo/"+e.animalId+"."+n,this,this.savePhoto),this._view.extraZj.visible=!0,this._view.extraWx.visible=!1}else{let e=t.getTexture(),i=new Laya.Sprite,n=e.sourceWidth;e=Laya.Texture.createFromTexture(e,0,e.sourceHeight-n>>1,n,n),i.graphics.drawImage(e),i.scaleX=i.scaleY=400/n,i.pos(0,0,!0),this._view.animalImg.addChild(i),this._view.extraZj.visible=!1,this._view.extraWx.visible=!0}this._view.bofang.visible=!0,this._view.btnPhotoShare.visible=!0,this._view.imgShare.skin="main/douyin.png",this._view.qgSure.visible=!1,this._view.otherSure.visible=!0,this._view.qqSure.visible=!1,this._view.animalBook.visible=!0,g.flashScreen(),this._camCtrl.reset(),this._btnShare.showLight()})})):this.fakePhoto(e.animalId)})}savePhoto(e){e?(m.savePhoto(this._photoId),this._photoId=null):console.log("不知道为啥，存错了")}creatUpgrade(){let e,t=m.get("CURRENT_WORLD",0),i=m.getMapLevelByWorld(t),n=[];for(let e=0;e<m.cfgWorld[t].maps[i].animals.length;e++)n.push(m.cfgWorld[t].maps[i].animals[e]);e=0==g.endangeredAnimals.curTryId?m.startAnimal:g.endangeredAnimals.curTryId;let s=m.cfgUpgradeKey;if(e>999&&n.indexOf(e)<0)e>1e3&&n.push(e);else if(m.cfgAnimal&&e&&m.cfgAnimal[e]&&m.cfgAnimal[e].encId){let t=m.cfgAnimal[e].linkEncId?m.cfgAnimal[e].linkEncId:m.cfgAnimal[e].encId;n.indexOf(t)>-1||n.push(t)}this._upgradeList=this._upgradeList||{};for(let e=0;e<n.length;e++){const t=n[e];let i,a=m.enclosure[t]||-1;if(m.cfgEnclosure[t]&&m.cfgEnclosure[t].res)i=m.cfgEnclosure[t].res;else if("1015"==t||"1016"==t||"1017"==t){i={1015:"AnimalCuddler",1016:"AnimalChineseDragon",1017:"AnimalVaulter"}[t],a=9}if(i){const e=m.cfgUpgrade[i].level;this._upgradeList[t]=this._upgradeList[t]||[];for(let i=0;i<e.length;i++){const n=e[i].key;a>i?(this._upgradeList[t][n]=this._upgradeList[t][n]||s[n].default,this._upgradeList[t][n]=this.operationUp(this._upgradeList[t][n],e[i].value,s[n].opt)):this._upgradeList[t][n]=s[n].default}}}}upgradeValue(e,t){return this._upgradeList&&this._upgradeList[e]?this._upgradeList[e][t]&&g.player.steed&&g.player.steed.encId&&g.player.steed.encId==e?this._upgradeList[e][t]:m.cfgUpgradeKey[t].default:(this._upgradeList=this._upgradeList||{},this._upgradeList[e]=this._upgradeList[e]||[],this._upgradeList[e][t]=m.cfgUpgradeKey[t].default,this._upgradeList[e][t])}operationUp(e,t,i){return 1==i?e+t:2==i?t:void 0}gotoZoo(e,t){i.ad.hideBanner(),e&&e>0?g.shipCtrl.next(e,t):this.shortCut(),g.shipCtrl.from("game"),i.stage.enterScene("zoo")}deadSlow(){Laya.timer.scale=.2,Laya.timer.once(150,this,()=>{Laya.timer.scale=1})}shakeScreen(){let e=.2*Math.random()+.1,t=.2*Math.random()+.1;this._ShakeOffset.localPosition=i.Temp.getVector3(e,t,0),Laya.timer.once(10,this,()=>{this._ShakeOffset.localPosition=i.Temp.getVector3(0,0,0)})}crash(){this.deadSlow(),g.flashScreen(),this.displayTarget(!1),this._view.btnPause.visible=!1,this._view.botPause.visible=!1,i.sound.playSound("audioGame/Impact_Crash_Fall.mp3"),("wx"==i.channel||"qq"==i.channel)&&0==g.teachCtrl.status&&m.get("wxmd",0)<3&&(i.TmCtrl.instance.tmSendEvent("yd_dead_"+(m.get("wxmd",0)+1)),m.set("wxmd",3)),Laya.systemTimer.once(1450,this,this.showRestart)}zjcd(){this.deadSlow(),g.flashScreen(),this.displayTarget(!1),this._view.btnPause.visible=!1,this._view.botPause.visible=!1,i.sound.playSound("audioGame/Impact_Crash_Fall.mp3"),Laya.systemTimer.once(1450,this,this.zjcd2)}zjcd2(){let e=g.player.lastAnimalRidden.animalId;Laya.timer.once(1e3,this,()=>{re.instance.createOne(e.toString(),g.player.safePosition,this,this.zjcd3),g.player.lastAnimalRidden.revoverSelf(),"zj"==i.channel&&fe.resumeRecordVideo()})}zjcd3(e){let t=g.player.findSafeSpawnPlace();i.posSprite3D(this._player,t.x,t.y,t.z,!1),i.posSprite3D(e,t.x,t.y,t.z,!1);let n=g.player.lastAnimalRidden,s=n.stayTime,a=Math.floor(g.player.transform.localPositionZ-n.stayDis);if(e.beBig(),e.zjcd=!0,this._camRig&&this._camRig.fuhuo(t.z),1==g.paused)return;let o=g.taskCtrl.getTaskInfo();if(o&&o.length>0){let t=o[0],i=t.progress||0;if("RIDE_STAY"==t.type&&t.target==Number(n.encId))this._view.taskTarget.text=s+" / "+t.value,this._player.ride(e,!0,s);else if("RUN_NO_JUMP"==t.type)this._view.taskTarget.text=a+" / "+t.value,this._player.ride(e,!0,0,a);else if("RIDE_SAME_CNT"==t.type){let i=g.player.rideSameCnt;Number(this._player.lastAnimalRidden.encId)!==t.target&&(i=0),this._view.taskTarget.text=t.dec+" 目前进度:"+(i||0)+"/"+t.value,this._player.ride(e,!0)}else this._view.taskTarget.text=i+" / "+t.value,this._player.ride(e,!0);this._view.completTask.visible=!0,this._view.whichTask.text=t.dec,this._view.taskTarget.visible=!0,this._view.gou.visible=!1,this._view.completTask.getChildByName("difficult30").visible=!1,this._view.completTask.getChildByName("difficult31").visible=!1,this._view.completTask.getChildByName("difficult32").visible=!1,this._view.completTask.getChildByName("difficult3"+t.difficulty).visible=!0}else this._player.ride(e,!0),this._view.completTask.visible=!1,this._view.taskTarget.visible=!1;this._player.fuhuo(),Laya.systemTimer.frameOnce(1,this,()=>{this._view.tapInfo.visible=!0,this._view.btnPause.visible=!0,g.paused=!0,"zj"==i.channel&&fe.pauseRecordVideo(),Laya.stage.once(Laya.Event.MOUSE_DOWN,this,()=>{g.paused=!1,this._view.tapInfo.visible=!1})})}oppoText(e){if(("oppo"==i.channel||"vivo"==i.channel)&&e&&e.length>17){let t=e.slice(0,17),i=e.slice(17);this._view.oppoText.visible=!0,this._view.rebornTask.visible=!1,this._view.oppo1.text=t,this._view.oppo2.text=i}else this._view.oppoText.visible=!1,this._view.rebornTask.visible=!0}normalDeath(){if("oppo"==i.channel)if(this._lastShowAdTime){let e=i.timerManager.now;e-this._lastShowAdTime>=9e4&&(ve.showAsBigImage("207939",this._view.oppoActive4),this._lastShowAdTime=e)}else ve.showAsBigImage("207939",this._view.oppoActive4),this._lastShowAdTime=i.timerManager.now;else"vivo"==i.channel?ve.showAsBanner2("abea873d8eef4a7d904c27e005acebea",this._view.vivoActive):i.channel;if(this._view.btnlegent.visible=!1,this._view.btnReborn.visible=!0,"wx"==i.channel){m.loop();let e=m.get("rebornAd",0),t=this._view.btnReborn.getChildAt(0).getChildAt(0),n=this._view.btnReborn.getChildAt(0).getChildAt(1);3==e?(n.visible=!0,n.skin="main/img_shareWx.png",n.centerX=-150,n.centerY=t.centerY=0,t.centerX=50,i.TmCtrl.instance.tmSendEvent("share_revive",{value:"曝光"})):(n.visible=!0,n.skin="main/rebornAd.png",n.centerX=-160,n.centerY=t.centerY=0,t.centerX=50,this.zjLiar(1))}else"zj"!=i.channel&&"qq"!=i.channel&&"bd"!=i.channel||this.zjLiar(1)}showRestart(){if(this._view.botReborn){let e=!1,t=m.get("dollar_fh",0);t>0&&null==this._reborn?(this._view.dollar.visible=!0,this._view.dollar.text="剩余"+t+"次",e=!0):this._view.dollar.visible=!1,this._giftBag=this._giftBag||0,this._reborn=this._reborn||0;let n=!1;m.buff&&m.buff.type&&2==m.buff.type&&m.buff.time&&m.buff.time>Laya.Browser.now()&&(n=!0);let s=!1;"vivo"!=i.channel&&"oppo"!=i.channel&&"wx"!=i.channel&&"qq"!=i.channel&&"bd"!=i.channel||0!=m.get("fhbanner",0)||(s=!0);let a=!1;m.getAnimals(1e3)&&m.getAnimals(1e3).indexOf(11)>-1&&(a=!0),this._view.zjLiarFH.visible=!1,0==this._reborn?(this._view.botReborn.visible=!0,a||n||s||e?("oppo"==i.channel?this.firstTime:"zj"==i.channel?i.ad.showTTBanner(0):i.channel,s&&!e&&m.set("fhbanner",1),this._view.btnlegent.visible=!0,this._view.btnReborn.visible=!1):this.normalDeath()):1==this._reborn&&a?(this._view.botReborn.visible=!0,this.normalDeath()):("zj"==i.channel&&fe.stopRecordVideo(),m.setDailyTask(2,1),this.closeReborn(!0)),e||(this._reborn+=1),"zj"==i.channel&&fe.pauseRecordVideo(),"oppo"==i.channel?this._view.btncloseborn.visible=!0:(this._view.btncloseborn.visible=!1,Laya.timer.once(2e3,this,()=>{this._view.btncloseborn.visible=!0})),"wx"==i.channel||"qq"==i.channel?i.TmCtrl.instance.tmSendEvent("ad_revive",{value:"曝光"}):"zj"==i.channel?i.reportEvent("ad_revive",{value:"曝光"}):i.channel;let o=g.taskCtrl.getTaskInfo();if(o&&o.length&&o.length>0){if(this._view.xiezi.text="你离目标很近了！",g.player.lastAnimalRidden)if("RIDE_STAY"==o[0].type&&o[0].target==Number(g.player.lastAnimalRidden.encId)){let e=g.player.lastAnimalRidden.stayTime;this._view.rebornTask.text=o[0].dec+" 目前进度:"+(e||0)+"/"+o[0].value}else if("RUN_NO_JUMP"==o[0].type){let e=Math.floor(g.player.transform.localPositionZ-g.player.lastAnimalRidden.stayDis);this._view.rebornTask.text=o[0].dec+" 目前进度:"+(e||0)+"/"+o[0].value}else if("RIDE_SAME_CNT"==o[0].type){let e=g.player.rideSameCnt;Number(this._player.lastAnimalRidden.encId)!==o[0].target&&(e=0),this._view.rebornTask.text=o[0].dec+" 目前进度:"+(e||0)+"/"+o[0].value}else this._view.rebornTask.text=o[0].dec+" 目前进度:"+(o[0].progress||0)+"/"+o[0].value;else this._view.rebornTask.text=o[0].dec+" 目前进度:"+(o[0].progress||0)+"/"+o[0].value;this.oppoText(this._view.rebornTask.text),this._view.rebornTask.color="#e5de3d"}else{let e=m.get("CURRENT_WORLD",0),t=m.getFarest(e);t>this._distance?(this._view.xiezi.text="你快要超过记录了！",this._view.rebornTask.text="距离你的最高纪录还差"+(t-this._distance)+"米",this._view.rebornTask.color="#e5de3d"):(this._view.xiezi.text="恭喜",this._view.rebornTask.text="你已经突破了新纪录！",this._view.rebornTask.color="#ffffff")}}}clearView(){Laya.timer.clear(this,this.hideStar),this._view.botBox.visible=!1,this._view.lastUI.visible=!1,this._view.botFarest.visible=!1,this._view.btnPause.visible=!0,this._view.nextVisitor.visible=!1,this._view.complet0.visible=!1,this._view.complet1.visible=!1,this._view.complet2.visible=!1,this._view.botBuild.visible=!1,this._view.moreGold.visible=!1,this._view.zjLuxiang.visible=!1;let e=Laya.Browser.window.qq;if(e){e.getOpenDataContext().postMessage({type:"friend",value:0})}this._view.gold3.visible=this._view.gold4.visible=!1,this._view.taskAfter.visible=!1;for(let e=0;e<=2;e++)this._view.complet0.getChildByName("difficult0"+e).visible=!1,this._view.complet1.getChildByName("difficult1"+e).visible=!1,this._view.complet2.getChildByName("difficult2"+e).visible=!1,this._view.complet3.getChildByName("difficult3"+e).visible=!1,this._view.complet4.getChildByName("difficult4"+e).visible=!1;this._view.complet0.getChildByName("getgold0").visible=!1,this._view.complet1.getChildByName("getgold1").visible=!1,this._view.complet2.getChildByName("getgold2").visible=!1,this._view.complet3.getChildByName("getgold3").visible=!1,this._view.complet4.getChildByName("getgold4").visible=!1,Laya.timer.clearAll(this)}displayTarget(e,t=null){if(1==g.paused||"game"!==i.stage.sceneName)return;let n=g.taskCtrl.getTaskInfo();if(n&&n.length>0){let i=n[0];t=t||(i.progress||0),this._view.taskTarget.text=t+" / "+i.value,this._view.completTask.visible=e,this._view.whichTask.text=i.dec,this._view.taskTarget.visible=e,this._view.gou.visible=!1,this._view.completTask.getChildByName("difficult30").visible=!1,this._view.completTask.getChildByName("difficult31").visible=!1,this._view.completTask.getChildByName("difficult32").visible=!1,this._view.completTask.getChildByName("difficult3"+i.difficulty).visible=e}else this._view.completTask.visible=!1,this._view.taskTarget.visible=!1}realGame(e){if(e.target==this._view.btnMoreXy||"imgbg"==e.target.name||"imgClose"==e.target.name)return;Laya.stage.off(Laya.Event.MOUSE_DOWN,this,this.realGame),g.taskCtrl.changeScene(this._sceneName),i.ad.hideBanner();let t=this._defaultAnimalId;P.instance.reset(),re.instance.restart(),re.instance.createOne(t.toString(),i.Temp.getVector3(0,50,9),this,this.onStartAnimalCreate),this._camRig&&this._camRig.reset(),this._view.tapInfo&&(this._view.tapInfo.visible=!1),this._view.restartTask&&(this._view.restartTask.visible=!1),this._view.restart&&(this._view.restart.visible=!1),this._view.changeTaskStart&&(this._view.changeTaskStart.visible=!1),this._view.lockMap&&(this._view.lockMap.visible=!1),this._view.btnPause&&(this._view.btnPause.visible=!0),this._view.btnMoreXy.visible=!1,this._view.tapinfo2.visible=!1,this._zjTigerNum=null,this._noChange=null,this.displayTarget(!0),"zj"==i.channel&&fe.startRecordVideo(),this.upgl?this._view.gailvUp.visible=!0:this._view.gailvUp.visible=!1}trySkin(){this.restartGame()}restartGame(){this._view.visible=!0,this.clearView(),Laya.Tween.clearAll(this._view.finger),this._reborn=null,this._completTask=null,this._goldAdd=null,this._taskGold=null,this.firstTime=null,this._view.complet0.visible=this._view.complet1.visible=this._view.complet2.visible=!1,this._view.tapInfo.visible=!0,this._view.btnPause.visible=!1,this._view.gailvUp.visible=!1,this.restartTask(),"vivo"==i.channel?this._view.tapInfo.bottom=250:"oppo"==i.channel?this._view.tapInfo.bottom=250:"zj"==i.channel?(i.ad.showTTBanner(0),this._view.tapInfo.bottom=i.ad.bannerHeight+50):"wx"==i.channel||"qq"==i.channel?(we.restartOpen=we.restartOpen||0,we.restartNum=we.restartNum||2,we.restartTime=we.restartTime||.3,this._wxPd=this._wxPd||0,1==we.restartOpen&&this._wxPd==we.restartNum-1?(this._view.tapInfo.bottom=100,Laya.timer.once(1e3*we.restartTime,this,()=>{1==this._view.tapInfo.visible&&(i.ad.showTTBanner(0),this._view.tapInfo.bottom=i.ad.bannerHeight+50)})):(i.ad.showTTBanner(0),this._view.tapInfo.bottom=i.ad.bannerHeight+50),this._wxPd=(this._wxPd+1)%we.restartNum):"bd"==i.channel&&(this._view.tapInfo.bottom=i.ad.bannerHeight+50),g.endangeredAnimals.curTryId>0&&(this._defaultAnimalId=g.endangeredAnimals.curTryId),Laya.stage.on(Laya.Event.MOUSE_DOWN,this,this.realGame)}restartTask(){let e=g.taskCtrl.getTaskInfo();if(e&&e.length>0){let t=e[0];if(this._view.restart.visible=!0,this._view.restartTask.visible=!0,this._view.restartText.text=t.dec,this._view.restartTask.getChildByName("difficult0").visible=!1,this._view.restartTask.getChildByName("difficult1").visible=!1,this._view.restartTask.getChildByName("difficult2").visible=!1,this._view.restartTask.getChildByName("difficult"+t.difficulty).visible=!0,t.target>100){let e=t.target;t.target<1e3&&m.cfgAnimal[e]&&(e=m.cfgAnimal[e].encId);let i=m.get("CURRENT_WORLD",0);m.cfgWorld[i].maps[m.getMapLevelByWorld(i)].animals.indexOf(e)>-1?(this._view.changeTaskStart.visible=!0,this._view.lockMap.visible=!1,this._view.changeTaskStart.y=650):(this._view.changeTaskStart.visible=!1,this._view.lockMap.visible=!0,this._view.lockMap.y=650)}else Number(t.area)>m.worldLevel?(this._view.changeTaskStart.visible=!1,this._view.lockMap.visible=!0,this._view.lockMap.y=650):(this._view.changeTaskStart.visible=!0,this._view.lockMap.visible=!1,this._view.changeTaskStart.y=650);"wx"==i.channel||"qq"==i.channel?i.TmCtrl.instance.tmSendEvent("ad_changeTask",{value:"曝光"}):"zj"==i.channel?i.reportEvent("ad_changeTask",{value:"曝光"}):"oppo"==i.channel?i.ad.showQGbanner(0):"vivo"==i.channel?ve.showAsBanner2("abea873d8eef4a7d904c27e005acebea",this._view.oppoActive2):i.channel,this._view.restartTask.y=500,this._view.btnMoreXy.visible=!0,this._view.btnMoreXy.y=800,this.teachGl()}else this._view.restartTask.visible=!1,this._view.btnMoreXy.visible=!0,this._view.btnMoreXy.y=600,this.teachGl();this.upgl=!1}teachGl(){if(0==m.get("teachGl",0)){m.set("teachGl",1),this._view.teachGlMask.visible=!0,this._view.teachLast.visible=!0,this._view.btnMoreXy.skin="main/img_xiyou.png",this._view.fingerXy.visible=!0;let e=this._view.fingerXy,t=-160;for(let i=0;i<1e3;i++)1==this._view.fingerXy.visible&&(Laya.Tween.to(e,{y:t+40},300,null,null,300*i,!1),Laya.Tween.to(e,{y:t},300,null,null,300*(i+1),!1),i++)}else this._view.fingerXy.visible=!1,"wx"==i.channel||"qq"==i.channel?i.TmCtrl.instance.tmSendEvent("ad_moregl",{value:"曝光"}):"zj"==i.channel&&i.reportEvent("ad_moregl",{value:"曝光"}),this._view.btnMoreXy.skin="main/img_xiyou1.png","hw"==i.channel&&(this._view.btnMoreXy.visible=!1)}moreGl(e){if(1==m.get("teachGl",0))return m.set("teachGl",2),this.upgl=!0,this._view.tapInfo.visible=!1,this._view.tapinfo2.visible=!0,this._view.btnMoreXy.visible=!1,this._view.teachGlMask.visible=!1,void(this._view.teachLast.visible=!1);"wx"==i.channel?i.ad.showVideoAd(this,this.moreGl2,i.wxAd.moregl,"ad_moregl"):"zj"==i.channel?i.ad.showVideoAd(this,this.moreGl2,0,"ad_moregl"):"vivo"==i.channel?i.ad.showVivoVideo(this,this.moreGl2,i.vivoAd.moregl,"ad_moregl"):"oppo"==i.channel?i.ad.showOPPOVideo(this,this.moreGl2):i.ad.showVideoAd(this,this.moreGl2,0,"ad_moregl")}moreGl2(e){e?(m.setDailyTask(6,1),this.upgl=!0,this._view.tapInfo.visible=!1,this._view.tapinfo2.visible=!0,this._view.btnMoreXy.visible=!1,"wx"==i.channel||"qq"==i.channel?i.TmCtrl.instance.tmSendEvent("ad_moregl",{value:"完成"}):"zj"==i.channel&&i.reportEvent("ad_moregl",{value:"完成"})):g.videoTipCtrl.showTips(),"vivo"==i.channel&&(0==m.get("CURRENT_WORLD",0)?i.sound.playMusic("audioGame/Music_Savannah.mp3"):1==m.get("CURRENT_WORLD",0)&&i.sound.playMusic("audioGame/Music_Jungle.mp3"))}frameLoop(){if(Math.floor(this._player.transform.localPositionZ)!=this._distance){let e=Math.abs(this._player.transform.localPositionZ-this._distance);if(e<10?(i.eventBus.event("TASK_UPDATE",["RUN_IN_ONE",0,Math.floor(e)]),i.eventBus.event("TASK_UPDATE",["RUN",0,Math.floor(e)])):this._player.transform.localPositionZ<15?(i.eventBus.event("TASK_UPDATE",["RUN_IN_ONE",0,Math.floor(this._player.transform.localPositionZ)]),i.eventBus.event("TASK_UPDATE",["RUN",0,Math.floor(this._player.transform.localPositionZ)])):(i.eventBus.event("TASK_UPDATE",["RUN_IN_ONE",0,Math.floor(e)]),i.eventBus.event("TASK_UPDATE",["RUN",0,Math.floor(e)])),this._distance=Math.floor(this._player.transform.localPositionZ),this._view.distance.text=this._view.distance2.text=this._distance.toString(),this._view.mi.x=this._view.distance.textWidth+40,this._distance>=1e3&&m.setDailyTask(3,1),"qq"==i.channel){let e=Laya.Browser.window.qq;if(e){e.getOpenDataContext().postMessage({type:"distance",value:this._distance})}}}}changeAnimal(e){if(1==g.paused)return;let t=g.player.steed,n=new Laya.Vector3;t.transform.localPosition.cloneTo(n),n=n,t.leaveAnimal(),t.revoverSelf(),i.stage.load([{207:"game/Conventional/vulture6.lh",348:"game/Conventional/tiger7.lh"}[e]],this,()=>{re.instance.createOne(e,n,this,this.changeAnimal2)})}changeAnimal2(e){this._player.changeAnimal(e),this._player.fuhuo()}shortCut(){if("oppo"==i.channel){if(0==g.teachCtrl.status&&m.get("desktop2",0)<2){m.set("desktop2",m.get("desktop2",0)+1);let e=window.qg;e.hasShortcutInstalled({success:function(t){0==t&&e.installShortcut({success:function(){},fail:function(e){},complete:function(){}})},fail:function(e){},complete:function(){}})}}else if("vivo"==i.channel&&0==g.teachCtrl.status&&0==m.get("vivoShortCut",0)&&m.get("desktop2",0)<2){let e=window.qg;e.hasShortcutInstalled({success:function(t){t?console.log("已创建"):(console.log("未创建"),e.installShortcut({success:function(){console.log("创建成功"),m.addGold(100,1027),i.msg.show("恭喜获得100金币"),m.set("vivoShortCut",1)},fail:function(e){console.log("创建失败",e)},complete:function(){m.set("desktop2",m.get("desktop2",0)+1)}}))}})}}}g.gameCtrl=new we;class Ie extends i.BaseCtrl{constructor(){super(),this._titleColor=["#bff6fd","#f5bf90","#fefe8b","#ffffff"]}start(){super.start()}removeListener(){this._btnBack.off("click",this,this.backHandler),this._btnRide.off("click",this,this.rideHandler),this._btnStart.off("click",this,this.startHandler),this._btnUpgrade.off("click",this,this.builtHandler),this._btnUpad.off("click",this,this.builtHandlerAd),this._btnBuilt.off("click",this,this.builtHandler),this._btnLook.off("click",this,this.lookHandler);let e=this._homeUI;this._btnBack2.offAll("click"),e.btnLevel.offAll("click"),e.btnNext.offAll("click"),e.btnPrev.offAll("click"),e.page1.off(Laya.Event.MOUSE_DOWN,this,this.stopEvent),e.lvlInfo.off(Laya.Event.MOUSE_DOWN,this,this.stopEvent),e.btnHome.off(Laya.Event.MOUSE_DOWN,this,this.stopEvent),e.btnHat.off(Laya.Event.MOUSE_DOWN,this,this.stopEvent),e.btnAnimal.off(Laya.Event.MOUSE_DOWN,this,this.stopEvent),e.btnBaby.off(Laya.Event.MOUSE_DOWN,this,this.stopEvent),e.boxTurnPageBtn.off(Laya.Event.MOUSE_DOWN,this,this.stopEvent),this._homeUI.tab.selectHandler=null,this._homeUI.off(Laya.Event.CLICK,this,this.onClick)}addListener(){this._btnBack.on("click",this,this.backHandler),this._btnRide.on("click",this,this.rideHandler),this._btnStart.on("click",this,this.startHandler),this._btnUpgrade.on("click",this,this.builtHandler),this._btnUpad.on("click",this,this.builtHandlerAd),this._btnBuilt.on("click",this,this.builtHandler),this._btnLook.on("click",this,this.lookHandler);let e=this._homeUI;this._btnBack2.on("click",this,()=>{e.info.visible=!0,e.lvlInfo.visible=!1}),e.btnLevel.on("click",this,t=>{e.info.visible=!1,e.lvlInfo.visible=!0}),e.btnNext.on("click",this,e=>{1==m.get("teach",0)||3==m.get("teach",0)||g.teachCtrl.status>0||(0==this._curTabSelect?g.shipCtrl.selectNext():2==this._curTabSelect&&g.shipCtrl.selectAnimalNext())}),e.btnPrev.on("click",this,e=>{1==m.get("teach",0)||3==m.get("teach",0)||g.teachCtrl.status>0||(0==this._curTabSelect?g.shipCtrl.selectPrev():2==this._curTabSelect&&g.shipCtrl.selectAnimalPrev())}),e.page1.on(Laya.Event.MOUSE_DOWN,this,this.stopEvent),e.lvlInfo.on(Laya.Event.MOUSE_DOWN,this,this.stopEvent),e.btnHome.on(Laya.Event.MOUSE_DOWN,this,this.stopEvent),e.btnHat.on(Laya.Event.MOUSE_DOWN,this,this.stopEvent),e.btnAnimal.on(Laya.Event.MOUSE_DOWN,this,this.stopEvent),e.btnBaby.on(Laya.Event.MOUSE_DOWN,this,this.stopEvent),e.boxTurnPageBtn.on(Laya.Event.MOUSE_DOWN,this,this.stopEvent),this._homeUI.tab.selectHandler=new Laya.Handler(this,this.onTabSelect),this._homeUI.on(Laya.Event.CLICK,this,this.onClick)}beforeEnterScene(e){super.beforeEnterScene(e),"zoo"==this._sceneName&&(this.removeListener(),this._btnBack.clear(),this._btnBack2.clear(),this._btnBuilt.clear(),this._btnRide.clear(),this._btnStart.clear(),this._btnUpgrade.clear(),this._btnUpad.clear(),this._btnLook.clear(),this._btnBack=null,this._btnBack2=null,this._btnBuilt=null,this._btnRide=null,this._btnStart=null,this._btnUpgrade=null,this._btnUpad=null,this._btnLook=null,this._background=null,this._effect=null,this._animal=null,this._homeUI.teachMask0.offAllCaller(this),this._homeUI.teachMask1.offAllCaller(this),this._homeUI.teachMask2.offAllCaller(this),this._homeUI.teachMask3.offAllCaller(this),this._homeUI=null,Laya.Tween.clearAll(this))}stopEvent(e){e.stopPropagation()}createChildren(e){if("zoo"==e){let e=this._homeUI=new n.main.HomeInfoUI;this._btnBack=new L(e.btnBack),this._btnBuilt=new L(e.btnBuilt,e.btnBuiltLight),this._btnRide=new L(e.btnRide),this._btnStart=new L(e.btnStart),this._btnUpgrade=new L(e.btnUpgrade),this._btnUpad=new L(e.btnUpad),this._btnLook=new L(e.btnLook,e.btnLookLight),this._btnBack2=new L(e.btnBack2),m.enclosure[1001]>-1&&1!==m.get("teach",0)&&3!==m.get("teach",0)?(this._homeUI.teachMask0.removeSelf(),this._homeUI.teachMask1.removeSelf(),this._homeUI.teachMask2.removeSelf(),this._homeUI.teachMask3.removeSelf()):(this.disableMouseEvent(this._homeUI.teachMask0),this.disableMouseEvent(this._homeUI.teachMask1),this.disableMouseEvent(this._homeUI.teachMask2),this.disableMouseEvent(this._homeUI.teachMask3)),this.addListener(),this.stopPr()}}stopPr(){let e=this._homeUI;for(let t=0;t<e.numChildren;t++){e.getChildAt(t).on(Laya.Event.MOUSE_DOWN,this,e=>{e.stopPropagation()})}}disableMouseEvent(e){e.mouseEnabled=!0,e.on(Laya.Event.MOUSE_DOWN,this,this.stopEvent),e.on(Laya.Event.MOUSE_UP,this,this.stopEvent),e.on(Laya.Event.CLICK,this,this.stopEvent),e.on(Laya.Event.MOUSE_MOVE,this,this.stopEvent)}onClick(e){e.target}onTabSelect(e){this._curTabSelect=e,this._homeUI.title.color=this._titleColor[e];let t=["btnHome","btnHat","btnAnimal","btnBaby"];for(let e=0;e<4;e++){let i=t[e],n=this._homeUI.tab.getChildAt(e);n.skin="main/"+i+"1.png",n.height=102,n.bottom=0}let i=t[e],n=this._homeUI.tab.getChildAt(e);n.skin="main/"+i+"2.png",n.height=123,n.bottom=0,this._homeUI.vs.selectedIndex=e,2==e?g.shipCtrl.lockAnimal(null,this._lastName):(this.showHat(e),this._jump?this._jump=!1:g.shipCtrl.selectEncByName(this._lastName))}showHat(e){if(1==e){let e=m.cfgEnclosure[this._lastName],t=[[25,"新手"],[150,"牛仔"],[600,"达人"],[600,"王者"]],i=m.hatLevel[e.id]||0,n=m.hatExp[e.id]||0;this._homeUI.exp.text=n+"/"+t[i][0]+"xp",this._homeUI.pro.width=n/Number(t[i][0])*689,this._homeUI.hat1.visible=!1,this._homeUI.hat2.visible=!1,this._homeUI.hat3.visible=!1,1==i?this._homeUI.hat1.visible=!0:2==i?(this._homeUI.hat1.visible=!0,this._homeUI.hat2.visible=!0):3==i&&(this._homeUI.hat1.visible=!0,this._homeUI.hat2.visible=!0,this._homeUI.hat3.visible=!0,this._homeUI.exp.text="最高级"),this._homeUI.whichanimal.text=""+e.name+t[i][1]}}rideHandler(){if(!(g.teachCtrl.status>0))if(2==this._curTabSelect)m.startAnimal=this._lastSelectAnimalId,this._homeUI.btnStart.visible=!0,this._homeUI.btnRide.visible=!1;else if(m.cfgEnclosure[this._lastName]){let e=m.cfgEnclosure[this._lastName].id;m.startAnimal=e,this._homeUI.btnStart.visible=!0,this._homeUI.btnRide.visible=!1}}lookHandler(){g.shopCtrl.showShop(1),g.shipCtrl.unselectEnc()}builtHandlerAd(){"wx"==i.channel?i.ad.showVideoAd(this,this.builtHandlerAd2,i.wxAd.encup,"ad_upgradePerch"):"vivo"==i.channel?i.ad.showVivoVideo(this,this.builtHandlerAd2,i.vivoAd.encup,"ad_upgradePerch"):"oppo"==i.channel?i.ad.showOPPOVideo(this,this.builtHandlerAd2,_.ad_upgradePerch):"yl"===i.channel?i.ad.showVideoAd(this,this.builtHandlerAd2,i.ylAd.encup):i.ad.showVideoAd(this,this.builtHandlerAd2,0,"ad_upgradePerch")}builtHandlerAd2(e){if(e){m.setDailyTask(6,1),"wx"==i.channel||"qq"==i.channel?i.TmCtrl.instance.tmSendEvent("ad_upgradePerch",{value:"完成"}):"zj"==i.channel?i.reportEvent("ad_upgradePerch",{value:"完成"}):i.channel;let e=this._lastName,t=m.cfgEnclosure[e];if(!t)return void g.shipCtrl.unselectEnc();let n=t.id;m.enclosure[n]+1<10&&(i.sound.playSound("audioGame/UI_Upgrade.mp3"),m.upgradeEnclosure(n)),2===g.teachCtrl.status&&(g.teachCtrl.makeMoney(),this._homeUI.teachMask0.removeSelf(),this._homeUI.teachMask1.removeSelf(),this._homeUI.teachMask2.removeSelf(),this._homeUI.teachMask3.removeSelf(),g.shipCtrl.unselectEnc())}else g.videoTipCtrl.showTips();"vivo"==i.channel&&i.sound.playMusic("audioGame/Music_Zoo.mp3")}builtHandler(){let e=this._lastName,t=m.cfgEnclosure[e];if(!t)return void g.shipCtrl.unselectEnc();let n=t.id,s=m.enclosure[n]+1;if(s<10){let t=m.cfgUpgrade[e].price[s];if(m.gold>=t){if(m.addGold(-t,1001),m.upgradeEnclosure(n),i.sound.playSound("audioGame/UI_Upgrade.mp3"),0==s){if("wx"==i.channel||"qq"==i.channel){if(i.TmCtrl.instance.tmSendEvent("build_perch",{value:m.cfgEnclosure[e].id%1e3,level:s}),g.shipCtrl.wxmd){let e={1002:"yd_zebra"};e[n]&&(g.shipCtrl.wxmd=null,i.TmCtrl.instance.tmSendEvent(e[n]))}}else if("zj"==i.channel)i.reportEvent("build_perch",{value:m.cfgEnclosure[e].id%1e3,level:s});else if("oppo"==i.channel&&1002==n);else if("bd"===i.channel){let e={1002:"yd_zebra"};e[n]&&i.reportEvent(e[n])}}else if("wx"==i.channel||"qq"==i.channel){if(i.TmCtrl.instance.tmSendEvent("upgrade_perch",{value:m.cfgEnclosure[e].id%1e3,level:s}),g.shipCtrl.wxmd){let e={1001:"yd_buffalo",1003:"yd_elephant"};e[n]&&(g.shipCtrl.wxmd=null,i.TmCtrl.instance.tmSendEvent(e[n]))}}else if("zj"==i.channel)i.reportEvent("upgrade_perch",{value:m.cfgEnclosure[e].id%1e3,level:s});else if("oppo"==i.channel);else if("bd"===i.channel){let e={1001:"yd_buffalo",1003:"yd_elephant"};e[n]&&i.reportEvent(e[n])}4==m.get("teach",0)?(this._homeUI.tip.text="点击骑乘进入稀疏草原认识更多新动物哦",this._homeUI.teachMask0.removeSelf(),this._homeUI.teachMask1.removeSelf(),this._homeUI.teachMask2.removeSelf(),this._homeUI.teachMask3.removeSelf(),this._homeUI.fingerUp.visible=!1,m.set("teach",5)):1!=m.get("teach",0)&&3!=m.get("teach",0)||(m.set("teach",m.get("teach",0)+1),4==m.get("teach",0)?(this._homeUI.fingerBuilt.visible=!1,this.fingerMove(this._homeUI.fingerUp),this._homeUI.tip.text="升级动物可以获得更多技能哦"):(this._homeUI.fingerUp.visible=!1,this._homeUI.teachMask0.removeSelf(),this._homeUI.teachMask1.removeSelf(),this._homeUI.teachMask2.removeSelf(),this._homeUI.teachMask3.removeSelf(),"oppo"==i.channel?this._afterlvl=!0:"bd"===i.channel&&(this._afterlvl=!0,i.reportEvent("after_uplvl")))),this.showDian()}else 1==m.get("teach",0)||3==m.get("teach",0)||4==m.get("teach",0)?(this._homeUI.teachMask0.removeSelf(),this._homeUI.teachMask1.removeSelf(),this._homeUI.teachMask2.removeSelf(),this._homeUI.teachMask3.removeSelf(),this._homeUI.fingerUp.visible=!1,this._homeUI.fingerBuilt.visible=!1,this._homeUI.tip.text="金币不足，跑酷中完成任务会获得更多金币哦～"):g.tipsCtrl.showTips()}2===g.teachCtrl.status&&("wx"==i.channel||"qq"==i.channel?i.TmCtrl.instance.tmSendEvent("tutorial_6",{}):"zj"==i.channel||"bd"==i.channel?i.reportEvent("tutorial_6",{}):"oppo"==i.channel&&u.upload(_.tutorial_6),g.teachCtrl.makeMoney(),this._homeUI.teachMask0.removeSelf(),this._homeUI.teachMask1.removeSelf(),this._homeUI.teachMask2.removeSelf(),this._homeUI.teachMask3.removeSelf(),g.shipCtrl.unselectEnc())}fingerMove(e){e.visible=!0;for(let t=0;t<1e3;t++)Laya.Tween.to(e,{y:-120},300,null,null,300*t,!1),Laya.Tween.to(e,{y:-160},300,null,null,300*(t+1),!1),t++}startHandler(){g.teachCtrl.status>0||("oppo"==i.channel&&2==m.get("teach",0)&&this._afterlvl?this._afterlvl=!0:"bd"==i.channel&&2==m.get("teach",0)&&this._afterlvl&&(this._afterlvl=!0,i.reportEvent("start_back")),this.hideUI(),g.shipCtrl.startGame())}selectAnimal(e){let t=m.startAnimal||"101";this._lastSelectAnimalId=e,e==t?(this._homeUI.btnStart.visible=!0,this._homeUI.btnRide.visible=!1):(this._homeUI.btnStart.visible=!1,this._homeUI.btnRide.visible=!0);let n,s=m.cfgAnimal[e],a=Laya.loader.getRes("cfg/cfgNickname.json"),o=m.nickName[e];if(o&&o[0]&&o[1]&&(n=a[o[0]][o[1]]),g.animalMoveCtrl.animalDance(e),s?(s.name?this._homeUI.title.text=s.name:this._homeUI.title.text="神秘动物",this._homeUI.animalName.text=n||"神秘动物",s.describe&&(this._homeUI.describe.text=s.describe||"")):this._homeUI.title.text=this._homeUI.animalName.text="神秘动物","zj"==i.channel){if(m.photo[e]){let t=window.tt.getFileSystemManager(),n=i.assetsManger.fileRoot+"/photo/"+e+".webp";try{t.accessSync(n),this._homeUI.photo.skin=i.assetsManger.fileRoot+"/photo/"+e+".webp",this._homeUI.nophoto.visible=!1}catch(e){this._homeUI.photo.skin="main/blackMask.png",this._homeUI.nophoto.visible=!0}}else this._homeUI.photo.skin="main/blackMask.png",this._homeUI.nophoto.visible=!0}else if(i.channel==i.Channel.wx||i.channel==i.Channel.qq||i.channel==i.Channel.oppo||"vivo"==i.channel||"bd"==i.channel){this._background||(this._background=new Laya.Image,this._homeUI.photo.addChild(this._background),this._background.width=this._homeUI.photo.width,this._background.height=this._homeUI.photo.height);let t=m.cfgAnimal[e].linkEncId&&m.cfgAnimal[e].linkEncId||m.cfgAnimal[e].encId;this._background.skin="icons/enc_"+t+".png",this._effect||(this._effect=new Laya.Image,this._homeUI.photo.addChild(this._effect),this._effect.centerX=this._effect.centerY=0,this._effect.width=this._homeUI.photo.width,this._effect.height=this._homeUI.photo.height),this._effect.skin="icons/effect.png",this._animal||(this._animal=new Laya.Image,this._homeUI.photo.addChild(this._animal),this._animal.centerX=this._animal.centerY=0);let i=m.cfgAnimal[e].res;i=(i=i.replace(".lh","")).replace("game/Conventional/",""),this._animal.skin="icons/"+i+".png",this._homeUI.nophoto.visible=!1}}showUI(e,t=0,n=!1){if(this._homeUI&&"zoo"==this._sceneName){this._jump=n,-1!=t&&(this._homeUI.tab.selectedIndex=t),(0===t&&g.teachCtrl.status>0||1==m.get("teach",0)||3==m.get("teach",0))&&(this._homeUI.teachMask0.skin="preload/black.png",this._homeUI.teachMask1.skin="preload/black.png",this._homeUI.teachMask2.skin="preload/black.png",this._homeUI.teachMask3.skin="preload/black.png",this._homeUI.teachMask3.size(Laya.stage.width/i.stageScale,Laya.stage.height/i.stageScale-694),this._homeUI.teachMask3.pos(0,0,!0),1==m.get("teach",0)?this.fingerMove(this._homeUI.fingerUp):this.fingerMove(this._homeUI.fingerBuilt),"oppo"==i.channel?2!=g.teachCtrl.status||this._firstBuild?m.get("teach",0):(this._firstBuild=!0,u.upload(_.firstbuild)):"bd"===i.channel&&(2!=g.teachCtrl.status||this._firstBuild?1==m.get("teach",0)&&i.reportEvent("show_uplvl"):(this._firstBuild=!0,i.reportEvent("firstbuild")))),1!=m.get("teach",0)&&3!=m.get("teach",0)||(this._homeUI.teachTips.visible=!0,this._homeUI.tip.text=1==m.get("teach",0)?"升级野牛可以获得更多技能哦":"建造栖息地抓捕更多动物"),this._lastName=e;let s=this._homeUI;s.info.visible=!0,s.lvlInfo.visible=!1;let a=m.startAnimal;if(a=a>999?m.cfgEnclosure[a].res:m.cfgAnimal[a].type,"Epic"==e){i.stage.addChild(s,i.Layer.MIDDLE),s.page1Status1.visible=!1,s.page1Status2.visible=!1,s.page1Status3.visible=!1,s.page1Status4.visible=!0;let t=m.getAnimals(1e3),n=m.getEnclosurePrice(1e3);s.price.text=s.price2.text=s.price3.text=s.price4.text=n.toString(),s.price.color=n<1?"#ff0000":"#ffffff",s.animalCnt2.text=s.animalCnt3.text=s.animalCnt4.text=s.animalCnt.text=t.length.toString()+"/4 已驯服",s.title.text=m.cfgEnclosure[e].name+"栖息地",s.btnHat.visible=!1,s.btnAnimal.visible=!1}else{s.btnHat.visible=!0,s.btnAnimal.visible=!0;let t=m.cfgEnclosure[e];if(!t)return void g.shipCtrl.unselectEnc();let n=t.id,o=m.enclosure[n],h=m.cfgUpgrade[e];for(let e=1;e<h.info.length;e++)s["t"+e].text="Lv"+e+". "+h.info[e],1==e?o>0?(s.i1.skin="main/homeLvl2.png",s.t1.color="#323232"):(s.i1.skin="main/homeLvl1.png",s.t1.color="#ffffff"):e<=o?(s["i"+e].skin="main/homeLvl3.png",s["t"+e].color="#323232"):e==o+1?(s["i"+e].skin="main/homeLvl4.png",s["t"+e].color="#ffffff"):(s["i"+e].skin="main/homeLvl5.png",s["t"+e].color="#bef5fe");s.lvltitle.text=m.cfgEnclosure[e].name+"栖息地";let l=m.getAnimals(n)||[];if(s.price.text=s.price2.text=s.price3.text=s.price4.text=m.getEnclosurePrice(n).toString(),"0"==s.price.text?s.price.color="#ff0000":s.price.color="#ffffff",o<0&&l.length<1)s.page1Status1.visible=!1,s.page1Status2.visible=!1,s.page1Status3.visible=!0,s.page1Status4.visible=!1,s.animalCnt2.text=s.animalCnt3.text=s.animalCnt4.text=s.animalCnt.text="0/10 已驯服",s.title.text="???",s.btnStart.visible=!0,s.btnRide.visible=!1,s.findInfo.text="在"+m.cfgWorld[t.world].name+"中发现",s.btnHat.visible=!1,s.btnAnimal.visible=!1;else if(o<0&&l.length>0){s.page1Status1.visible=!1,s.page1Status2.visible=!0,s.page1Status3.visible=!1,s.page1Status4.visible=!1,s.animalCnt2.text=s.animalCnt3.text=s.animalCnt4.text=s.animalCnt.text=l.length+"/10 "+t.name+" 已驯服",s.title.text=m.cfgEnclosure[e].name+"栖息地",a==e?(s.btnStart.visible=!0,s.btnRide.visible=!1):(s.btnStart.visible=!1,s.btnRide.visible=!0);let i=o+1;if(i<10){let e=h.price[i];s.btnBuiltPrice1.text=e,s.btnBuiltPrice2.text=e;let t=Math.floor((457-(s.btnBuiltLabel.width+s.btnBuiltPrice1.textWidth+s.btnBuiltIcon.width+4))/2);s.btnBuiltLabel.x=t,s.btnBuiltPrice2.x=s.btnBuiltPrice1.x=t+s.btnBuiltLabel.width+2,s.btnBuiltIcon.x=s.btnBuiltPrice1.x+s.btnBuiltPrice1.textWidth+4}s.btnHat.visible=!0,s.btnAnimal.visible=!0}else{if(!(o>-1&&l.length>0))return void g.shipCtrl.unselectEnc();{s.page1Status1.visible=!0,s.page1Status2.visible=!1,s.page1Status3.visible=!1,s.page1Status4.visible=!1,s.animalCnt2.text=s.animalCnt3.text=s.animalCnt4.text=s.animalCnt.text=l.length+"/10 "+t.name+" 已驯服",s.title.text=m.cfgEnclosure[e].name+"栖息地",a==e?(s.btnStart.visible=!0,s.btnRide.visible=!1):(s.btnStart.visible=!1,s.btnRide.visible=!0),s.lvl2.text=s.lvl1.text="等级 "+o;let n=o+1;if(n<10){let e=h.price[n];s.upgradePrice1.text=e,s.upgradePrice2.text=e,s.upgradeInfo.text=h.info[n],s.lineY.x=58+79*o,s.highest.visible=!1,(3==n||6==n||8==n)&&"zj"!==i.channel||8==n?"vivo"==i.channel||"hw"==i.channel?(s.btnUpgrade.visible=!0,s.btnUpad.visible=!1,this.showDian(!0)):(s.btnUpad.visible=!0,"wx"==i.channel||"qq"==i.channel?i.TmCtrl.instance.tmSendEvent("ad_upgradePerch",{value:"曝光"}):"zj"==i.channel?i.reportEvent("ad_upgradePerch",{value:"曝光"}):i.channel,s.btnUpgrade.visible=!1):(s.btnUpgrade.visible=!0,s.btnUpad.visible=!1,this.showDian(!0)),s.upgradeInfo.visible=!0,s.nextLvl.visible=!0}else s.lineY.x=690,s.highest.visible=!0,s.btnUpgrade.visible=!1,s.btnUpad.visible=!1,s.upgradeInfo.visible=!1,s.nextLvl.visible=!1;for(let e=0;e<n&&e<10;e++)0==e?s.p1.texture=Laya.loader.getRes("main/homeLvl2.png"):s["p"+e].texture=Laya.loader.getRes("main/homeLvl3.png");0==n?s.p1.texture=Laya.loader.getRes("main/homeLvl1.png"):n<10&&(s["p"+n].texture=Laya.loader.getRes("main/homeLvl4.png"));for(let e=n+1;e<10;e++)s["p"+e].texture=Laya.loader.getRes("main/homeLvl5.png");s.btnHat.visible=!0,s.btnAnimal.visible=!0}}i.stage.addChild(s,i.Layer.MIDDLE)}}}showDian(e=!1){let t=this._lastName,n=m.cfgEnclosure[t];if(!n)return void g.shipCtrl.unselectEnc();let s=n.id,a=m.enclosure[s]+1;if(a<10&&a>-1){let n=m.cfgUpgrade[t].price[a];m.gold>=n?(this._homeUI.upDian.visible=!0,e&&("wx"==i.channel||"qq"==i.channel||"vivo"==i.channel||"zj"==i.channel)&&(m.get("teach",0)>4||2==m.get("teach",0))&&("zj"==i.channel?i.ad.showZjInsertAd():i.ad.showInsertAd())):this._homeUI.upDian.visible=!1}else this._homeUI.upDian.visible=!1}hideUI(){this._homeUI&&this._homeUI.removeSelf()}backHandler(){g.teachCtrl.status>0||(this._homeUI.teachTips.visible=!1,g.shipCtrl.unselectEnc(),"oppo"==i.channel&&2==m.get("teach",0)&&this._afterlvl?this._afterlvl=!0:"bd"==i.channel&&2==m.get("teach",0)&&this._afterlvl&&(this._afterlvl=!0,i.reportEvent("lvl_back")))}}g.upgradeCtrl=new Ie;class ke extends Laya.Sprite3D{constructor(){super(),this._animalPath={}}reset(e){let t=m.cfgAnimal;this._type=t[e].encId;let i=this._body=Laya.Sprite3D.instantiate(Laya.loader.getRes(t[e].res));this.addChild(i),this._aniCtrl=i.getComponent(Laya.Animator),this.animalId=e,i.getChildByName("StampedeAI").active=!1,i.getChildByName("landingCollider").active=!1,i.name=e.toString(),this._albedoColor=new Laya.Vector4(1,1,1,1),this._mat||(this._mat=i.skinnedMeshRenderer.material.clone(),this._mat.tilingOffset=new Laya.Vector4(1,1,(t[e].skinIndex||0)/16,0)),this._albedoColor.fromArray([0,0,0,0]),this._mat.emissionColor=this._albedoColor,this.setNodeMat(i)}setNodeMat(e){if(e instanceof Laya.SkinnedMeshSprite3D&&"eye"!==e.name&&"biteMesh"!==e.name&&(e.skinnedMeshRenderer.material=this._mat),e.numChildren>0)for(let t=0;t<e.numChildren;t++){const i=e.getChildAt(t);this.setNodeMat(i)}}get body(){return this._body}clear(){Laya.timer.clearAll(this),this._body&&(this._body.removeSelf(),this._body.destroy(!0)),this._body=null,this._animalPath=null,this._mat=null,this._aniCtrl=null,this._type=null,this._vx=null,this._vz=null,this._i=null,this._albedoColor=null,this.destroy(!0)}dance(){this._aniCtrl.play("happy")}init(e){this._animalPath=e[this._type],this._body.transform.localPosition=i.Temp.getVector3(),this.transform.localPositionY=0,this.transform.localPositionX=this._animalPath.born[0],this.transform.localPositionZ=this._animalPath.born[1];let t=this.cloneT(this._animalPath.pos);for(let e=0;e<t.length;e++)if(t[e][0]){this._i=e,this._aim=t[e],this._animalPath.pos[e][0]=!1,this._aniCtrl.play("walk"),this._aniCtrl.speed=1,this.checkMove(this._animalPath.born);break}}checkMove(e){let t,i,n;e[0]<this._aim[1]&&e[1]>this._aim[2]?(t=Math.abs(e[1]-this._aim[2]),i=Math.abs(e[0]-this._aim[1]),n=90):e[0]>this._aim[1]&&e[1]<this._aim[2]?(t=Math.abs(e[1]-this._aim[2]),i=Math.abs(e[0]-this._aim[1]),n=270):e[0]<this._aim[1]&&e[1]<this._aim[2]?(t=Math.abs(e[0]-this._aim[1]),i=Math.abs(e[1]-this._aim[2]),n=0):e[0]>this._aim[1]&&e[1]>this._aim[2]&&(t=Math.abs(e[0]-this._aim[1]),i=Math.abs(e[1]-this._aim[2]),n=180);let s=Math.atan(t/i)/(Math.PI/180);Laya.Tween.to(this._body.transform,{localRotationEulerY:s+n},400,Laya.Ease.linearInOut);let a=Math.round(1e6*Math.sin(s*Math.PI/180))/1e6,o=Math.round(1e6*Math.cos(s*Math.PI/180))/1e6;0==n?(this._vx=.001*a,this._vz=.001*o):90==n?(this._vx=.001*o,this._vz=.001*-a):180==n?(this._vx=.001*-a,this._vz=.001*-o):270==n&&(this._vx=.001*-o,this._vz=.001*a),Laya.timer.clearAll(this),Laya.timer.frameLoop(1,this,this.step)}stop(){this._aniCtrl.play("idle"),this._aniCtrl.speed=.2,this._vx=0,this._vz=0,Laya.timer.clearAll(this),Laya.timer.frameLoop(1e3,this,this.hangOut)}step(){let e=Laya.timer.delta*this._vx,t=Laya.timer.delta*this._vz;e>1&&(e=1),e<-1&&(e=-1),t>1&&(t=1),t<-1&&(t=-1),e>0&&this.transform.localPositionX+e>=this._aim[1]||e<0&&this.transform.localPositionX-e<=this._aim[1]||t>0&&this.transform.localPositionZ+t>=this._aim[2]||t<0&&this.transform.localPositionZ-t<=this._aim[2]?this.stop():(this.transform.localPositionX+=e,this.transform.localPositionZ+=t)}hangOut(){let e=this.cloneT(this._animalPath.pos);for(let t=0;t<e.length;t++)if(e[t][0]){this._animalPath.pos[this._i][0]=!0,this._i=t,this._aim=e[t],this._animalPath.pos[t][0]=!1,this._aniCtrl.play("walk"),this._aniCtrl.speed=1,this.checkMove([this.transform.localPositionX,this.transform.localPositionZ]);break}}getRandom(e,t,i){return i?Math.floor(Math.random()*(t-e+1)+e):Math.random()*(t-e)+e}cloneT(e){let t=[];t.concat();for(let i=0;i<e.length;i++)t[i]=e[i].slice(0);return t}}class xe extends i.BaseCtrl{constructor(){super(),this._json={}}start(){super.start(),this.bindAssets3D("game/Conventional/buffalo6.lh","zoo"),this.bindAssets3D("game/Conventional/reviveBird.lh","zoo"),this.bindAssets3D("game/Conventional/luckyLamb.lh","zoo"),this.bindAssets3D("game/Conventional/zebra6.lh","zoo")}beforeEnterScene(e){if("zoo"==e){let e=m.enclosure;for(const t in e)if(e.hasOwnProperty(t)){const e=m.getAnimals(parseInt(t));if(e)for(let t=0;t<e.length;t++){const i=m.cfgAnimal[e[t]];i&&i.res&&this.bindAssets3D(i.res,"zoo")}}}if("zoo"==this._sceneName){if(this._animalList){for(const e in this._animalList)if(this._animalList.hasOwnProperty(e)){const t=this._animalList[e];for(;t.length>0;){const e=t.pop();e&&e.clear()}}this._animalList=null}this._json=null,this._animalPath=null,Laya.timer.clearAll(this),i.eventBus.off("TASK_COMPLETE",this,this.newBuyanimal)}}createChildren(e){if("zoo"==e){let e=m.enclosure;this._animalList=[],this._json={};for(const t in e)if(e.hasOwnProperty(t)){const e=m.getAnimals(parseInt(t));e.length>0&&(this._json[t]=e.concat())}for(const e in this._json)if(this._json.hasOwnProperty(e))for(let t=0;t<this._json[e].length;t++){let n=m.cfgAnimal[this._json[e][t]];i.load([n.res],this,()=>{let i=new ke;i.reset(this._json[e][t]),this._animalList[e]=this._animalList[e]||[],this._animalList[e].push(i)})}i.eventBus.on("CATCH_ANIMAL",this,this.newBuyanimal)}}animalDance(e){for(const t in this._animalList)if(this._animalList.hasOwnProperty(t)){const i=this._animalList[t];for(let t=0;t<i.length;t++){const n=i[t];if(n.animalId==e){n.dance();break}}}}newBuyanimal(e){if("zoo"!=this._sceneName)return;let t=m.cfgAnimal[e],n=t.encId;if(this._animalPath[n]=this._animalPath[n]||{},this._animalPath[n].num=m.getAnimals(n).length,null==g.shipCtrl.getEnclosure(Number(n)))return;if(null==g.shipCtrl.getEnclosure(Number(n)).getChildByName("zoo_homes"))return;let s=g.shipCtrl.getEnclosure(Number(n)).getChildByName("zoo_homes").transform;this._animalPath[n].born=[s.localPositionX,s.localPositionZ];let a=[],o=null!=g.shipCtrl.getEnclosure(Number(n)).getChildByName("spawnPoints")?g.shipCtrl.getEnclosure(Number(n)).getChildByName("spawnPoints"):g.shipCtrl.getEnclosure(Number(n)).getChildByName("SpawnPoints"),h=o.transform.localPosition;for(let e=0;e<o.numChildren;e++)a.push(o.getChildAt(e));this._animalPath[n].pos=[];for(let e=0;e<a.length;e++){let t=a[e].transform.localPositionX+h.x,i=a[e].transform.localPositionZ+h.z;this._animalPath[n].pos.push([!0,t,i])}i.load([t.res],this,()=>{let t=new ke;t.reset(e),this._animalList[n]=this._animalList[n]||[],this._animalList[n].push(t),g.shipCtrl.getEnclosure(n).addChild(t);for(const e in this._animalList[n])if(this._animalList[n].hasOwnProperty(e)){this._animalList[n][e].init(this._animalPath)}})}getAnimals(e){return this._animalList[e]}afterEnterScene(e){if("zoo"==e){this.updatePath();for(let e in this._animalList)if(this._animalList.hasOwnProperty(e))for(let t=0;t<this._animalList[e].length;t++)Laya.timer.once(2e3*t,this,()=>{let i=g.shipCtrl.getEnclosure(Number(e)),n=this._animalList[e][t];i.addChild(n),n.init(this._animalPath)},null,!1)}}updatePath(){this._animalPath={};for(let e in this._json){this._animalPath[e]={},this._animalPath[e].num=this._json[e].length;let t=g.shipCtrl.getEnclosure(Number(e)).getChildByName("zoo_homes").transform;this._animalPath[e].born=[t.localPositionX,t.localPositionZ];let i=[],n=null!=g.shipCtrl.getEnclosure(Number(e)).getChildByName("spawnPoints")?g.shipCtrl.getEnclosure(Number(e)).getChildByName("spawnPoints"):g.shipCtrl.getEnclosure(Number(e)).getChildByName("SpawnPoints"),s=n.transform.localPosition;for(let e=0;e<n.numChildren;e++)i.push(n.getChildAt(e));this._animalPath[e].pos=[];for(let t=0;t<i.length;t++){let n=i[t].transform.localPositionX+s.x,a=i[t].transform.localPositionZ+s.z;this._animalPath[e].pos.push([!0,n,a])}}}}g.animalMoveCtrl=new xe;var Le=Laya.Sprite3D;class Ce extends i.BaseCtrl{constructor(){super(),this._prefabNameList=["GreenFieldSidePrefab","StrawFieldSidePrefab","EmptyFieldSidePrefab"],this._skinIndexList=[1,2,3,4,5],this._changeHat=!1,this._firstChangan=!1,this._firstSongshou=!1,this._firstJump=!1,this._firstHua=!1,this._secondSong=!1,this.changeStatus(0)}start(){super.start(),this.bindAssets3D("first/Conventional/Newbie.ls","teach"),this.bindAssets("preload/button_patchHilight0.png",Laya.Loader.IMAGE,"teach"),this.bindAssets("preload/button_patchHilight1.png",Laya.Loader.IMAGE,"teach"),this.bindAssets("preload/button_patchHilight2.png",Laya.Loader.IMAGE,"teach"),this.bindAssets("preload/button_patchHilight3.png",Laya.Loader.IMAGE,"teach"),this.bindAssets("preload/button_patchHilight4.png",Laya.Loader.IMAGE,"teach"),this.bindAssets("preload/button_patchHilight5.png",Laya.Loader.IMAGE,"teach"),this.bindAssets("preload/black.png",Laya.Loader.IMAGE,"teach"),this.bindAssets("preload/red.png",Laya.Loader.IMAGE,"teach"),this.bindAssets("preload/tap.ani",Laya.Loader.JSON,"teach"),this.bindAssets("preload/untap.ani",Laya.Loader.JSON,"teach"),this.bindAssets("preload/warnning.ani",Laya.Loader.JSON,"teach"),this.bindAssets("preload/drage.ani",Laya.Loader.JSON,"teach"),this.bindAssets("preload/button_patch.png",Laya.Loader.IMAGE,"teach"),this.bindAssets("cfg/cfgAttribute.json",Laya.Loader.JSON,"teach"),this.bindAssets("cfg/cfgNickname.json",Laya.Loader.JSON,"teach"),this.bindAssets3D("first/Conventional/pfx_dustcloud_sml.lh","teach")}beforeEnterScene(e){if("zoo"===e&&-1===m.enclosure[1001]&&(this.bindAssets("res/atlas/preload.atlas",Laya.Loader.ATLAS,"zoo"),m.showAllShip=!1),"teach"===this._sceneName){for(this._view.page1.off(Laya.Event.MOUSE_DOWN,this,this.onPage1MouseDown),this._view.page4.off(Laya.Event.MOUSE_DOWN,this,this.onPage4MouseDown),this._view.page4.off(Laya.Event.MOUSE_UP,this,this.onPage4MouseUp),this._buffalo.destroy(),this._buffalo=null,this._horse.destroy(),this._horse=null,this._player.destroy(),this._player=null,this._playerAni=null,this._cam=null,this._camAni=null,this._worldStartBlock=null,this._meterial=null,this._scene=null,this._camNode=null,this._cameraRig.destroy(),this._cameraRig=null,this._mouseDown=null,this._playerV=null,this._circleV=null,this._camV=null,this._colliderPrefab.destroy(!0),this._colliderPrefab=null,this._horseV=null,this._sex=null,this._skinIndex=null,this._chest=null,this._hair=null,this._changeHat=null,this._firstChangan=null,this._firstSongshou=null,this._firstJump=null,this._firstHua=null,this._secondSong=null,this._showGift=null,Laya.Tween.clearAll(this);this._prefabList&&this._prefabList.length;){this._prefabList.pop().destroy(!0)}for(;this._obsPrefabList&&this._obsPrefabList.length;){this._obsPrefabList.pop().destroy(!0)}this._prefabList=null,this._obsPrefabList=null,this._btnChange.off("click",this,this.onChangeHandler),this._btnOK.off("click",this,this.onOKHandler),this._btnContinue.off("click",this,this.onContinue),this._btnContinue4&&this._btnContinue4.off("click",this,this.onContinue),this._btnCool&&this._btnCool.off("click",this,this.btnCool),this._btnShare.off("click",fe,fe.stopRecordVideo),this._view.btnPhotoShare.off("click",fe,fe.stopRecordVideo),this._view.btnRefresh.off("click",this,this.refreshName),this.clearWorld(),this.clearWorldCache(),this._tilingOffset=null,this._worldList=null,this._worldCache=null,this._prefabNameList=null,this._btnChange.clear(),this._btnOK.clear(),this._btnContinue.clear(),this._btnShare.clear(),this._btnChange=null,this._btnOK=null,this._btnContinue=null,this._btnShare=null,this._view.cirAni.mask=null,this._view.destroy(!0),this._view=null,this._worldCollider=null,this._circleMask&&this._circleMask.destroy(),this._circleMask=null,this._fence=null,g.warning=null,this.stopFrameLoop(),this._bg&&this._bg.destroy(!0)}else"zoo"===this._sceneName&&this._teachView&&(this._teachView.b1.offAllCaller(this),this._teachView.b2.offAllCaller(this),this._teachView.b3.offAllCaller(this),this._teachView.b4.offAllCaller(this),this._teachView.c1.offAllCaller(this),this._teachView=null)}createChildren(e){if(this.changeStatus(0),"teach"==e){this._view=i.stage.sceneUI,this._warnInfo||(this._warnInfo=new ce),this._warnInfo.init(this._view.warnInfo),g.warning=this._warnInfo,this._btnChange||(this._btnChange=new L(this._view.btnChange,this._view.btnChangeLight,"preload"),this._btnOK=new L(this._view.btnOK,null,"preload"),this._btnContinue=new L(this._view.btnContinue,null,"preload"),this._btnShare=new L(this._view.btnShare,this._view.btnShareLight,"preload"),this._btnContinue4=new L(this._view.btnContinue4,null,"preload"),this._btnCool=new L(this._view.btnCool,this._view.btnCoolLight,"preload"),this._btnGiftSure=new L(this._view.btnGiftSure,null,null,-35,-20)),this._tilingOffset||(this._tilingOffset=new Laya.Vector4);let e=i.stage.addChild(Laya.loader.getRes("first/Conventional/Newbie.ls"),i.Layer.D3);this._scene=e,this._buffalo=e.getChildByName("buffalo").addComponent(j),this._buffalo.init("101",e.getChildByName("buffalo"));let t=e.getChildByName("Player");this._player=t.addComponent($),this._playerAni=t.getComponent(Laya.Animator),this._horse=e.getChildByName("horse").addComponent(j),this._horse.init("900",e.getChildByName("horse"),!1);let n=e.getChildByName("CameraRig");n.transform.position=i.Temp.getVector3(0,0,0),this._cameraRig=n.addComponent(D),this._camNode=i.findChildByPath(n,"CameraOrbit.SelfieOffsetY").transform,this._camAni=n.getComponent(Laya.Animator),this._cam=i.findChildByPath(n,"CameraOrbit.SelfieOffsetY.SelfieOffsetX.AnimOffset.AnimDolly.ShakeOffset.Main Camera.Camera"),this._camCtrl=this._cam.addComponent(be),this._worldStartBlock=e.getChildByName("BG_CharSelect");let s=t.getChildByName("MESH_BODY");this._meterial=s.skinnedMeshRenderer.material;let a=i.findChildByPath(t,"offset.MESHES.DO_NOT_BATCH");a.getChildAt(0).skinnedMeshRenderer.material=this._meterial,a.getChildAt(1).skinnedMeshRenderer.material=this._meterial,this._chest=a.getChildByName("CHESTGIRL"),this._hair=a.getChildByName("HAIRGIRL"),this._roleHead=i.findChildByPath(t,"offset.ctrl_main.ctrl_hips.HEAD 1.SKELETON 3.joint_head.joint_HAT.Hat_attach"),this._tilingOffset.x=1,this._tilingOffset.y=1,this._tilingOffset.z=0,this._tilingOffset.w=-.0625,this._meterial.tilingOffset=this._tilingOffset,this._prefabList=[];for(let t=0;t<this._prefabNameList.length;t++)this._prefabList.push(e.getChildByName(this._prefabNameList[t])),this._prefabList[t].removeSelf();this._obsPrefabList=[],this._obsPrefabList[0]=e.getChildByName("Obstacles0"),this._obsPrefabList[1]=e.getChildByName("Obstacles1"),this._obsPrefabList[2]=e.getChildByName("Obstacles2"),this._obsPrefabList[0]&&this._obsPrefabList[0].removeSelf(),this._obsPrefabList[1]&&this._obsPrefabList[1].removeSelf(),this._obsPrefabList[2]&&this._obsPrefabList[2].removeSelf(),this._colliderPrefab=e.getChildByName("ColliderSml"),this._colliderPrefab&&this._colliderPrefab.removeSelf(),this._fence=e.getChildByName("FenceOnly").transform;let o=e.getChildByName("StrawFieldSidePrefabBarn");o&&(o.removeSelf(),o.destroy(!0)),this._bg=e.getChildByName("BG_CharSelect"),i.setCollisionGroup(this._scene.getChildByName("FenceOnly"),B.WORLD_SIDE,B.ANIMAL|B.PLAYER),this.createWorld(),this._view.page1.on(Laya.Event.MOUSE_DOWN,this,this.onPage1MouseDown),this._view.page4.on(Laya.Event.MOUSE_DOWN,this,this.onPage4MouseDown),this._view.page4.on(Laya.Event.MOUSE_UP,this,this.onPage4MouseUp),this._view.btnRefresh.on(Laya.Event.MOUSE_DOWN,this,this.refreshName),this._btnChange.on("click",this,this.onChangeHandler),this._btnOK.on("click",this,this.onOKHandler),this._btnContinue.on("click",this,this.onContinue),this._btnContinue4.on("click",this,this.onContinue),this._btnCool.on("click",this,this.btnCool),this._btnGiftSure.on("click",this,this.btnGiftSure),this._btnShare.on("click",fe,fe.stopRecordVideo,[this,this.share,[30,1013]]),this._view.btnPhotoShare.on("click",fe,fe.stopRecordVideo,[this,this.share,[30,1013]]),this._skinIndex=0,this._sex=1,this.changeStatus(1),"zj"==i.channel||"wx"==i.channel||"qq"==i.channel||"vivo"==i.channel||"none"==i.channel||"bd"==i.channel?this._view.btnCool.visible=!0:this._view.btnCool.visible=!1,"qq"==i.channel&&this.qqGift()}else"zoo"===e&&-1===m.enclosure[1001]&&(this._teachView=new n.main.TeachGameUI,i.stage.addChild(this._teachView,i.Layer.TOP),this._teachView.b1.on(Laya.Event.MOUSE_DOWN,this,this.cancelMouseEvent),this._teachView.b1.on(Laya.Event.MOUSE_UP,this,this.cancelMouseEvent),this._teachView.b1.on(Laya.Event.CLICK,this,this.cancelMouseEvent),this._teachView.b1.on(Laya.Event.MOUSE_MOVE,this,this.cancelMouseEvent),this._teachView.b2.on(Laya.Event.MOUSE_DOWN,this,this.cancelMouseEvent),this._teachView.b2.on(Laya.Event.MOUSE_UP,this,this.cancelMouseEvent),this._teachView.b2.on(Laya.Event.CLICK,this,this.cancelMouseEvent),this._teachView.b2.on(Laya.Event.MOUSE_MOVE,this,this.cancelMouseEvent),this._teachView.b3.on(Laya.Event.MOUSE_DOWN,this,this.cancelMouseEvent),this._teachView.b3.on(Laya.Event.MOUSE_UP,this,this.cancelMouseEvent),this._teachView.b3.on(Laya.Event.CLICK,this,this.cancelMouseEvent),this._teachView.b3.on(Laya.Event.MOUSE_MOVE,this,this.cancelMouseEvent),this._teachView.b4.on(Laya.Event.MOUSE_DOWN,this,this.cancelMouseEvent),this._teachView.b4.on(Laya.Event.MOUSE_UP,this,this.cancelMouseEvent),this._teachView.b4.on(Laya.Event.CLICK,this,this.cancelMouseEvent),this._teachView.b4.on(Laya.Event.MOUSE_MOVE,this,this.cancelMouseEvent),this._teachView.c1.on(Laya.Event.MOUSE_MOVE,this,this.cancelMouseEvent),this._teachView.mouseThrough=!0,this.changeStatus(1))}afterEnterScene(e){if("teach"==e){fe.startRecordVideo(),"oppo"==i.channel||"none"==i.channel?u.upload(_.show_kaishi):"bd"===i.channel&&i.reportEvent("show_kaishi");Laya.loader.getRes("preload/cool.png")}}qqGift(){let e=new t;e.once(Laya.Event.COMPLETE,this,e=>{if(0==e.code&&e.data&&e.data.length>0){let t=[];for(let i=0;i<e.data.length;i++){let n=e.data[i];"10009"==n&&t.indexOf("10009")<0?(t.push("10009"),m.addGold(100,1029),m.addJew(10,1017),this.showIndex(1)):"10010"==n&&t.indexOf("10010")<0&&(t.push("10010"),m.addGold(20,1029),m.addJew(2,1017),this.showIndex(2))}this.showGift()}});let n=Laya.Browser.now(),s=Laya.LocalStorage.getItem("zoozyClient"),a="qqGiftSend?sha="+i.md5(i.md5(i.key+i.noice)+n+":"+s+"::"+i.noice)+"&noice="+i.noice+"&time="+n+"&client="+s;a=a+"&channel="+i.channel+"&game=zoo&openid="+i.uid,console.log(a),e.send("https://api.smartjoygames.com/zy/"+a,"","get","json")}showIndex(e){this._showGift=this._showGift||0,this._showGift+=e,this._showGift=this._showGift>=3?3:this._showGift}showGift(){this._showGift&&(this._view.giftBox.visible=!0,1==this._showGift||3==this._showGift?(this._view.LableGold.text="+100",this._view.LableJew.text="+10",this._view.TitleGift.skin="main/gift_rookie.png"):2==this._showGift&&(this._view.LableGold.text="+20",this._view.LableJew.text="+2",this._view.TitleGift.skin="main/gift_day.png"))}btnGiftSure(){3==this._showGift?(this._view.LableGold.text="+20",this._view.LableJew.text="+2",this._view.TitleGift.skin="main/gift_day.png",this._showGift=null):this._view.giftBox.visible=!1}refreshName(){this._buffalo.refreshName();let e,t=Laya.loader.getRes("cfg/cfgNickname.json"),i=m.nickName[101];i&&null!=i[0]&&null!=i[1]&&(e=t[i[0]][i[1]]),this._view.animalName0.text=this._view.animalName1.text="披风野牛",this._view.animalPicName.text=e}share(e,t){if("wx"==i.channel)wx&&(i.TmCtrl.instance.tmSendEvent("share_phototeach",{value:"点击"}),i.tmShare("share_tame")),m.addGold(e,t);else if("qq"==i.channel){if(window.qq){i.TmCtrl.instance.tmSendEvent("share_phototeach",{value:"点击"});let n=[null,["开局一条龙，快来试玩吧！","https://zy-1257315588.file.myqcloud.com/zoo/share_img/share7.jpg"],["园长，快进来看看你的动物怎么样了？","https://zy-1257315588.file.myqcloud.com/zoo/share_img/share8.jpg"],["太魔性啦！这谁顶得住啊？","https://zy-1257315588.file.myqcloud.com/zoo/share_img/share9.jpg"]],s=Math.floor(2*Math.random()+1);window.qq.shareAppMessage({title:n[s][0],imageUrl:n[s][1],query:"gid="+i.gid,success:()=>{m.addGold(e,t)}})}}else"zj"==i.channel&&fe.ttShareAppMessage("video",this,this.shareComplet,[e,t])}shareComplet(e){0==e.code&&(e.param[0]&&e.param[1]&&m.addGold(e.param[0],e.param[1]),this.onContinue(),console.log("分享成功",e),"wx"==i.channel||"qq"==i.channel?i.TmCtrl.instance.tmSendEvent("recording_succ",{}):"zj"==i.channel&&i.reportEvent("recording_succ",{}))}cancelMouseEvent(e){e.stopPropagation()}createWorld(){let e,t,n,s;this._worldList||(this._worldList=[]),this._worldCache||(this._worldCache=[]),this._worldCollider||(this._worldCollider=[]),this._worldEndZ=0;for(let a=0;a<9;a++)e=Le.instantiate(this._prefabList[Math.floor(Math.random()*this._prefabList.length)],this._scene),t=Le.instantiate(this._prefabList[Math.floor(Math.random()*this._prefabList.length)],this._scene),e.transform.localPosition=i.Temp.getVector3(-10,0,26+16*this._worldEndZ+16),e.transform.localRotationEulerY=180,t.transform.localPosition=i.Temp.getVector3(10,0,10+16*this._worldEndZ+16),t.transform.localRotationEulerY=0,(n=Le.instantiate(this._colliderPrefab,this._scene)).transform.localPosition=i.Temp.getVector3(0,0,10+16*this._worldEndZ+16),i.setCollisionGroup(n,B.WORLD_SIDE,B.ANIMAL|B.PLAYER),(s=Le.instantiate(this._obsPrefabList[Math.floor(Math.random()*this._obsPrefabList.length)],n)).transform.localPosition=i.Temp.getVector3(),i.setCollisionGroup(s,B.WORLD_SIDE,B.ANIMAL|B.PLAYER),this._worldCollider.push(n),this._worldList.push(t),this._worldList.push(e),this._worldEndZ+=1}clearWorld(e=!0){for(;this._worldList&&this._worldList.length>0;){const t=this._worldList.pop();t&&(t.removeSelf(),e?t.destroy(!0):this._worldCache.push(t))}for(;this._worldCollider&&this._worldList.length>0;){const t=this._worldCollider.pop();t&&(t.removeSelf(),e&&t.destroy(!0))}}resetWorld(e=-3){let t,n,s;this._worldEndZ=e;for(let e=0;e<this._worldList.length/2;e++)n=this._worldList[2*e],(t=this._worldList[2*e+1]).transform.localPosition=i.Temp.getVector3(-10,0,16*this._worldEndZ+26+16),n.transform.localPosition=i.Temp.getVector3(10,0,16*this._worldEndZ+10+16),(s=this._worldCollider[e]).transform.localPosition=i.Temp.getVector3(0,0,16*this._worldEndZ+10+16+7),s.getChildAt(0).transform.localPositionX=35,s.getChildAt(1).transform.localPositionX=-35,s.getChildAt(2).active=!1,this._worldEndZ+=1;this._bg||this._scene.addChild(this._bg),this._scene.getChildByName("FenceOnly").transform.localPosition=i.Temp.getVector3(200,0,0)}clearWorldCache(){for(;this._worldCache&&this._worldCache.length>0;){const e=this._worldCache.pop();e&&e.destroy(!0)}}checkCreateWorld(){let e=Math.floor(this._player.transform.localPositionZ/16)+9;if(e>this._worldEndZ+4){let t=e-this._worldEndZ-4;for(let e=0;e<t;e++){let e=this._worldList.shift(),t=this._worldList.shift(),n=this._worldCollider.shift();this._worldList.push(e),this._worldList.push(t),this._worldCollider.push(n),this.status>7?(t.transform.localPosition=i.Temp.getVector3(-24,0,16*this._worldEndZ+26+16),e.transform.localPosition=i.Temp.getVector3(24,0,16*this._worldEndZ+10+16),n.getChildAt(0).transform.localPositionX=50,n.getChildAt(1).transform.localPositionX=-50,n.getChildAt(2).active=!0):(t.transform.localPosition=i.Temp.getVector3(-10,0,16*this._worldEndZ+26+16),e.transform.localPosition=i.Temp.getVector3(10,0,16*this._worldEndZ+10+16),n.getChildAt(0).transform.localPositionX=35,n.getChildAt(1).transform.localPositionX=-35,n.getChildAt(2).active=!1),n.transform.localPosition=i.Temp.getVector3(0,0,16*this._worldEndZ+10+16+7),this._worldEndZ+=1}this._bg.parent&&this._bg.removeSelf()}}btnCool(e){"wx"==i.channel||"qq"==i.channel?i.ad.showVideoAd(this,this.btnCool2,i.wxAd.fivegold,"ad_cool"):"zj"==i.channel||"bd"===i.channel?i.ad.showVideoAd(this,this.btnCool2,0,"ad_cool"):"vivo"==i.channel?i.ad.showVivoVideo(this,this.btnCool2,i.vivoAd.fivegold,"ad_cool"):"yl"===i.channel?i.ad.showVideoAd(this,this.btnCool2,i.ylAd.cool):"none"==i.channel&&this.btnCool2(!0)}btnCool2(e){if(e){this._view.btnCool.visible=!1,m.giveHat("164"),this._roleHead.removeChildren();let e=m.cfgHats[164].res;i.stage.load([e],this,()=>{let t=Laya.loader.getRes(e);t.transform.localPosition.setValue(0,0,0),t.transform.localPosition=t.transform.localPosition,t.transform.localRotationEulerY=0,this._roleHead.addChild(t)}),i.msg.show("恭喜获得三级装备：牛皮纸袋")}}onContinue(e){8==this.status&&("wx"==i.channel||"qq"==i.channel?i.assetsManger.setUrlBase():"vivo"!=i.channel&&"oppo"!=i.channel||i.ad.hideBanner(),m.set("TEACH",1),i.stage.enterScene("check"))}onOKHandler(e){"wx"==i.channel||"qq"==i.channel?i.TmCtrl.instance.tmSendEvent("click_chooseRole_ok",{}):"zj"==i.channel||"bd"==i.channel?i.reportEvent("click_chooseRole_ok",{}):"oppo"==i.channel&&u.upload(_.click_chooseRole_ok),this.changeStatus(3),m.sex=this._sex,m.clothes=this._skinIndex,i.sound.playSound("audio/UI_Confirm.mp3",1,!0)}onChangeHandler(e){if(2!=this.status)return;"oppo"!=i.channel||this._changeHat?"bd"!==i.channel||this._changeHat||(this._changeHat=!0,i.reportEvent("click_changeRole")):this._changeHat=!0,this._skinIndex=(this._skinIndex+1)%this._skinIndexList.length,this._sex=this._sex%2+1,this.changeSex(this._sex),Laya.Tween.clearAll(this._player.transform),this._player.transform.localRotationEulerY=this._player.transform.localRotationEulerY%360,Laya.Tween.to(this._player.transform,{localRotationEulerY:720},1e3,Laya.Ease.cubicOut,Laya.Handler.create(this,()=>{this._player.transform.localRotationEulerY=0})),Laya.timer.clearAll(this);let t=0;Laya.timer.loop(200,this,()=>{++t>=3?(this._tilingOffset.z=.0625*this._skinIndexList[this._skinIndex],Laya.timer.clearAll(this)):this._tilingOffset.z=.0625*this._skinIndexList[(this._skinIndex+t)%this._skinIndexList.length],this._meterial.tilingOffset=this._tilingOffset}),i.sound.playSound("audio/UI_Randomize.mp3",1,!0)}changeSex(e){1==e?(m.sex=1,this._chest.active=!1,this._hair.active=!1):2==e&&(m.sex=2,this._chest.active=!0,this._hair.active=!0)}handleChangeStatus(){if("teach"===this._sceneName){if(this.status<1)return;for(let e=1;e<9;e++)this._view["page"+e]&&(this._view["page"+e].visible=e==this.status);if(this._view.screenshoot.visible=!1,1==this.status)this._camAni.play("cam_tutFirstLoadedA"),this._cam.fieldOfView=44,this._camNode.localPosition=i.Temp.getVector3(-4.245521,0,-8.724789),this._player.transform.localPosition=i.Temp.getVector3(0,.4980889,-.505455),this._playerAni.play("inConfig"),this._player.rope.switchOffRope(),this._buffalo.gameObject.active=!1;else if(10==this.status)this._camAni.play("cam_tutFirstLoadedB"),this._cam.fieldOfView=44,this._player.rope.switchOffRope(),this._player.transform.localPosition=i.Temp.getVector3(0,.4980889,-.505455),this._playerAni.play("inConfig"),this._buffalo.gameObject.active=!1,Laya.timer.clearAll(this),Laya.timer.once(1200,this,()=>{this.changeStatus(2),"oppo"==i.channel?u.upload(_.show_chooseRole_ok):"bd"===i.channel&&i.reportEvent("show_chooseRole_ok")});else if(3==this.status)this._camAni.play("cam_tutTurnback"),Laya.Tween.clearAll(this._cam),Laya.Tween.to(this._cam,{fieldOfView:35},400,Laya.Ease.linearInOut),this.changeStatus(4);else if(4==this.status){this._firstChangan||("oppo"==i.channel?u.upload(_.yd_changan):"wx"==i.channel||"qq"==i.channel?i.TmCtrl.instance.tmSendEvent("yd_changan"):"bd"===i.channel&&i.reportEvent("yd_changan"),this._firstChangan=!0),this._player.transform.localPosition=i.Temp.getVector3(0,.4980889,-.505455),this._camNode.localPosition=i.Temp.getVector3(-2,0,9.494545),this._cam.fieldOfView=36,this._horse.transform.localPosition=i.Temp.getVector3(0,0,43),this._horse.state=a.running,this._playerAni.play("idle"),this._player.state=o.riding,this._player.steed=null,this._player.rope.resetRope(),this.resetWorld(),this._horse.speed=0,this._circleMask||(this._circleMask=new Laya.Sprite),this._view.cirAni.mask=this._circleMask;let e=this._view.cirAni.graphics;e.clear(),e.drawCircle(0,0,120,null,"#ffffff",14),this._view.ani.pos(Math.floor(Laya.stage.width/i.stageScale/2),Laya.stage.height/i.stageScale-300,!0),this._view.tapCir.pos(this._view.ani.x,this._view.ani.y),this._view.cirAni.pos(this._view.ani.x,this._view.ani.y),this._view.tips.text="长按别放手",this._mouseDown=!1,this._playerV=0,this._circleV=0,this._camV=0,this._horseV=0,this._buffalo.gameObject.active=!1,this._buffalo.state=a.running,this._buffalo.transform.localRotationEulerY=0,this._buffalo.transform.localPosition=i.Temp.getVector3(),this._player.transform.localRotationEulerY=0,this.startFrameLoop()}else 5==this.status?("oppo"!=i.channel||this._firstSongshou?"bd"!==i.channel||this._firstSongshou||(this._firstSongshou=!0,i.reportEvent("yd_songshou1")):(this._firstSongshou=!0,u.upload(_.yd_songshou1)),this._view.ani5.pos(Math.floor(Laya.stage.width/i.stageScale/2),Laya.stage.height/i.stageScale-300,!0)):6==this.status?("oppo"!=i.channel||this._firstJump?"bd"!==i.channel||this._firstJump||(this._firstJump=!0,i.reportEvent("yd_anzhu")):(this._firstJump=!0,u.upload(_.yd_anzhu)),this._view.ani6.pos(Math.floor(Laya.stage.width/i.stageScale/2),Laya.stage.height/i.stageScale-300,!0),this._view.tapCir6.pos(this._view.ani6.x,this._view.ani6.y)):7==this.status?(this._view.tapCir7.pos(Math.floor(Laya.stage.width/i.stageScale/2),Laya.stage.height/i.stageScale-300,!0),this._buffalo.transform.localPositionZ=this._player.transform.position.z+80,this._buffalo.gameObject.active=!0,this._buffalo.playRun()):8==this.status&&("oppo"!=i.channel||this._firstHua?"bd"!==i.channel||this._firstHua||(this._firstHua=!0,i.reportEvent("yd_huadong")):(this._firstHua=!0,u.upload(_.yd_huadong)),this._view.ani8.pos(Math.floor(Laya.stage.width/i.stageScale/2),Laya.stage.height/i.stageScale-300,!0),this._view.tapCir8.pos(this._view.ani6.x,this._view.ani6.y),this._scene.getChildByName("FenceOnly").transform.localPosition=i.Temp.getVector3(0,0,16*this._worldEndZ+16+10))}else if("zoo"===this._sceneName){if(!this._teachView)return;for(let e=0;e<this._teachView.numChildren;e++){const t=this._teachView.getChildAt(e);t&&(t.visible=e===this.status-1)}if(1===this.status){let e=Math.floor(220*Laya.stage.height/i.stageScale/1334),t=Math.floor(Laya.stage.width/i.stageScale/2+187.5*Laya.stage.height/i.stageScale/1334-e/2),n=Math.floor(Laya.stage.height/i.stageScale/2-e/2);this._teachView.c1.size(e,e),this._teachView.c1.pos(t,n,!0),this._teachView.b1.size(t,Laya.stage.height/i.stageScale),this._teachView.b1.pos(0,0,!0),this._teachView.b2.size(e,n),this._teachView.b2.pos(t,0,!0),this._teachView.b3.size(e,Laya.stage.height/i.stageScale-n-2),this._teachView.b3.pos(t,n+e,!0),this._teachView.b4.size(Laya.stage.width/i.stageScale-t-e,Laya.stage.height/i.stageScale),this._teachView.b4.pos(t+e,0,!0),this.fingerMove(this._teachView.fingerchoose)}else this.status}}fingerMove(e){e.visible=!0;for(let t=0;t<1e3;t++)1==this.status?(Laya.Tween.to(e,{y:-120},300,null,null,300*t,!1),Laya.Tween.to(e,{y:-160},300,null,null,300*(t+1),!1),t++):Laya.Tween.clearAll(e)}selectEnc(){"zoo"===this._sceneName&&1===this.status&&this.changeStatus(2)}makeMoney(){"zoo"===this._sceneName&&2===this.status&&(this.changeStatus(3),g.shipCtrl.showTeachMask())}stopTeach(){"zoo"===this._sceneName&&3===this.status&&(this.changeStatus(0),this._teachView.removeSelf(),g.shipCtrl.hideTeachMask())}beforeStop(){"zoo"===this._sceneName&&3===this.status&&this._teachView.removeSelf()}deadSlow(){Laya.timer.scale=.1,Laya.timer.once(150,this,()=>{Laya.timer.scale=1,8==this.status?Laya.timer.once(1500,this,()=>{this._playerAni.play("riding"),this._player.state=o.riding,this._camNode.localPosition=i.Temp.getVector3(-2,0,9.494545),this._cam.fieldOfView=35,this._buffalo.transform.localPosition=i.Temp.getVector3(0,0,-.505455),this._buffalo.ride(!1),this._buffalo.playRun(),this._buffalo.speed=23,this._horse.destroy(),this._warnInfo.showHeart(8,this,this.catchOne),this._player.transform.localRotationEulerY=this._buffalo.transform.localRotationEulerY=0,this.resetWorld(),this._view.page8.visible=!0,this._view.ani8.pos(Math.floor(Laya.stage.width/i.stageScale/2),Laya.stage.height/i.stageScale-300,!0),this._view.tapCir8.pos(this._view.ani6.x,this._view.ani6.y),this._scene.getChildByName("FenceOnly").transform.localPosition=i.Temp.getVector3(0,0,16*this._worldEndZ+16+10)}):Laya.timer.once(1500,this,this.changeStatus,[4])})}crash(){this.status>0&&this.status<10&&("wx"==i.channel||"qq"==i.channel?i.TmCtrl.instance.tmSendEvent("tutorial_dead",{value:this.status-5}):"zj"==i.channel&&i.reportEvent("tutorial_dead",{value:this.status-5}),this._view["page"+this.status]&&(this._view["page"+this.status].visible=!1)),this.deadSlow()}landingTarget(){7==this.status&&(this._view.page6.visible=!0)}ride(){6==this.status?(this.changeStatus(7),"wx"==i.channel||"qq"==i.channel?i.TmCtrl.instance.tmSendEvent("tutorial_1",{}):"zj"==i.channel?i.reportEvent("tutorial_1",{}):"oppo"==i.channel&&u.upload(_.tutorial_1)):7==this.status?(this._horse.speed=0,this.changeStatus(8),this._warnInfo.showHeart(8,this,this.catchOne),"wx"==i.channel||"qq"==i.channel?i.TmCtrl.instance.tmSendEvent("tutorial_2",{}):"zj"==i.channel?i.reportEvent("tutorial_2",{}):"oppo"==i.channel?u.upload(_.tutorial_2):"bd"===i.channel&&i.reportEvent("tutorial_2")):8==this.status&&(this._buffalo.transform.localRotationEulerY=0)}fakePhoto(e){let t=new Laya.Image;t.skin="preload/buffalo0.png",t.centerX=t.centerY=0;let n=new Laya.Image;n.skin="preload/enc_1001.png",n.width=this._view.animalImg.width,n.height=this._view.animalImg.height;let s=new Laya.Image;s.skin="preload/effect.png",s.centerX=s.centerY=0,s.width=this._view.animalImg.width,s.height=this._view.animalImg.height,this._view.animalImg.addChild(n),this._view.animalImg.addChild(s),this._view.animalImg.addChild(t),this._view.animalBook.visible=!0,"wx"==i.channel||"qq"==i.channel?(i.TmCtrl.instance.tmSendEvent("tutorial_4",{}),i.TmCtrl.instance.tmSendEvent("share_phototeach",{value:"曝光"}),this._view.bofang.visible=!1,this._view.btnPhotoShare.visible=!1,this._view.shareZj.visible=!1,this._view.shareWx.visible=!0,this._view.otherSure.visible=!0,this._view.qgSure.visible=!1):"oppo"!=i.channel&&"vivo"!=i.channel&&"hw"!=i.channel&&"vivo"!=i.channel&&"bd"!=i.channel||(this._view.bofang.visible=!1,this._view.btnPhotoShare.visible=!1,this._view.otherSure.visible=!1,this._view.qgSure.visible=!0,"oppo"==i.channel?u.upload(_.tutorial_4):"vivo"==i.channel?i.ad.showInsertAd():"bd"===i.channel&&i.reportEvent("tutorial_4")),g.flashScreen(),this._camCtrl.reset()}catchOne(){"vivo"==i.channel?(i.ad.showQGbanner(i.vivoBannerAd.new),this._view.btnContinue4.bottom=i.ad.bannerHeight):"oppo"==i.channel||i.ad.hideBanner(),this._warnInfo.hideAll(),g.paused=!0,this._view.screenshoot.visible=!0,this.refreshName(),this._view.newInfo.visible=!0,this._view.newNotice.visible=!1,this._view.tabAreaBox.visible=!1,this._view.animalBook.visible=!1,this._view.otherSure.visible=!1,this._view.qgSure.visible=!1,"wx"==i.channel||"qq"==i.channel?i.TmCtrl.instance.tmSendEvent("tutorial_3",{}):"zj"==i.channel&&i.reportEvent("tutorial_3",{}),Laya.systemTimer.once(1500,this,()=>{this._warnInfo.hideAll(),this._camCtrl.lookAt(this._player.transform,20),this._view.newInfo.visible=!1,i.channel!=i.Channel.wx&&i.channel!=i.Channel.oppo&&i.channel!=i.Channel.vivo&&i.channel!=i.Channel.qq&&"hw"!=i.channel&&"bd"!=i.channel?(this._view.newNotice.visible=!0,this._view.tabAreaBox.visible=!0,this._view.tabAreaBox.once("click",this,()=>{console.log("拍照了"),this._view.newNotice.visible=!1,this._view.tabAreaBox.visible=!1,i.sound.playSound("audio/FX_Camera_05.mp3"),Laya.systemTimer.frameOnce(2,this,()=>{let e=Laya.Browser.mainCanvas;if(i.channel==i.Channel.wx||i.channel==i.Channel.zj){let t,n=e.source,s=n.height,a=n.width,o=s-a>>1;console.log(a,s,o),i.channel==i.Channel.wx?t="jpg":i.channel==i.Channel.zj&&(t="webp");let h=n.toTempFilePathSync({x:0,y:o,width:a,height:a,destWidth:300,destHeight:300,fileType:t,quality:1});console.log(h);let l=new Laya.Image;l.loadImage(h,Laya.Handler.create(this,()=>{l.scale(400/300,400/300,!0),this._view.animalImg.addChild(l)})),i.assetsManger.copyFile(h,i.assetsManger.fileRoot+"/photo/101."+t,this,this.savePhoto),i.reportEvent("tutorial_4",{}),this._view.bofang.visible=!0,this._view.btnPhotoShare.visible=!0,this._view.shareZj.visible=!0,this._view.shareWx.visible=!1,this._view.bofang.skin="preload/bofang.png",this._view.otherSure.visible=!0,this._view.qgSure.visible=!1,fe.stopRecordVideo()}else{let t=e.getTexture(),i=new Laya.Sprite,n=t.sourceWidth;t=Laya.Texture.createFromTexture(t,0,t.sourceHeight-n>>1,n,n),i.graphics.drawImage(t),i.scaleX=i.scaleY=400/n,i.pos(0,0,!0),this._view.animalImg.addChild(i),this._view.otherSure.visible=!0,this._view.qgSure.visible=!1}this._view.animalBook.visible=!0,g.flashScreen(),this._camCtrl.reset()})}),Laya.stage.once(Laya.Event.MOUSE_MOVE,this,e=>{8==this.status&&(this._view.newNotice.visible=!1)})):this.fakePhoto("101")})}savePhoto(e){e?m.savePhoto(101):console.log("不知道为啥，存错了")}jump(){5==this.status?this.changeStatus(6):7==this.status&&(this._view.page5.visible=!1,this._view.page6.visible=!1,this._view.page7.visible=!1)}onPage1MouseDown(e){1==this.status&&("wx"==i.channel||"qq"==i.channel?i.TmCtrl.instance.tmSendEvent("xj_kaishi"):"oppo"==i.channel?u.upload(_.xj_kaishi):"bd"===i.channel&&i.reportEvent("xj_kaishi"),this.changeStatus(10))}onPage4MouseDown(e){if(4==this.status){this._mouseDown=!0,this._playerAni.play("onFoot");let e=this._camNode.localPositionZ-this._player.transform.localPositionZ-7.9195;this._camA=.02/(2*e/.02+500),Laya.Tween.clearAll(this._camNode)}}onPage4MouseUp(e){4==this.status&&(this._mouseDown=!1,this._playerAni.play("idle"),this._playerV=0,this._camV=0,this._circleV=0,Laya.Tween.clearAll(this._camNode),Laya.Tween.to(this._camNode,{localPositionZ:this._player.transform.localPositionZ+10},500,Laya.Ease.cubicOut))}frameLoop(){if(4==this.status||5==this.status){let e=Laya.timer.delta;if(this._mouseDown||5==this.status){this._playerV<.02?this._playerV+=4e-5*e:this._playerV=.02;let t=this._playerV*e;this._player.transform.localPositionZ+=t,this._camV<.02?(this._camV+=this._camA*e,this._camNode.localPositionZ+=this._camV*e):this._camNode.localPositionZ=this._player.transform.localPositionZ+7.9195,this._circleV<1?this._circleV+=5e-4*e:this._circleV=1}else this._circleV>0?this._circleV-=.0025*e:this._circleV=0;let t=this._horse.transform.localPositionZ-this._player.transform.localPositionZ;if(this._horseV=(43.505455-t)/32*.02,this._horse.speed=1e3*this._horseV,4==this.status){let e=this._circleMask.graphics;e.clear(),this._circleV>0?this._circleV>=1?(e.drawCircle(0,0,130,"#ff0000"),t<18&&this.changeStatus(5)):e.drawPie(0,0,130,360-360*this._circleV,0,"#ff0000"):e.drawCircle(0,0,10,"#ff0000")}}else if(7==this.status){let e=this._buffalo.transform.localPositionZ-this._horse.transform.localPositionZ,t=(100-e)/90;this._buffalo.speed=t*t*t*t*this._horse.speed,e<15&&this._view.page7.visible&&(this._view.page7.visible=!1,this._view.page5.visible=!0,"oppo"!=i.channel||this._secondSong||(this._secondSong=!0,u.upload(_.yd_songshou2)))}else 8==this.status&&this._player.transform.localPositionZ>this._fence.localPositionZ&&this._view.page8.visible&&(this._view.page8.visible=!1);this.checkCreateWorld()}}g.teachCtrl=new Ce;class Se extends i.BaseCtrl{constructor(){super(),this._list=[[200,600,1e3,2e3,5e3],[3e3,9e3,12e3,18e3]],this._beeIndex=0,this._cubeIndex=0,this._beePos=[[311,2078],[431,1970],[311,1907],[479,1840],[356,1708],[356,1368],[228,1244],[449,1211],[503,1073],[270,1093]],this._mission={level0:[{nextTitle:"稀树草原1",titleRes:["map/mapChar0.png","2"],missionRes:[{type:0,value:2,target:-1},{type:1,value:3,target:1001}],x:472},{nextTitle:"稀树草原2",titleRes:["map/mapChar0.png","3"],missionRes:[{type:2,value:6,target:0},{type:3,value:7,target:-1}],x:472},{nextTitle:"稀树草原3",titleRes:["map/mapChar0.png","4"],missionRes:[{type:0,value:7,target:-1},{type:1,value:3,target:1003}],x:472},{nextTitle:"稀树草原4",titleRes:["map/mapChar0.png","5"],missionRes:[{type:2,value:24,target:0},{type:3,value:22,target:-1}],x:472},{nextTitle:"稀树草原5",titleRes:["map/mapChar4.png","1"],missionRes:[{type:2,value:40,target:0},{type:0,value:18,target:-1}],x:472}],level1:[{nextTitle:"丛林1",titleRes:["map/mapChar4.png","2"],missionRes:[{type:0,value:24,target:-1},{type:1,value:3,target:1008}],x:360},{nextTitle:"丛林2",titleRes:["map/mapChar4.png","3"],missionRes:[{type:2,value:10,target:1},{type:3,value:32,target:-1}],x:360},{nextTitle:"丛林3",titleRes:["map/mapChar4.png","4"],missionRes:[{type:0,value:33,target:-1},{type:1,value:3,target:1010}],x:360},{nextTitle:"丛林4",titleRes:["map/mapChar4.png","5"],missionRes:[{type:1,value:5,target:1008},{type:1,value:3,target:1011}],x:360},{nextTitle:"丛林5",titleRes:["map/mapChar3.png","1"],missionRes:["敬请期待","敬请期待"],x:360}]},this.taskType=[[{type:0,value:2,target:-1},{type:1,value:3,target:1001}],[{type:2,value:6,target:0},{type:3,value:7,target:-1}]],this._newBee={level0:[{nextTitle:"稀树草原1",titleRes:["map/mapChar0.png","2"],missionRes:["· 增加1个栖息地","· 解锁新动物鸵鸟"],x:472},{nextTitle:"稀树草原2",titleRes:["map/mapChar0.png","3"],missionRes:["· 增加1个栖息地","· 解锁新动物长颈鹿"],x:472},{nextTitle:"稀树草原3",titleRes:["map/mapChar0.png","4"],missionRes:["· 增加1个栖息地","· 解锁新动物秃鹰"],x:472},{nextTitle:"稀树草原4",titleRes:["map/mapChar0.png","5"],missionRes:["· 增加1个栖息地","· 解锁新动物狮子"],x:472},{nextTitle:"稀树草原5",titleRes:["map/mapChar4.png","1"],missionRes:["· 增加3个栖息地","· 解锁：野猪,猩猩,鳄鱼3种新动物"],x:472}],level1:[{nextTitle:"丛林1",titleRes:["map/mapChar4.png","2"],missionRes:["· 增加1个栖息地","· 解锁新动物河马"],x:360},{nextTitle:"丛林2",titleRes:["map/mapChar4.png","3"],missionRes:["· 增加1个栖息地","· 解锁新动物犀牛"],x:360},{nextTitle:"丛林3",titleRes:["map/mapChar4.png","4"],missionRes:["· 增加1个栖息地","· 解锁新动物老虎"],x:360},{nextTitle:"丛林4",titleRes:["map/mapChar4.png","5"],missionRes:["· 增加1个栖息地","· 解锁新动物巨嘴鸟"],x:360},{nextTitle:"丛林5",titleRes:["map/mapChar1.png","1"],missionRes:["· 敬请期待","· 敬请期待"],x:360}]},this._youcanUp=!1,this._zooPos={level0:[[311,2078],[431,1970],[311,1907],[479,1840],[356,1708]],level1:[[356,1368],[228,1244],[449,1211],[503,1073],[270,1093]]}}start(){super.start(),this.bindAssets("res/atlas/map.atlas",Laya.Loader.ATLAS,"zoo")}beforeEnterScene(e){"zoo"==this._sceneName&&(Laya.timer.clearAll(this),this._btnStart0.off("click",this,this.onGameStart),this._btnStart1.off("click",this,this.onGameStart),this._btnBack.off("click",this,this.onBack),this._btnLvup.off("click",this,this.onLevelUp),m.off("UPDATE_GOLD",this,this.onUpdateGold),this._btnLvupAd.off("click",this,this.onLevelUp),this._view.btnAddCoin.off("click",this,this.openShop),this._btnStart0.clear(),this._btnStart0=null,this._btnStart1.clear(),this._btnStart1=null,this._btnBack.clear(),this._btnBack=null,this._btnLvup.clear(),this._btnLvup=null,this._btnLvupAd.clear(),this._btnLvupAd=null,i.channel===i.Channel.oppo?ve.clearAd("196263"):i.channel===i.Channel.vivo&&ve.clearAd("abea873d8eef4a7d904c27e005acebea"),this._view.removeSelf(),this._view.destroy(!0),this._view=null,this._youcanUp=null)}createChildren(e){if("zoo"==e)if(this._view||(this._view=new n.main.MapUI,this._btnStart0=new L(this._view.btnStart0),this._btnStart1=new L(this._view.btnStart1),this._btnBack=new L(this._view.btnBack),this._btnLvup=new L(this._view.btnLvup),this._btnLvupAd=new L(this._view.btnUpAd)),this._btnStart0.on("click",this,this.onGameStart,[0]),this._btnStart1.on("click",this,this.onGameStart,[1]),this._btnBack.on("click",this,this.onBack),this._btnLvup.on("click",this,this.onLevelUp),this._btnLvupAd.on("click",this,this.onLevelUpAd),this._view.btnAddCoin.on("click",this,this.openShop),m.on("UPDATE_GOLD",this,this.onUpdateGold),this._view.on(Laya.Event.CLICK,this,this.onClick),this._view.gold1.text=m.gold.toString(),this._view.gold2.text=m.gold.toString(),this._view.panelMap.mouseEnabled=!0,this._view.panelMap.vScrollBarSkin="",this._view.panelMap.vScrollBar.elasticDistance=200,this._view.panelMap.vScrollBar.rollRatio=.97,this._view.panelMap.vScrollBar.value=this._view.panelMap.vScrollBar.max,this._view.gold1.text=m.gold.toString(),this._view.gold2.text=m.gold.toString(),"bd"===i.channel?this._view.imgCubeTitle.y=30+i.stage.notchHeight:(this._view.imgCubeTitle.y=30+i.stage.notchHeight,this._view.topUI.y=this._view.imgCubeTitle.y-this._view.topUI.height-30,this._view.topUI.right=NaN,this._view.topUI.x=this._view.imgCubeTitle.x),this._view.panelMap.vScrollBar.changeHandler=new Laya.Handler(this,this.onChange),"oppo"==i.channel){ve.showAsIcon("196263",this._view.oppoActive);let e=this._view.oppoActive,t=1200;for(let i=0;i<1e3;i++)Laya.Tween.to(e,{rotation:45},300,null,null,0+t*i,!1),Laya.Tween.to(e,{rotation:-45},600,null,null,300+t*i,!1),Laya.Tween.to(e,{rotation:0},300,null,null,900+t*i,!1)}else i.channel}onChange(e){e>810?(this._view.imgCubeTitle.skin="map/mapChar0.png",this._view.imgCubeTitle.width=196,this._view.imgCubeTitle.height=47):(this._view.imgCubeTitle.skin="map/mapChar4.png",this._view.imgCubeTitle.width=97,this._view.imgCubeTitle.height=46)}openShop(){this.changeStatus(0),g.shopCtrl.showShop(0,!0)}onUpdateGold(e,t,i){this._view.gold1.text=e.toString(),this._view.gold2.text=e.toString(),this.checkView(!0)}showDian(){let e=m.worldLevel,t=m.mapLevel;return!(!this._list[e]||!this._list[e][t])&&(0==e&&(0==t||2==t||4==t)||m.gold>=this._list[e][t])}checkView(e){let t=m.worldLevel,n=m.mapLevel;this.updateMissionInfo(t,n),this._list[t]&&this._list[t][n]?0!=t||0!=n&&2!=n&&4!=n?this._youcanUp&&m.gold>=this._list[t][n]?(this._view.btnUpAd.visible=!1,this._view.upgold1.text=this._view.upgold2.text=this._list[t][n].toString(),this.permitLevelUp(!0)):(this._view.btnUpAd.visible=!1,this._view.upgold1.text=this._view.upgold2.text=this._list[t][n].toString(),this.permitLevelUp(!1)):"vivo"==i.channel||"hw"==i.channel?(this._view.btnUpAd.visible=!1,this._view.upgold1.text=this._view.upgold2.text=this._list[t][n].toString(),this.permitLevelUp(!0)):(this._view.btnUpAd.visible=!0,this._view.btnLvup.visible=!1,this._view.cancelgold1.text=this._list[t][n].toString(),this._view.cancelgold2.text=this._list[t][n].toString(),this._youcanUp?(this._view.btnUpAd.mouseEnabled=!0,e||("wx"==i.channel||"qq"==i.channel?i.TmCtrl.instance.tmSendEvent("ad_unlockMap",{value:"曝光"}):"zj"==i.channel?i.reportEvent("ad_unlockMap",{value:"曝光"}):i.channel),this._view.btnUpAd.skin="btn/btnColor2Down.png",this._view.imgUpAd.skin="btn/btnColor2Up.png"):(this._view.btnUpAd.mouseEnabled=!1,this._view.btnUpAd.skin="btn/btnGray2.png",this._view.imgUpAd.skin="btn/btnGray1.png")):(this._view.btnUpAd.visible=!1,this._view.upgold1.text="暂未开放",this._view.upgold2.text="暂未开放",this._view.g.visible=!1,this._view.btnLvup.mouseEnabled=!1,this._view.btnLvup.visible=!0,this._view.btnLvup.skin="btn/btnGray2.png",this._view.imgLvup.skin="btn/btnGray1.png"),this._view.btnStart1.visible=!(t<1)}onClick(e){e.target}onLevelUp(){let e=m.worldLevel,t=m.mapLevel;this._youcanUp?this._list[e]&&this._list[e][t]&&m.gold>=this._list[e][t]?(m.addGold(-this._list[e][t],1003),this._view.gold1.text=m.gold.toString(),this._view.gold2.text=m.gold.toString(),m.upmapLevel(),this.checkView(),this.moveZoo(m.worldLevel,m.mapLevel),g.shipCtrl.mapLevelUp()):this.openShop():i.msg.show("任务未完成哦~")}onLevelUpAd(){this._youcanUp&&("wx"==i.channel?i.ad.showVideoAd(this,this.onLevelUpAd2,i.wxAd.map,"ad_unlockMap"):"vivo"==i.channel?i.ad.showVivoVideo(this,this.onLevelUpAd2,i.vivoAd.map,"ad_unlockMap"):"oppo"==i.channel?i.ad.showOPPOVideo(this,this.onLevelUpAd2,_.ad_unlockMap):"yl"===i.channel?i.ad.showVideoAd(this,this.onLevelUpAd2,i.ylAd.map):i.ad.showVideoAd(this,this.onLevelUpAd2,0,"ad_unlockMap"))}onLevelUpAd2(e){e?(m.setDailyTask(6,1),"wx"==i.channel||"qq"==i.channel?i.TmCtrl.instance.tmSendEvent("ad_unlockMap",{value:"完成"}):"zj"==i.channel?i.reportEvent("ad_unlockMap",{value:"完成"}):i.channel,m.upmapLevel(),this.checkView(),this.moveZoo(m.worldLevel,m.mapLevel),g.shipCtrl.mapLevelUp()):g.videoTipCtrl.showTips(),"vivo"==i.channel&&i.sound.playMusic("audioGame/Music_Zoo.mp3")}onGameStart(e){this._view.visible=!1,g.shipCtrl.startGame(e)}onBack(){g.shipCtrl.backToShip(),this._view.removeSelf()}showMap(){"zoo"==this._sceneName&&i.stage.addChild(this._view,i.Layer.MIDDLE),Laya.timer.callLater(this,this.updateView)}aniBee(){this._beeIndex++,this._beeIndex>3&&(this._beeIndex=0),this._view.imgBee.skin="map/bee0"+this._beeIndex+".png"}aniCube(){let e;this._cubeIndex++,this._cubeIndex>7&&(this._cubeIndex=0),e=[3,2,1,0,1,2,3,4][this._cubeIndex];for(let t=0;t<3;t++){let i=this._view["imgCube"+t];i.skin=4==e?"":"map/mapCube"+t+"Ani"+e+".png"}}updateView(){Laya.timer.frameLoop(24,this,this.aniBee),this._beeIndex=0,this._view.imgBee.skin="map/bee00.png",this._view.gold1.text=m.gold.toString(),this._view.gold2.text=m.gold.toString(),Laya.timer.frameLoop(12,this,this.aniCube),this._cubeIndex=0;for(let e=0;e<2;e++){this._view["imgCube"+e].skin="map/mapCube"+e+"Ani3.png"}this.checkView(),this.updateBeePos(),this.updateCubeComp(m.worldLevel,m.mapLevel),this._view.panelMap.vScrollBar.value=this._view.panelMap.vScrollBar.max-700*m.worldLevel-50*m.mapLevel,"oppo"==i.channel?this._view.oppoActive.visible=!0:"vivo"==i.channel?ve.showAsBanner2("abea873d8eef4a7d904c27e005acebea",this._view.vivoActive):i.channel}updateBeePos(){let e=5*m.worldLevel+m.mapLevel,t=this._beePos[e];this._view.imgBee.x=t[0],this._view.imgBee.y=t[1]}permitLevelUp(e){this._view.btnLvup.visible=!0,this._view.btnLvup.mouseEnabled=!0,this._view.btnLvup.skin="btn/btnColor2Down.png",this._view.imgLvup.skin="btn/btnColor2Up.png"}missionDec(e,t,i){let n={1001:"野牛",1002:"斑马",1003:"大象",1004:"鸵鸟",1005:"长颈鹿",1006:"秃鹫",1007:"狮子",1008:"野猪",1009:"大猩猩",1010:"鳄鱼",1011:"河马",1012:"犀牛",1013:"老虎",1014:"巨嘴鸟",0:"稀树草原",1:"丛林"};return["驯服了"+t+"只动物","将"+n[i]+"的栖息地升到"+t+"级","将"+n[i]+"的栖息地升级"+t+"次","再完成"+t+"个任务"][e]}taskClass(e,t,i){let n={flag:!1,dec:""},s=[m.animalsNum,m.enclosure,m.uplvlTime,m.compeletNum];return null!=s[e]&&(i>-1?(s[e][i]>=t&&(n.flag=!0),n.dec=this.missionDec(e,t,i)):s[e]>=t?(n.flag=!0,n.dec=this.missionDec(e,t,i)):n.dec=3==e?this.missionDec(e,t-s[e],i):this.missionDec(e,t,i)),n}updateMissionInfo(e,t){if(0==e){let i=this._newBee["level"+e];if(i){let e=i[t];e&&(this._view.imgMisCom0.visible=!1,this._view.imgMisCom1.visible=!1,this._view.imgMisInfo0.left=this._view.imgMisInfo1.left=50,this._view.imgMisInfo0.text=e.missionRes[0]||"敬请期待",this._view.imgMisInfo1.text=e.missionRes[1]||"敬请期待",this._view.imgNextCubeName.skin=i?e.titleRes[0]:"未开放","map/mapChar0.png"==this._view.imgNextCubeName.skin?(this._view.imgNextCubeName.width=196,this._view.imgNextCubeName.height=47):(this._view.imgNextCubeName.width=97,this._view.imgNextCubeName.height=46),this._view.labelNextCubeLevel.text=i?e.titleRes[1]:"",this._view.labelNextCubeLevel.x=i?e.x:360,this._youcanUp=!0)}}else if(1==e){let i=this._mission["level"+e];if(i){let e=i[t];if(e)if(null==e.missionRes[0].type||null==e.missionRes[1].type)this._view.imgMisCom0.visible=this._view.imgMisCom1.visible=!1,this._view.imgMisInfo0.text=this._view.imgMisInfo1.text="敬请期待",this._view.imgNextCubeName.skin="map/mapChar1.png",this._view.imgNextCubeName.width=97,this._view.imgNextCubeName.height=46,this._view.labelNextCubeLevel.text="";else{this._view.imgMisCom0.visible=this._view.imgMisCom1.visible=!0;let t=this.taskClass(e.missionRes[0].type,e.missionRes[0].value,e.missionRes[0].target),n=this.taskClass(e.missionRes[1].type,e.missionRes[1].value,e.missionRes[1].target);this._view.imgMisGou0.visible=!!t.flag,this._view.imgMisGou1.visible=!!n.flag,this._view.imgMisInfo0.left=this._view.imgMisInfo1.left=100,this._view.imgMisInfo0.text=t?t.flag?t.dec+"(完成)":t.dec:"敬请期待",this._view.imgMisInfo1.text=n?n.flag?n.dec+"(完成)":n.dec:"敬请期待",this._view.imgMisInfo0.color=t&&t.flag?"#6fc856":"#edff93",this._view.imgMisInfo1.color=n&&n.flag?"#6fc856":"#edff93",this._view.imgNextCubeName.skin=i?e.titleRes[0]:"未开放","map/mapChar0.png"==this._view.imgNextCubeName.skin?(this._view.imgNextCubeName.width=196,this._view.imgNextCubeName.height=47):(this._view.imgNextCubeName.width=97,this._view.imgNextCubeName.height=46),this._view.labelNextCubeLevel.text=i?e.titleRes[1]:"",this._view.labelNextCubeLevel.x=i?e.x:360,t.flag&&n.flag?this._youcanUp=!0:this._youcanUp=!1}}}}updateCubeComp(e,t){for(let i=0;i<2;i++){let n=i,s=this._view["boxLevel"+n];if(!s)continue;let a=s.getChildByName("lineComp"),o=s.getChildByName("lineNone"),h=s.getChildByName("cube"),l=a.numChildren;for(let i=0;i<l;i++){let s=i,l=a.getChildAt(i),r=o.getChildAt(i),p=h.getChildAt(i);n<e?(l&&(l.visible=!0),r&&(r.visible=!1),p&&(p.skin=s<4?"map/mapCubeReady.png":"map/mapCubeUnknowBig.png")):n==e?s<t?(l&&(l.visible=!0),r&&(r.visible=!1),p&&(p.skin=s<4?"map/mapCubeReady.png":"map/mapCubeUnknowBig.png")):s==t?(l&&(l.visible=!1),r&&(r.visible=!0),p&&(p.skin=s<4?"map/mapCubeReady.png":"map/mapCubeUnknowBig.png")):(l&&(l.visible=!1),r&&(r.visible=!1),p&&(p.skin=s<4?"map/mapCubeUnknow.png":"map/mapCubeUnknowBig.png")):(l&&(l.visible=!1),r&&(r.visible=!1),p&&(p.skin=s<4?"map/mapCubeUnknow.png":"map/mapCubeUnknowBig.png"))}}}updateMissionProGress(e,t){let i=this._view["imgMisCom"+e];i&&(i.skin=t?"map/mapMisCom.png":"map/mapMisKuang.png")}moveZoo(e,t){let n=this._zooPos["level"+e];if(n){let s=n[t];if(s){let n=this._view.imgBee,a=this._view.panelMap.vScrollBar.value-(n.y-s[1]);Laya.Tween.to(this._view.panelMap.vScrollBar,{value:a},1e3,null),Laya.Tween.to(n,{x:s[0],y:s[1]},1e3,null,Laya.Handler.create(this,()=>{this.updateCubeComp(m.worldLevel,m.mapLevel)})),i.sound.playSound("audioGame/UI_Map_Move.mp3"),"wx"==i.channel||"qq"==i.channel?i.TmCtrl.instance.tmSendEvent("unlock_map",{value:5*e+t+1}):"zj"==i.channel&&i.reportEvent("unlock_map",{value:5*e+t+1})}}}}g.mapCtrl=new Se;class Ae extends Laya.Sprite3D{constructor(){super(),this._cam=!1}init(e){this._body=Laya.Sprite3D.instantiate(Laya.loader.getRes("game/Conventional/Punter.lh"));let t=i.findChildByPath(this._body,"GameObject.model");t.meshFilter.sharedMesh=Laya.loader.getRes(e.res),this._res=e.res,this._age=e.age,this._cam=e.camera,this._name=e.name,this.addChild(this._body),this._aniCtrl=t.getComponent(Laya.Animator);this._aniWalk={1:"punter_walk_new",2:"punter_walkKid_new"}[e.age],this._cameraPFX=i.findChildByPath(this._body,"GameObject.model.pfx_cameraFlash"),this._cameraPFX.active=!1,this._defaltSpeed=.005+.002*Math.random()}change(){let e={};if(this._destination&&this._destination.length>0){for(let t=this._destination.length-1;t>this._destination.length-3;t--)e[this._destination[t][0]]=this._destination[t][1];return{res:this._res,pos:e,age:this._age,name:this._name,area:this._area,live:this._livePos}}return null}relive(e){this._body.transform.localPosition=i.Temp.getVector3(),this.transform.localPositionY=0,this.transform.localPositionZ=e.pos.z,this.transform.localPositionX=e.pos.x,this._area=e.area,this._livePos=e.live,this._aniCtrl.play("punter_walk_new"),this._cam&&(this._cameraPFX.active=!0),this._v=0,Laya.timer.clearAll(this),Laya.timer.frameLoop(1e3,this,this.hangout)}clear(){Laya.timer.clearAll(this),this._body&&(this._body.removeSelf(),this._body.destroy(!0)),this._body=null,this._aniCtrl=null,this._statue=null,this._attitude=null,this._destination=null,this._path=null,this._area=null,this._livePos=null,this._firstZ=null,this._age=null,this._res=null,this._v=null,this.destroy(!0)}path(e,t,n){this._body.transform.localPosition=i.Temp.getVector3(),this.transform.localPositionY=0,this.transform.localPositionZ=-70,this.transform.localPositionX=this.getRandom(-2,2,!1),this._area=this.getRandom(1,e,!0);let s=t[this._area],a=this.getRandom(1,s.how.length,!0)-1;this._livePos=n;for(const e in s.pos[a]){let t=s.pos[a][e];this._destination=this._destination||[],this._destination[e]=this._destination[e]||[],this._destination[e][0]=t[0],this._destination[e][1]=this.getRandom(t[1],t[2],!1)}this._path=s.how[a],this._statue=-1,this._v=this._defaltSpeed,this._attitude="front",this._aniCtrl.play(this._aniWalk),this._firstZ=this.getRandom(-11,-5,!1),Laya.timer.frameLoop(1,this,this.step)}checkMove(){if(this._path&&this._path[this._statue+1]){this._statue+=1,this._attitude=this._path[this._statue],this._v="right"==this._attitude&&-this._defaltSpeed||this._defaltSpeed;let e={right:-90,back:180,front:0,left:90};Laya.Tween.to(this._body.transform,{localRotationEulerY:e[this._attitude]},200,Laya.Ease.linearInOut),Laya.timer.clearAll(this),Laya.timer.frameLoop(1,this,this.step)}else{this._aniCtrl.play("punter_walk_new");let e={1:-90,2:90};e[this._area]?this._body.transform.localRotationEulerY=e[this._area]:this._body.transform.localRotationEulerY=Math.random()>.5?0:180,this._cam&&(this._cameraPFX.active=!0),this._v=0,Laya.timer.clearAll(this),Laya.timer.frameLoop(1e3,this,this.hangout)}}step(){let e=Laya.timer.delta*this._v;if(e>1&&(e=1),e<-1&&(e=-1),-1==this._statue)this.moveZ(e,this._firstZ);else{let t=this._destination[this._statue];t&&("x"==t[0]?this.moveX(e,t[1]):"z"==t[0]&&this.moveZ(e,t[1]))}}moveX(e,t){let i=this.transform.localPositionX;"left"==this._attitude&&i+e>=t||"right"==this._attitude&&i-e<=t?this.checkMove():this.transform.localPositionX+=e}moveZ(e,t){let i=this.transform.localPositionZ;"front"==this._attitude&&i+e>=t||"back"==this._attitude&&i-e<=t?this.checkMove():this.transform.localPositionZ+=e}hangout(){let e={front:[this.transform.localPositionX,this.transform.localPositionZ+1],back:[this.transform.localPositionX,this.transform.localPositionZ-1],left:[this.transform.localPositionX+1,this.transform.localPositionZ],right:[this.transform.localPositionX-1,this.transform.localPositionZ]},t=["front","back","left","right"],i={front:.001,back:-.001,left:.001,right:-.001};this.randomPos(t);for(let n=0;n<t.length;n++)if(this.checkpark(this._area,e[t[n]])){this._attitude=t[n],this._v=i[this._attitude];let s={right:270,back:180,front:0,left:90};this._body.transform.localRotationEulerY=s[this._attitude],this._aniCtrl.play(this._aniWalk),Laya.timer.clearAll(this),Laya.timer.frameLoop(1,this,this.wander,[e[t[n]]]);break}}wander(e){let t=Laya.timer.delta*this._v;t>1&&(t=1),t<-1&&(t=-1),"front"==this._attitude||"back"==this._attitude?this.moveZ(t,e[1]):this.moveX(t,e[0])}checkpark(e,t){if(t[0]>=this._livePos[e][0][0]&&t[0]<=this._livePos[e][0][1]&&t[1]>=this._livePos[e][1][0]&&t[1]<=this._livePos[e][1][1])return!0}randomPos(e){let t,i;for(let n=0;n<e.length;n++)n!=(i=Math.floor(Math.random()*(e.length-1-n+1)+n))&&(t=e[n],e[n]=e[i],e[i]=t)}getRandom(e,t,i){return i?Math.floor(Math.random()*(t-e+1)+e):Math.random()*(t-e)+e}}class ze extends i.BaseCtrl{constructor(){super(),this._touristArea={},this._walkArea={}}start(){super.start(),this.bindAssets3D("game/Conventional/Punter.lh","zoo"),this.bindAssets("cfg/cfgTourist.json",Laya.Loader.JSON,"zoo");let e=[0,1,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,25,26,29,30,33,34,37,38];for(let t=0;t<e.length;t++)this.bindAssets3D("game/Conventional/Assets/Models/characters/punters/punters-punter"+e[t]+".lm","zoo")}beforeEnterScene(e){if("zoo"==this._sceneName&&(this._touristList=null,this._touristArea=null,this._walkArea=null,this._areaNum=null,this._touristList)){let e=[];for(let t=0;t<this._touristList.length;t++)if(this._touristList[t]){let i=this._touristList[t].change();null!=i&&e.push(i),this._touristList[t].clear()}this._touristList=null,m.set("tourist",e)}}createChildren(e){if("zoo"==e){let e=m.get("tourist",null);if(e&&e.length>0)for(let t=0;t<e.length;t++){let i=e[t];if(i&&i.name){let e=Laya.Pool.getItemByClass(i.name,Ae);this._touristList=this._touristList||[],this._touristList.push(e),e.init(i),g.shipCtrl.root.addChild(e),e.relive(i)}}}}touristOut(e){if("zoo"!=this._sceneName)return;this.updatePath();let t=Laya.loader.getRes("cfg/cfgTourist.json"),i=Math.floor(4e3/e);for(let n=0;n<e;n++)Laya.timer.once(n*i,this,()=>{let e=t[n%29],i=Laya.Pool.getItemByClass(e.name,Ae);this._touristList=this._touristList||[],this._touristList.push(i),i.init(e),g.shipCtrl.root.addChild(i),i.path(this._areaNum,this._touristArea,this._walkArea)},null,!1)}updatePath(){this._touristArea=this._touristArea||{},this._walkArea=this._walkArea||{},this._areaNum=g.shipCtrl.middleCount+2,this._touristArea[1]={how:[["left","front"]],pos:[[["x",21,24],["z",-5,28*g.shipCtrl.middleCount]]]},this._touristArea[2]={how:[["right","front"]],pos:[[["x",-24,-21],["z",-5,28*g.shipCtrl.middleCount]]]},this._walkArea[1]=[[21,24],[-5,-5,28*g.shipCtrl.middleCount]],this._walkArea[2]=[[-24,-21],[-5,-5,28*g.shipCtrl.middleCount]];for(let e=1;e<g.shipCtrl.middleCount+2;e++)this._touristArea[e+2]={how:[["right","front","left"],["left","front","right"]],pos:[[["x",-24,-21],["z",28*e-11,28*e-5],["x",-21,21]],[["x",21,24],["z",28*e-11,28*e-5],["x",-21,21]]]},this._walkArea[e+2]=[[-21,21],[28*e-11,28*e-5]]}}g.touristMoveCtrl=new ze;class Te extends i.BaseCtrl{constructor(){super(),this._cost0=[18,40,80,120,180,250,500],this._backZoo=!0}start(){super.start(),this.bindAssets("main/spSale.ani",Laya.Loader.JSON,"zoo"),this.bindAssets("res/atlas/shop.atlas",Laya.Loader.ATLAS,"zoo")}beforeEnterScene(e){"zoo"==this._sceneName&&(this._btnBack.off("click",this,this.onBack),this._btnShop2Btn0.off("click",this,this.buyEpicAnimal),this._btnShop2Btn1.off("click",this,this.buyEpicAnimal),this._btnShop2Btn2.off("click",this,this.buyEpicAnimal),this._btnShop2Btn3.off("click",this,this.buyEpicAnimal),this._btnShop1Btn0.off("click",this,this.onBuy),this._btnShop1Btn1.off("click",this,this.onBuy),this._btnShop1Btn2.off("click",this,this.onBuy),this._btnShop1Btn3.off("click",this,this.onBuy),this._btnShop1Btn4.off("click",this,this.onBuy),this._btnShop1Btn5.off("click",this,this.onBuy),this._btnShop1Btn6.off("click",this,this.onBuy),this._btnShop1Btn7.off("click",this,this.onBuy),this._btnShop3Btn0.off("click",this,this.onBuyGold),this._btnShop3Btn1.off("click",this,this.onBuyGold),this._btnShop3Btn2.off("click",this,this.onBuyGold),this._btnTipBack.off(Laya.Event.CLICK,this,this.hwPay3),this._btnTipSure.off(Laya.Event.CLICK,this,this.hwPay3),this._btnBack.clear(),this._btnShop1Btn0.clear(),this._btnShop1Btn1.clear(),this._btnShop1Btn2.clear(),this._btnShop1Btn3.clear(),this._btnShop1Btn4.clear(),this._btnShop1Btn5.clear(),this._btnShop1Btn6.clear(),this._btnShop1Btn7.clear(),this._btnShop2Btn0.clear(),this._btnShop2Btn1.clear(),this._btnShop2Btn2.clear(),this._btnShop2Btn3.clear(),this._btnShop3Btn0.clear(),this._btnShop3Btn1.clear(),this._btnShop3Btn2.clear(),this._btnShop4Btn0.clear(),this._btnShop4Btn1.clear(),this._btnShop4Btn2.clear(),this._btnShop4Btn3.clear(),this._btnTipBack.clear(),this._btnTipSure.clear(),this._btnShop2Btn0.offAllCaller(this),this._btnShop2Btn1.offAllCaller(this),this._btnShop2Btn2.offAllCaller(this),this._btnShop2Btn3.offAllCaller(this),this._btnBack=null,this._btnShop1Btn0=null,this._btnShop1Btn1=null,this._btnShop1Btn2=null,this._btnShop1Btn3=null,this._btnShop1Btn4=null,this._btnShop1Btn5=null,this._btnShop1Btn6=null,this._btnShop1Btn7=null,this._btnShop2Btn0=null,this._btnShop2Btn1=null,this._btnShop2Btn2=null,this._btnShop2Btn3=null,this._btnShop3Btn0=null,this._btnShop3Btn1=null,this._btnShop3Btn2=null,this._btnShop4Btn0=null,this._btnShop4Btn1=null,this._btnShop4Btn2=null,this._btnShop4Btn3=null,this._checkPayCnt=null,this._checkComCnt=null,this._btnTipBack=null,this._btnTipSure=null,this._view.removeSelf(),this._view.destroy(!0),this._view=null)}createChildren(e){if("zoo"==e){this._view||(this._view=new n.main.ShopUI,this._btnBack=new L(this._view.btnBack),this._btnShop1Btn0=new L(this._view.btn00,this._view.imgLight00,"main",-34,-20),this._btnShop1Btn1=new L(this._view.btn01,this._view.imgLight01,"main",-34,-20),this._btnShop1Btn2=new L(this._view.btn02,this._view.imgLight02,"main",-34,-20),this._btnShop1Btn3=new L(this._view.btn03,this._view.imgLight03,"main",-34,-20),this._btnShop1Btn4=new L(this._view.btn04,this._view.imgLight04,"main",-34,-20),this._btnShop1Btn5=new L(this._view.btn05,this._view.imgLight05,"main",-34,-20),this._btnShop1Btn6=new L(this._view.btn06,this._view.imgLight06,"main",-34,-20),this._btnShop1Btn7=new L(this._view.btn07,this._view.imgLight07,"main",-34,-20),this._btnShop2Btn0=new L(this._view.btn10,this._view.imgLight10,"main",-34,-20),this._btnShop2Btn1=new L(this._view.btn11,this._view.imgLight11,"main",-34,-20),this._btnShop2Btn2=new L(this._view.btn12,this._view.imgLight12,"main",-34,-20),this._btnShop2Btn3=new L(this._view.btn13,this._view.imgLight13,"main",-34,-20),this._btnShop3Btn0=new L(this._view.btn20,this._view.imgLight20,"main",-34,-20),this._btnShop3Btn1=new L(this._view.btn21,this._view.imgLight21,"main",-34,-20),this._btnShop3Btn2=new L(this._view.btn22,this._view.imgLight22,"main",-34,-20),this._btnShop4Btn0=new L(this._view.btn30,this._view.imgLight30,"main",-34,-20),this._btnShop4Btn1=new L(this._view.btn31,this._view.imgLight31,"main",-34,-20),this._btnShop4Btn2=new L(this._view.btn32,this._view.imgLight32,"main",-34,-20),this._btnShop4Btn3=new L(this._view.btn33,this._view.imgLight33,"main",-34,-20),this._btnShop0Btn0=new L(this._view.btn50,this._view.imgLight50,"main",-25,-20),this._btnShop0Btn1=new L(this._view.btn51,this._view.imgLight51,"main",-34,-20),this._btnShop0Btn2=new L(this._view.btn52,this._view.imgLight52,"main",-34,-20),this._btnShop0Btn3=new L(this._view.btn53,this._view.imgLight53,"main",-34,-20),this._btnShop0Btn4=new L(this._view.btn54,this._view.imgLight54,"main",-34,-20),this._btnShop0Btn5=new L(this._view.btn55,this._view.imgLight55,"main",-34,-20),this._btnShop0Btn6=new L(this._view.btn56,this._view.imgLight56,"main",-34,-20),this._btnTipBack=new L(this._view.btnTipBack,null,null,-30,-16),this._btnTipSure=new L(this._view.btnTipSure,null,null,-30,-16),"hw"==i.channel&&(this._view.btn51.visible=!1,this._view.getChildAt(1).getChildAt(4).visible=!1),("wx"==i.channel||"qq"==i.channel||"bd"==i.channel)&&Laya.Browser.onAndroid||"oppo"==i.channel||"vivo"==i.channel||"hw"==i.channel?(this._view.btn10.getChildAt(0).getChildByName("labelGold").visible=!0,this._view.btn11.getChildAt(0).getChildByName("labelGold").visible=!0,this._view.btn12.getChildAt(0).getChildByName("labelGold").visible=!0,this._view.btn13.getChildAt(0).getChildByName("labelGold").visible=!0,this._view.jew1.visible=!1,this._view.jew2.visible=!1,this._view.jew3.visible=!1,this._view.jew4.visible=!1,this._view.btn00.getChildAt(0).getChildByName("labelGold").visible=!0,this._view.btn01.getChildAt(0).getChildByName("labelGold").visible=!0,this._view.btn02.getChildAt(0).getChildByName("labelGold").visible=!0,this._view.btn03.getChildAt(0).getChildByName("labelGold").visible=!0,this._view.btn04.getChildAt(0).getChildByName("labelGold").visible=!0,this._view.btn05.getChildAt(0).getChildByName("labelGold").visible=!0,this._view.btn06.getChildAt(0).getChildByName("labelGold").visible=!0,this._view.jew5.visible=!1,this._view.jew6.visible=!1,this._view.jew7.visible=!1,this._view.jew8.visible=!1,this._view.jew9.visible=!1,this._view.jew10.visible=!1,this._view.jew11.visible=!1,this._view.btn20.getChildAt(0).getChildByName("labelGold").visible=!0,this._view.btn21.getChildAt(0).getChildByName("labelGold").visible=!0,this._view.btn22.getChildAt(0).getChildByName("labelGold").visible=!0,this._view.jew20.visible=!1,this._view.jew21.visible=!1,this._view.jew22.visible=!1,"qq"==i.channel?(this._view.btn00.getChildAt(0).getChildByName("labelGold").text="1 CNY",this._view.btn01.getChildAt(0).getChildByName("labelGold").text="3 CNY",this._view.btn02.getChildAt(0).getChildByName("labelGold").text="8 CNY",this._view.btn03.getChildAt(0).getChildByName("labelGold").text="12 CNY",this._view.btn04.getChildAt(0).getChildByName("labelGold").text="18 CNY",this._view.btn05.getChildAt(0).getChildByName("labelGold").text="25 CNY",this._view.btn06.getChildAt(0).getChildByName("labelGold").text="50 CNY",this._view.btn10.getChildAt(0).getChildByName("labelGold").text="12 CNY",this._view.btn11.getChildAt(0).getChildByName("labelGold").text="3 CNY",this._view.btn12.getChildAt(0).getChildByName("labelGold").text="12 CNY",this._view.btn13.getChildAt(0).getChildByName("labelGold").text="12 CNY",this._view.btn10.getChildAt(0).getChildByName("labelGold").getChildByName("labelGold").text="12 CNY",this._view.btn11.getChildAt(0).getChildByName("labelGold").getChildByName("labelGold").text="3 CNY",this._view.btn12.getChildAt(0).getChildByName("labelGold").getChildByName("labelGold").text="12 CNY",this._view.btn13.getChildAt(0).getChildByName("labelGold").getChildByName("labelGold").text="12 CNY",this._view.btn20.getChildAt(0).getChildByName("labelGold").text="6 CNY",this._view.btn21.getChildAt(0).getChildByName("labelGold").text="9 CNY",this._view.btn22.getChildAt(0).getChildByName("labelGold").text="15 CNY",this._view.btn20.getChildAt(0).getChildByName("labelGold").getChildByName("labelGold").text="6 CNY",this._view.btn21.getChildAt(0).getChildByName("labelGold").getChildByName("labelGold").text="9 CNY",this._view.btn22.getChildAt(0).getChildByName("labelGold").getChildByName("labelGold").text="15 CNY",this._view.btn53.getChildAt(0).getChildByName("labelGold").text="9 CNY",this._view.btn54.getChildAt(0).getChildByName("labelGold").text="15 CNY"):"bd"!==i.channel&&"wx"!==i.channel&&"oppo"!=i.channel&&"vivo"!=i.channel&&"hw"!==i.channel||(this._view.btn00.getChildAt(0).getChildByName("labelGold").text="1 CNY",this._view.btn01.getChildAt(0).getChildByName("labelGold").text="3 CNY",this._view.btn02.getChildAt(0).getChildByName("labelGold").text="8 CNY",this._view.btn03.getChildAt(0).getChildByName("labelGold").text="12 CNY",this._view.btn04.getChildAt(0).getChildByName("labelGold").text="18 CNY",this._view.btn05.getChildAt(0).getChildByName("labelGold").text="25 CNY",this._view.btn06.getChildAt(0).getChildByName("labelGold").text="50 CNY","hw"===i.channel&&(this._view.btn10.getChildAt(0).getChildByName("labelGold").text="12 CNY",this._view.btn11.getChildAt(0).getChildByName("labelGold").text="6 CNY",this._view.btn12.getChildAt(0).getChildByName("labelGold").text="12 CNY",this._view.btn13.getChildAt(0).getChildByName("labelGold").text="12 CNY",this._view.btn10.getChildAt(0).getChildByName("labelGold").getChildByName("labelGold").text="12 CNY",this._view.btn11.getChildAt(0).getChildByName("labelGold").getChildByName("labelGold").text="6 CNY",this._view.btn12.getChildAt(0).getChildByName("labelGold").getChildByName("labelGold").text="12 CNY",this._view.btn13.getChildAt(0).getChildByName("labelGold").getChildByName("labelGold").text="12 CNY",this._view.btn20.getChildAt(0).getChildByName("labelGold").text="6 CNY",this._view.btn21.getChildAt(0).getChildByName("labelGold").text="9 CNY",this._view.btn22.getChildAt(0).getChildByName("labelGold").text="15 CNY",this._view.btn20.getChildAt(0).getChildByName("labelGold").getChildByName("labelGold").text="6 CNY",this._view.btn21.getChildAt(0).getChildByName("labelGold").getChildByName("labelGold").text="9 CNY",this._view.btn22.getChildAt(0).getChildByName("labelGold").getChildByName("labelGold").text="15 CNY",this._view.btn53.getChildAt(0).getChildByName("labelGold").text="9 CNY",this._view.btn54.getChildAt(0).getChildByName("labelGold").text="15 CNY")),this._view.btn52.getChildAt(0).getChildAt(0).visible=!1,this._view.btn53.getChildAt(0).getChildAt(0).visible=!1,this._view.btn54.getChildAt(0).getChildAt(0).visible=!1,this._view.btn55.getChildAt(0).getChildAt(0).visible=!1,this._view.btn56.getChildAt(0).getChildAt(0).visible=!1,this._view.btn52.getChildAt(0).getChildByName("labelGold").visible=!0,this._view.btn53.getChildAt(0).getChildByName("labelGold").visible=!0,this._view.btn54.getChildAt(0).getChildByName("labelGold").visible=!0,this._view.btn55.getChildAt(0).getChildByName("labelGold").visible=!0,this._view.btn56.getChildAt(0).getChildByName("labelGold").visible=!0,this._view.panel0.getChildAt(0).getChildByName("gift5").getChildAt(0).getChildByName("img").getChildAt(2).visible=!0,this._view.panel0.getChildAt(0).getChildByName("gift6").getChildAt(0).getChildByName("img").getChildAt(2).visible=!0,this._view.panel0.getChildAt(0).getChildByName("gift5").getChildAt(0).getChildByName("zi").skin="shop/shop0zi11.png",this._view.panel0.getChildAt(0).getChildByName("gift6").getChildAt(0).getChildByName("zi").skin="shop/shop0zi15.png"):(this._view.btn10.getChildAt(0).getChildByName("labelGold").visible=!1,this._view.btn11.getChildAt(0).getChildByName("labelGold").visible=!1,this._view.btn12.getChildAt(0).getChildByName("labelGold").visible=!1,this._view.btn13.getChildAt(0).getChildByName("labelGold").visible=!1,this._view.jew1.visible=!0,this._view.jew2.visible=!0,this._view.jew3.visible=!0,this._view.jew4.visible=!0,this._view.btn00.getChildAt(0).getChildByName("labelGold").visible=!1,this._view.btn01.getChildAt(0).getChildByName("labelGold").visible=!1,this._view.btn02.getChildAt(0).getChildByName("labelGold").visible=!1,this._view.btn03.getChildAt(0).getChildByName("labelGold").visible=!1,this._view.btn04.getChildAt(0).getChildByName("labelGold").visible=!1,this._view.btn05.getChildAt(0).getChildByName("labelGold").visible=!1,this._view.btn06.getChildAt(0).getChildByName("labelGold").visible=!1,this._view.jew5.visible=!0,this._view.jew6.visible=!0,this._view.jew7.visible=!0,this._view.jew8.visible=!0,this._view.jew9.visible=!0,this._view.jew10.visible=!0,this._view.jew11.visible=!0,this._view.btn20.getChildAt(0).getChildByName("labelGold").visible=!1,this._view.btn21.getChildAt(0).getChildByName("labelGold").visible=!1,this._view.btn22.getChildAt(0).getChildByName("labelGold").visible=!1,this._view.jew20.visible=!0,this._view.jew21.visible=!0,this._view.jew22.visible=!0,this._view.btn52.getChildAt(0).getChildAt(0).visible=!0,this._view.btn53.getChildAt(0).getChildAt(0).visible=!0,this._view.btn54.getChildAt(0).getChildAt(0).visible=!0,this._view.btn55.getChildAt(0).getChildAt(0).visible=!0,this._view.btn56.getChildAt(0).getChildAt(0).visible=!0,this._view.btn52.getChildAt(0).getChildByName("labelGold").visible=!1,this._view.btn53.getChildAt(0).getChildByName("labelGold").visible=!1,this._view.btn54.getChildAt(0).getChildByName("labelGold").visible=!1,this._view.btn55.getChildAt(0).getChildByName("labelGold").visible=!1,this._view.btn56.getChildAt(0).getChildByName("labelGold").visible=!1,this._view.panel0.getChildAt(0).getChildByName("gift5").getChildAt(0).getChildByName("img").getChildAt(2).visible=!1,this._view.panel0.getChildAt(0).getChildByName("gift6").getChildAt(0).getChildByName("img").getChildAt(2).visible=!1,this._view.panel0.getChildAt(0).getChildByName("gift5").getChildAt(0).getChildByName("zi").skin="shop/shop0zi16.png",this._view.panel0.getChildAt(0).getChildByName("gift6").getChildAt(0).getChildByName("zi").skin="shop/shop0zi17.png"),this._btnShop2Btn0.on("click",this,this.buyEpicAnimal,[10]),this._btnShop2Btn1.on("click",this,this.buyEpicAnimal,[13]),this._btnShop2Btn2.on("click",this,this.buyEpicAnimal,[11]),this._btnShop2Btn3.on("click",this,this.buyEpicAnimal,[12]),this._btnShop1Btn0.on("click",this,this.onBuy,[0]),this._btnShop1Btn1.on("click",this,this.onBuy,[1]),this._btnShop1Btn2.on("click",this,this.onBuy,[2]),this._btnShop1Btn3.on("click",this,this.onBuy,[3]),this._btnShop1Btn4.on("click",this,this.onBuy,[4]),this._btnShop1Btn5.on("click",this,this.onBuy,[5]),this._btnShop1Btn6.on("click",this,this.onBuy,[6]),this._btnShop1Btn7.on("click",this,this.onBuy,[7]),this._btnShop3Btn0.on("click",this,this.onBuyGold,[0]),this._btnShop3Btn1.on("click",this,this.onBuyGold,[1]),this._btnShop3Btn2.on("click",this,this.onBuyGold,[2]),this._btnShop0Btn0.on("click",this,this.onClickNation,[0]),this._btnShop0Btn1.on("click",this,this.onClickNation,[1]),this._btnShop0Btn2.on("click",this,this.onClickNation,[2]),this._btnShop0Btn3.on("click",this,this.onClickNation,[3]),this._btnShop0Btn4.on("click",this,this.onClickNation,[4]),this._btnShop0Btn5.on("click",this,this.onClickNation,[5]),this._btnShop0Btn6.on("click",this,this.onClickNation,[6]),this._btnTipBack.on(Laya.Event.CLICK,this,this.hwPay3,[!1]),this._btnTipSure.on(Laya.Event.CLICK,this,this.hwPay3,[!0])),this._btnBack.on("click",this,this.onBack),this._view.on(Laya.Event.CLICK,this,this.onClick),this._view.tab.selectHandler=new Laya.Handler(this,this.onTabSelect);for(let e=0;e<=4;e++){let t=this._view["panel"+e];t.mouseEnabled=!0,t.vScrollBarSkin="",t.vScrollBar.rollRatio=.97,t.vScrollBar.elasticBackTime=250,t.vScrollBar.elasticDistance=200}this.stopMaoPao()}}stopMaoPao(){this._view.on(Laya.Event.MOUSE_DOWN,this,e=>{e.stopPropagation()});for(let e=0;e<this._view.numChildren;e++){this._view.getChildAt(e).on(Laya.Event.MOUSE_DOWN,this,e=>{e.stopPropagation()})}}buyEpicAnimal(e){let t=m.cfgAnimal[e];if(t)if(-1!=m.getAnimals(1e3).indexOf(e))i.msg.show("你已经拥有"+t.name+"了");else if("wx"==i.channel){let s={10:60,11:120,12:60,13:30};if(Laya.Browser.onAndroid){let a=this;var n={mode:"game",offerId:"1450024208",platform:"android",currencyType:"CNY",buyQuantity:s[e],env:0,success:i=>{console.log(i),a.buyEpicAnimalSuccess(e,t.name)},fail:e=>{console.log(e),a.buyFail(e.errCode)}};let o={10:4,11:6,12:7,13:5};i.TmCtrl.instance.tmSendEvent("ys_gift"+o[e],{value:"点击"}),Laya.Browser.window.wx.requestMidasPayment(n)}else this.normalBuyEpic(s,e,t.name)}else if("qq"==i.channel&&Laya.Browser.onAndroid){let t={10:4,11:6,12:7,13:5};i.TmCtrl.instance.tmSendEvent("ys_gift"+t[e],{value:"点击"});let n={10:0,13:1,11:2,12:3};this.qqPay(1,n[e])}else if("bd"==i.channel&&Laya.Browser.onAndroid){let t={10:0,13:1,11:2,12:3};this.bdPay(1,t[e])}else if("oppo"==i.channel){let t={10:_.ys_gift4,11:_.ys_gift6,12:_.ys_gift7,13:_.ys_gift5};u.upload(t[e],3);let i={10:0,13:1,11:2,12:3};this.oppoPay(1,i[e])}else if("vivo"==i.channel){let t={10:0,13:1,11:2,12:3};this.vivoPay(1,t[e])}else if("hw"==i.channel){let t={10:0,13:1,11:2,12:3};this.hwPay(1,t[e])}else{let i={10:60,11:120,12:60,13:40};this.normalBuyEpic(i,e,t.name)}}normalBuyEpic(e,t,n){m.jew>e[t]?(m.addJew(-e[t],1003),this.buyEpicAnimalSuccess(t,n)):"zj"==i.channel||("wx"==i.channel||"qq"==i.channel||"bd"==i.channel)&&Laya.Browser.onIOS?g.freeJewCtrl.showView():i.msg.show("钻石不足")}buyEpicAnimalSuccess(e,t){if("wx"==i.channel||"qq"==i.channel){let t={10:4,11:6,12:7,13:5};i.TmCtrl.instance.tmSendEvent("ys_gift"+t[e],{value:"完成"})}else if("oppo"==i.channel){let t={10:_.ys_gift4,11:_.ys_gift6,12:_.ys_gift7,13:_.ys_gift5};u.upload(t[e],4)}m.getAnimals(m.cfgAnimal[e].encId)&&m.getAnimals(m.cfgAnimal[e].encId).indexOf(e)<0&&(m.catchAnimal(e),i.msg.show("恭喜获得"+t))}initShop1(){let e=m.get("shop0Buy",[0,0,0,0,0,0,0,0]);8!=e.length&&(e=[e[0],e[1],0,0,0,0,0,e[3]],m.set("shop0Buy",e));let t=this._view.panel1.getChildAt(0);this._backSetting&&"qq"===i.channel&&Laya.Browser.onAndroid?(this._view.qqBox.visible=!0,t.height=2470):(this._view.qqBox.visible=!1,t.height=2160);for(let t=0;t<e.length;t++){let n=this._view["btn0"+t];if(n){let s=n.getChildAt(0).getChildByName("labelGold"),a=this._view["imgLight0"+t],o=n.getChildAt(0).getChildByName("imgLock"),h=this._view["jew"+(5+t)],l=function(e){n.disabled=e,o&&(o.visible=e),("wx"==i.channel||"qq"==i.channel||"bd"==i.channel)&&Laya.Browser.onAndroid||"oppo"==i.channel||"vivo"==i.channel||"bd"==i.channel?(h&&(h.visible=!1),s.visible=!e):(s.visible=!1,h&&(h.visible=!e)),a.visible=!e};e[t]>0?(a.visible=!1,n.disabled=!0,s.text="已购买",s.visible=!0,o&&(o.visible=!1),h&&(h.visible=!1)):(n.disabled=!1,2==t?m.shipLevel<2?l(!0):l(!1):3==t?m.shipLevel<5?l(!0):l(!1):4==t&&(m.shipLevel<9?l(!0):l(!1)))}}}initShop0(){let e,t=this._view.panel1.getChildAt(0),n=t.getChildAt(3);this._backSetting&&"qq"===i.channel&&Laya.Browser.onAndroid?(t.height=1230,n.visible=!0,n.getChildByName("btn").getChildAt(0).getChildByName("labelGold").text="1000 CNY",(e=m.get("shop0Buy",[0,0,0,0]))[3]=0,m.set("shop0Buy",e)):(t.height=920,n.visible=!1,e=m.get("shop0Buy",[0,0,0]));for(let i=0;i<t.numChildren;i++){let n=t.getChildAt(i).getChildByName("btn"),s=n.getChildAt(0).getChildByName("labelGold"),a=this._view["imgLight0"+i];e[i]>0?(a.visible=!1,n.disabled=!0,s.text="已购买"):n.disabled=!1}}onBuyGold(e){let t={0:[60,3e3],1:[90,6e3],2:[150,15e3]};if("wx"==i.channel){let s={0:[60,3e3],1:[80,6e3],2:[120,15e3]};if(Laya.Browser.onAndroid){let t=this;var n={mode:"game",offerId:"1450024208",platform:"android",currencyType:"CNY",buyQuantity:s[e][0],env:0,success:i=>{console.log(i),t.buyGoldSuccess(s[e][1])},fail:e=>{console.log(e),t.buyFail(e.errCode)}};let a={3000:8,6000:9,15000:10};i.TmCtrl.instance.tmSendEvent("ys_gift"+a[s[e][1]],{value:"点击"}),Laya.Browser.window.wx.requestMidasPayment(n)}else this.normalBuyGold(t[e])}else if("qq"==i.channel&&Laya.Browser.onAndroid){let t={0:8,1:9,2:10};i.TmCtrl.instance.tmSendEvent("ys_gift"+t[e],{value:"点击"}),this.qqPay(2,e)}else"bd"==i.channel&&Laya.Browser.onAndroid?this.bdPay(2,e):"oppo"==i.channel?(u.upload(_.ys_gift8+e,3),this.oppoPay(2,e)):"vivo"==i.channel?this.vivoPay(2,e):"hw"==i.channel?this.hwPay(2,e):this.normalBuyGold(t[e])}normalBuyGold(e){e&&m.jew&&m.jew>=e[0]?(m.addJew(-e[0],1006),this.buyGoldSuccess(e[1])):"zj"==i.channel||("wx"==i.channel||"qq"==i.channel||"bd"==i.channel)&&Laya.Browser.onIOS?g.freeJewCtrl.showView():i.msg.show("钻石不足")}buyGoldSuccess(e){if("wx"==i.channel||"qq"==i.channel){let t={3000:8,6000:9,9000:10};i.TmCtrl.instance.tmSendEvent("ys_gift"+t[e],{value:"完成"})}else i.channel;m.addGold(e,1012),i.msg.show("恭喜，购买成功")}onBuy(e){if("wx"==i.channel)if(Laya.Browser.onAndroid){let n=this;var t={mode:"game",offerId:"1450024208",platform:"android",currencyType:"CNY",buyQuantity:[10,30,80,120,180,250,500][e],env:0,success:t=>{console.log(t),n.buySuccess(e)},fail:e=>{console.log(e),n.buyFail(e.errCode)}};console.log(t),i.TmCtrl.instance.tmSendEvent("ys_gift"+(e+1),{value:"点击"}),Laya.Browser.window.wx.requestMidasPayment(t)}else this.normalBuy(e);else"qq"==i.channel&&Laya.Browser.onAndroid?(i.TmCtrl.instance.tmSendEvent("ys_gift"+(e+1),{value:"点击"}),this.qqPay(0,e)):"bd"==i.channel&&Laya.Browser.onAndroid?this.bdPay(0,e):"oppo"==i.channel?this.oppoPay(0,e):"vivo"==i.channel?this.vivoPay(0,e):"hw"===i.channel?this.hwPay(0,e):this.normalBuy(e)}hwPay(e,t){"-1"==i.uid?(i.eventBus.once("LOGINED",this,this.hwPay2,[e,t]),i.login("zoo")):this.hwPay2(e,t)}hwPay2(e,n){let s={0:[[1,"1000金币和象伯爵","fkdwy1"],[3,"5000金币和电子斑马","fkdwy2"],[8,"入门礼包","fkdwy22"],[12,"精英礼包","fkdwy21"],[18,"资深礼包","fkdwy20"],[25,"草原超值礼包","fkdwy18"],[50,"丛林超值礼包","fkdwy19"]],1:[[12,"摇钱牛","fkdwy7"],[6,"任务狂骡","fkdwy4"],[12,"复活渡鸦","fkdwy5"],[12,"幸运羔羊","fkdwy6"]],2:[[6,"3000金币","fkdwy8"],[9,"6000金币","fkdwy9"],[15,"15000金币","fkdwy10"]],3:[[6,"摇钱大礼包","fkdwy12"],[10,"复活大礼包","fkdwy11"]],4:[[1,"1元礼包","fkdwy13"]],5:[[6,"国庆礼包二","fkdwy15 "],[9,"国庆礼包三","fkdwy16"],[15,"国庆礼包四","fkdwy17"],[6,"国庆礼包五","fkdwy14"],[6,"国庆礼包六","fkdwy12"]]},a=new t;a.once(Laya.Event.ERROR,this,e=>{i.msg.show("拉起失败，请再试一次"),console.log("请求失败~",e)}),a.once(Laya.Event.COMPLETE,this,t=>{if(console.log("请求成功",t),0==t.code){let a=t.data;a.order_id&&Laya.Browser.window.superSDK.doPay&&(this._view.boxTip.visible=!0,this._view.boxTipContent.visible=!0,this._view.txtCheck.visible=!1,Laya.Browser.window.superSDK.doPay({orderid:a.order_id,itemsid:r,itemsname:s[e][n][1],amount:l,uopenid:i.uid}).success(function(e){"SUCCESS"===e?console.log("支付成功"):console.log("支付拉起失败")}).error(function(e,t){console.log("支付失败"),i.msg.hide()}))}else console.log("支付失败"),t&&t.msg?i.msg.show(t.msg):i.msg.show("支付拉起失败，请再试一次")});let o=i.uid,h=Math.floor(Laya.Browser.now()/1e3),l=s[e][n][0],r=s[e][n][2],p=(i.gid,s[e][n][1],i.sessionkey,Laya.LocalStorage.getItem("zoozyClient")),d="sha="+i.md5(i.md5(i.key+i.noice)+h+":"+p+"::"+i.noice)+"&noice="+i.noice+"&time="+h+"&client="+p;d=d+"&uid="+o+"&gid="+i.gid+"&game=zoo&produceName="+s[e][n][1]+"&price="+l,a.send("https://api.smartjoygames.com/zy/hwpay?"+d,"","get","json"),console.log("https://api.smartjoygames.com/zy/hwpay?"+d),i.msg.showFull2("正在拉起支付，请稍等",1e4)}hwPay3(e){Laya.systemTimer.clear(this,this.updateRequestTime),this._requestTime=e?30:6,this._duration=0,this._view.boxTipContent.visible=!1,this._view.txtCheck.visible=!0,this._view.txtCheck.text="正在查询订单，"+this._requestTime,this.checkOrder(),Laya.systemTimer.loop(1,this,this.updateRequestTime)}updateRequestTime(){this._duration+=i.timerManager.delta/1e3,this._duration>=1&&(this._requestTime-=Math.floor(this._duration),this._duration=0,this._view.txtCheck.text="正在查询订单，"+this._requestTime,this._requestTime<=0?(Laya.systemTimer.clear(this,this.updateRequestTime),this._view.boxTip.visible=!1):this.checkOrder())}checkOrder(){let e=new t;e.once(Laya.Event.ERROR,this,e=>{console.log("请求失败~",e)}),e.once(Laya.Event.COMPLETE,this,e=>{if(console.log("请求成功",e),0==e.code){if(console.log("订单查询成功 ==> 发货"),i.msg.hide(),Laya.systemTimer.clear(this,this.updateRequestTime),this._view.boxTip.visible=!1,e.data)for(let t=0;t<e.data.length;t++)this.giveAward(e.data[t].produceName)}else this._requestTime>0?console.log("订单查询失败"):(i.msg.hide(),console.log("查询时间已到,未查询到订单"))});let n=Math.floor(Laya.Browser.now()/1e3),s=Laya.LocalStorage.getItem("zoozyClient"),a="sha="+i.md5(i.md5(i.key+i.noice)+n+":"+s+"::"+i.noice)+"&noice="+i.noice+"&time="+n+"&client="+s;a=a+"&gid="+i.gid,e.send("https://api.smartjoygames.com/zy/hwZooSearch?"+a,"","get","json"),console.log("https://api.smartjoygames.com/zy/hwZooSearch?"+a)}normalBuy(e){let t=this._cost0[e];m.jew<t?"zj"==i.channel||("wx"==i.channel||"qq"==i.channel||"bd"==i.channel)&&Laya.Browser.onIOS?g.freeJewCtrl.showView():i.msg.show("钻石不足"):(m.addJew(-t,1006),this.buySuccess(e))}buyFail(e){1==e?i.msg.show("取消支付"):i.msg.show("支付失败")}buySuccess(e){let t;if(0==e){t=143,m.addGold(1e3,1009);let e=m.cfgAnimal[t];e.res;e&&(m.getAnimals(m.cfgAnimal[t].encId).indexOf(t)>-1||m.catchAnimal(t))}else if(1==e){t=126,m.addGold(5e3,1009);let e=m.cfgAnimal[t];e.res;e&&(m.getAnimals(m.cfgAnimal[t].encId).indexOf(t)>-1||m.catchAnimal(t))}else if(2==e){m.addGold(1e4,1009);let e=[163,184];for(let t=0;t<e.length;t++){let i=e[t];m.cfgAnimal[i]&&(m.getAnimals(m.cfgAnimal[i].encId).indexOf(i)>-1||m.catchAnimal(i))}}else if(3==e){m.addGold(2e4,1009);let e=[284,244,264];for(let t=0;t<e.length;t++){let i=e[t];m.cfgAnimal[i]&&(m.getAnimals(m.cfgAnimal[i].encId).indexOf(i)>-1||m.catchAnimal(i))}}else if(4==e){m.addGold(35e3,1009);let e=[325,365,345];for(let t=0;t<e.length;t++){let i=e[t];m.cfgAnimal[i]&&(m.getAnimals(m.cfgAnimal[i].encId).indexOf(i)>-1||m.catchAnimal(i))}}else if(5==e){m.addGold(4e4,1009);let e=this.getGrasslandsAnimals();for(let t=0;t<e.length;t++){let i=e[t];m.cfgAnimal[i]&&(m.getAnimals(m.cfgAnimal[i].encId).indexOf(i)>-1||m.catchAnimal(i))}}else if(6==e){m.addGold(1e5,1009);let e=this.getForestAnimals();for(let t=0;t<e.length;t++){let i=e[t];m.cfgAnimal[i]&&(m.getAnimals(m.cfgAnimal[i].encId).indexOf(i)>-1||m.catchAnimal(i))}}else if(7==e){m.addGold(888e3,1023),m.addJew(1e3,1015);let e=this.allAnimals();for(let t=0;t<e.length;t++){let i=e[t],n=m.cfgAnimal[i];i&&(m.getAnimals(n.encId).indexOf(i)>-1||m.catchAnimal(i))}}if("wx"==i.channel||"qq"==i.channel?i.TmCtrl.instance.tmSendEvent("ys_gift"+(e+1),{value:"完成"}):i.channel,i.msg.show("恭喜，购买成功"),e<7){let t=this._view["btn0"+e],i=t.getChildAt(0).getChildByName("labelGold");t.disabled=!0,i.text="已购买",i.visible=!0,this._view["jew"+(5+e)].visible=!1,this._view["imgLight0"+e].visible=!1;let n=m.get("shop0Buy",[0,0,0,0,0,0,0,0]);n[e]=1,m.set("shop0Buy",n)}}getForestAnimals(){let e=[],t=m.cfgSpawn;for(const i in t)if(Number(i)>1007&&Number(i)<=1014){let n=t[i].animal;for(let t=0;t<n.length;t++)e.push(n[t].id)}return e}getGrasslandsAnimals(){let e=[],t=m.cfgSpawn;for(const i in t)if(Number(i)<=1007){let n=t[i].animal;for(let t=0;t<n.length;t++)e.push(n[t].id)}return e}allAnimals(){let e=[],t=m.cfgAnimal;for(var i in t)"900"!=i&&"901"!=i&&"902"!=i&&"903"!=i&&e.push(i);return e}calcFreshIds(){let e=[],t=["lion8","gorilla8","llama8","emu8"],i=m.cfgSpawn;for(var n in i){let s=i[n].animal;for(let i=0;i<s.length;i++){let n=s[i];n.change<=0||(t.indexOf(n.name)>-1||n.hasOwnProperty("onlySpawnsIfPurchased")&&n.onlySpawnsIfPurchased||e.push(n.id))}}return e}onTabSelect(e){this._curTabSelect=e;for(let e=0;e<=4;e++){this._view.tab.getChildAt(e).skin="shop/shop"+e+"btn0.png"}this._view.tab.getChildAt(e).skin="shop/shop"+e+"btn1.png",this._view.vs.selectedIndex=e;let t=this._view["panel"+e];if(t.vScrollBar.value=0,0==e){let e=new Date;"zj"===i.channel&&m.get("nationalDay",[]).indexOf(e.getFullYear().toString()+e.getMonth().toString()+e.getDate().toString())<0&&i.reportEvent("ad_2gold",{value:"曝光"}),"zj"===i.channel&&i.reportEvent("flash_sales",{})}if(0!=e){let e=t.getChildAt(0);e.y=-200,Laya.Tween.to(e,{y:0},400,Laya.Ease.backOut,null,0,!1)}}init(){this._view.btn30.visible=this._view.btn31.visible=this._view.btn32.visible=this._view.btn33.visible=!1;let e=this._view.panel4.getChildAt(0);for(let t=0;t<e.numChildren;t++){let i=e.getChildAt(t),n=i.getChildByName("btnGray");new L(n,null,"main",-34,-23),n.disabled=!0,i.getChildByName("btnTry").visible=!1}let t=this._view.panel2.getChildAt(0);for(let e=0;e<t.numChildren;e++){let i=t.getChildAt(e);i.getChildByName("btnGray").visible=!1,i.getChildByName("btnTry").visible=!1}}updateView(e=3){this.init(),this.initShop1(),this._curTabSelect=e,this.onTabSelect(e),this.nationalDay()}nationalDay(){let e,t=Laya.Browser.now(),i=this._view.panel0.getChildAt(0);for(let e=0;e<i.numChildren;e++)i.getChildAt(e).visible=!1;if(t<=1602432e6){let i=Math.floor((1602432e6-t)/1e3),n=Math.floor(i/86400),s=Math.floor((i-60*n*60*24)/3600);this._view.LabelDay.text=n.toString(),this._view.LabelHour.text=s.toString(),e=this.checkShowBefore()}else{let i=Math.floor(172800-(t-1602432e6)/1e3%172800),n=Math.floor(i/172800),s=Math.floor((i-60*n*60*24)/86400),a=Math.floor((i-60*n*60*24-60*s*60*24)/3600);this._view.LabelDay.text=s.toString(),this._view.LabelHour.text=a.toString(),e=this.checkShowAfter(n)}for(let t in e)if(e.hasOwnProperty(t)){let n=i.getChildByName(e[t]);n.visible=!0,n.y=366*Number(t)+10*Number(t)}i.height=366*e.length+10*(e.length-1)}checkShowAfter(e){let t=new Date,i=[];m.get("nationalDay",[]).indexOf(t.getFullYear().toString()+t.getMonth().toString()+t.getDate().toString())<0&&(this._view.LabelGold.text="+"+Math.floor(.01*m.touristTicket[3]+500).toString(),i.push("gift1"));i.push(["gift2","gift3","gift4"][e%3]);let n=["gift5","gift6"];return e%2==0&&m.getAnimals(1e3)&&m.getAnimals(1e3).indexOf("12")<0?i.push(n[e%2]):e%2==1&&m.getAnimals(1e3)&&m.getAnimals(1e3).indexOf("10")<0&&i.push(n[e%2]),i}checkShowBefore(){let e=new Date,t=[];m.get("nationalDay",[]).indexOf(e.getFullYear().toString()+e.getMonth().toString()+e.getDate().toString())<0&&(this._view.LabelGold.text="+"+Math.floor(.01*m.touristTicket[3]+500).toString(),t.push("gift1")),t.push("gift3"),m.getAnimals(1e3)&&m.getAnimals(1e3).indexOf("10")>-1&&m.set("giftBull",1),m.getAnimals(1e3)&&m.getAnimals(1e3).indexOf("12")>-1&&m.set("giftSheep",1);let i=m.get("giftSheep",0),n=m.get("giftBull",0);return 0==i&&t.push("gift5"),0==n&&t.push("gift6"),t}onClickNation(e){if(0==e||1==e){let t=new Date,n=m.get("nationalDay",[]),s=t.getFullYear().toString()+t.getMonth().toString()+t.getDate().toString();n.indexOf(s)<0&&(0==e?(n.push(s),m.set("nationalDay",n),m.addGold(Math.floor(.01*m.touristTicket[3]+500),1028),this.nationalDay(),i.msg.show("领取成功~")):"wx"==i.channel||"qq"==i.channel||"zj"==i.channel||"bd"==i.channel?("zj"===i.channel&&i.reportEvent("ad_2gold",{value:"播放"}),i.ad.showVideoAd(this,this.doubleGain)):"vivo"==i.channel?i.ad.showVivoVideo(this,this.doubleGain):"oppo"==i.channel?i.ad.showOPPOVideo(this,this.doubleGain):"yl"===i.channel?i.ad.showVideoAd(this,this.doubleGain,i.ylAd.gift):"hw"===i.channel||"none"==i.channel&&this.doubleGain(!0))}else if(2==e||3==e||4==e||5==e||6==e)if(("wx"==i.channel||"qq"==i.channel||"bd"==i.channel)&&Laya.Browser.onAndroid||"oppo"==i.channel||"vivo"==i.channel||"hw"===i.channel){let t={2:0,3:1,4:2,5:3,6:4};"wx"==i.channel&&Laya.Browser.onAndroid?this.wxPay(t[e]):"qq"==i.channel&&Laya.Browser.onAndroid?this.qqPay(5,t[e]):"bd"==i.channel&&Laya.Browser.onAndroid?this.bdPay(5,t[e]):"vivo"==i.channel?this.vivoPay(5,t[e]):"oppo"==i.channel?this.oppoPay(5,t[e]):"hw"===i.channel&&this.hwPay(5,t[e])}else{let t={2:30,3:50,4:88,5:38,6:40};if(m.jew>=t[e]){let n={2:0,3:1,4:2,5:3,6:4};m.addJew(-t[e],1016),this.wxPaySuccess(n[e]),"zj"!=i.channel&&"none"!=i.channel||3!=e&&5!=e&&6!=e||(3==e?i.reportEvent("sales_buy",{value:1}):5==e?i.reportEvent("sales_buy",{value:2}):6==e&&i.reportEvent("sales_buy",{value:3}))}else i.msg.show("钻石不足")}}wxPay(e){let t=this;var i={mode:"game",offerId:"1450024208",platform:"android",currencyType:"CNY",buyQuantity:[60,80,120,60,60][e],env:0,success:i=>{console.log(i),t.wxPaySuccess(e)},fail:e=>{console.log(e),t.buyFail(e.errCode)}};console.log(i),Laya.Browser.window.wx.requestMidasPayment(i)}wxPaySuccess(e){0==e?(m.addGold(6e3,1028),i.msg.show("购买成功~")):1==e?(m.addGold(12e3,1028),i.msg.show("购买成功~")):2==e?(m.addGold(3e4,1028),i.msg.show("购买成功~")):3==e?(m.set("giftSheep",1),m.addGold(666,1028),(("wx"==i.channel||"qq"==i.channel||"bd"==i.channel)&&Laya.Browser.onAndroid||"oppo"==i.channel||"vivo"==i.channel)&&m.addJew(66,1016),m.getAnimals(1e3)&&m.getAnimals(1e3).indexOf("12")<0&&(m.catchAnimal("12"),i.msg.show("购买成功~可以前往栖息地查看"))):4==e&&(m.set("giftBull",1),m.addGold(1e3,1028),(("wx"==i.channel||"qq"==i.channel||"bd"==i.channel)&&Laya.Browser.onAndroid||"oppo"==i.channel||"vivo"==i.channel)&&m.addJew(10,1016),m.getAnimals(1e3)&&m.getAnimals(1e3).indexOf("10")<0&&(m.catchAnimal("10"),i.msg.show("购买成功~可以前往栖息地查看"))),this.nationalDay()}doubleGain(e){if(e){"zj"===i.channel&&i.reportEvent("ad_2gold",{value:"成功"});let e=new Date,t=m.get("nationalDay",[]),n=e.getFullYear().toString()+e.getMonth().toString()+e.getDate().toString();t.indexOf(n)<0&&(t.push(n),m.set("nationalDay",t),m.addGold(2*Math.floor(.01*m.touristTicket[3]+500),1028),i.msg.show("双倍领取成功~")),this.nationalDay()}}showShop(e,t=!0,n=!1){this._backZoo=t,this._backSetting=n,e=e>=100?0:e,"zoo"==this._sceneName&&i.stage.addChild(this._view,i.Layer.MIDDLE),Laya.timer.callLater(this,this.updateView,[e])}onBack(){this._backZoo?g.shipCtrl.backToShip("shop"):this._backSetting?g.settingCtrl.gameClub&&g.settingCtrl.gameClub.show():g.shipCtrl.backToShip(),this._view.removeSelf()}onClick(e){let t;switch(e.target){case this._view.btnPrev:t=(t=this._curTabSelect-1)<0?3:t,this.onTabSelect(t);break;case this._view.btnNext:t=(t=this._curTabSelect+1)>3?0:t,this.onTabSelect(t)}}vivoPay(e,t){"true"==i.isTourist?(i.eventBus.once("LOGINED",this,this.vivoPay2,[e,t]),i.login("zoo")):this.vivoPay2(e,t)}vivoPay2(e,n){let s={0:[[1,"1000金币和象伯爵"],[3,"5000金币和电子斑马"],[8,"入门礼包"],[12,"精英礼包"],[18,"资深礼包"],[25,"草原超值礼包"],[50,"丛林超值礼包"]],1:[[6,"摇钱牛"],[3,"任务狂螺"],[12,"复活渡鸦"],[6,"幸运羔羊"]],2:[[6,"3000金币"],[8,"6000金币"],[12,"15000金币"]],3:[[6,"摇钱大礼包"],[8,"复活大礼包"]],4:[[1,"1元礼包"]],5:[[6,"国庆礼包二"],[8,"国庆礼包三"],[12,"国庆礼包四"],[6,"国庆礼包五"],[6,"国庆礼包六"]]},a=new t,o=this;a.once(Laya.Event.ERROR,this,e=>{i.msg.show("拉起失败，请再试一次"),console.log("请求失败~",e)}),a.once(Laya.Event.COMPLETE,this,t=>{if(console.log("请求成功",t),0==t.code){let a=t.data;a&&window.qg.pay({orderInfo:a,success:function(t){console.log(JSON.stringify(t)),t.result?o.giveAward(s[e][n][1]):(console.log("拉起支付失败。。。。"),i.msg.show("支付拉起失败。"))},fail:function(e){i.msg.hide(),console.log("支付失败",JSON.stringify(e))}})}else t&&t.msg?i.msg.show(t.msg):i.msg.show("支付拉起失败，请再试一次")});let h=Math.floor(Laya.Browser.now()/1e3),l=s[e][n][1],r=100*s[e][n][0],p=i.token,d=Laya.LocalStorage.getItem("zoozyClient"),g="sha="+i.md5(i.md5(i.key+i.noice)+h+":"+d+"::"+i.noice)+"&noice="+i.noice+"&time="+h+"&client="+d;g=g+"&productName="+l+"&productDesc=游戏道具&orderAmount="+r+"&openId="+p,a.send("https://api.smartjoygames.com/zy/vivoPay?"+g,"","get","json"),i.msg.showFull2("正在拉起支付，请稍等",2e3)}qqPay(e,n){if("-1"==i.uid)return void i.msg.show("当前为游客模式，请登录之后充值~");let s={0:[[1,"1000金币和象伯爵","7086b176f2803c9aad575f07ccb4357a"],[3,"5000金币和电子斑马","cfeca79b4810c35c3c3655ff8b0d20b4"],[8,"入门礼包","a6c97235a809e6a249a9a250839f4e95"],[12,"精英礼包","3ea0b2c02576be4702854588faf70ca4"],[18,"资深礼包","6e0494443df865a870ef85f36fd0508d"],[25,"草原超值礼包","c24b2cff11063f98909d87f4d3b60999"],[50,"丛林超值礼包","ab80549a7beee8e91c3df4885e7fca3e"],[1e3,"888000元和1000钻石和所有动物","890802984ad73a3b28dab8c3707615fd"]],1:[[12,"摇钱牛","8971c1e13a623e896292b330c669e4b6"],[3,"任务狂螺","d5abebe0e11e4bd7e0b3c60a32d2498d"],[12,"复活渡鸦","70757a0f23b71578c6fe4fa30eba4ff4"],[12,"幸运羔羊","c4085ac5a833e9574bdbdd922a5e0d0a"]],2:[[6,"3000金币","8c09cfbb64403478a81ea1257920ece1"],[9,"6000金币","568b355d0a4e2cd667db9479b1fe7f00"],[15,"15000金币","5272d9e5ed91a742c184555bfd7c9e7b"]],3:[[6,"摇钱大礼包","570b97acf0774a01ab4a2cad6115d069"],[10,"复活大礼包","ce00ab98a1bcd9539f1cf9dee15b6495"]],4:[[1,"1元礼包","832637af6373977a122bd1bb3d0e4f1b"]],5:[[6,"国庆礼包二","70e92cd449cba298746b9acb810e835c "],[9,"国庆礼包三","f70e70c6c4de1fb20636a1b6903799e3"],[15,"国庆礼包四","cec8e31d4546eb57164a6702dcfef783"],[6,"国庆礼包五","bbe6df8ec5f0c3e0157a28d8fb0b2415"],[6,"国庆礼包六","570b97acf0774a01ab4a2cad6115d069"]]},a=this,o=new t;o.once(Laya.Event.ERROR,this,e=>{i.msg.show("拉起失败，请再试一次"),console.log("请求失败~",e)}),o.once(Laya.Event.COMPLETE,this,t=>{if(console.log("请求成功",t),0==t.code){let o=t.data;o.prepayId&&window.qq.requestMidasPayment({prepayId:o.prepayId,starCurrency:10*s[e][n][0],setEnv:0,success:function(t){console.log(JSON.stringify(t.data)),0==t.errCode?a.giveAward(s[e][n][1]):(console.log("拉起支付失败。。。。"),i.msg.show("支付拉起失败。"))},fail:function(e){i.msg.hide(),console.log(JSON.stringify(e))}})}else t&&t.msg?i.msg.show(t.msg):i.msg.show("支付拉起失败，请再试一次")});let h=i.uid,l=Math.floor(Laya.Browser.now()/1e3),r=10*s[e][n][0],p=s[e][n][2],d=i.gid+":"+s[e][n][1],g=i.sessionkey,c=Laya.LocalStorage.getItem("zoozyClient"),m="sha="+i.md5(i.md5(i.key+i.noice)+l+":"+c+"::"+i.noice)+"&noice="+i.noice+"&time="+l+"&client="+c;m=m+"&openid="+h+"&ts="+l+"&amt="+r+"&goodid="+p+"&app_remark="+d+"&session_key="+g,o.send("https://api.smartjoygames.com/zy/qqPay?"+m,"","get","json"),console.log("https://api.smartjoygames.com/zy/qqPay?"+m),i.msg.showFull2("正在拉起支付，请稍等",1e4)}bdPay(e,t){"true"==i.isTourist?(i.eventBus.once("LOGINED",this,this.bdPay2,[e,t]),i.login("zoo")):this.bdPay2(e,t)}bdPay2(e,n){if("-1"==i.uid)return void i.msg.show("当前为游客模式，请登录之后充值~");let s={0:[[1,"1000金币和象伯爵"],[3,"5000金币和电子斑马"],[8,"入门礼包"],[12,"精英礼包"],[18,"资深礼包"],[25,"草原超值礼包"],[50,"丛林超值礼包"]],1:[[12,"摇钱牛"],[3,"任务狂螺"],[12,"复活渡鸦"],[12,"幸运羔羊"]],2:[[6,"3000金币"],[9,"6000金币"],[15,"15000金币"]],3:[[6,"摇钱大礼包"],[10,"复活大礼包"]],4:[[1,"1元礼包"]],5:[[6,"国庆礼包二"],[8,"国庆礼包三"],[12,"国庆礼包四"],[6,"国庆礼包五"],[6,"国庆礼包六"]]},a=this,o=new t;o.once(Laya.Event.ERROR,this,e=>{i.msg.show("拉起失败，请再试一次"),console.log("请求失败~",e)}),o.once(Laya.Event.COMPLETE,this,t=>{if(console.log("请求成功",t),0==t.code){let o=JSON.parse(t.data);if(o&&o.tpOrderId){let t={dealId:"1124503129",appKey:"MMUwX2",totalAmount:100*s[e][n][0],tpOrderId:o.tpOrderId,dealTitle:s[e][n][1],signFieldsRange:1,rsaSign:o.sign};window.swan.requestPolymerPayment({orderInfo:t,success:function(t){console.log(JSON.stringify(t)),a.giveAward(s[e][n][1])},fail:function(e){i.msg.hide(),i.msg.show("支付失败"),console.log(JSON.stringify(e))}})}}else t&&t.msg?i.msg.show(t.msg):i.msg.show("支付拉起失败，请再试一次")});i.uid;let h=Math.floor(Laya.Browser.now()/1e3),l=100*s[e][n][0],r=(s[e][n][2],i.gid,s[e][n][1],i.sessionkey,Laya.LocalStorage.getItem("zoozyClient")),p="sha="+i.md5(i.md5(i.key+i.noice)+h+":"+r+"::"+i.noice)+"&noice="+i.noice+"&time="+h+"&client="+r;p=p+"&dealId=1124503129&appKey=MMUwX2&totalAmount="+l,o.send("https://api.smartjoygames.com/zy/bdpay?"+p,"","get","json"),console.log("https://api.smartjoygames.com/zy/bdPay?"+p),i.msg.showFull2("正在拉起支付，请稍等",1e4)}oppoPay(e,t){"true"==i.isTourist?(i.eventBus.once("LOGINED",this,this.oppoPay2,[e,t]),i.login("zoo")):this.oppoPay2(e,t)}oppoPay2(e,t){console.log("购买:"+e+","+t);let n={0:[[1,"1000金币和象伯爵"],[3,"5000金币和电子斑马"],[8,"入门礼包"],[12,"精英礼包"],[18,"资深礼包"],[25,"草原超值礼包"],[50,"丛林超值礼包"]],1:[[6,"摇钱牛"],[3,"任务狂螺"],[12,"复活渡鸦"],[6,"幸运羔羊"]],2:[[6,"3000金币"],[8,"6000金币"],[12,"15000金币"]],3:[[6,"摇钱大礼包"],[8,"复活大礼包"]],4:[[1,"1元礼包"]],5:[[6,"国庆礼包二"],[8,"国庆礼包三"],[12,"国庆礼包四"],[6,"国庆礼包五"],[6,"国庆礼包六"]]},s=this,a=new Laya.HttpRequest;a.http.timeout=5e3,a.once(Laya.Event.ERROR,this,e=>{i.msg.show("拉起失败失败，请再试一次"),console.log("请求失败~",e)}),a.once(Laya.Event.COMPLETE,this,a=>{if(console.log("请求成功",a),0==a.code){let o=a.data;o.paySign&&o.orderNo&&window.qg.pay({appId:30291945,token:i.uid,timestamp:Number(o.timestamp),paySign:o.paySign,orderNo:o.orderNo,success:function(a){console.log(JSON.stringify(a.data)),0==a.code&&a.orderId?(s._checkPayCnt=0,s.giveAward(n[e][t][1],a.orderId),s.postAward(a.orderId)):(console.log("拉起支付失败。。。。"),i.msg.show("支付拉起失败。"))},fail:function(e){i.msg.hide(),console.log(JSON.stringify(e))}})}else a&&a.msg?i.msg.show("需要登录账号才能购买哦"):i.msg.show("支付拉起失败，请再试一次")});let o=i.token,h=Laya.Browser.now(),l=n[e][t][1],r=100*n[e][t][0],p=i.gid;if(!o||o.length<1)return void i.msg.show("支付失败，请重启游戏后再试");let d=window.qg.getSystemInfoSync().platformVersionCode,g=Laya.LocalStorage.getItem("zoozyClient"),c="sha="+i.md5(i.md5(i.key+i.noice)+h+":"+g+"::"+i.noice)+"&noice="+i.noice+"&time="+h+"&client="+g;c=c+"&appId=0&openId="+o+"&timestamp="+h+"&sign=0&productName="+l+"&productDesc=游戏道具&count=1&price="+r+"&currency=CNY&attach="+p+"&cpOrderId=0&appVersion=2&engineVersion="+d,a.send("https://api.smartjoygames.com/zy/oppoPay?"+c,"","get","json"),console.log("https://api.smartjoygames.com/zy/oppoPay?"+c),i.msg.showFull2("正在拉起支付，请稍等",1e4)}onPostAwardComplete(e,t){if(console.log("支付成功:orderId="+e),console.log(t),0==t.code&&t.data.produceName)return i.msg.hide(),this.oppoPayComplete(e),void(this._checkComCnt=0);if(1001==t.code);else{if(1002==t.code)return void i.msg.show("你已经领取过了");1003==t.code||1004==t.code||t.code}this._checkPayCnt<8?Laya.systemTimer.once(1e3,this,this.postAward,[e]):i.msg.show("订单异常，请截图联系客服:"+t.code,1e4)}onPostAwardError(e,t){console.log("检查订单状态请求失败"),this._checkPayCnt<8?this.postAward(e):i.msg.show("充值未到账，请联系客服。")}postAward(e){console.log("准备查询订单:"+e+",retry="+this._checkPayCnt),this._payResultHttp&&this._payResultHttp.offAllCaller(this);let t=this._payResultHttp=new Laya.HttpRequest;t.http.timeout=5e3,t.once(Laya.Event.ERROR,this,this.onPostAwardError,[e]),t.once(Laya.Event.COMPLETE,this,this.onPostAwardComplete,[e]);let n=Laya.Browser.now(),s=Laya.LocalStorage.getItem("zoozyClient"),a="/oppoAward?sha="+i.md5(i.md5(i.key+i.noice)+n+":"+s+"::"+i.noice)+"&noice="+i.noice+"&time="+n+"&client="+s;a+="&orderId="+e,t.send("https://api.smartjoygames.com/zy"+a,"","get","json"),console.log("https://api.smartjoygames.com/zy"+a),this._checkPayCnt++}giveAward(e,t){let i={"1000金币和象伯爵":[0,0],"5000金币和电子斑马":[0,1],"入门礼包":[0,2],"精英礼包":[0,3],"资深礼包":[0,4],"草原超值礼包":[0,5],"丛林超值礼包":[0,6],"888000元和1000钻石和所有动物":[0,7],"摇钱牛":[1,0],"任务狂螺":[1,1],"复活渡鸦":[1,2],"幸运羔羊":[1,3],"3000金币":[2,0],"6000金币":[2,1],"15000金币":[2,2],"摇钱大礼包":[3,0],"复活大礼包":[3,1],"1元礼包":[4,0],"国庆礼包二":[5,0],"国庆礼包三":[5,1],"国庆礼包四":[5,2],"国庆礼包五":[5,3],"国庆礼包六":[5,4]},n=i[e][0],s=i[e][1];if(0==n)this.buySuccess(s);else if(1==n){let e=[10,13,11,12],t=m.cfgAnimal[e[s]];this.buyEpicAnimalSuccess(e[s],t.name)}else if(2==n){let e=[3e3,6e3,15e3];this.buyGoldSuccess(e[s])}else if(3==n){let e=["10","11"];this.buyGiftBagSuccess(e[s])}else 4==n?this.buyOneDollarSuccess():5==n&&this.wxPaySuccess(s);t&&m.updateOrder(t,e)}onCompleteError(e,t){console.log("检查订单状态请求失败"),this._checkComCnt<8?this.postAward(e):i.msg.show("充值未到账，请联系客服。")}onCompleteSucess(e,t){console.log("数据修改:orderId="+e),console.log(t),0==t.code&&t.data.produceName?i.msg.hide():this._checkComCnt<8?Laya.systemTimer.once(1e3,this,this.oppoPayComplete,[e]):console.log("数据修改异常"+t.code)}oppoPayComplete(e){let t=this._payResultHttp=new Laya.HttpRequest;t.http.timeout=5e3,t.once(Laya.Event.ERROR,this,this.onCompleteError,[e]),t.once(Laya.Event.COMPLETE,this,this.onCompleteSucess,[e]);let n=Laya.Browser.now(),s=Laya.LocalStorage.getItem("zoozyClient"),a="/oppoPayComplete?sha="+i.md5(i.md5(i.key+i.noice)+n+":"+s+"::"+i.noice)+"&noice="+i.noice+"&time="+n+"&client="+s;a+="&orderId="+e+"&gid="+i.gid,t.send("https://api.smartjoygames.com/zy"+a,"","get","json"),console.log("https://api.smartjoygames.com/zy"+a),this._checkComCnt++}buyGiftBag(e){let t=m.cfgAnimal[e],n={10:60,11:80};if(t)if(-1!=m.getAnimals(1e3).indexOf(e))i.msg.show("你已经拥有"+t.name+"了");else if("wx"==i.channel){if(Laya.Browser.onAndroid){"wx"==i.channel&&("11"==e?i.TmCtrl.instance.tmSendEvent("ys_package2",{value:"点击"}):"10"==e&&i.TmCtrl.instance.tmSendEvent("ys_package1",{value:"点击"}));let t=this;var s={mode:"game",offerId:"1450024208",platform:"android",currencyType:"CNY",buyQuantity:n[e],env:0,success:i=>{console.log(i),t.buyGiftBagSuccess(e)},fail:e=>{console.log(e),t.buyFail(e.errCode)}};Laya.Browser.window.wx.requestMidasPayment(s)}}else"qq"==i.channel&&Laya.Browser.onAndroid?"10"==e?(i.TmCtrl.instance.tmSendEvent("ys_package1",{value:"点击"}),this.qqPay(3,0)):"11"==e&&(i.TmCtrl.instance.tmSendEvent("ys_package2",{value:"点击"}),this.qqPay(3,1)):"bd"==i.channel&&Laya.Browser.onAndroid?"10"==e?this.bdPay(3,0):"11"==e&&(g.gameCtrl.firstTime&&i.reportEvent("rebornbuy"),this.bdPay(3,1)):"oppo"==i.channel?"10"==e?this.oppoPay(3,0):"11"==e&&(g.gameCtrl.firstTime&&i.channel,this.oppoPay(3,1)):"vivo"==i.channel?"10"==e?this.vivoPay(3,0):"11"==e&&this.vivoPay(3,1):"hw"==i.channel&&("10"===e?this.hwPay(3,0):"11"===e&&this.hwPay(3,1))}buyGiftBagSuccess(e){"wx"==i.channel||"qq"==i.channel?"11"==e?i.TmCtrl.instance.tmSendEvent("ys_package2",{value:"成功"}):"10"==e&&i.TmCtrl.instance.tmSendEvent("ys_package1",{value:"成功"}):i.channel,"10"==e?(m.addGold(1e3,1018),m.addJew(10,1011),m.getAnimals(1e3)&&m.getAnimals(1e3).indexOf("10")<0&&(m.catchAnimal("10"),i.msg.show("购买成功~可以前往栖息地查看"))):"11"==e&&(m.addGold(2e3,1019),m.getAnimals(1e3)&&m.getAnimals(1e3).indexOf("11")<0&&(m.catchAnimal("11"),i.msg.show("购买成功~可以前往栖息地查看"))),g.giftbagCtrl.btnThanks()}buyOneDollar(){if("wx"==i.channel){if(Laya.Browser.onAndroid){i.TmCtrl.instance.tmSendEvent("ys_Oneyuanspree",{value:"点击"});let t=this;var e={mode:"game",offerId:"1450024208",platform:"android",currencyType:"CNY",buyQuantity:10,env:0,success:e=>{console.log(e),t.buyOneDollarSuccess()},fail:e=>{console.log(e),t.buyFail(e.errCode)}};Laya.Browser.window.wx.requestMidasPayment(e)}}else"qq"==i.channel&&Laya.Browser.onAndroid?(i.TmCtrl.instance.tmSendEvent("ys_Oneyuanspree",{value:"点击"}),this.qqPay(4,0)):"bd"==i.channel&&Laya.Browser.onAndroid?this.bdPay(4,0):"oppo"==i.channel?this.oppoPay(4,0):"vivo"==i.channel?this.vivoPay(4,0):"hw"==i.channel?this.hwPay(4,0):"none"==i.channel&&this.giveAward("1元礼包")}buyOneDollarSuccess(){"qq"!=i.channel&&"wx"!=i.channel||i.TmCtrl.instance.tmSendEvent("ys_Oneyuanspree",{value:"完成"}),m.addGold(1e3,1020),m.addJew(20,1012),m.set("dollar_fh",3),m.set("dollar_start",3),m.set("dollar",1),g.onedollarctrl.onBack(),i.msg.show("恭喜你，购买成功！")}tmLog(e,t){if("wx"==i.channel){let e,t=wx.getSystemInfoSync();console.log(JSON.stringify(t)),e=Laya.Browser.onAndroid?3:Laya.Browser.onIOS?2:1;let n,s=t.brand,a=t.model,o="";wx.getNetworkType({success(e){o=e.networkType}});let h=wx.getLaunchOptionsSync();h&&h.scene&&(n=h.scene);i.uid}}}g.shopCtrl=new Te;class Be extends Laya.EventDispatcher{constructor(e,t=-40,i=-28){super(),this._status=0,this._upDistance=t,this._downDistance=i,this._btn=e,this._skin=e.getChildAt(0),this._skin.on(Laya.Event.MOUSE_DOWN,this,this.mouseDownHandler),this._skin.on(Laya.Event.CLICK,this,this.mouseClick)}clear(){this._skin.offAllCaller(this),this._btn.offAllCaller(this),Laya.stage.offAllCaller(this),this._skin=null,this._btn=null,this._status=null}mouseClick(e){this._skin.off(Laya.Event.MOUSE_OUT,this,this.mouseUpHandler),this._curY==this._upDistance?this._skin.y=this._downDistance:this._skin.y=this._upDistance,e.stopPropagation(),this.event("click")}mouseDownHandler(e){this._skin.on(Laya.Event.MOUSE_OUT,this,this.mouseUpHandler),this._curY=this._skin.y,this._skin.y=this._downDistance,e.stopPropagation()}mouseUpHandler(e){this._skin.y=this._upDistance,e.stopPropagation()}}class Ge extends i.BaseCtrl{constructor(){super(),this._showHat=!1}start(){super.start(),this.bindAssets("res/atlas/hat.atlas",Laya.Loader.ATLAS,"zoo")}beforeEnterScene(e){"zoo"==this._sceneName&&(this._btnSure.off("click",this,this.onBack),this._btnSure.clear(),this._btnClothDown.clear(),this._btnClothUp.clear(),this._btnColorDown.clear(),this._btnColorUp.clear(),this._btnDesignPlayer.clear(),this._btnGear.clear(),this._btnHat.clear(),this._btnMan.clear(),this._btnWoman.clear(),this._btnSure=null,this._btnClothDown=null,this._btnClothUp=null,this._btnColorDown=null,this._btnColorUp=null,this._btnDesignPlayer=null,this._btnGear=null,this._btnHat=null,this._btnMan=null,this._btnWoman=null,"vivo"==i.channel&&ve.clearAd("abea873d8eef4a7d904c27e005acebea"),this._view.removeSelf(),this._view.destroy(!0),this._view=null)}createChildren(e){"zoo"==e&&(this._view||(this._view=new n.main.DesignPlayerUI,this._btnSure=new L(this._view.btnSure),this._btnClothDown=new L(this._view.btnClothDown),this._btnClothUp=new L(this._view.btnClothUp),this._btnColorDown=new L(this._view.btnClothDown),this._btnColorUp=new L(this._view.btnColorUp),this._btnDesignPlayer=new L(this._view.btnDesignPlayer),this._btnGear=new L(this._view.btnGear),this._btnHat=new Be(this._view.btnHat),this._btnMan=new Be(this._view.btnMan),this._btnWoman=new Be(this._view.btnWoman)),this._view.on(Laya.Event.CLICK,this,this.onClick),this._btnSure.on(Laya.Event.CLICK,this,this.openBox0),this._btnDesignPlayer.on(Laya.Event.CLICK,this,this.openBox1),this._btnGear.on(Laya.Event.CLICK,this,this.onBack),this._btnHat.on(Laya.Event.CLICK,this,this.onClickHat),this._btnMan.on(Laya.Event.CLICK,this,this.onChangeSex,[1]),this._btnWoman.on(Laya.Event.CLICK,this,this.onChangeSex,[2]),this._btnClothUp.on(Laya.Event.CLICK,this,this.onChangeClothing,["up"]),this._btnColorDown.on(Laya.Event.CLICK,this,this.onChangeClothing,["down"]))}onChangeClothing(e){g.shipCtrl.changeClothes(e)}onChangeSex(e){this._curSex=e;let t=this._view.btnMan.getChildAt(0),i=this._view.btnWoman.getChildAt(0);1==e?(t.y=-28,i.y=-40):2==e&&(t.y=-40,i.y=-28),g.shipCtrl.changeSex(e)}onClickHat(){let e=this._view.btnHat.getChildAt(0);this._showHat?(this._showHat=!1,e.y=-40,this._view.imgHat.skin="hat/img_topup.png",g.shipCtrl.showHat(!1)):(this._showHat=!0,e.y=-28,this._view.imgHat.skin="hat/img_topdown.png",g.shipCtrl.showHat(!0))}openBox0(){this._view.box0.visible=!0,this._view.box1.visible=!1,g.shipCtrl.camMoveHat(0),this._view.imgBtnHat.visible=!0,this._view.imgBtnHat.y=30+i.stage.notchHeight,"oppo"==i.channel&&(i.ad.showQGbanner(0),this._view.box2.bottom=i.ad.bannerHeight)}openBox1(){"oppo"!=i.channel&&"zj"!=i.channel||i.ad.hideBanner(),this._view.box0.visible=!1,this._view.box1.visible=!0,1==this._view.imgBtnHat.visible&&this._showHat?g.shipCtrl.camMoveHat(1,!0):g.shipCtrl.camMoveHat(1,!1)}updateView(){this._view.box0.visible=!0,this._view.box1.visible=!1,this.onChangeSex(1),g.shipCtrl.addEventHats();let e=m.hats,t=m.cfgHats,n=Object.keys(t).length;this._view.labelAmount.text=e.length+"/"+n,this._view.labelAmount.y=30+i.stage.notchHeight,"oppo"==i.channel?(i.ad.showQGbanner(0),this._view.box2.bottom=i.ad.bannerHeight):"zj"==i.channel&&(i.ad.showTTBanner(0),this._view.box2.bottom=i.ad.bannerHeight)}showHatBtn(e){e>0?(this._view.imgBtnHat.visible=!0,this._view.imgBtnHat.y=30+i.stage.notchHeight):this._view.imgBtnHat.visible=!1}changeName(e,t){m.hats.indexOf(t)<0&&"100"!=t?(e="???",this._view.labelTip.visible=!0,"zj"==i.channel&&this._view.labelName.on(Laya.Event.CLICK,this,this.zjCd)):(this._view.labelName.off(Laya.Event.CLICK,this,this.zjCd),this._view.labelTip.visible=!1),this._view.labelName.text=e}zjCd(e){this._clickNum||(this._clickNum=0),this._clickNum+=1,1==this._clickNum?(this._clickTime=Laya.Browser.now(),Laya.timer.once(600,this,()=>{this._clickNum=null,this._clickTime=null})):3==this._clickNum&&Laya.Browser.now()-this._clickTime<=600&&(m.zjCdHat(),g.shipCtrl.zjCdHat(),this._view.labelName.off(Laya.Event.CLICK,this,this.zjCd),i.msg.show("surprised!"))}showHat(){"zoo"==this._sceneName&&i.stage.addChild(this._view,i.Layer.MIDDLE),Laya.timer.callLater(this,this.updateView),Laya.timer.once(1e3,this,()=>{"qq"==i.channel||"wx"==i.channel?i.ad.showInsertAd():"zj"==i.channel?i.ad.showZjInsertAd():"vivo"==i.channel?ve.showAsBanner2("abea873d8eef4a7d904c27e005acebea",this._view.vivoActive):i.channel})}onBack(){"oppo"!=i.channel&&"zj"!=i.channel||i.ad.hideBanner(),g.shipCtrl.backToShip("hat"),this._view.removeSelf()}onClick(e){e.target}}g.hatCtrl=new Ge;class Ee extends i.BaseCtrl{constructor(){super(),this._signDouble=!0,this._curIndex=0,this._signCfg=[{icon:"setting/img_icon_1.png",label:"X20",doubleLabel:"X40",color:"#ffffff",type:1,amount:20},{icon:"setting/img_icon_1.png",label:"X30",doubleLabel:"X60",color:"#ffffff",type:3,amount:30},{icon:"setting/img_icon_0.png",label:"X2",doubleLabel:"X4",color:"#ffffff",type:2,amount:2},{icon:"setting/img_icon_1.png",label:"X40",doubleLabel:"X80",color:"#ffffff",type:1,amount:40},{icon:"setting/img_icon_1.png",label:"X66",doubleLabel:"X132",color:"#ffffff",type:1,amount:66},{icon:"setting/img_icon_1.png",label:"X88",doubleLabel:"X176",color:"#ffffff",type:1,amount:88}],this._day7={label0:"X100",doubleLabel0:"X200",label1:"X5",doubleLabel1:"X10",color:"#ffffff",amount0:100,amount1:5},this.SLIDER_WID=627}start(){super.start(),this.bindAssets("res/atlas/setting.atlas",Laya.Loader.ATLAS,"zoo"),this.bindAssets("res/atlas/btn.atlas",Laya.Loader.ATLAS,"zoo")}beforeEnterScene(e){"zoo"==this._sceneName&&(Laya.timer.clearAll(this),this._view.off(Laya.Event.CLICK,this,this.onClick),this._view.btnSlider.off(Laya.Event.MOUSE_DOWN,this,this.sliderDown),this._btnStart.off(Laya.Event.CLICK,this,this.onGameStart),this._btnBack.off(Laya.Event.CLICK,this,this.onBack),this._btnSet.off(Laya.Event.CLICK,this,this.updateView),this._btnShop.off(Laya.Event.CLICK,this,this.showShop),this._btnJinDu.off(Laya.Event.CLICK,this,this.updateView),this._btnRenwu.off(Laya.Event.CLICK,this,this.updateView),this._btnCloseKf.off(Laya.Event.CLICK,this,this.closeKf),this._btnCopy.off(Laya.Event.CLICK,this,this.btnCopy),this._btnCopyId.off(Laya.Event.CLICK,this,this.btnCopyId),this._view.btnNormal.off(Laya.Event.CLICK,this,this.normal),this._btnStart.clear(),this._btnStart=null,this._btnBack.clear(),this._btnBack=null,this._btnSet.clear(),this._btnSet=null,this._btnShop.clear(),this._btnShop=null,this._btnJinDu.clear(),this._btnJinDu=null,this._btnRenwu.clear(),this._btnRenwu=null,this._btnAd0.clear(),this._btnAd0=null,this._btnAd1.clear(),this._btnAd1=null,this._btnAd2.clear(),this._btnAd2=null,this._btnKf.clear(),this._btnKf=null,this._btnTipClose.clear(),this._btnTipClose=null,this._btnSignGain.clear(),this._btnSignGain=null,this._btnSignBack.clear(),this._btnSignBack=null,this._btnZhiZuo.clear(),this._btnZhiZuo=null,this._btnMore.clear(),this._btnMore=null,this._btnYinXiao.clear(),this._btnYinXiao=null,this._btnYinYue.clear(),this._btnYinYue=null,this._btnYinYing.clear(),this._btnYinYing=null,this._btnShengDian.clear(),this._btnShengDian=null,this._btnCopyId.clear(),this._btnCopyId=null,this._animal=null,this._btnCode.clear(),this._btnCode=null,this._btnCodeSure.clear(),this._btnCodeSure=null,this._btnCodeBack.clear(),this._btnCodeBack=null,this._rewardData=null,this._animalIds&&this._animalIds.splice(0),this._animalIds=null,this._animalIndex=null,"vivo"==i.channel&&ve.clearAd("abea873d8eef4a7d904c27e005acebea"),this._view.removeSelf(),this._view.destroy(!0),this._view=null)}createChildren(e){"zoo"==e&&(this._view||(this._view=new n.main.SettingUI,this._btnStart=new L(this._view.btnStart,null,null,-92,-70),this._btnBack=new L(this._view.btnBack),this._btnSet=new L(this._view.btnSet),this._btnShop=new L(this._view.btnShop),this._btnJinDu=new L(this._view.btnJinDu),this._btnRenwu=new L(this._view.btnRenwu),this._btnZhiZuo=new L(this._view.btnZhiZuo),this._btnMore=new L(this._view.btnMore),this._btnYinXiao=new L(this._view.btnYinXiao),this._btnYinYue=new L(this._view.btnYinYue),this._btnYinYing=new L(this._view.btnYinYing),this._btnShengDian=new L(this._view.btnShengDian),this._btnSignBack=new L(this._view.btnSignBack),this._btnSignGain=new L(this._view.btnSignGain),this._btnTipClose=new L(this._view.btnCloseTip),this._btnCloseKf=new L(this._view.btnClose),this._btnAtt=new L(this._view.btnAtt),this._btnKf=new L(this._view.btnKf),this._btnCopy=new L(this._view.btnCopy,null,null,-26,-18),this._btnCopyId=new L(this._view.btnCopyId,null,null,-26,-18),this._btnAd0=new L(this._view.btnAd0,null,null,-92,-70),this._btnAd1=new L(this._view.btnAd1,null,null,-92,-70),this._btnAd2=new L(this._view.btnAd2,null,null,-92,-70),this._btnCode=new L(this._view.btnCode),this._btnCodeSure=new L(this._view.btnSure,null,null,-29,-21),this._btnCodeBack=new L(this._view.btnCodeBack,null,null,-29,-21)),this._view.on(Laya.Event.CLICK,this,this.onClick),this._view.btnSlider.on(Laya.Event.MOUSE_DOWN,this,this.sliderDown),this._btnStart.on(Laya.Event.CLICK,this,this.onGameStart),this._btnBack.on(Laya.Event.CLICK,this,this.onBack),this._btnSet.on(Laya.Event.CLICK,this,this.updateView,[3]),this._btnShop.on(Laya.Event.CLICK,this,this.showShop),this._btnJinDu.on(Laya.Event.CLICK,this,this.updateView,[2]),this._btnRenwu.on(Laya.Event.CLICK,this,this.updateView,[1]),this._view.mouseThrough=!1,this._view.panel.mouseEnabled=!0,this._view.panel.vScrollBarSkin="",this._view.panel.vScrollBar.elasticDistance=200,this._view.panel.vScrollBar.rollRatio=.97,this._btnAd0.on(Laya.Event.CLICK,this,this.playAd,[0]),this._btnAd1.on(Laya.Event.CLICK,this,this.playAd,[1]),this._btnAd2.on(Laya.Event.CLICK,this,this.playAd,[2]),this._view.btnNormal.on(Laya.Event.CLICK,this,this.normal),this._btnYinXiao.on(Laya.Event.CLICK,this,this.setYinXiao),this._btnYinYue.on(Laya.Event.CLICK,this,this.setYinYue),this._btnKf.on(Laya.Event.CLICK,this,this.updateView,[5]),this._btnAtt.on(Laya.Event.CLICK,this,this.openAtt),this._btnSignBack.on(Laya.Event.CLICK,this,this.vivoBack),this._btnSignGain.on(Laya.Event.CLICK,this,this.signGain),this._btnTipClose.on(Laya.Event.CLICK,this,this.hideTip),this._view.btnSignDouble.on(Laya.Event.CLICK,this,this.signDouble),this._btnCloseKf.on(Laya.Event.CLICK,this,this.closeKf),this._btnCopy.on(Laya.Event.CLICK,this,this.btnCopy),this._btnCopyId.on(Laya.Event.CLICK,this,this.btnCopyId),this._btnCode.on(Laya.Event.CLICK,this,this.updateView,[6]),this._btnCodeSure.on(Laya.Event.CLICK,this,this.onBtnCodeSure),this._btnCodeBack.on(Laya.Event.CLICK,this,this.onBtnCodeBack))}afterEnterScene(e){"zoo"==e&&this.showWxGreen()}normal(){this._signDouble=!1,this.signGain()}onBtnCodeSure(){console.log("发放奖励"),8!=this._view.inputCDK.text.length&&i.msg.show("兑换码输入不合法!");let e=new Laya.HttpRequest;e.http.timeout=5e3,e.once(Laya.Event.ERROR,this,e=>{this._view.btnSure.mouseEnabled=!0}),e.once(Laya.Event.COMPLETE,this,e=>{console.log(e),this._view.btnSure.mouseEnabled=!0,0==e.code?(this._rewardData=JSON.parse(e.data),this.showReward()):1105==e.code?i.msg.show("您已经领取过奖励！"):i.msg.show("兑换码不正确!")});let t=Laya.LocalStorage.getItem("zoozyClient"),n=Math.floor(Laya.Browser.now()/1e3),s="sha="+i.md5(i.md5(i.key+i.noice)+n+":"+t+"::"+i.noice)+"&noice="+i.noice+"&time="+n+"&client="+t;s="https://api.smartjoygames.com/zy/"+(s="useCdKey?"+s+"&channel="+i.channel+"&cdKey="+this._view.inputCDK.text+"&gid="+i.gid),console.log(s),e.send(s,"","get","json"),this._view.btnSure.mouseEnabled=!1}showReward(){if(!this._rewardData)return;if(""!=this._rewardData.animal&&(this._animalIds=this._rewardData.animal.split(","),this._animalIndex=0),this._animalIds)for(let e=0;e<this._animalIds.length;e++){let t=Number(this._animalIds[e]);m.getAnimals(m.cfgAnimal[t].encId)&&m.getAnimals(m.cfgAnimal[t].encId).indexOf(t)<0&&m.catchAnimal(t)}let e=this._view.boxTip;if(e.visible=!0,this._rewardData.gold>0&&this._rewardData.jew>0){m.addGold(this._rewardData.gold,1021),m.addJew(this._rewardData.jew,1013);let t=e.getChildByName("day7");t.visible=!0;let i=e.getChildByName("icon"),n=e.getChildByName("label");i.visible=n.visible=!1;let s=t.getChildByName("label0"),a=t.getChildByName("label1");s.text="x"+this._rewardData.gold,a.text="x"+this._rewardData.jew}else{e.getChildByName("day7").visible=!1;let t=e.getChildByName("icon"),i=e.getChildByName("label");if(t.visible=i.visible=!0,this._rewardData.gold>0)m.addGold(this._rewardData.gold,1021),t.skin="setting/img_icon_1.png",i.text="x"+this._rewardData.gold;else if(this._rewardData.jew>0)m.addJew(this._rewardData.jew,1013),t.skin="setting/img_icon_0.png",i.text="x"+this._rewardData.jew;else if(this._animalIds&&this._animalIds.length>0){let e=Number(this._animalIds[0]),n=m.cfgAnimal[e].res;n=(n=n.replace(".lh","")).replace("game/Conventional/",""),t.skin="icons/"+n+".png",i.visible=!1,this._animalIndex++}}}onBtnCodeBack(){this._view.boxCode.visible=!1,this.updateView(0)}btnCopyId(){let e;"wx"===i.channel?e=wx:"zj"===i.channel?e=window.tt:"oppo"===i.channel||"vivo"==i.channel?e=window.qg:"qq"===i.channel?e=window.qq:"bd"===i.channel&&(e=window.swan);let t=String(i.gid);e.setClipboardData({data:t,success(e){i.msg.show("复制成功")}})}btnCopy(){let e;"wx"===i.channel?e=wx:"zj"===i.channel?e=window.tt:"oppo"===i.channel||"vivo"==i.channel?e=window.qg:"qq"===i.channel?e=window.qq:"bd"===i.channel&&(e=window.swan),"wx"===i.channel||"zj"===i.channel||"qq"==i.channel||"bd"==i.channel?e.setClipboardData({data:"770138159",success(e){i.msg.show("复制成功")}}):"oppo"!=i.channel&&"vivo"!=i.channel||e.setClipboardData({data:"3231388893",success(e){i.msg.show("复制成功")}})}closeKf(){this._view.kefu.visible=!1,this.updateView(0)}openAtt(){g.settingCtrl.gameClub&&g.settingCtrl.gameClub.hide(),g.attentionCtrl.showView()}setYinXiao(){let e=this._view.btnYinXiao.getChildAt(0).getChildByName("gou"),t=e.visible;console.log("[for test]音效修改为",!t),e.visible=!t,i.sound.bSound=!t,m.set("sound",!t),t?i.sound.stopSound():i.sound.playSound("audioGame/Amb_Airship.mp3",0)}setYinYue(){let e=this._view.btnYinYue.getChildAt(0).getChildByName("gou"),t=e.visible;console.log("[for test]音乐修改为",!t),e.visible=!t,i.sound.bMusic=!t,m.set("music",!t),t?i.sound.stopMusic():i.sound.playMusic("audioGame/Music_Zoo.mp3")}initYinXiao(){let e=m.get("sound",!0);this._view.btnYinXiao.getChildAt(0).getChildByName("gou").visible=e}initYinYue(){let e=m.get("music",!0);this._view.btnYinYue.getChildAt(0).getChildByName("gou").visible=e}signGain(){0==m.get("hasSignin",0)&&(this._signDouble?"wx"==i.channel?i.ad.showVideoAd(this,this.signGain2,i.wxAd.signin,"ad_signIn"):"vivo"==i.channel?i.ad.showVivoVideo(this,this.signGain2,i.vivoAd.signin,"ad_signIn"):"oppo"==i.channel?i.ad.showOPPOVideo(this,this.signGain2,_.ad_signIn):"yl"===i.channel?i.ad.showVideoAd(this,this.signGain2,i.ylAd.signin):i.ad.showVideoAd(this,this.signGain2,0,"ad_signIn"):(m.set("hasSignin",1),m.setDailyTask(0,1),this.setSignin()))}signGain2(e){e?(m.setDailyTask(6,1),"wx"==i.channel||"qq"==i.channel?i.TmCtrl.instance.tmSendEvent("ad_signIn",{value:"完成"}):"zj"==i.channel?i.reportEvent("ad_signIn",{value:"完成"}):i.channel,m.set("hasSignin",1),m.setDailyTask(0,1),this.setSignin()):g.videoTipCtrl.showTips(),"vivo"==i.channel&&i.sound.playMusic("audioGame/Music_Zoo.mp3")}signDouble(){let e=this._view.btnSignDouble.getChildAt(0),t=this._view.imgShowAd;e.visible=!e.visible,t.visible=!t.visible,this._signDouble=e.visible}playAd(e){g.taskCtrl.changeTask(3)||i.msg.show("一天最多更换三次任务"),this.updateTask()}showShop(){this.gameClub&&this.gameClub.hide(),g.shopCtrl.showShop(0,!1,!0)}showWxGreen(){if(!this.gameClub&&"wx"===i.channel){let e=Laya.Browser.clientWidth/Laya.stage.width,t=this._view.btnGameClub.localToGlobal(new Laya.Point(0,0)),n=t.x*e+3,s=t.y*e,a=this._view.btnGameClub.width*e,o=this._view.btnGameClub.width*e;this.gameClub=wx.createGameClubButton({icon:"green",style:{left:n,top:s,width:a,height:o}}),this.gameClub.onTap(()=>{"wx"==i.channel&&i.TmCtrl.instance.tmSendEvent("gn_community")})}this.gameClub&&this.gameClub.hide()}zjKf(){if("zj"==i.channel){this._view.btnKf.visible=!1;let e=new t,i=this;e.once(Laya.Event.ERROR,this,e=>{i._view.btnKf.visible=!1}),e.once(Laya.Event.COMPLETE,this,e=>{0==e.code&&e.data&&"1.0.1"==e.data.ver&&e.data.E&&1==e.data.E?i._view.btnKf.visible=!0:i._view.btnKf.visible=!1}),e.send("https://zy-1257315588.file.myqcloud.com/zoo/zj/log.json?time="+Laya.Browser.now(),"","get","json")}}updateView(e=0){this.zjKf(),this._view.boxTip.visible=!1,this._view.boxCode.visible=!1,this._view.tipMask.visible=!0,this._view.tipMask.width=Laya.stage.width/i.stageScale,this._view.tipMask.height=Laya.stage.height/i.stageScale,this.initYinXiao(),this.initYinYue(),this._curIndex=e,2!=e&&(this._view.vs.selectedIndex=e);m.get("hasSignin",0);if(this.gameClub&&this.gameClub.hide(),0==e&&(this.gameClub&&this.gameClub.show(),this._view.btnBack.visible=!0,this._view.btnBack.bottom=20,"vivo"==i.channel?ve.showAsBanner2("abea873d8eef4a7d904c27e005acebea",this._view.vivoActive):i.channel),1==e&&this.updateTask(),2==e&&g.dayMissionCtrl.showView(1),4==e&&(this._view.btnBack.bottom=20,this.updateSignin()),5==e&&(this._view.kefu.visible=!0,this._view.id.text=String(i.gid),this._view.btnBack.visible=!1,"wx"==i.channel||"zj"==i.channel||"qq"==i.channel||"bd"==i.channel?this._view.img_qq.skin="setting/kf_qq_wz.png":"oppo"!=i.channel&&"vivo"!=i.channel||(this._view.img_qq.skin="setting/kf_qq_ov.png",i.gid?(this._view.oppoview.visible=!0,this._view.oppoview.bottom=10,this._view.qq.bottom=130):(this._view.qq.bottom=10,this._view.oppoview.visible=!1))),6==e&&(this._view.boxCode.visible=!0,this._view.btnBack.visible=!1),this.checkAttBtn(),"wx"===i.channel){let e=Laya.Browser.window.wx.getLaunchOptionsSync();console.log(e)}}checkAttBtn(){"wx"==i.channel&&(this._view.btnAtt.visible=!0)}updateSignin(){"oppo"==i.channel||"vivo"==i.channel?(this._view.btnSignBack.visible=!0,this._view.btnSignGain.centerX=160):(this._view.btnSignBack.visible=!1,this._view.btnSignGain.centerX=0),"hw"==i.channel&&(this._view.btnSignDouble.visible=!1,this._view.btnSignGain.visible=!1,this._view.btnNormal.visible=!0,this._view.word_double.visible=!1),this._view.btnBack.visible=!1,this._signDay=m.get("signDay",0);let e=Laya.Browser.now(),t=m.get("signinTime",0),n=new Date(e),s=new Date(t);n.setHours(0,0,0,0)!=s.setHours(0,0,0,0)&&(m.set("hasSignin",0),7==this._signDay&&(this._signDay=0,m.set("signDay",0))),m.getAnimals(1002)&&m.getAnimals(1002).indexOf(128)<0?(this._view.icon.skin="setting/zebra8.png",this._view.iconname.skin="setting/mingcheng.png",this._view.day.skin="setting/leiji.png"):(this._view.icon.skin="icons/zebra6.png",this._view.iconname.skin="setting/rwkl.png",this._view.day.skin="setting/leiji2.png");let a=this._view.boxSignin;for(let e=0;e<this._signCfg.length;e++){let t=this._signCfg[e],i=a.getChildAt(e),n=i.getChildByName("day"),s=(i.getChildByName("light"),i.getChildByName("icon")),o=i.getChildByName("label"),h=i.getChildByName("imgMask");i.getChildByName("bg").skin="btn/img_bg7.png",n.skin="setting/img_day"+e+".png",s.skin=t.icon,o.text=t.label,o.color=t.color,h.visible=!1}let o=a.getChildAt(6),h=o.getChildByName("day"),l=o.getChildByName("label0"),r=o.getChildByName("label1"),p=o.getChildByName("imgMask");o.getChildByName("bg").skin="btn/img_bg7.png",h.skin="setting/img_day6.png",l.text=this._day7.label0,r.text=this._day7.label1,p.visible=!1;for(let e=0;e<this._signDay;e++){let t=a.getChildAt(e),i=t.getChildByName("imgMask");t.getChildByName("bg");i.visible=!0}if(0==m.get("hasSignin",0)){a.getChildAt(this._signDay).getChildByName("bg").skin="btn/img_bg5.png"}let d=m.get("hasSignin",0);this._view.btnSignGain.disabled=d>0}setSignin(){let e=this._view.boxSignin.getChildAt(this._signDay);if(e){if(e.getChildByName("imgMask").visible=!0,this._view.btnSignGain.disabled=!0,this._signDay<6){let e=this._signCfg[this._signDay],t=e.amount;this._signDouble&&(t*=2),1==e.type&&m.addGold(t,1006),2==e.type&&m.addJew(t,1002),3==e.type&&(m.getAnimals(1002).indexOf(128)<0&&(this._animal="setting/zebra8.png",m.catchAnimal(128)),m.addGold(t,1006));let i=this._view.boxTip;i.getChildByName("day7").visible=!1;let n=i.getChildByName("icon"),s=i.getChildByName("label");n.skin=e.icon,this._signDouble?s.text=e.doubleLabel:s.text=e.label,n.visible=s.visible=!0}else{let e=this._day7,t=e.amount0;this._signDouble&&(t*=2);let i=e.amount1;this._signDouble&&(i*=2),m.getAnimals(1e3).indexOf(13)<0&&(this._animal="icons/zebra6.png",m.catchAnimal(13)),m.addGold(t,1006),m.addJew(i,1002);let n=this._view.boxTip,s=n.getChildByName("day7");s.visible=!0;let a=n.getChildByName("icon"),o=n.getChildByName("label");a.visible=o.visible=!1;let h=s.getChildByName("label0"),l=s.getChildByName("label1");this._signDouble?(h.text=e.doubleLabel0,l.text=e.doubleLabel1):(h.text=e.label0,l.text=e.label1)}this._view.tipMask.visible=!0,this._view.tipMask.width=Laya.stage.width/i.stageScale,this._view.tipMask.height=Laya.stage.height/i.stageScale,this._signDay++,this._view.boxTip.visible=!0,this._signDay>=7&&(this._signDay=7),"wx"!=i.channel&&"vivo"!=i.channel||i.ad.hideBanner(),m.getAnimals(1002)&&m.getAnimals(1002).indexOf(128)<0?(this._view.icon.skin="setting/zebra8.png",this._view.iconname.skin="setting/mingcheng.png",this._view.day.skin="setting/leiji.png"):(this._view.icon.skin="icons/zebra6.png",this._view.iconname.skin="setting/rwkl.png",this._view.day.skin="setting/leiji2.png"),m.set("signDay",this._signDay),m.set("signinTime",Laya.Browser.now())}}hideTip(){if(this._animal||this._animalIds&&this._animalIds[this._animalIndex]){let e=this._view.boxTip;e.getChildByName("day7").visible=!1,e.getChildByName("label").visible=!1;let t=e.getChildByName("icon");if(this._animal&&(t.skin=this._animal,t.visible=!0,this._animal=null),this._animalIds&&this._animalIds[this._animalIndex]){t.visible=!0;let e=Number(this._animalIds[this._animalIndex]),i=m.cfgAnimal[e].res;i=(i=i.replace(".lh","")).replace("game/Conventional/",""),t.skin="icons/"+i+".png",this._animalIndex++}}else g.shipCtrl.clearSignMask(),this._view.boxTip.visible=!1,g.shipCtrl.backToShip(),this._view.removeSelf(),this._animalIds&&(this._animalIds.splice(0),this._animalIds=null)}updateTask(){this._view.btnStart.visible=!1;let e=g.taskCtrl.getTaskInfo(),t=this._view.imgTask0,n=this._view.imgTask1,s=this._view.imgTask2;t.visible=n.visible=s.visible=!1;let a=this._view.task0,o=this._view.task1,h=this._view.task2;a.visible=o.visible=h.visible=!1;let l=this._view.boxWait0,r=this._view.boxWait1,p=this._view.boxWait2;l.visible=r.visible=p.visible=!1;let d=this._view.imgLv0,c=this._view.imgLv1,m=this._view.imgLv2;d.visible=c.visible=m.visible=!1;let y=this._view.btnAd0,b=this._view.btnAd1,f=this._view.btnAd2;if(y.visible=b.visible=f.visible=!1,0==e.length)t.visible=!1,t.skin="setting/img_bg_2.png",l.visible=y.visible=!1;else if(1==e.length){"wx"==i.channel||"qq"==i.channel?i.TmCtrl.instance.tmSendEvent("ad_changeTask",{value:"曝光"}):"zj"==i.channel?i.reportEvent("ad_changeTask",{value:"曝光"}):"oppo"==i.channel&&u.upload(_.ad_changeTask,2),t.visible=!0,n.visible=!0,n.skin="setting/img_bg_2.png",r.visible=b.visible=!0,t.skin="setting/img_bg_1.png",a.visible=!0,a.text=e[0].dec,l.visible=y.visible=!1;let s=e[0].difficulty;d.visible=!0,d.skin=0==s?"setting/img_star.png":"setting/img_star"+s+".png","hw"==i.channel||"none"==i.channel?(this._view.hwTask.visible=!0,this._view.otherTask.visible=!1,this._view.boxWait1.getChildAt(0).text="花费金币立即刷新任务"):(this._view.hwTask.visible=!1,this._view.otherTask.visible=!0)}else if(2==e.length){t.visible=!0,n.visible=!0,s.visible=!0,t.skin="setting/img_bg_1.png",n.skin="setting/img_bg_1.png",s.skin="setting/img_bg_2.png",a.visible=!0,a.text=e[0].dec,o.visible=!0,o.text=e[1].dec,l.visible=y.visible=!1,r.visible=b.visible=!1,p.visible=f.visible=!0,d.visible=!0,c.visible=!0;let i=e[0].difficulty,h=e[1].difficulty;d.skin=0==i?"setting/img_star.png":"setting/img_star"+i+".png",c.skin=0==h?"setting/img_star.png":"setting/img_star"+h+".png"}else if(3==e.length){t.visible=!0,n.visible=!0,s.visible=!0,t.skin="setting/img_bg_1.png",n.skin="setting/img_bg_1.png",s.skin="setting/img_bg_1.png",a.visible=!0,a.text=e[0].dec,o.visible=!0,o.text=e[1].dec,h.visible=!0,h.text=e[2].dec,l.visible=y.visible=!1,r.visible=b.visible=!1,p.visible=f.visible=!1,d.visible=!0,c.visible=!0,m.visible=!0;let i=e[0].difficulty,g=e[1].difficulty,_=e[2].difficulty;d.skin=0==i?"setting/img_star.png":"setting/img_star"+i+".png",c.skin=0==g?"setting/img_star.png":"setting/img_star"+g+".png",m.skin=0==_?"setting/img_star.png":"setting/img_star"+_+".png"}"vivo"==i.channel?i.ad.showQGbanner(i.vivoBannerAd.task):"oppo"==i.channel||i.ad.showTTBanner(0),this._view.btnBack.bottom=i.ad.bannerHeight}onClick(e){e.target}sliderDown(){this._view.btnSlider.startDrag(new Laya.Rectangle(0,31,this.SLIDER_WID,0),!1,0,0,null,!0,0),this._view.btnSlider.on(Laya.Event.DRAG_MOVE,this,this.sliderMove),this._view.btnSlider.once(Laya.Event.MOUSE_UP,this,()=>{this._view.btnSlider.stopDrag(),this._view.btnSlider.off(Laya.Event.DRAG_MOVE,this,this.sliderMove)})}sliderMove(){let e=this._view.btnSlider.x,t=Math.floor(e/this.SLIDER_WID*100);this.setCunSlider(t)}setCunSlider(e){let t=e/100*this.SLIDER_WID;this._view.btnSlider.x=t,this._view.imgSlider.width=t}onGameStart(){this._view.visible=!1,g.shipCtrl.startGame()}onBack(){this.gameClub&&this.gameClub.hide(),0==this._curIndex?(g.shipCtrl.backToShip(),this._view.removeSelf()):this.updateView(0),i.ad.hideBanner()}vivoBack(){g.shipCtrl.clearSignMask(),g.shipCtrl.backToShip(),this._view.removeSelf()}showSetting(e=0){"zoo"==this._sceneName&&i.stage.addChild(this._view,i.Layer.MIDDLE),Laya.timer.callLater(this,this.updateView,[e])}}g.settingCtrl=new Ee;class Me extends i.BaseCtrl{constructor(){super(),this._isRing=!1,this._resultData={0:{type:0,label:"大礼包",time:0,during:0,icon:"prize/img_logo_1.png"},"-60":{type:1,label:"从800米处开始起跑",time:600,during:60,icon:"prize/img_logo_4.png"},"-120":{type:2,label:"奔跑中可免费复活一次",time:300,during:300,icon:"prize/img_logo_5.png"},"-180":{type:3,label:"驯服动物时间减少30%",time:600,during:600,icon:"prize/img_logo_3.png"},"-240":{type:4,label:"奔跑中拾取2倍金币",time:300,during:300,icon:"prize/img_logo_2.png"},"-300":{type:5,label:"稀有动物出现几率提高300%",time:600,during:600,icon:"prize/img_logo_0.png"}},this._flag=!1}start(){super.start()}beforeEnterScene(e){"zoo"==this._sceneName&&(Laya.timer.clearAll(this),Laya.Tween.clearAll(this),this._btnStart.off("click",this,this.startRing),this._btnBack.off("click",this,this.onBack),this._btnGift.off("click",this,this.showGift),this._btnClose.off("click",this,this.closeGift),this._btnQues.off("click",this,this.showQues),this._btnSure.off("click",this,this.onSure),this._btnSure2.off("click",this,this.onSure),this._btnRedraw.off("click",this,this.reDraw),this._view.off(Laya.Event.CLICK,this,this.onClick),this._btnStart.clear(),this._btnStart=null,this._btnBack.clear(),this._btnBack=null,this._btnGift.clear(),this._btnGift=null,this._btnClose.clear(),this._btnClose=null,this._btnQues.clear(),this._btnQues=null,"oppo"==i.channel?ve.clearAd("207985"):"vivo"==i.channel&&ve.clearAd("abea873d8eef4a7d904c27e005acebea"),this._view.removeSelf(),this._view.destroy(!0),this._view=null,this._flag=null)}createChildren(e){"zoo"==e&&(this._view||(this._view=new n.main.PrizeUI,this._btnBack=new L(this._view.btnBack),this._btnClose=new L(this._view.btnClose),this._btnStart=new L(this._view.btnStart),this._btnSure=new L(this._view.btnSure),this._btnSure2=new L(this._view.btnSure2),this._btnRedraw=new L(this._view.btnRedraw),this._btnGift=new L(this._view.btnGift,null,"main",-40,-30),this._btnQues=new L(this._view.btnQues,null,"main",-20,-10)),this._btnStart.on("click",this,this.startRing,[0]),this._btnBack.on("click",this,this.onBack),this._btnGift.on("click",this,this.showGift),this._btnClose.on("click",this,this.closeGift),this._btnQues.on("click",this,this.showQues),this._btnSure.on("click",this,this.onSure),this._btnSure2.on("click",this,this.onSure),this._btnRedraw.on("click",this,this.reDraw),this._view.on(Laya.Event.CLICK,this,this.onClick),"vivo"==i.channel&&(this._view.btnRedraw.visible=!1,this._view.btnSure.left=218))}closeGift(){this._view.box0.visible=!0,this._view.box1.visible=!1}showQues(){this._view.imgGiftTip.visible?this._view.imgGiftTip.visible=!1:(this._view.box1.visible=!0,this._view.box1.bottom=i.ad.bannerHeight+5,this._view.box0.visible=!1)}showGift(){this._view.imgGiftTip.visible=!this._view.imgGiftTip.visible}startPointer(){let e=this._view.imgPointer,t=Math.floor(30*Math.random());Laya.Tween.to(e,{rotation:t},50,null,null,0,!1)}startRing2(e,t){if(e){if(m.setDailyTask(6,1),this._isRing)return;this.initTimes(),this._isRing=!0,this._view.box2.visible=!1,this._data=null;let e=this._view.imgPointer;Laya.Tween.to(e,{rotation:35},300,Laya.Ease.quartIn,null,300,!1),Laya.timer.once(300,this,()=>{Laya.timer.loop(100,this,this.startPointer)});let n,s=this._view.img_ring,a=s.rotation,o=Math.random(),h=a-(2160+60*(n=o<.03?0:o<.11?1:o<.19?2:o<.47?3:o<.73?4:5));Laya.timer.once(2700,this,()=>{Laya.timer.clear(this,this.startPointer)}),Laya.Tween.to(e,{rotation:0},300,Laya.Ease.quartIn,null,2500,!0),Laya.Tween.to(s,{rotation:1*h},3e3,Laya.Ease.quartInOut,Laya.Handler.create(this,()=>{this._isRing=!1,m.setDailyTask(5,1),this.updateBox2(),this.updateTimes()}),200,!1),t&&0==t[0]&&("wx"==i.channel||"qq"==i.channel?i.TmCtrl.instance.tmSendEvent("ad_wheel",{value:"完成"}):"zj"==i.channel?i.reportEvent("ad_wheel",{value:"完成"}):i.channel),t&&1==t[0]&&("wx"==i.channel||"qq"==i.channel?i.TmCtrl.instance.tmSendEvent("ad_wheelAgain",{value:"完成"}):"zj"==i.channel?i.reportEvent("ad_wheelAgain",{value:"完成"}):i.channel)}else g.videoTipCtrl.showTips();"vivo"==i.channel&&i.sound.playMusic("audioGame/Music_Zoo.mp3")}startRing(e){"wx"==i.channel?0==e?i.ad.showVideoAd(this,this.startRing2,i.wxAd.prize,"ad_wheel",[e]):1==e&&i.ad.showVideoAd(this,this.startRing2,i.wxAd.redraw,"ad_wheelAgain",[e]):"zj"==i.channel?0==e?i.ad.showVideoAd(this,this.startRing2,0,"ad_wheel",[e]):1==e&&i.ad.showVideoAd(this,this.startRing2,0,"ad_wheelAgain",[e]):"vivo"==i.channel?0==e?i.ad.showVivoVideo(this,this.startRing2,i.vivoAd.prize,"ad_wheel",[e]):1==e&&i.ad.showVivoVideo(this,this.startRing2,i.vivoAd.redraw,"ad_wheelAgain",[e]):"oppo"==i.channel?0==e?i.ad.showOPPOVideo(this,this.startRing2,_.ad_wheel,[e]):1==e&&i.ad.showOPPOVideo(this,this.startRing2,_.ad_wheelAgain,[e]):"qq"==i.channel||"bd"==i.channel?0==e?i.ad.showVideoAd(this,this.startRing2,0,"ad_wheel",[e]):1==e&&i.ad.showVideoAd(this,this.startRing2,0,"ad_wheelAgain",[e]):"yl"===i.channel&&(0==e?i.ad.showVideoAd(this,this.startRing2,i.ylAd.prize,null,[e]):1==e&&i.ad.showVideoAd(this,this.startRing2,i.ylAd.prize,null,[e]))}updateBox2(){if(!this._view)return;this._view.imgMask.height=Laya.stage.height/i.stageScale;let e=(this._view.img_ring.rotation%360).toString();this._data=this._resultData[e],this._view.labelResult.text=this._data.label,this._data.time>0?(this._time=this._data.during,this.timeOutLoop(),Laya.timer.loop(1e3,this,this.timeOutLoop),this._data.time=Laya.Browser.now()+1e3*this._data.during,this._view.labelTime.visible=!0):this._view.labelTime.visible=!1,this._view.imgIcon.skin=this._data.icon,this._view.box2.visible=!0,this._flag?(this._view.youcant.visible=!0,this._view.youCan.visible=!1):(this._view.youcant.visible=!1,this._view.youCan.visible=!0,"wx"==i.channel||"qq"==i.channel?i.TmCtrl.instance.tmSendEvent("ad_wheelAgain",{value:"曝光"}):"zj"==i.channel?i.reportEvent("ad_wheelAgain",{value:"曝光"}):i.channel)}reDraw(){this._flag=!0,this.startRing(1)}onSure(){let e=m.get("todayPrizeTimes",3);e<=0?i.msg.show("今日次数已用尽"):(e--,m.set("todayPrizeTimes",e),0==this._data.type?m.addJew(100,1005):m.buff=this._data,g.shipCtrl.backToShip("prize"),this._view.box2.visible=!1,this._view.removeSelf(),i.ad.hideBanner())}timeOutLoop(){let e=this._view.labelTime,t=Math.floor(this._time/60).toString(),i=Math.floor(this._time%60).toString();t=t.length>1?t:"0"+t,i=i.length>1?i:"0"+i,e.text="持续时间："+t+":"+i,this._time--,this._time<0&&Laya.timer.clear(this,this.timeOutLoop)}updateTimes(){let e=m.get("prizeTimes",0);this._view.imgGift.skin="prize/lucky_gift_5.png",this._view.imgGiftBar.width=95*e,this._view.labelGift.text=e+"/5"}updateView(){"oppo"==i.channel?ve.showAsBanner2("207985",this._view.oppoActive):"vivo"==i.channel?ve.showAsBanner2("abea873d8eef4a7d904c27e005acebea",this._view.oppoActive):i.channel;let e=m.get("prizeTimes",0);this._view.imgGift.skin="prize/lucky_gift_5.png",this._view.imgGiftBar.width=95*e,this._view.labelGift.text=e+"/5",this._view.imgGiftTip.visible=!1,this._view.box0.visible=!0,this._view.box1.visible=!1,this.ringLiang(),this._view.img_ring.rotation=0,"wx"==i.channel||"qq"==i.channel?i.TmCtrl.instance.tmSendEvent("ad_wheel",{value:"曝光"}):"zj"==i.channel?i.reportEvent("ad_wheel",{value:"曝光"}):i.channel,this.initTimes(),"oppo"!==i.channel&&("vivo"==i.channel||("zj"==i.channel&&"Douyin"==window.tt.getSystemInfoSync().appName?this._view.box0.centerY=0:(i.ad.showTTBanner(0),this._view.box0.bottom=i.ad.bannerHeight+5)))}initTimes(){let e=m.get("lastFreshPrizeTime",0),t=Laya.Browser.now(),i=new Date(t),n=new Date(e),s=m.get("todayPrizeTimes",5);i.setHours(0,0,0,0)!=n.setHours(0,0,0,0)&&(m.set("lastFreshPrizeTime",t),m.set("todayPrizeTimes",5)),this._view.labelTimes.text=s+""}ringLiang(){for(let e=0;e<6;e++){let t=this._view["imgGuang"+e];t.rotation=0,Laya.Tween.to(t,{rotation:-360},12e3,null,null,0,!1)}Laya.timer.once(12e3,this,this.ringLiang)}onClick(e){e.target;this._view.imgGiftTip.visible&&(this._view.imgGiftTip.visible=!1)}onGameStart(){this._view.visible=!1,g.shipCtrl.startGame()}onBack(){i.ad.hideBanner(),g.shipCtrl.backToShip("prize"),this._view.box2.visible=!1,this._view.removeSelf()}showPrize(){"zoo"==this._sceneName&&i.stage.addChild(this._view,i.Layer.MIDDLE),this._flag=!1,Laya.timer.callLater(this,this.updateView)}}g.prizeCtrl=new Me;const Ne=new class extends i.BaseCtrl{constructor(){super(...arguments),this._compiledFlag={},this._showMuji=!0,this.isFisrt=!1,this._defCompile={teach:()=>{console.log("teach sharder compiled!")},game:()=>{Laya.Shader3D.compileShaderByDefineNames("PARTICLESHURIKEN",0,0,["DIFFUSEMAP","SPHERHBILLBOARD","SIZEOVERLIFETIMECURVE","SHAPE","TINTCOLOR"]),Laya.Shader3D.compileShaderByDefineNames("PARTICLESHURIKEN",0,0,["DIFFUSEMAP","ADDTIVEFOG","STRETCHEDBILLBOARD","COLOROVERLIFETIME","SIZEOVERLIFETIMECURVE","SHAPE","TINTCOLOR"]),Laya.Shader3D.compileShaderByDefineNames("PARTICLESHURIKEN",0,0,["RENDERMODE_MESH","SIZEOVERLIFETIMECURVE","SHAPE","TINTCOLOR"]),Laya.Shader3D.compileShaderByDefineNames("Effect",0,0,["TILINGOFFSET","ADDTIVEFOG","MAINTEXTURE"]),Laya.Shader3D.compileShaderByDefineNames("PARTICLESHURIKEN",0,0,["DIFFUSEMAP","SPHERHBILLBOARD","SHAPE","TINTCOLOR"]),Laya.Shader3D.compileShaderByDefineNames("PARTICLESHURIKEN",0,0,["DIFFUSEMAP","SPHERHBILLBOARD","SIZEOVERLIFETIMECURVE","TINTCOLOR"]),console.log("game sharder compiled!")}}}start(){super.start(),this.bindAssets("cfg/cfgPfx.json",Laya.Loader.JSON,"teach"),this.bindAssets("cfg/cfgPfx.json",Laya.Loader.JSON,"zoo"),this.bindAssets("cfg/cfgPfx.json",Laya.Loader.JSON,"game"),i.eventBus.on("SCENE3D_ADDED",this,this.onScene3dAdded)}beforeEnterScene(e){E.instance.clearAndDestroy()}onScene3dAdded(e){let t=Laya.loader.getRes("cfg/cfgPfx.json");if(t){let i;for(let n=0;n<t.length;n++){const s=t[n];s&&s.cache&&(i=s.cache[e])&&E.instance.createCache(s.name,i)}}}afterEnterScene(e){if("ZY_FIRST"!==e&&(i.channel==i.Channel.zj||"vivo"==i.channel||"oppo"==i.channel||"none"==i.channel)&&("oppo"==i.channel&&window.qg.offError(),this._showMuji)){this._showMuji=!1;let e=i.stage.loadingUI;e&&e.showMuJi()}"wx"==i.channel&&i.ad.hideCustomAd()}createChildren(e){"ZY_FIRST"!==e&&(E.instance.init(),this._compiledFlag[e]||this._defCompile[e]&&(this._defCompile[e](),this._compiledFlag[e]=!0),this.isFisrt||(this.isFisrt=!0,"zj"===i.channel?i.ad.init(["3softlcalk4olrakdf"],["1u40j0qkvtnbi6c123"],null,["f56o7bj2nod19k7pmd"]):"wx"==i.channel?i.ad.init(["adunit-da035d6ab7d2c78e","adunit-8aaa2bbe8c050ebb","adunit-778e716f648adbb0","adunit-e53736b604f6cf23"],["adunit-a7368c801f87f313","adunit-4fb212e1edb2d044","adunit-cf8d61e3a70ee1d9","adunit-bf761142ec38e0ab","adunit-f61e78c987214b7b","adunit-f0f2b9300068fd56","adunit-9b5127cea9e8aee5","adunit-017d72a4980c2b37"],null,["adunit-03eedc2f208c4189"]):"vivo"==i.channel?i.ad.init(["1958fd4e7f4d48a890f7796658b0968c"],["86f86432c21f4d7ea2d139a996399c3e"],["abea873d8eef4a7d904c27e005acebea"],["b5e141797a4941cb9115b194a8c12d42"]):"oppo"==i.channel?i.ad.init(["190034"],["190059"],["196265","196264","196263","201533","207940","207939","207985","207984","207983","207986"]):"qq"==i.channel?i.ad.init(["6252e0c1ef10c8b51f5578f63064c876"],["cd05a830015ac751f35ef2d1c5c3e2d7"],null,["8e13f2cb56542e306898b02476c5132c"]):"bd"===i.channel?i.ad.init(["7222509"],[]):"hw"===i.channel||"yl"===i.channel&&i.ad.init(["001","002","003","004","005","006","007","008","009","010","011","012","013","014","015"],[])))}compileShaders(){Laya.Shader3D.compileShaderByDefineNames("Unlit",0,0,["BONE","ALBEDOTEXTURE"]),Laya.Shader3D.compileShaderByDefineNames("Unlit",0,0,["TILINGOFFSET","ALBEDOTEXTURE"]),Laya.Shader3D.compileShaderByDefineNames("Unlit",0,0,["GPU_INSTANCE","ALBEDOTEXTURE"]),Laya.Shader3D.compileShaderByDefineNames("Unlit",0,0,["ALBEDOTEXTURE"]),Laya.Shader3D.compileShaderByDefineNames("BLINNPHONG",0,0,["DIFFUSEMAP","DIRECTIONLIGHT","SPECULARMAP","UV","BONE"]),Laya.Shader3D.compileShaderByDefineNames("BLINNPHONG",0,0,["DIRECTIONLIGHT","UV","BONE"]),Laya.Shader3D.compileShaderByDefineNames("PARTICLESHURIKEN",0,0,["DIFFUSEMAP","SPHERHBILLBOARD","COLOROVERLIFETIME","SIZEOVERLIFETIMECURVE","SHAPE","TINTCOLOR"]),Laya.Shader3D.compileShaderByDefineNames("PARTICLESHURIKEN",0,0,["DIFFUSEMAP","SPHERHBILLBOARD","RANDOMCOLOROVERLIFETIME","SIZEOVERLIFETIMECURVE","TEXTURESHEETANIMATIONCURVE","SHAPE","TINTCOLOR"]),Laya.Shader3D.compileShaderByDefineNames("PARTICLESHURIKEN",0,0,["DIFFUSEMAP","ADDTIVEFOG","SPHERHBILLBOARD","RANDOMCOLOROVERLIFETIME","SIZEOVERLIFETIMECURVE","TEXTURESHEETANIMATIONCURVE","SHAPE","TINTCOLOR"]),Laya.Shader3D.compileShaderByDefineNames("PARTICLESHURIKEN",0,0,["DIFFUSEMAP","SPHERHBILLBOARD","SIZEOVERLIFETIMECURVE","TEXTURESHEETANIMATIONCURVE","SHAPE","TINTCOLOR"]),Laya.Shader3D.compileShaderByDefineNames("PARTICLESHURIKEN",0,0,["DIFFUSEMAP","ADDTIVEFOG","STRETCHEDBILLBOARD","SIZEOVERLIFETIMECURVE","SHAPE","TINTCOLOR"]),Laya.Shader3D.compileShaderByDefineNames("PARTICLESHURIKEN",0,0,["DIFFUSEMAP","ADDTIVEFOG","HORIZONTALBILLBOARD","COLOROVERLIFETIME","SIZEOVERLIFETIMECURVE","SHAPE","TINTCOLOR"]),Laya.Shader3D.compileShaderByDefineNames("PARTICLESHURIKEN",0,0,["DIFFUSEMAP","SPHERHBILLBOARD","COLOROVERLIFETIME","SIZEOVERLIFETIMECURVE","TEXTURESHEETANIMATIONCURVE","SHAPE","TINTCOLOR"]),Laya.Shader3D.compileShaderByDefineNames("PARTICLESHURIKEN",0,0,["DIFFUSEMAP","STRETCHEDBILLBOARD","COLOROVERLIFETIME","SIZEOVERLIFETIMECURVE","TEXTURESHEETANIMATIONCURVE","SHAPE","TINTCOLOR"]),Laya.Shader3D.compileShaderByDefineNames("PARTICLESHURIKEN",0,0,["DIFFUSEMAP","ADDTIVEFOG","SPHERHBILLBOARD","COLOROVERLIFETIME","SIZEOVERLIFETIMECURVE","SHAPE","TINTCOLOR"]),Laya.Shader3D.compileShaderByDefineNames("PARTICLESHURIKEN",0,0,["DIFFUSEMAP","STRETCHEDBILLBOARD","COLOROVERLIFETIME","SIZEOVERLIFETIMECURVE","SHAPE","TINTCOLOR"]),Laya.Shader3D.compileShaderByDefineNames("PARTICLESHURIKEN",0,0,["DIFFUSEMAP","ADDTIVEFOG","SPHERHBILLBOARD","SIZEOVERLIFETIMECURVE","TEXTURESHEETANIMATIONCURVE","SHAPE","TINTCOLOR"]),Laya.Shader3D.compileShaderByDefineNames("PARTICLESHURIKEN",0,0,["DIFFUSEMAP","SPHERHBILLBOARD","COLOROVERLIFETIME","ROTATIONOVERLIFETIMERANDOMCURVES","SIZEOVERLIFETIMECURVE","ROTATIONOVERLIFETIME","TEXTURESHEETANIMATIONCURVE","SHAPE","TINTCOLOR"]),Laya.Shader3D.compileShaderByDefineNames("PARTICLESHURIKEN",0,0,["DIFFUSEMAP","ADDTIVEFOG","SPHERHBILLBOARD","SIZEOVERLIFETIMERANDOMCURVES","SHAPE","TINTCOLOR"]),Laya.Shader3D.compileShaderByDefineNames("PARTICLESHURIKEN",0,0,["DIFFUSEMAP","ADDTIVEFOG","SPHERHBILLBOARD","SIZEOVERLIFETIMECURVE","SHAPE","TINTCOLOR"]),Laya.Shader3D.compileShaderByDefineNames("PARTICLESHURIKEN",0,0,["DIFFUSEMAP","ADDTIVEFOG","SPHERHBILLBOARD","SIZEOVERLIFETIMECURVE","TINTCOLOR"]),Laya.Shader3D.compileShaderByDefineNames("PARTICLESHURIKEN",0,0,["DIFFUSEMAP","SPHERHBILLBOARD","COLOROVERLIFETIME","SHAPE","TINTCOLOR"]),Laya.Shader3D.compileShaderByDefineNames("PARTICLESHURIKEN",0,0,["DIFFUSEMAP","SPHERHBILLBOARD","COLOROVERLIFETIME","SIZEOVERLIFETIMERANDOMCURVES","SHAPE","TINTCOLOR"]),Laya.Shader3D.compileShaderByDefineNames("PARTICLESHURIKEN",0,0,["DIFFUSEMAP","RENDERMODE_MESH","COLOROVERLIFETIME","SIZEOVERLIFETIMECURVE","SHAPE","TINTCOLOR"]),Laya.Shader3D.compileShaderByDefineNames("PARTICLESHURIKEN",0,0,["DIFFUSEMAP","RENDERMODE_MESH","SIZEOVERLIFETIMECURVE","SHAPE","TINTCOLOR"]),Laya.Shader3D.compileShaderByDefineNames("PBR",0,0,["DIRECTIONLIGHT","UV","BONE","ALBEDOTEXTURE","LAYA_PBR_BRDF_HIGH"]),Laya.Shader3D.compileShaderByDefineNames("PBR",0,0,["DIRECTIONLIGHT","UV","BONE","ALBEDOTEXTURE","EMISSION","LAYA_PBR_BRDF_HIGH"]),Laya.Shader3D.compileShaderByDefineNames("PBR",0,0,["DIRECTIONLIGHT","UV","UV1","BONE","ALBEDOTEXTURE","EMISSION","LAYA_PBR_BRDF_HIGH"]),Laya.Shader3D.compileShaderByDefineNames("PBR",0,0,["DIRECTIONLIGHT","UV","BONE","TILINGOFFSET","ALBEDOTEXTURE","EMISSION","LAYA_PBR_BRDF_HIGH"]),Laya.Shader3D.compileShaderByDefineNames("PBR",0,0,["DIRECTIONLIGHT","UV","BONE","LAYA_PBR_BRDF_HIGH"]),Laya.Shader3D.compileShaderByDefineNames("PBR",0,0,["DIRECTIONLIGHT","UV","LAYA_PBR_BRDF_HIGH"]),Laya.Shader3D.compileShaderByDefineNames("PBR",0,0,["DIRECTIONLIGHT","UV","ALBEDOTEXTURE","LAYA_PBR_BRDF_HIGH"]),Laya.Shader3D.compileShaderByDefineNames("Effect",0,0,["BONE","ADDTIVEFOG","MAINTEXTURE"]),Laya.Shader3D.compileShaderByDefineNames("SkyBox",0,0,[]),console.log("---------shader compiled!!----------")}};class Pe extends i.BaseCtrl{constructor(){super()}start(){super.start(),this.bindAssets("res/atlas/main.atlas",Laya.Loader.ATLAS,"zoo")}beforeEnterScene(e){"zoo"==this._sceneName&&(this._view.off(Laya.Event.CLICK,this,this.onClick),this._view.off(Laya.Event.MOUSE_DOWN,this,this.onMouseDown),this._btnClose.off(Laya.Event.CLICK,this,this.onBack),this._btnShop.off(Laya.Event.CLICK,this,this.openShop),this._btnClose=null,this._btnShop=null,this._view.removeSelf(),this._view.destroy(!0),this._view=null)}createChildren(e){"zoo"==e&&(this._view||(this._view=new n.main.TipsUI,this._btnClose=new L(this._view.btnClose),this._btnShop=new L(this._view.btnShop)),this._view.on(Laya.Event.CLICK,this,this.onClick),this._view.on(Laya.Event.MOUSE_DOWN,this,this.onMouseDown),this._btnClose.on(Laya.Event.CLICK,this,this.onBack),this._btnShop.on(Laya.Event.CLICK,this,this.openShop))}onStopEvent(e){e.stopPropagation()}openShop(){this.onBack(),g.shopCtrl.showShop(0)}onChangeClothing(e){g.shipCtrl.changeClothes(e)}updateView(){this._view.mouseThrough=!1}showTips(){"zoo"==this._sceneName&&i.stage.addChild(this._view,i.Layer.MIDDLE),Laya.timer.callLater(this,this.updateView)}onBack(){this._view.removeSelf()}onClick(e){switch(e.target){case this._view.btnClose:this.onBack();break;case this._view.btnShop:this.openShop();break;default:e.stopPropagation()}}onMouseDown(e){e.stopPropagation()}}g.tipsCtrl=new Pe;class Re extends i.BaseCtrl{constructor(){super(),this._arr={1001:[2e3,20],1002:[2e3,20],1003:[2e3,20],1004:[2e3,20],1005:[2e3,20],1006:[2e3,20],1007:[2e3,20],1008:[2e3,30],1009:[2e3,30],1010:[2e3,30],1011:[2e3,30],1012:[2e3,30],1013:[2e3,30],1014:[2e3,30]},this.curTryId=0}start(){super.start(),this.bindAssets("main/spSale.ani",Laya.Loader.JSON,"zoo"),this.bindAssets("res/atlas/endangeredanimals.atlas",Laya.Loader.ATLAS,"zoo")}beforeEnterScene(e){"zoo"==this._sceneName&&(this._btnBack.off(Laya.Event.CLICK,this,this.onBack),this._view.off(Laya.Event.CLICK,this,this.onClick),this._btnBack.clear(),this._btnBack=null,"vivo"==i.channel&&ve.clearAd("abea873d8eef4a7d904c27e005acebea"),Laya.timer.clearAll(this),this._btn0.clear(),this._btn1.clear(),this._btn2.clear(),this._btnSearch.clear(),this._try0.clear(),this._try1.clear(),this._try2.clear(),this._btnJew.clear(),this._btnGold.clear(),this._btnSure.clear(),this._btnCancel.clear(),this._btnCloseBuy.clear(),this._btn0=null,this._btn1=null,this._btn2=null,this._btnSearch=null,this._try0=null,this._try1=null,this._try2=null,this._btnJew=null,this._btnGold=null,this._btnSure=null,this._btnCancel=null,this._btnCloseBuy=null,this._view.removeSelf(),this._view.destroy(!0),this._view=null)}createChildren(e){"zoo"==e&&(this.curTryId=0,this._view||(this._view=new n.main.EndangeredAnimalsUI,this._btnBack=new L(this._view.btnBack),this._btn0=new L(this._view.btn0,this._view.imgLight0,"main",-34,-20),this._btn1=new L(this._view.btn1,this._view.imgLight1,"main",-34,-20),this._btn2=new L(this._view.btn2,this._view.imgLight2,"main",-34,-20),this._try0=new L(this._view.btnTry0,this._view.btnTryLight0,"main",-34,-20),this._try1=new L(this._view.btnTry1,this._view.btnTryLight1,"main",-34,-20),this._try2=new L(this._view.btnTry2,this._view.btnTryLight2,"main",-34,-20),this._btnSearch=new L(this._view.btnSearch),this._btnJew=new L(this._view.btnJew),this._btnGold=new L(this._view.btnGold),this._btnSure=new L(this._view.btnSure),this._btnCancel=new L(this._view.btnCancel),this._btnCloseBuy=new L(this._view.btnCloseBuy)),this._btnBack.on(Laya.Event.CLICK,this,this.onBack),this._btnSearch.on(Laya.Event.CLICK,this,this.onStart),this._view.on(Laya.Event.CLICK,this,this.onClick),this._try0.on(Laya.Event.CLICK,this,this.onTry,[0]),this._try1.on(Laya.Event.CLICK,this,this.onTry,[1]),this._try2.on(Laya.Event.CLICK,this,this.onTry,[2]),this._btn0.on(Laya.Event.CLICK,this,this.onBuy,[0]),this._btn1.on(Laya.Event.CLICK,this,this.onBuy,[1]),this._btn2.on(Laya.Event.CLICK,this,this.onBuy,[2]),this._btnJew.on(Laya.Event.CLICK,this,this.onShowTip,[2]),this._btnGold.on(Laya.Event.CLICK,this,this.onShowTip,[1]),this._btnSure.on(Laya.Event.CLICK,this,this.onSureBuy),this._btnCancel.on(Laya.Event.CLICK,this,this.onCloseTip),this._btnCloseBuy.on(Laya.Event.CLICK,this,this.onClostBuy),Laya.stage.on(Laya.Event.RESIZE,this,this.onResize),this.stopMaoPao())}onResize(){console.log(Laya.stage.height)}stopMaoPao(){this._view.on(Laya.Event.MOUSE_DOWN,this,e=>{e.stopPropagation()});for(let e=0;e<this._view.numChildren;e++){this._view.getChildAt(e).on(Laya.Event.MOUSE_DOWN,this,e=>{e.stopPropagation()})}}onSureBuy(){this.onCloseTip();let e=m.get("dangerArr",[0,0,0])[this._curBuyIndex];m.cfgAnimal[e].res;if(1==this._selectCurrency)if(m.gold<this._currencyArr[0])i.msg.show("金币不足");else{m.addGold(-this._currencyArr[0],1010),i.msg.show("解锁成功"),this._view["btn"+this._curBuyIndex].disabled=!0,m.catchAnimal(e)}else if(2==this._selectCurrency)if(m.jew<this._currencyArr[1])i.msg.show("钻石不足");else{m.addJew(-this._currencyArr[1],1010),i.msg.show("解锁成功"),this._view["btn"+this._curBuyIndex].disabled=!0,m.catchAnimal(e)}}onClostBuy(){this._view.boxBuy.removeSelf(),this._view.boxBuy.visible=!1}onCloseTip(){this._view.boxTip.removeSelf(),this._view.boxTip.visible=!1,this._view.boxBuy.removeSelf(),this._view.boxBuy.visible=!1}onShowTip(e){let t;this._selectCurrency=e,this._view.boxBuy.removeSelf(),this._view.boxBuy.visible=!1,Laya.stage.addChild(this._view.boxTip),this._view.boxTip.visible=!0;let i=m.get("dangerArr",[0,0,0])[this._curBuyIndex],n=m.cfgAnimal[i].name;0!=i&&(1==e?t="将使用"+this._currencyArr[0]+"金币购买"+n:2==e&&(t="将使用"+this._currencyArr[1]+"钻石购买"+n),this._view.labelTip.text=t)}onBuy(e){this._curBuyIndex=e;let t=m.get("dangerArr",[0,0,0])[e];if(0==t)return;Laya.stage.addChild(this._view.boxBuy),this._view.boxBuy.visible=!0;let i=m.cfgAnimal[t].encId;this._currencyArr=this._arr[i],this._view.labelGold.text="X"+this._currencyArr[0],this._view.labelJew.text="X"+this._currencyArr[1]}onTry(e){var t=new Date;m.today!=t.getFullYear()+":"+(t.getMonth()+1)+":"+t.getDate()&&(m.today=t.getFullYear()+":"+(t.getMonth()+1)+":"+t.getDate(),m.initTyetime()),m.tryTime[e]&&0==m.tryTime[e]||!m.tryTime[e]?"wx"==i.channel?i.ad.showVideoAd(this,this.onTry2,i.wxAd.trynew,"ad_play",[e]):"vivo"==i.channel?i.ad.showVivoVideo(this,this.onTry2,i.vivoAd.trynew,"ad_play",[e]):"oppo"==i.channel?(u.upload(_.ad_play,3),i.ad.showOPPOVideo(this,this.onTry2,_.ad_play,[e])):"yl"===i.channel?i.ad.showVideoAd(this,this.onTry2,i.ylAd.trynew):i.ad.showVideoAd(this,this.onTry2,0,"ad_play",[e]):i.msg.show("今日这次动物已经试玩过了呢")}onTry2(e,t){if(e){m.setDailyTask(6,1),"wx"==i.channel||"qq"==i.channel?i.TmCtrl.instance.tmSendEvent("ad_play",{value:"完成"}):"zj"==i.channel?i.reportEvent("ad_play",{value:"完成"}):"oppo"==i.channel&&u.upload(_.ad_play,4),m.addTryTime(t[0]);let e=m.get("dangerArr",[0,0,0])[t[0]];if(0==e)return;this.curTryId=e,this.onBack(),g.shipCtrl.startGame()}else g.videoTipCtrl.showTips();"vivo"==i.channel&&i.sound.playMusic("audioGame/Music_Zoo.mp3")}onStart(){this.onBack(),g.shipCtrl.startGame()}initBig(){let e=m.getTodayAotd();e[1]?(this._view.btnSearch.disabled=!1,this._view.imgBtnZi.skin="endangeredanimals/img_zi_3.png"):(this._view.btnSearch.disabled=!0,this._view.imgBtnZi.skin="endangeredanimals/img_zi_4.png");let t=e[0];t=(t=t.replace(".lh","")).replace("game/Conventional/",""),this._view.iconBig.skin="icons/"+t+".png"}initIcon(){let e=m.get("dangerArr",[0,0,0]),t=[],i=m.cfgSpawn;for(let n=0;n<e.length;n++){let s=e[n];if(0==s)break;for(const e in i)if(i.hasOwnProperty(e)){let n=i[e].animal;for(let e=0;e<n.length;e++){let i=n[e];if(i.id==s){t.push(i.name);break}}}}for(let i=0;i<3;i++){const n=t[i],s=e[i];let a=this._view["label"+i];if(n&&s){this._view["icon"+i].skin="icons/"+n+".png";let e=m.cfgAnimal[s].name;if(a.text=e,m.getAnimals(m.cfgAnimal[s].encId).indexOf(s)>-1){let e=this._view["btn"+i].getChildAt(0).getChildByName("labelGold"),t=e.getChildByName("labelGold2");e.text=t.text="已购买",this._view["btn"+i].disabled=!0}}else a.text="售罄",a.centerX=a.centerY=0,this._view["btn"+i].visible=!1,this._view["btnTry"+i].visible=!1}}updateView(){this.initBig(),this.initIcon(),"wx"==i.channel||"qq"==i.channel?i.TmCtrl.instance.tmSendEvent("ad_play",{value:"曝光"}):"zj"==i.channel?i.reportEvent("ad_play",{value:"曝光"}):"oppo"==i.channel&&u.upload(_.ad_play,2),this._view.icon0.y=28,this._view.icon1.y=28,this._view.icon2.y=28,this.startTimeOut()}startTimeOut(){let e=Laya.Browser.now(),t=new Date(e).setHours(23,59,59,0);this._time=Math.floor((t-e)/1e3),this._time>0&&(this.loop(),Laya.timer.clear(this,this.loop),Laya.timer.loop(1e3,this,this.loop))}loop(){let e=this._time,t=Math.floor(e/3600)+"";e=Math.floor(e%3600);let i=Math.floor(e/60)+"",n=Math.floor(e%60)+"";t=t.length<2?"0"+t:t,i=i.length<2?"0"+i:i,n=n.length<2?"0"+n:n,this._view.labelTime.text=t+"时"+i+"分"+n+"秒",this._time--,this._time<0&&this.startTimeOut()}showDanger(){"zoo"==this._sceneName&&i.stage.addChild(this._view,i.Layer.MIDDLE),Laya.timer.callLater(this,this.updateView),Laya.timer.once(1e3,this,()=>{"qq"==i.channel||"wx"==i.channel?i.ad.showInsertAd():"zj"==i.channel?i.ad.showZjInsertAd():"vivo"==i.channel?ve.showAsBanner2("abea873d8eef4a7d904c27e005acebea",this._view.vivoActive):i.channel})}onBack(){g.shipCtrl.backToShip(),this._view.removeSelf(),Laya.timer.clearAll(this)}onClick(e){switch(e.target){case this._view.btnSearch:this.onBack(),g.shipCtrl.startGame();break;case this._view.btn0:case this._view.btn1:case this._view.btn2:}}}g.endangeredAnimals=new Re;class De{clearProgress(){this.progress=0}reset(e,t){let i=m.cfgMission[e];i&&(this.dec=i.dec,this.id=e,this.area=i.area,this.type=i.type,this.target=i.target,this.value=i.value,this.difficulty=i.difficulty,this.progress=t)}destroy(){this.dec=null,this.id=null,this.area=null,this.type=null,this.target=null,this.value=null,this.difficulty=null,this.progress=null}}class Oe extends Laya.EventDispatcher{constructor(){super(...arguments),this._resetTypeList=["RIDE_CNT","CRASH_IN_ONE","RUN_NO_JUMP","JUMP_IN_ONE","JUMP_LONG_IN_ONE","CRASH_ANIMAL_IN_ONE","CRASH_ANIMAL_IN_ONE_WITH","RUN_IN_ONE","RIDE_DIF_IN_ONE"]}init(){this._taskInfoList=m.get("task",[]),this._taskIndex=m.get("taskIndex",-1),this._nextTaskTime=m.get("nextTaskTime",0),this._taskList=[],this._completeList=[];for(let e=0;e<this._taskInfoList.length&&e<1;e++){const t=this._taskInfoList[e],i=new De;i.reset(t.id,t.progress),this._taskList.push(i)}this.checkChangeTask(),i.eventBus.on("AFTER_ENTER_SCENE",this,this.changeScene),i.eventBus.on(Laya.Event.BLUR,this,this.save),i.eventBus.on("TASK_UPDATE",this,this.onTaskUpdate),i.eventBus.on("CLICK_AD",this,this.log_point),i.eventBus.on("FAILED_AD",this,this.fail_ad),this.on("TASK_COMPLETE",this,this.task_complete),this.loop()}fail_ad(e){"oppo"==i.channel&&u.upload(e,5)}task_complete(){Laya.timer.once(2e3,this,()=>{for(let e=0;e<5;e++){this._taskIndex+=1;let e=new De;if(e.reset(this._taskIndex,0),"ANIMAL"==e.type)if(e.target>999){if(m.getAnimals(e.target).length>0)continue}else if(m.getAnimals(m.cfgAnimal[e.target].encId).indexOf(e.target)>-1)continue;this._taskInfoList.push({id:this._taskIndex,progress:0}),this._taskList.push(e),"game"==i.stage.sceneName&&g.gameCtrl.displayTarget(!0),m.set("nextTaskTime",this._nextTaskTime,!1),m.set("task",this._taskInfoList,!1),m.set("taskIndex",this._taskIndex,!0),this.event("TASK_ADD",e);break}})}checkChangeTask(){if(this._taskList&&this._taskList[0])for(;(this._taskList[0].target>999&&m.getAnimals(this._taskList[0].target).length>0||this._taskList[0].target<1e3&&m.cfgAnimal[this._taskList[0].target]&&m.cfgAnimal[this._taskList[0].target].encId&&m.getAnimals(m.cfgAnimal[this._taskList[0].target].encId).indexOf(this._taskList[0].target)>-1)&&"ANIMAL"==this._taskList[0].type;){this._taskList.splice(0,1),this._taskInfoList.splice(0,1),this._taskIndex+=1;let e=new De;e.reset(this._taskIndex,0),this._taskInfoList.push({id:this._taskIndex,progress:0}),this._taskList.push(e),m.set("nextTaskTime",this._nextTaskTime,!1),m.set("task",this._taskInfoList,!1),m.set("taskIndex",this._taskIndex,!1),this.event("TASK_ADD",e)}}changeScene(e){for(let e=0;e<this._taskList.length;e++){const t=this._taskList[e];-1!==this._resetTypeList.indexOf(t.type)&&(t.clearProgress(),this._taskInfoList[e].progress=0)}for(m.set("task",this._taskInfoList,!1);this._completeList.length>0;){this._completeList.pop().destroy()}this.save()}log_point(e){"wx"==i.channel||"qq"==i.channel?i.TmCtrl.instance.tmSendEvent(e,{value:"点击"}):"zj"==i.channel&&i.reportEvent(e,{value:"点击"})}changeTask2(e,t){if(e){if(m.setDailyTask(6,1),this._taskInfoList&&this._taskInfoList.length>0)for(let e=0;e<this._taskList.length;e++){const n=this._taskList[e];this._taskList.splice(e,1),this._taskInfoList.splice(e,1),this._completeList.push(n);for(let e=0;e<5;e++){this._taskIndex+=1;let e=!1;e=this._taskIndex%5==0;let n=new De;if(n.reset(this._taskIndex,0),"ANIMAL"==n.type)if(n.target>999){if(m.getAnimals(n.target).length>0)continue}else if(m.getAnimals(m.cfgAnimal[n.target].encId).indexOf(n.target)>-1)continue;this._taskInfoList.push({id:this._taskIndex,progress:0}),this._taskList.push(n),e&&"wx"==i.channel&&(this._nextTaskTime=Laya.Browser.now()+12e5),m.set("nextTaskTime",this._nextTaskTime,!1),m.set("task",this._taskInfoList,!1),m.set("taskIndex",this._taskIndex,!1),this.event("TASK_ADD",n),m.addChangeTask(),"wx"==i.channel||"qq"==i.channel?i.TmCtrl.instance.tmSendEvent("ad_changeTask",{value:"完成"}):"zj"==i.channel?i.reportEvent("ad_changeTask",{value:"完成"}):"oppo"==i.channel&&u.upload(_.ad_changeTask,4),t&&(1==t[0]?g.gameCtrl.pauseChangeTask():2==t[0]?g.gameCtrl.restartGame():3==t[0]&&g.settingCtrl.updateTask());break}}}else g.videoTipCtrl.showTips();"vivo"==i.channel&&i.sound.playMusic("audioGame/Music_Zoo.mp3")}changeTask(e){return!(m.changeTask>=3)&&("wx"==i.channel?1==e?i.ad.showVideoAd(this,this.changeTask2,i.wxAd.taskpause,"ad_changeTask",[e]):2==e?i.ad.showVideoAd(this,this.changeTask2,i.wxAd.taskrestart,"ad_changeTask",[e]):3==e&&i.ad.showVideoAd(this,this.changeTask2,i.wxAd.tasksetting,"ad_changeTask",[e]):"vivo"==i.channel?i.ad.showVivoVideo(this,this.changeTask2,i.vivoAd.taskpause,"ad_changeTask",[e]):"oppo"==i.channel?(u.upload(_.ad_changeTask,3),i.ad.showOPPOVideo(this,this.changeTask2,_.ad_changeTask,[e])):"hw"===i.channel?m.gold>=50?(m.addGold(-50,1025),this.changeTask2(!0)):i.msg.show("金币不够"):"yl"===i.channel?i.ad.showVideoAd(this,this.changeTask2,i.ylAd.taskrestart,null,[e]):i.ad.showVideoAd(this,this.changeTask2,0,"ad_changeTask",[e]),!0)}save(){m.saveData()}loop(){let e,t=Laya.Browser.now(),n=!1;if(m.getAnimals(1e3)&&m.getAnimals(1e3).indexOf(13)>-1&&(n=!0),(n||t>=this._nextTaskTime)&&this._taskInfoList.length<1){if(this._taskIndex+=1,(e=new De).reset(this._taskIndex,0),"ANIMAL"==e.type)if(e.target>999){if(m.getAnimals(e.target).length>0)return}else if(m.getAnimals(m.cfgAnimal[e.target].encId).indexOf(e.target)>-1)return;this._taskInfoList.push({id:this._taskIndex,progress:0}),this._taskList.push(e),"game"==i.stage.sceneName&&g.gameCtrl.displayTarget(!0),0!=this._taskIndex&&this._taskIndex%5==0&&"wx"==i.channel&&(this._nextTaskTime=Laya.Browser.now()+12e5),m.set("nextTaskTime",this._nextTaskTime,!1),m.set("task",this._taskInfoList,!1),m.set("taskIndex",this._taskIndex,!0),this.event("TASK_ADD",e)}}getTaskInfo(){return this._taskList}getCompleteTaskInfo(){return this._completeList}onTaskUpdate(e,t,i){for(let n=0;n<this._taskList.length;n++){const s=this._taskList[n];if(s.type===e&&s.area==m.get("CURRENT_WORLD",0))if("ANIMAL"===s.type)if(s.target>999){if(m.cfgAnimal[t]){m.cfgAnimal[t].encId==s.target&&(this._taskList.splice(n,1),this._taskInfoList.splice(n,1),s.progress=s.value,--n,this._completeList.push(s),m.set("task",this._taskInfoList,!1),m.completeTask(),this.event("TASK_COMPLETE",s))}}else t==s.target&&(this._taskList.splice(n,1),this._taskInfoList.splice(n,1),s.progress=s.value,--n,this._completeList.push(s),m.set("task",this._taskInfoList,!1),m.completeTask(),this.event("TASK_COMPLETE",s));else"RIDE_STAY"==s.type||"RIDE_SAME_CNT"===s.type||"RUN_NO_JUMP"==s.type?t==s.target?i>=s.value?(s.progress=s.value,this._taskList.splice(n,1),this._taskInfoList.splice(n,1),--n,this._completeList.push(s),m.set("task",this._taskInfoList,!1),m.completeTask(),("RIDE_STAY"==s.type||"RUN_NO_JUMP"==s.type)&&g.player&&g.player.steed&&g.player.steed.rideTime&&(g.player.steed.rideTime=Math.floor(Laya.Browser.now()/1e3),g.player.steed.stayTime=0),this.event("TASK_COMPLETE",s)):g.gameCtrl.displayTarget(!0,i):"RIDE_SAME_CNT"===s.type&&g.gameCtrl.displayTarget(!0,0):"JUMP_LONG_IN_ONE"==s.type||"JUMP_LONG"==s.type?t>=s.target&&(s.progress+=i,g.player.flyDis=null,s.progress>=s.value?(s.progress=s.value,this._taskList.splice(n,1),this._taskInfoList.splice(n,1),--n,this._completeList.push(s),m.set("task",this._taskInfoList,!1),m.completeTask(),this.event("TASK_COMPLETE",s)):(g.gameCtrl.displayTarget(!0,s.progress),this.event("TASK_UPDATE",s))):s.target==t&&(s.progress+=i,s.progress>=s.value?(s.progress=s.value,this._taskList.splice(n,1),this._taskInfoList.splice(n,1),--n,this._completeList.push(s),m.set("task",this._taskInfoList,!1),m.completeTask(),this.event("TASK_COMPLETE",s)):(g.gameCtrl.displayTarget(!0,s.progress),this.event("TASK_UPDATE",s)))}}}class Ue extends i.BaseCtrl{constructor(){super()}start(){super.start(),this.bindAssets("res/atlas/freejew.atlas",Laya.Loader.ATLAS,"zoo")}beforeEnterScene(e){"zoo"==this._sceneName&&(this._btnBack.off("click",this,this.onBack),this._btnBack.clear(),this._btnBack=null,"vivo"==i.channel&&ve.clearAd("abea873d8eef4a7d904c27e005acebea"),this._view.removeSelf(),this._view.destroy(!0),this._view=null)}createChildren(e){"zoo"==e&&(this._view||(this._view=new n.main.FreeJewUI,this._btnBack=new L(this._view.btnBack),this._btnGain=new L(this._view.btnGain),this._btnClos=new L(this._view.btnCloseTip)),this._btnBack.on("click",this,this.onBack),this._btnGain.on("click",this,this.onGain),this._btnClos.on("click",this,this.showView),this.stopMaoPao())}onGain2(e){e?(m.setDailyTask(6,1),m.addFreeJewGainTimes(),this._view.boxMain.visible=!1,this._view.boxTip.visible=!0,m.addJew(6,1001),g.shipCtrl.showFreeJewBtn(),"wx"==i.channel||"qq"==i.channel?i.TmCtrl.instance.tmSendEvent("ad_freeDiamond",{value:"完成"}):"zj"==i.channel?i.reportEvent("ad_freeDiamond",{value:"完成"}):i.channel,"vivo"==i.channel||("oppo"==i.channel?i.ad.showQGbanner(i.oppoBannerAd.freejew):"bd"==i.channel||i.ad.showTTBanner(0))):g.videoTipCtrl.showTips(),"vivo"==i.channel&&i.sound.playMusic("audioGame/Music_Zoo.mp3")}onGain(){var e=new Date;if(m.today!=e.getFullYear()+":"+(e.getMonth()+1)+":"+e.getDate()&&(m.today=e.getFullYear()+":"+(e.getMonth()+1)+":"+e.getDate(),m.initFreeJewGain()),m.freeJewGainTimes<=0)return i.msg.show("次数已用尽，明再来"),this.onBack(),void g.shipCtrl.showFreeJewBtn();"wx"==i.channel?i.ad.showVideoAd(this,this.onGain2,i.wxAd.freejew,"ad_freeDiamond"):"vivo"==i.channel?i.ad.showVivoVideo(this,this.onGain2,i.vivoAd.freejew,"ad_freeDiamond"):"oppo"==i.channel?i.ad.showOPPOVideo(this,this.onGain2,_.ad_freeDiamond):"yl"===i.channel?i.ad.showVideoAd(this,this.onGain2,i.ylAd.freejew):i.ad.showVideoAd(this,this.onGain2,0,"ad_freeDiamond")}stopMaoPao(){this._view.on(Laya.Event.MOUSE_DOWN,this,e=>{e.stopPropagation()});for(let e=0;e<this._view.numChildren;e++){this._view.getChildAt(e).on(Laya.Event.MOUSE_DOWN,this,e=>{e.stopPropagation()})}}init(){}updateView(){if(m.freeJewGainTimes<=0)return this._view.boxTip.visible=!1,i.msg.show("次数已用尽，明日再来"),void this.onBack();"vivo"==i.channel?ve.showAsBanner2("abea873d8eef4a7d904c27e005acebea",this._view.vivoActive):i.channel,this.init(),this._view.boxMain.visible=!0,this._view.boxTip.visible=!1;var e=new Date;m.today!=e.getFullYear()+":"+(e.getMonth()+1)+":"+e.getDate()&&(m.today=e.getFullYear()+":"+(e.getMonth()+1)+":"+e.getDate(),m.initFreeJewGain()),i.channel==i.Channel.zj||"oppo"==i.channel||"vivo"==i.channel?(this._view.wxOnly.visible=!1,this._view.wxExcept.visible=!0,this._view.wxExcept.centerY=-30):(this._view.wxOnly.visible=!0,this._view.wxExcept.visible=!0,this._view.wxExcept.centerY=-65,this._view.wxOnly.centerY=140,this._view.labelShengyu.text=m.freeJewGainTimes+""),"wx"==i.channel||"qq"==i.channel?i.TmCtrl.instance.tmSendEvent("ad_freeDiamond",{value:"曝光"}):"zj"==i.channel?i.reportEvent("ad_freeDiamond",{value:"曝光"}):i.channel,this._view.labelGainjew0.text=this._view.labelGainjew1.text="6","zj"==i.channel?i.ad.showTTBanner(0):i.ad.hideBanner()}showView(){"zoo"==this._sceneName&&i.stage.addChild(this._view,i.Layer.MIDDLE),Laya.timer.callLater(this,this.updateView)}onBack(){i.ad.hideBanner(),this._view.removeSelf()}}g.freeJewCtrl=new Ue;class Ve extends i.BaseCtrl{constructor(){super(),this._testData=[{nickname:"玩家",grade:"成绩"},{nickname:"玩家",grade:"成绩"},{nickname:"玩家",grade:"成绩"},{nickname:"玩家",grade:"成绩"},{nickname:"玩家",grade:"成绩"},{nickname:"玩家",grade:"成绩"},{nickname:"玩家",grade:"成绩"}]}start(){super.start(),this.bindAssets("res/atlas/rank.atlas",Laya.Loader.ATLAS,"zoo")}beforeEnterScene(e){"zoo"==this._sceneName&&(this._btnBack.off("click",this,this.onBack),this._btnXuanYao.off("click",this,this.onXuanYao),this._btnBack.clear(),this._btnBack=null,this._btnXuanYao.clear(),this._btnXuanYao=null,this._mainView.tab0.off(Laya.Event.CLICK,this,this.onTab),this._mainView.tab1.off(Laya.Event.CLICK,this,this.onTab),this._mainView.tab2.off(Laya.Event.CLICK,this,this.onTab),this._mainView.tab3.off(Laya.Event.CLICK,this,this.onTab),this._mainView.removeSelf(),this._mainView.destroy(!0),this._mainView=null)}createChildren(e){if("zoo"==e&&(this._mainView||(this._mainView=new n.main.NewRankUI,this._btnBack=new L(this._mainView.btnBack),this._btnXuanYao=new L(this._mainView.btnXuanYao)),this._btnBack.on("click",this,this.onBack),this._btnXuanYao.on("click",this,this.onXuanYao),this._mainView.tab0.on(Laya.Event.CLICK,this,this.onTab,[0]),this._mainView.tab1.on(Laya.Event.CLICK,this,this.onTab,[1]),this._mainView.tab2.on(Laya.Event.CLICK,this,this.onTab,[2]),this._mainView.tab3.on(Laya.Event.CLICK,this,this.onTab,[3]),this.stopMaoPao(),!this._firstLogin&&(this._firstLogin=!0,null!=i.gid))){let e;if("oppo"===i.channel||"vivo"===i.channel)e=Laya.Browser.window.qg;else if("zj"===i.channel){e=Laya.Browser.window.tt;let t=this;e.getUserInfo({success(e){e&&t.sendMessageToServer(e.nickName,e.avatarUrl)},fail(e){}})}}}sendMessageToServer(e,t){let n=new Laya.HttpRequest;n.http.timeout=5e3,n.once(Laya.Event.COMPLETE,this,e=>{});let s="uid="+i.gid+"&channel="+i.channel+"&distance_count="+m.stat_distance+"&tickets_count="+m.stat_tickts+"&animals_count="+m.stat_animals+"&golds_count="+m.stat_addgold+"&nickname="+e+"&headimg="+t;n.send("http://192.168.170.240:9000/api/setRank?"+s,"","get","json")}onTab(e){e!=this._currentSelectedIndex&&(this.updateTab(e),this.updateList())}updateTab(e){this._currentSelectedIndex=e;for(let e=0;e<4;e++)this._currentSelectedIndex==e?this._mainView["tab"+e].skin="rank/tab"+e+"1.png":this._mainView["tab"+e].skin="rank/tab"+e+"0.png";let t=this._currentSelectedIndex+".png";this._mainView.bg1.skin="rank/bg0"+t,this._mainView.bg2.skin="rank/bg1"+t,this._mainView.bg3.skin="rank/sjphb_di"+t,this._mainView.bg4.skin="rank/contentdi"+t,this._mainView.bg5.skin="rank/contentdi"+t,this._mainView.imgMyHead.skin="rank/headdi"+t}updateList(){if("wx"===i.channel||"qq"===i.channel){let e=Laya.Browser.window.wx,t=this._currentSelectedIndex;if(e){e.getOpenDataContext().postMessage({type:"onTab",value:t})}}else this._data&&this.setList(),this._myData&&this.updateMyItem()}onChaKanQun(){let e=Laya.Browser.window.wx;if(e){e.shareAppMessage({title:"疯狂动物园"}),e.getOpenDataContext().postMessage({type:"chakanqun"})}}onXuanYao(){let e=Laya.Browser.window.wx;if(e){let t=[null,["动物园里有什么？大西几、小脑虎！","https://zy-1257315588.file.myqcloud.com/zoo/share_img/share1.png"],["是人憋疯了？？还是动物憋疯了？","https://zy-1257315588.file.myqcloud.com/zoo/share_img/share2.png"],["小狐狸是怎么变胖的？","https://zy-1257315588.file.myqcloud.com/zoo/share_img/share3.png"],["这是什么动物跑出来了？","https://zy-1257315588.file.myqcloud.com/zoo/share_img/share4.png"],["饲养员是怎么喂长颈鹿的？","https://zy-1257315588.file.myqcloud.com/zoo/share_img/share5.png"],["你能骑上这头牛算我输！","https://zy-1257315588.file.myqcloud.com/zoo/share_img/share6.jpg"]],n=Math.floor(5*Math.random()+1);e.shareAppMessage({title:t[n][0],imageUrl:t[n][1],query:"gid="+i.gid}),e.getOpenDataContext().postMessage({type:"xuanyao"})}}stopMaoPao(){this._mainView.on(Laya.Event.MOUSE_DOWN,this,e=>{e.stopPropagation()});for(let e=0;e<this._mainView.numChildren;e++){this._mainView.getChildAt(e).on(Laya.Event.MOUSE_DOWN,this,e=>{e.stopPropagation()})}}init(){let e=this._mainView.list.localToGlobal(new Laya.Point(0,0));console.log("主域通知子域初始化");let t=Laya.Browser.window.wx,i=e.y;if(t){t.getOpenDataContext().postMessage({type:"init",value:i})}}updateItem(e,t){let i=e.dataSource,n=e.getChildByName("imgQianSan"),s=e.getChildByName("imgNo"),a=e.getChildByName("labelNickName"),o=e.getChildByName("labelGrade"),h=e.getChildByName("bg"),l=e.getChildByName("head");if(t<3)n.visible=!0,s.visible=!1,n.skin="rank/img_rank"+t+".png",h.skin="rank/"+(t+1)+"_di"+this._currentSelectedIndex+".png";else{n.visible=!1,s.visible=!0,s.skin="rank/numdi"+this._currentSelectedIndex+".png",s.getChildAt(0).text=t+1+"",h.skin="rank/4_di"+this._currentSelectedIndex+".png"}let r=JSON.parse(i.info);a.text=r.nickname,o.text=i.score,l.skin=r.avatarUrl}updateView(){if(this.updateTab(0),"wx"===i.channel||"qq"===i.channel)this._mainView.list.visible=!1,this._mainView.boxMy.visible=!1,this._mainView.imgTitle.skin="rank/hyphb.png",this.init();else{if(this._mainView.imgTitle.skin="rank/sjphb.png",this._mainView.list.visible=!0,this._mainView.boxMy.visible=!0,this._mainView.list.selectEnable=!0,this._mainView.list.mouseEnabled=!0,this._mainView.list.vScrollBarSkin="",this._mainView.list.renderHandler=new Laya.Handler(this,this.updateItem),this._requestTime){Math.floor((i.timerManager.now-this._requestTime)/1e3)>=1800&&(this._data.splice(0),this._data=null)}else this._requestTime=i.timerManager.now;if(!this._data){this._data=[];let e=new Laya.HttpRequest;e.http.timeout=5e3,e.once(Laya.Event.COMPLETE,this,e=>{if(0==e.code){console.log(e.data),null!==e.data.tickets&&this._data.push(e.data.tickets),null!==e.data.distance&&this._data.push(e.data.distance),null!==e.data.animals&&this._data.push(e.data.animals),null!==e.data.golds&&this._data.push(e.data.golds),this.setList(),this._myData={nickname:"我",avatarUrl:"",score:[m.stat_tickts,m.stat_distance,m.stat_animals,m.stat_addgold],rank:[100,100,100,100]};for(let e=0;e<this._data.length;e++){let t=this._data[e];for(let n=0,s=t.length;n<s;n++)if(i.gid==t[n].uid){this._myData[e].rank=n+1;break}}this.updateMyItem()}}),e.send("http://192.168.170.240:9000/api/getRank?channel="+i.channel,"","get","json")}}}updateMyItem(){this._mainView.imgMyHead.skin=this._myData.avatarUrl,this._mainView.labelMyGrade.text=this._myData.score[this._currentSelectedIndex],this._mainView.labelMyNo.text=100==this._myData.rank[this._currentSelectedIndex]?"100+":this._myData.rank[this._currentSelectedIndex]}setList(){this._mainView.list.array=this._data[this._currentSelectedIndex],this._mainView.list.refresh()}showView(){"zoo"==this._sceneName&&i.stage.addChild(this._mainView,i.Layer.MIDDLE),Laya.timer.callLater(this,this.updateView)}onBack(){this._mainView.removeSelf()}}g.rankCtrl=new Ve;class Xe extends i.BaseCtrl{constructor(){super()}start(){super.start(),this.bindAssets("res/atlas/attention.atlas",Laya.Loader.ATLAS,"zoo")}beforeEnterScene(e){"zoo"==this._sceneName&&(this._btnBack.off("click",this,this.onBack),this._btnBack.clear(),this._btnBack=null,this._btnGain.clear(),this._btnGain=null,this._view.removeSelf(),this._view.destroy(!0),this._view=null)}createChildren(e){"zoo"==e&&(this._view||(this._view=new n.main.AttentionUI,this._btnBack=new L(this._view.btnBack),this._btnGain=new L(this._view.btnGain)),this._btnBack.on("click",this,this.onBack),this._btnGain.on("click",this,this.onGain),this.stopMaoPao())}onGain(){1==m.get("attention",0)?(m.set("attention",2),this._view.btnGain.disabled=!0,this._view.btnGain.getChildAt(0).getChildByName("img").skin="attention/img_25.png",m.addJew(10,1008),i.msg.show("你领取了10钻石！")):i.msg.show("你已经领取过了")}stopMaoPao(){this._view.on(Laya.Event.MOUSE_DOWN,this,e=>{e.stopPropagation()});for(let e=0;e<this._view.numChildren;e++){this._view.getChildAt(e).on(Laya.Event.MOUSE_DOWN,this,e=>{e.stopPropagation()})}}init(){let e=m.get("attention",0);0==e?(m.set("attention",1),this._view.btnGain.disabled=!0):1==e?this._view.btnGain.disabled=!1:2==e&&(this._view.btnGain.disabled=!0,this._view.btnGain.getChildAt(0).getChildByName("img").skin="attention/img_25.png")}updateView(){this.init()}showView(){"zoo"==this._sceneName&&i.stage.addChild(this._view,i.Layer.MIDDLE),Laya.timer.callLater(this,this.updateView)}onBack(){g.settingCtrl.gameClub&&g.settingCtrl.gameClub.show(),this._view.removeSelf()}}g.attentionCtrl=new Xe;class Ye extends i.BaseCtrl{constructor(){super(),this._sliderWidth=480,this._achieveRandDesc=["拾取了 X 金币","撞碎了 X 个障碍物","撞飞了 X 个动物","吃掉了 X 个动物","撞碎了 X 个箱子"],this._collectItemDesc=["最高分 X 米","驯服了X动物","升级了X栖息地","解锁了X帽子"],this._collectData=[[{id:0,current:1e4,target:0,reward:1e4,status:0},{id:1,current:0,target:565,reward:2e3,status:0},{id:2,current:0,target:612,reward:2e3,status:0},{id:3,current:0,target:269,reward:2e3,status:0}],[{id:0,current:0,target:60,reward:1e3,status:0},{id:1,current:0,target:63,reward:1e3,status:0},{id:2,current:0,target:21,reward:1e3,status:0}],[{id:0,current:0,target:59,reward:1e3,status:0},{id:1,current:0,target:63,reward:1e3,status:0},{id:2,current:0,target:21,reward:1e3,status:0}]],this._time=0}start(){super.start(),this.bindAssets("res/atlas/setting.atlas",Laya.Loader.ATLAS,"zoo"),this.bindAssets("res/atlas/daymission.atlas",Laya.Loader.ATLAS,"zoo")}beforeEnterScene(e){"zoo"==this._sceneName&&(this._btnBack.off("click",this,this.onBack),this._btnBack.clear(),this._btnBack=null,this._btnTipClose.clear(),this._btnTipClose=null,this._view.btnDayTask.off(Laya.Event.CLICK,this,this.onTab),this._view.btnCollectProgress.off(Laya.Event.CLICK,this,this.onTab),i.channel===i.Channel.oppo?ve.clearAd("201533"):i.channel===i.Channel.vivo&&ve.clearAd("abea873d8eef4a7d904c27e005acebea"),this._view.removeSelf(),this._view.destroy(!0),this._view=null)}createChildren(e){if("zoo"==e){if(!this._view){this._view=new n.main.DayMissionUI,this._btnBack=new L(this._view.btnBack),this._btnTipClose=new L(this._view.btnCloseTip),this._btnGain=new L(this._view.btnGain),this._btn0=new L(this._view.btn0),this._btn1=new L(this._view.btn1),this._btn2=new L(this._view.btn2),this._btn3=new L(this._view.btn3),this._btn4=new L(this._view.btn4),this._btn5=new L(this._view.btn5),this._btn6=new L(this._view.btn6),this._btn7=new L(this._view.btn7),this._collectBtns=[[],[],[]];let e=this._view.boxCollectPro.getChildByName("panel");for(let t=0;t<e.numChildren;t++){let i=e.getChildAt(t);for(let e=1;e<i.numChildren;e++){let n=i.getChildAt(e);if(n){let i=n.getChildByName("btn");this._collectBtns[t][e-1]=new L(i,null,null,-26,-12),this._collectBtns[t][e-1].on(Laya.Event.CLICK,this,this.onCollectBtn,[t,e-1])}}}}this._btnBack.on("click",this,this.onBack),this._btnTipClose.on("click",this,this.onCloseTip),this._btnGain.on("click",this,this.onGainTwo),this._view.btnDayTask.on(Laya.Event.CLICK,this,this.onTab,[0]),this._view.btnCollectProgress.on(Laya.Event.CLICK,this,this.onTab,[1]),this._currentSelectIndex=0,this._view.boxCollectPro.getChildByName("panel").vScrollBarSkin="",this.stopMaoPao(),"oppo"==i.channel&&ve.showAsBanner("201533",this._view.oppoActive),"none"==i.channel?(this._view.labelSlider.text="0/6",this._misArr=[{status:0,id:0,name:"领取每日签到奖励",award:10,awardType:1,func:2},{status:0,id:1,name:"复活继续一次",award:10,awardType:1,func:1},{status:0,id:2,name:"完成2局游戏",award:10,awardType:1,func:1},{status:0,id:3,name:"一局游戏中超过1000米",award:20,awardType:1,func:1},{status:0,id:4,name:"游戏中花费100金币",award:20,awardType:1,func:0},{status:0,id:5,name:"完成开门营业",award:10,awardType:1,func:0}]):this._misArr=[{status:0,id:0,name:"领取每日签到奖励",award:10,awardType:1,func:2},{status:0,id:1,name:"复活继续一次",award:10,awardType:1,func:1},{status:0,id:2,name:"完成2局游戏",award:10,awardType:1,func:1},{status:0,id:3,name:"一局游戏中超过1000米",award:20,awardType:1,func:1},{status:0,id:4,name:"游戏中花费100金币",award:20,awardType:1,func:0},{status:0,id:5,name:"幸运大转盘中抽奖2次",award:20,awardType:1,func:0},{status:0,id:6,name:"累计观看3次广告",award:30,awardType:1,func:0},{status:0,id:7,name:"完成开门营业",award:10,awardType:1,func:0}]}}onTab(e){e!=this._currentSelectIndex&&(this._currentSelectIndex=e,0==e?(this._view.btnDayTask.skin="daymission/tab2.png",this._view.btnDayTask.getChildByName("imgIcon").skin="daymission/tabIcon2.png",this._view.btnDayTask.getChildByName("imgText").skin="daymission/rw2.png",this._view.btnCollectProgress.skin="daymission/tab3.png",this._view.btnCollectProgress.getChildByName("imgIcon").skin="daymission/tabIcon3.png",this._view.btnCollectProgress.getChildByName("imgText").skin="daymission/jd1.png",this._view.boxMu.visible=!0,this._view.boxCollectPro.visible=!1):1==e&&(this._view.btnDayTask.skin="daymission/tab1.png",this._view.btnDayTask.getChildByName("imgIcon").skin="daymission/tabIcon1.png",this._view.btnDayTask.getChildByName("imgText").skin="daymission/rw1.png",this._view.btnCollectProgress.skin="daymission/tab4.png",this._view.btnCollectProgress.getChildByName("imgIcon").skin="daymission/tabIcon4.png",this._view.btnCollectProgress.getChildByName("imgText").skin="daymission/jd2.png",this._view.boxMu.visible=!1,this._view.boxCollectPro.visible=!0))}onCollectBtn(e,t){let n=this._collectData[e][t];0==n.status?i.msg.show("收集完成才能领取奖励"):1==n.status&&(m.addGold(n.reward,1024),0==e?m.set("collectSum"+n.id,2):1==e?m.set("collectMapOne"+n.id,2):2==e&&m.set("collectMapTwo"+n.id,2),this.updateCollectPro())}onGainTwo(){this._view.btnGain.getChildAt(0).getChildAt(0).skin="daymission/img_20.png",this._view.btnGain.disabled=!0,m.addGold(30,1006),m.addJew(5,1007),m.set("hasGainDayMisAward",[1,1,1,1,1,1,1,1,1])}onCloseTip(){this._view.boxTip.visible=!1}stopMaoPao(){this._view.on(Laya.Event.MOUSE_DOWN,this,e=>{e.stopPropagation()});for(let e=0;e<this._view.numChildren;e++){this._view.getChildAt(e).on(Laya.Event.MOUSE_DOWN,this,e=>{e.stopPropagation()})}}updatePanel(){let e=[];for(let t=0;t<this._misArr.length;t++)e[t]=this._misArr[t];e.sort(this.sortFunc);let t=this._view.panel.getChildAt(0),n="none"==i.channel?5:t.numChildren;for(let s=0;s<n;s++){let n=e[s],a=t.getChildAt(s);if("oppo"==i.channel){if(a.name){t.height=1070;continue}s>=2&&(a.y=120*(s+1))}else{if(a.name)continue;"none"==i.channel?t.height=710:t.height=950}let o=a.getChildByName("labelTip"),h=a.getChildByName("btn"),l=a.getChildByName("labelGold"),r=h.getChildAt(0).getChildAt(0);o.text=n.name,l.text=n.award+"";let p=this["_btn"+s];if(!p)return;p.off(Laya.Event.CLICK,this,this.openPrize),p.off(Laya.Event.CLICK,this,this.openSignin),p.off(Laya.Event.CLICK,this,this.onGameStart),p.off(Laya.Event.CLICK,this,this.onClick),2==n.status?(r.skin="daymission/img_20.png",h.disabled=!0,h.skin="daymission/img_5.png",h.getChildAt(0).skin="btn/img_6.png"):1==n.status?(r.skin="daymission/img_15.png",h.disabled=!1,h.mouseEnabled=!0,h.skin="daymission/img_5.png",h.getChildAt(0).skin="btn/img_6.png",p.on(Laya.Event.CLICK,this,this.onClick,[n.id])):0==n.status&&(h.skin="btn/img_weiwan1.png",h.getChildAt(0).skin="btn/img_purple_0.png",n.func>0?(r.skin="daymission/img_16.png",1==n.func?p.on(Laya.Event.CLICK,this,this.onGameStart):2==n.func?p.on(Laya.Event.CLICK,this,this.openSignin,[h]):3==n.func&&p.on(Laya.Event.CLICK,this,this.openPrize),h.mouseEnabled=!0):(r.skin="daymission/img_24.png",r.height=31,r.width=93,h.mouseEnabled=!0,p.on(Laya.Event.CLICK,this,()=>{i.msg.show("当前任务尚未完成")})))}let s=0;for(let e=0;e<this._misArr.length;e++){this._misArr[e].status>0&&s++}this.setSlider(s)}setSlider(e){if(this._view.btnGain.getChildAt(0).getChildAt(0).skin="daymission/img_23.png",this._view.labelSlider.text=e+"/8",this._view.imgSlider.width=(this._sliderWidth-30)/8*e+30,e>=8){0==m.get("hasGainDayMisAward",[0,0,0,0,0,0,0,0,0])[8]?this._view.btnGain.disabled=!1:this._view.btnGain.disabled=!0}else this._view.btnGain.disabled=!0}openSignin(e){"daymission/img_15.png"!=e.getChildAt(0).getChildAt(0).skin&&(this.onBack(),g.settingCtrl.showSetting(4))}openPrize(){this.onBack(),g.prizeCtrl.showPrize()}onGameStart(){this.onBack(),g.shipCtrl.startGame()}onClick(e){console.log("领取奖励，id",e);let t=this._misArr[e],n=this._view.boxTip;n.visible=!0,n.getChildByName("twoAward").visible=!1;let s=this._view.tipMask;s.visible=!0,s.width=Laya.stage.width/i.stageScale,s.height=Laya.stage.height/i.stageScale,n.getChildByName("label").text="X"+t.award,m.addGold(t.award,1006);let a=m.get("hasGainDayMisAward",[0,0,0,0,0,0,0,0]);a[e]=1,m.set("hasGainDayMisAward",a),this.updateMisArr(),i.eventBus.event("DAILY_TASK")}updateMisArr(){let e=m.get("freshDayMisAwardTime",0),t=Laya.Browser.now(),i=new Date(t),n=new Date(e),s=[0,0,0,0,0,0,0,0,0];i.setHours(0,0,0,0)!=n.setHours(0,0,0,0)&&(m.set("freshDayMisAwardTime",t),m.set("hasGainDayMisAward",s));let a=m.get("hasGainDayMisAward",s),o=m.dailyTask;for(let e=0;e<this._misArr.length;e++){o[e][1]?(this._misArr[e].status=1,a[e]>0&&(this._misArr[e].status=2)):this._misArr[e].status=0}this.updatePanel()}sortFunc(e,t){return 2==e.status&&2==t.status?0:2==e.status?1:2==t.status?-1:1==e.status&&1==t.status?0:1==e.status?-1:1==t.status?1:0}updateCollectPanel(){for(let e=0;e<6;e++){this._view.imgAchievement.getChildByName("txt"+e).text=this._achieveDesc[e].replace("X",this._achieveData[e]+"")}let e=this._view.boxCollectPro.getChildByName("panel");for(let t=0;t<e.numChildren;t++){let i=e.getChildAt(t);for(let e=1;e<i.numChildren;e++){let n=i.getChildAt(e);if(n){let i=n.getChildByName("labelTip"),s=this._collectData[t][e-1];i.text=0==t?this._collectItemDesc[e-1].replace("X",s.current+""):this._collectItemDesc[e].replace("X",s.current+"/"+s.target);let a=n.getChildByName("labelTip2");if(a){let e=(m.stat_animals+m.stat_upencs+m.stat_hats+m.mapLevel)/1496*100;a.text="完成进度"+e.toFixed(0)+"%"}let o=n.getChildByName("labelGold");o&&(o.text=s.reward+"");let h=n.getChildByName("imgProgress");h&&(h.width=Math.min(460,s.current/s.target*460));let l=n.getChildByName("btn");0==s.status?(l.skin="btn/img_weiwan1.png",l.getChildAt(0).skin="btn/img_purple_0.png",l.getChildAt(0).getChildAt(0).skin="daymission/jxz.png",l.disabled=!1):1==s.status?(l.skin="daymission/img_5.png",l.getChildAt(0).skin="btn/img_6.png",l.getChildAt(0).getChildAt(0).skin="daymission/img_15.png",l.disabled=!1):2==s.status&&(l.skin="daymission/img_5.png",l.getChildAt(0).skin="btn/img_6.png",l.getChildAt(0).getChildAt(0).skin="daymission/img_20.png",l.disabled=!0)}}}}updateCollectPro(){this._achieveData=[m.stat_addgold,m.stat_tickts,m.stat_tasks],this._achieveDesc=["获得 X 金币","动物园票价 X","完成了 X 个任务"];let e=[m.stat_pickgold,m.stat_smashObstacles,m.stat_smashAnimals,m.stat_eatAnimals,m.stat_boxs],t=3,i=[];for(;t>0;){let n=Math.floor(5*Math.random());-1==i.indexOf(n)&&(i.push(n),this._achieveDesc.push(this._achieveRandDesc[n]),this._achieveData.push(e[n]),t--)}for(let e=0;e<this._collectData.length;e++)for(let t=0;t<this._collectData[e].length;t++){let i,n=this._collectData[e][t];if(0==e)if(i=m.get("collectSum"+n.id,0),0==t?n.current=m.stat_distance:1==t?n.current=m.stat_animals:2==t?n.current=m.stat_upencs:3==t&&(n.current=m.stat_hats),0==i)if(0==t){(m.stat_animals+m.stat_upencs+m.stat_hats+m.mapLevel)/1496>=1&&(m.set("collectSum"+n.id,1),n.status=1)}else n.current>=n.target&&(m.set("collectSum"+n.id,1),n.status=1);else n.status=i;else 1==e?(i=m.get("collectMapOne"+n.id,0),0==t?n.current=m.stat_savannahanimals:1==t?n.current=m.stat_savannahupencs:2==t&&(n.current=Math.min(21,m.stat_hats)),0==i?n.current>=n.target&&(m.set("collectMapOne"+n.id,1),n.status=1):n.status=i):2==e&&(i=m.get("collectMapTwo"+n.id,0),0==t?n.current=m.stat_jungleanimals:1==t?n.current=m.stat_jungleupencs:2==t&&(n.current=Math.min(21,Math.max(m.stat_hats-21,0))),0==i?n.current>=n.target&&(m.set("collectMapTwo"+n.id,1),n.status=1):n.status=i)}this.updateCollectPanel()}updateView(e){this.onTab(e),this._view.panel.vScrollBarSkin="",this.updateMisArr(),this.updateCollectPro(),"zj"==i.channel?"Douyin"==window.tt.getSystemInfoSync().appName||(i.ad.showTTBanner(0),this.resetPos()):"wx"==i.channel||"qq"==i.channel?(Ye.dayOpen=Ye.dayOpen||0,Ye.dayNum=Ye.dayNum||2,Ye.dayTime=Ye.dayTime||.3,this._time=this._time||0,console.log(Ye.dayOpen,this._time,Ye.dayNum-1),1==Ye.dayOpen&&this._time==Ye.dayNum-1?(this._view.btnBack.bottom=0,Laya.timer.once(1e3*Ye.dayTime,this,()=>{1==this._view.btnBack.visible&&(i.ad.showTTBanner(0),this.resetPos())})):(i.ad.showTTBanner(0),this.resetPos()),this._time=(this._time+1)%Ye.dayNum):"vivo"==i.channel?(i.ad.showQGbanner(0),this.resetPos()):"bd"==i.channel&&this.resetPos()}resetPos(){this._view.btnBack.bottom=i.ad.bannerHeight+30,this._view.boxMu.bottom=i.ad.bannerHeight+170,this._view.boxCollectPro.bottom=i.ad.bannerHeight+170,this._view.btnDayTask.bottom=i.ad.bannerHeight+170+750,this._view.btnCollectProgress.bottom=i.ad.bannerHeight+170+750}showView(e=0){"zoo"==this._sceneName&&i.stage.addChild(this._view,i.Layer.MIDDLE),Laya.timer.callLater(this,this.updateView,[e]),Laya.timer.once(1e3,this,()=>{"qq"==i.channel||"wx"==i.channel?i.ad.showInsertAd():"zj"==i.channel?i.ad.showZjInsertAd():"vivo"==i.channel?ve.showAsBanner2("abea873d8eef4a7d904c27e005acebea",this._view.vivoActive):i.channel})}onBack(){i.ad.hideBanner(),this._view.removeSelf()}showDian(){let e=m.get("freshDayMisAwardTime",0),t=Laya.Browser.now(),i=new Date(t),n=new Date(e),s=[0,0,0,0,0,0,0,0,0];i.setHours(0,0,0,0)!=n.setHours(0,0,0,0)&&(m.set("freshDayMisAwardTime",t),m.set("hasGainDayMisAward",s));let a=m.get("hasGainDayMisAward",s),o=m.dailyTask;for(let e=0;e<8;e++){if(o[e][1]&&0==a[e])return!0}return!1}}g.dayMissionCtrl=new Ye;class qe extends i.BaseCtrl{constructor(){super()}start(){super.start(),this.bindAssets("res/atlas/invite.atlas",Laya.Loader.ATLAS,"zoo")}beforeEnterScene(e){"zoo"==this._sceneName&&(this._btnBack.off("click",this,this.onBack),this._btnBack.clear(),this._btnBack=null,this._btnGain.clear(),this._btnGain=null,this._view.removeSelf(),this._view.destroy(!0),this._view=null)}createChildren(e){"zoo"==e&&(this._view||(this._view=new n.main.InviteFriendsUI,this._btnBack=new L(this._view.btnBack),this._btnGain=new L(this._view.btnGain),this._btnInvi=new L(this._view.btnInvite)),this._btnBack.on("click",this,this.onBack),this._btnGain.on("click",this,this.onGain),this._btnInvi.on("click",this,this.onInvite),this.stopMaoPao())}onInvite(){if("wx"==i.channel)i.tmShare("share_friend");else if("qq"==i.channel&&window.qq){i.TmCtrl.instance.tmSendEvent("share_phototeach",{value:"点击"});let e=[null,["开局一条龙，快来试玩吧！","https://zy-1257315588.file.myqcloud.com/zoo/share_img/share7.jpg"],["园长，快进来看看你的动物怎么样了？","https://zy-1257315588.file.myqcloud.com/zoo/share_img/share8.jpg"],["太魔性啦！这谁顶得住啊？","https://zy-1257315588.file.myqcloud.com/zoo/share_img/share9.jpg"]],t=Math.floor(2*Math.random()+1);window.qq.shareAppMessage({title:e[t][0],imageUrl:e[t][1],query:"gid="+i.gid})}}onGain(){let e=new Laya.HttpRequest;e.http.timeout=5e3,e.once(Laya.Event.ERROR,this,n=>{t<5?(t+=1,e.send(a,"","get","json")):i.msg.show("领取失败,请稍后再试~")}),e.once(Laya.Event.COMPLETE,this,e=>{if(0==e.code&&e.data){let t=e.data;t.reward&&null!==t.child&&null!==t.reward&&null!==t.count?(m.addGold(200*t.count,1008),m.addJew(2*t.count,1010),m.set("childnum",Number(t.child)),m.set("childreward",Number(t.reward)),this.showReward(),i.msg.show("领取成功，"+200*t.count+"金币，"+2*t.count+"钻石。")):i.msg.show("领取失败,请稍后再试~")}else 1109==e.code?i.msg.show("已领取完全部奖励~"):i.msg.show("领取失败,条件不足~")});let t=0,n=Laya.LocalStorage.getItem("zoozyClient"),s=Laya.Browser.now(),a="https://api.smartjoygames.com/zy/reward?sha="+i.md5(i.md5(i.key+i.noice)+s+":"+n+"::"+i.noice)+"&noice="+i.noice+"&time="+s+"&client="+n+"&game=zoo&channel="+i.channel+"&gid="+i.gid;e.send(a,"","get","json")}stopMaoPao(){this._view.on(Laya.Event.MOUSE_DOWN,this,e=>{e.stopPropagation()});for(let e=0;e<this._view.numChildren;e++){this._view.getChildAt(e).on(Laya.Event.MOUSE_DOWN,this,e=>{e.stopPropagation()})}}init(){if(!this._lasttime||Laya.Browser.now()/1e3-this._lasttime>=60){let e=new Laya.HttpRequest;e.http.timeout=5e3,e.once(Laya.Event.COMPLETE,this,e=>{if(0==e.code&&e.data){let t=e.data;console.log(t),null!==t.child&&null!==t.reward&&(m.set("childnum",Number(t.child)),m.set("childreward",Number(t.reward)),this.showReward())}});let t=Laya.LocalStorage.getItem("zoozyClient"),n=Laya.Browser.now(),s="https://api.smartjoygames.com/zy/getRewardInfo?sha="+i.md5(i.md5(i.key+i.noice)+n+":"+t+"::"+i.noice)+"&noice="+i.noice+"&time="+n+"&client="+t+"&game=zoo&channel="+i.channel+"&gid="+i.gid;console.log(s),e.send(s,"","get","json")}this._lasttime=this._lasttime||Laya.Browser.now()/1e3}showReward(){let e=m.get("childnum",0),t=m.get("childreward",0);console.log(e,t),e<=t&&(this._view.btnGain.disabled=!0),this._view.list.array=[{hasGain:0},{hasGain:0},{hasGain:0},{hasGain:0},{hasGain:0}];for(let i=0;i<5;i++){let n=this._view["btnInvi"+i].getChildAt(0).getChildAt(0);i<e?(n.skin="invite/touxiang.png",this._view.list.array[i].hasGain+=1):n.skin="",i<t&&(this._view.list.array[i].hasGain+=1)}}updateView(){this.init(),this.showReward(),this._view.list.renderHandler=new Laya.Handler(this,this.onTest),this._view.list.vScrollBarSkin=""}onTest(e,t){let i=e.getChildByName("imgStatus"),n=e.dataSource;i.skin={0:"invite/img_status0.png",1:"invite/img_status1.png",2:"invite/img_status2.png"}[n.hasGain];e.getChildByName("labelTip").text="邀请第"+{0:"一",1:"二",2:"三",3:"四",4:"五"}[t]+"位好友\n获得200金币 2钻石"}showView(){"zoo"==this._sceneName&&i.stage.addChild(this._view,i.Layer.MIDDLE),Laya.timer.callLater(this,this.updateView)}onBack(){this._view.removeSelf()}}g.inviteCtrl=new qe;class je extends i.BaseCtrl{constructor(){super()}start(){super.start(),this.bindAssets("res/atlas/giftbag.atlas",Laya.Loader.ATLAS,"zoo"),this.bindAssets("res/atlas/giftbag.atlas",Laya.Loader.ATLAS,"game")}beforeEnterScene(e){"zoo"==this._sceneName?(Laya.timer.clearAll(this),this._btnMoney.off(Laya.Event.CLICK,g.shopCtrl,g.shopCtrl.buyGiftBag),this._view.money.getChildByName("btn_thanks_money").off(Laya.Event.CLICK,this,this.btnThanks),this._view.try.getChildByName("btn_thanks_try").off(Laya.Event.CLICK,this,this.btnTryNext),this._btnReceive.off(Laya.Event.CLICK,this,this.btnReceive),this._btnSkinAd.off(Laya.Event.CLICK,this,this.btnSkinAd),this._btnBack.off(Laya.Event.CLICK,this,this.btnThanks),this._view.btnLeft.off(Laya.Event.CLICK,this,this.btnChange),this._view.btnRight.off(Laya.Event.CLICK,this,this.btnChange),this._index=null,this._val=null,this._curSkin=null,this._showList=null,this._tryId=null,"oppo"==i.channel?ve.clearAd("207983"):"vivo"==i.channel&&ve.clearAd("abea873d8eef4a7d904c27e005acebea"),this._begin=null,this._view.removeSelf(),this._view.destroy(!0),this._view=null):"game"==this._sceneName&&(Laya.timer.clearAll(this),this._btnReborn.off(Laya.Event.CLICK,g.shopCtrl,g.shopCtrl.buyGiftBag),this._view.reborn.getChildByName("btn_thanks_reborn").off(Laya.Event.CLICK,this,this.btnThanks),this._view.try.getChildByName("btn_thanks_try").off(Laya.Event.CLICK,this,this.btnTryNext),this._tryId=null,this._view.removeSelf(),this._view.destroy(!0),this._view=null)}createChildren(e){"zoo"==e?(this._view||(this._view=new n.main.GiftBagUI,this._view.on(Laya.Event.CLICK,this,this.onClick),this._btnMoney=new L(this._view.btn_buyMoney,null,"main",-62.5,-50),this._btnReceive=new L(this._view.btn_receive,null,"main",-45,-32.5),this._btnSkinAd=new L(this._view.btn_skinAd),this._btnBack=new L(this._view.btnBack),this._btnTry=new L(this._view.btnTry,null,"main",-62.5,-50)),this._btnMoney.on(Laya.Event.CLICK,g.shopCtrl,g.shopCtrl.buyGiftBag,["10"]),this._btnReceive.on(Laya.Event.CLICK,this,this.btnReceive),this._btnSkinAd.on(Laya.Event.CLICK,this,this.btnSkinAd),this._btnBack.on(Laya.Event.CLICK,this,this.btnThanks),this._btnTry.on(Laya.Event.CLICK,this,this.btnTry),this._view.btnLeft.on(Laya.Event.CLICK,this,this.btnChange,[1]),this._view.btnRight.on(Laya.Event.CLICK,this,this.btnChange,[2]),this._view.btnWatchAd.on(Laya.Event.CLICK,this,this.btnWatchAd),this.stopMaoPao()):"game"==e&&(this._view||(this._view=new n.main.GiftBagUI,this._view.on(Laya.Event.CLICK,this,this.onClick),this._btnTry=new L(this._view.btnTry,null,"main",-62.5,-50),this._btnReborn=new L(this._view.btn_buyReborn,null,"main",-62.5,-50)),this._btnTry.on(Laya.Event.CLICK,this,this.btnTry),this._btnReborn.on(Laya.Event.CLICK,g.shopCtrl,g.shopCtrl.buyGiftBag,["11"]),this._view.btnWatchAd.on(Laya.Event.CLICK,this,this.btnWatchAd),this.stopMaoPao())}stopMaoPao(){this._view.on(Laya.Event.MOUSE_DOWN,this,e=>{e.stopPropagation()});for(let e=0;e<this._view.numChildren;e++){this._view.getChildAt(e).on(Laya.Event.MOUSE_DOWN,this,e=>{e.stopPropagation()})}}btnReceive(){if(this._showList[this._curSkin]){let e=this._showList[this._curSkin][1];if(m.get("gift"+e,0)>=3){m.cfgAnimal[e].res;m.catchAnimal(e),this.btnThanks(),i.msg.show("恭喜你，获得了专属皮肤福利！")}}}btnSkinAd2(e){if(e){if(this._showList[this._curSkin]){let e=this._showList[this._curSkin][1],t=m.get("gift"+e,0);m.set("gift"+e,t+1),"wx"==i.channel||"qq"==i.channel?i.TmCtrl.instance.tmSendEvent("gm_rareplay01",{value:"完成"}):"zj"==i.channel?i.reportEvent("gm_rareplay01",{value:"完成"}):i.channel}}else g.videoTipCtrl.showTips();this.btnChange(0)}btnSkinAd(){"wx"==i.channel?i.ad.showVideoAd(this,this.btnSkinAd2,i.wxAd.freejew,"gm_rareplay01"):"vivo"==i.channel?i.ad.showVivoVideo(this,this.btnSkinAd2,i.vivoAd.freejew,"gm_rareplay01"):"oppo"==i.channel?i.ad.showOPPOVideo(this,this.btnSkinAd2,_.ad_skin):"yl"===i.channel?i.ad.showVideoAd(this,this.btnSkinAd2,i.ylAd.trynew):i.ad.showVideoAd(this,this.btnSkinAd2,0,"gm_rareplay01")}btnChange(e){if(this._showList&&this._showList.length>0){if(1==e){let e=(this._curSkin-1)%this._showList.length;this._curSkin=e<0?this._showList.length+e:e}else 2==e&&(this._curSkin=(this._curSkin+1)%this._showList.length);let t=this._showList[this._curSkin][1],n=m.get("gift"+t,0);if(this._view.img_skin.skin="giftbag/img_"+t+".png",this._view.title_skin.skin="188"==t?"giftbag/word_s"+t+".png":"giftbag/word_"+t+".png",n<3){this._view.watch_before.visible=!0,this._view.btn_receive.visible=!1;for(let e=0;e<3;e++){let t=this._view.watch_before.getChildByName("img_time"+e);t.skin=n>e?"giftbag/img_pro2.png":"giftbag/img_pro1.png"}}else this._view.watch_before.visible=!1,this._view.btn_receive.visible=!0;"wx"==i.channel||"qq"==i.channel?i.TmCtrl.instance.tmSendEvent("gm_rareplay01",{value:"曝光"}):"zj"==i.channel&&i.reportEvent("gm_rareplay01",{value:"曝光"})}else this.btnThanks()}btnThanks(){"oppo"===i.channel&&i.ad.hideBanner(),this._begin?(g.shipCtrl.openShop(101),this._view.removeSelf()):("zoo"==i.stage.sceneName?3==this._index?g.shipCtrl.startGame2(this._val):g.shipCtrl.backToShip("gift"+this._index):"game"==i.stage.sceneName&&(3==this._index?g.gameCtrl.restartGame():("oppo"==i.channel&&g.gameCtrl.firstTime||"bd"===i.channel&&g.gameCtrl.firstTime&&i.reportEvent("reborncancel"),g.gameCtrl.backToGame())),this._view.removeSelf())}get giftIndex(){return this._giftIndex}init(e){"oppo"==i.channel?(this._giftIndex=e,1==e?ve.showAsBanner2("207983",this._view.oppoActive):2==e&&(this._view.oppoActive.visible=!1,i.ad.showQGbanner(0))):"vivo"==i.channel?1==e?ve.showAsBanner2("abea873d8eef4a7d904c27e005acebea",this._view.vivoActive):2==e&&i.ad.showInsertAd():i.channel;let t=["reborn","money","skin","try"];for(let n=0;n<t.length;n++){let s=this._view[t[n]];if(e!=n)s.visible=!1;else if("reborn"==t[e]||"money"==t[e]){"wx"!=i.channel&&"qq"!=i.channel||("reborn"==t[e]?i.TmCtrl.instance.tmSendEvent("ys_package2",{value:"曝光"}):"money"==t[e]&&i.TmCtrl.instance.tmSendEvent("ys_package1",{value:"曝光"})),"reborn"==t[e]&&("qq"==i.channel||"none"==i.channel||"hw"===i.channel?(this._view.price.skin="giftbag/qq_price.png",this._view.price.width=138,this._view.price.height=103):(this._view.price.skin="giftbag/price.png",this._view.price.width=138,this._view.price.height=103)),s.visible=!0;let n=s.getChildByName("btn_thanks_"+t[e]);n.visible=!1,Laya.timer.once(2e3,this,()=>{n.visible=!0,n.on(Laya.Event.CLICK,this,this.btnThanks)})}else if("skin"==t[e]){let e=[[1001,"108"],[1005,"188"],[1007,"229"]];this._showList=[];for(let t=0;t<e.length;t++){let i=e[t][1],n=e[t][0];null!=m.enclosure[n]&&m.getAnimals(Number(n)).indexOf(Number(i))<0&&this._showList.push(e[t])}if(this._showList&&this._showList.length>0){s.visible=!0,1==this._showList.length?this._view.btnLeft.visible=this._view.btnRight.visible=!1:this._view.btnLeft.visible=this._view.btnRight.visible=!0;let e=T.GetRandom(0,this._showList.length,!0);this._curSkin=e;let t=this._showList[this._curSkin][1],n=m.get("gift"+t,0);if(this._view.img_skin.skin="giftbag/img_"+t+".png",this._view.title_skin.skin="188"==t?"giftbag/word_s"+t+".png":"giftbag/word_"+t+".png",n<3){this._view.watch_before.visible=!0,this._view.btn_receive.visible=!1;for(let e=0;e<3;e++){let t=this._view.watch_before.getChildByName("img_time"+e);t.skin=n>e?"giftbag/img_pro2.png":"giftbag/img_pro1.png"}}else this._view.watch_before.visible=!1,this._view.btn_receive.visible=!0;"wx"==i.channel||"qq"==i.channel?i.TmCtrl.instance.tmSendEvent("gm_rareplay01",{value:"曝光"}):i.channel}else this.btnThanks()}else if("try"==t[e]){"zj"===i.channel&&i.reportEvent("ad_skinTry",{value:"曝光"}),this.randomTry(),s.visible=!0;let n=s.getChildByName("btn_thanks_"+t[e]);n.visible=!1,Laya.timer.once(2e3,this,()=>{n.visible=!0,n.on(Laya.Event.CLICK,this,this.btnTryNext)})}}}btnTryNext(){this._view.gou.visible?this.btnTry():this.btnThanks()}randomTry(){let e=[["img_panda","word_panda",901],["img_dragon","word_dragon",902],["img_monkey","word_monkey",903]],t=T.GetRandom(0,3,!0);this._view.title.skin="giftbag/"+e[t][1]+".png";for(let t=0;t<e.length;t++){const i=e[t][0];this._view[i].visible=!1}this._view[e[t][0]].visible=!0,this._tryId=Number(e[t][2]),"oppo"==i.channel?(this._view.gou.visible=!1,this._view.try.getChildByName("btn_thanks_try").getChildAt(0).skin="giftbag/notry.png"):(this._view.try.getChildByName("btn_thanks_try").getChildAt(0).skin="giftbag/try.png",this._view.gou.visible=!0)}btnTry(){"wx"==i.channel?i.ad.showVideoAd(this,this.onTry2,i.wxAd.trynew,"gm_rareplay"):"vivo"==i.channel?i.ad.showVivoVideo(this,this.onTry2,i.vivoAd.trynew,"gm_rareplay"):"oppo"==i.channel?i.ad.showOPPOVideo(this,this.onTry2,_.ad_play):"yl"===i.channel?i.ad.showVideoAd(this,this.onTry2,i.ylAd.trynew):("zj"===i.channel&&i.reportEvent("ad_skinTry",{value:"播放"}),i.ad.showVideoAd(this,this.onTry2,0,"gm_rareplay"))}onTry2(e){e&&("wx"==i.channel||"qq"==i.channel?i.TmCtrl.instance.tmSendEvent("ad_play",{value:"完成"}):"zj"==i.channel?(i.reportEvent("ad_play",{value:"完成"}),i.reportEvent("ad_skinTry",{value:"成功"})):i.channel,g.endangeredAnimals.curTryId=this._tryId,"zoo"==i.stage.sceneName?g.shipCtrl.startGame2(this._val):"game"==i.stage.sceneName&&g.gameCtrl.restartGame(),this._view.removeSelf())}btnWatchAd(){let e=this._view.gou;e.visible?(e.visible=!1,this._view.try.getChildByName("btn_thanks_try").getChildAt(0).skin="giftbag/notry.png"):(this._view.try.getChildByName("btn_thanks_try").getChildAt(0).skin="giftbag/try.png",e.visible=!0)}updateView(e){this.init(e)}showGiftBag(e,t){"zoo"!=this._sceneName&&"game"!=this._sceneName||i.stage.addChild(this._view,i.Layer.MIDDLE),20==e?(e=2,this._begin=!0):this._begin=!1,this._index=e,this._val=t,Laya.timer.callLater(this,this.updateView,[e])}onClick(e){e.target}}g.giftbagCtrl=new je;class He extends i.BaseCtrl{constructor(){super()}start(){super.start(),this.bindAssets("res/atlas/setting.atlas",Laya.Loader.ATLAS,"zoo")}beforeEnterScene(e){"zoo"==this._sceneName&&(this._view.btnBack.off("click",this,this.onBack),this._btnBuy.off("click",g.shopCtrl,g.shopCtrl.buyOneDollar),this._btnBuy.clear(),this._btnBuy=null,this._view.ani1.stop(),this._from=null,this._index=null,this._view.removeSelf(),this._view.destroy(!0),this._view=null)}createChildren(e){"zoo"==e&&(this._view||(this._view=new n.main.OneDollarUI,this._btnBuy=new L(this._view.btnBuy)),this._view.btnBack.on("click",this,this.onBack),this._btnBuy.on("click",g.shopCtrl,g.shopCtrl.buyOneDollar),this.stopMaoPao())}stopMaoPao(){this._view.on(Laya.Event.MOUSE_DOWN,this,e=>{e.stopPropagation()});for(let e=0;e<this._view.numChildren;e++){this._view.getChildAt(e).on(Laya.Event.MOUSE_DOWN,this,e=>{e.stopPropagation()})}}updateView(){m.loop(),0==m.get("dollar",0)&&(this._view.boxMain.visible=!0,"vivo"==i.channel&&i.ad.showInsertAd())}showView(e,t){"zoo"==this._sceneName&&i.stage.addChild(this._view,i.Layer.MIDDLE),this._from=e,this._index=t,Laya.timer.callLater(this,this.updateView)}onBack(){"zoo"==i.stage.sceneName&&(this._view.removeSelf(),this._from?"start"==this._from&&g.shipCtrl.backToShip("start",this._index):g.shipCtrl.backToShip("dollar"))}}g.onedollarctrl=new He;class Fe extends i.BaseCtrl{constructor(){super()}start(){super.start(),this.bindAssets("res/atlas/question.atlas",Laya.Loader.ATLAS,"zoo"),this.bindAssets("question/di.png",Laya.Loader.IMAGE,"zoo"),this.bindAssets("question/tanchuang.png",Laya.Loader.IMAGE,"zoo"),this.bindAssets("question/zs.png",Laya.Loader.IMAGE,"zoo")}beforeEnterScene(e){if("zoo"==this._sceneName){this._btnStart.clear(),this._btnStart=null,this._btnBack.clear(),this._btnBack=null,this._btnSubmit.clear(),this._btnSubmit=null,this._btnCheck.clear(),this._btnCheck=null,this._btnSureSubmit.clear(),this._btnSureSubmit=null,this._btnResultClose.clear(),this._btnResultClose=null,this._btnDouble.clear(),this._btnDouble=null,this._btnFail.clear(),this._btnFail=null,this._btnKn.clear(),this._btnKn=null;for(let e=0;e<3;e++)this._btnKns[e].clear(),this._btnKns[e]=null;this._btnKns=null,this._view.btnAddCoin.off(Laya.Event.CLICK,this,this.onBtnAddCoin);for(let e=0;e<3;e++){let t=this._view["boxQ"+e].getChildByName("btnTrue"),i=this._view["boxQ"+e].getChildByName("btnFalse");t.off(Laya.Event.CLICK,this,this.onBtnTrue),i.off(Laya.Event.CLICK,this,this.onBtnFalse)}this._view.btnClose.off(Laya.Event.CLICK,this,this.onBtnCloseKn),this._view.off(Laya.Event.MOUSE_DOWN,this,this.onClick),this._reward=null,this._isFinish=null,i.channel===i.Channel.vivo&&ve.clearAd("abea873d8eef4a7d904c27e005acebea"),this._view.removeSelf(),this._view.destroy(!0),this._view=null}}createChildren(e){if("zoo"==e){if(!this._view){this._view=new n.main.AnswerQuestionUI,this._btnStart=new L(this._view.btnStart),this._btnBack=new L(this._view.btnBack),this._btnSubmit=new L(this._view.btnSubmit,null,"",-55,-39),this._btnCheck=new L(this._view.btnCheck),this._btnSureSubmit=new L(this._view.btnSureSubmit),this._btnResultClose=new L(this._view.btnResultClose),this._btnDouble=new L(this._view.btnDouble,null,"",-84,-68),this._btnFail=new L(this._view.btnFail,null,"",-84,-68),this._btnKn=new L(this._view.boxFail.getChildByName("btnKn")),this._btnKns=[];for(let e=0;e<3;e++)this._btnKns.push(new L(this._view["boxQ"+e].getChildByName("btnKn")))}this._btnStart.on(Laya.Event.CLICK,this,this.onBtnStart),this._btnBack.on(Laya.Event.CLICK,this,this.onBtnBack),this._btnSubmit.on(Laya.Event.CLICK,this,this.onBtnSubmit),this._btnCheck.on(Laya.Event.CLICK,this,this.onBtnCheck),this._btnSureSubmit.on(Laya.Event.CLICK,this,this.onBtnSureSubmit),this._btnResultClose.on(Laya.Event.CLICK,this,this.onBtnResultClose),this._btnDouble.on(Laya.Event.CLICK,this,this.onBtnDouble),this._btnFail.on(Laya.Event.CLICK,this,this.onBtnFail),this._btnKn.on(Laya.Event.CLICK,this,this.onBtnKn);for(let e=0;e<this._btnKns.length;e++)this._btnKns[e].on(Laya.Event.CLICK,this,this.onBtnKn,[e]);this._view.btnAddCoin.on(Laya.Event.CLICK,this,this.onBtnAddCoin);for(let e=0;e<3;e++){let t=this._view["boxQ"+e].getChildByName("btnTrue"),i=this._view["boxQ"+e].getChildByName("btnFalse");t.on(Laya.Event.CLICK,this,this.onBtnTrue,[e]),i.on(Laya.Event.CLICK,this,this.onBtnFalse,[e])}if(this._view.btnClose.on(Laya.Event.CLICK,this,this.onBtnCloseKn),this._view.on(Laya.Event.MOUSE_DOWN,this,this.onClick),this._view.btnAddCoin.visible=!1,0==m.get("knowledge",0))for(let e=0;e<3;e++)this._view["boxQ"+e].getChildByName("btnKn").getChildAt(1).visible=!0}}onClick(e){e.stopPropagation()}onBtnStart(){this._isFinish=!1,5==m.questionCount||("zj"==i.channel||"none"==i.channel)&&m.questionCount+Fe.zjQuestion>5?this.startAnswerQuestion(!0):"vivo"==i.channel?m.gold>=50?(m.addGold(-50,1022),this.startAnswerQuestion(!0)):i.msg.show("金币不足，无法开始答题"):"oppo"==i.channel?i.ad.showOPPOVideo(this,this.startAnswerQuestion):"yl"===i.channel?i.ad.showVideoAd(this,this.startAnswerQuestion,i.ylAd.knowledge):("zj"==i.channel?i.reportEvent("ad_answer",{value:"点击"}):"wx"==i.channel&&i.TmCtrl.instance.tmSendEvent("ad_answer",{value:"点击"}),i.ad.showVideoAd(this,this.startAnswerQuestion,0,"",null,!0))}startAnswerQuestion(e,t=!1){e?(m.questionCount--,t&&i.msg.show("运气爆棚！本次答题免费！",2e3),"zj"==i.channel?(i.reportEvent("answer",{value:"开始"}),fe.startRecordVideo(),m.questionCount<4&&i.reportEvent("ad_answer",{value:"完成"})):"wx"==i.channel&&(i.TmCtrl.instance.tmSendEvent("answer",{value:"开始"}),m.questionCount<4&&i.TmCtrl.instance.tmSendEvent("ad_answer",{value:"完成"})),this._view.boxMain.visible=!1,this._view.boxAnswer.visible=!0,this.randomQuestion(),this.updateQuestion(),this.updateBubble()):g.videoTipCtrl.showTips()}updateBubble(){this._isFinish?(this._view.bubble.visible=!1,Laya.timer.clearAll(this)):Laya.timer.once(6e3,this,()=>{if(1==this._view.boxAnswer.visible){let e=Math.floor(3*Math.random());this._view.bubble.y=this._view["boxQ"+e].getChildByName("btnKn").localToGlobal(new Laya.Point(0,0)).y-100,this._view.bubble.visible=!0,this.cancelBubble()}else Laya.timer.clearAll(this)})}cancelBubble(){this._isFinish?(this._view.bubble.visible=!1,Laya.timer.clearAll(this)):Laya.timer.once(3e3,this,()=>{1==this._view.boxAnswer.visible?(this._view.bubble.visible=!1,this.updateBubble()):Laya.timer.clearAll(this)})}updateQuestion(){this._answerState=[null,null,null];for(let e=0;e<3;e++){this._view["boxQ"+e].getChildByName("labelQ").text=this._data[e].question;let t=this._view["boxQ"+e].getChildByName("btnTrue"),i=this._view["boxQ"+e].getChildByName("btnFalse");t.getChildAt(0).visible=!1,i.getChildAt(0).visible=!1,this._view["boxQ"+e].getChildByName("imgAnswerState").visible=!1,t.mouseEnabled=!0,i.mouseEnabled=!0}this._view.btnSubmit.skin="question/3_1.png",this._view.btnSubmit.getChildAt(0).skin="question/3.png",this._view.btnSubmit.getChildAt(0).getChildAt(0).skin="question/jj1.png",this._view.btnSubmit.mouseEnabled=!1}randomQuestion(){this._data=[];let e=3,t=m.cfgQuestion.length,i=[];for(;e>0&&t>3;){let n=Math.floor(Math.random()*t);-1==i.indexOf(n)&&(i.push(n),this._data.push(m.cfgQuestion[n]),e--)}}onBtnBack(){g.shipCtrl.backToShip(),this._view.removeSelf()}onBtnSubmit(){if(this._isFinish){this._view.boxAnswer.visible=!1,this._view.boxMain.visible=!0;let e=m.questionCount;this._view.labelCount.text="还剩"+e+"次机会",e>0?("vivo"!=i.channel?(this._view.imgVideo.visible=!0,this._view.imgGold.visible=!1):(this._view.imgVideo.visible=!1,this._view.imgGold.visible=!0),this._view.btnStart.skin="question/1_1.png",this._view.imgBg.skin="question/1.png",this._view.imgText.skin="question/ks2.png",this._view.btnStart.mouseEnabled=!0):(this._view.imgVideo.visible=!1,this._view.imgGold.visible=!1,this._view.btnStart.skin="question/3_1.png",this._view.imgBg.skin="question/3.png",this._view.imgText.skin="question/ks1.png",this._view.btnStart.mouseEnabled=!1),("zj"==i.channel||"none"==i.channel)&&m.questionCount+Fe.zjQuestion>5&&(this._view.imgVideo.visible=!1)}else this._view.boxPop.visible=!0}onBtnCheck(){this._view.boxPop.visible=!1}onBtnSureSubmit(){"zj"==i.channel?i.reportEvent("answer",{value:"提交答案"}):"wx"==i.channel&&i.TmCtrl.instance.tmSendEvent("answer",{value:"提交答案"}),this._view.boxPop.visible=!1,this.playAnswerAnimation()}playAnswerAnimation(){let e=0;for(let t=0;t<3;t++){let n=this._view["boxQ"+t].getChildByName("imgAnswerState");n.visible=!0,this._answerState[t]==this._data[t].answer?n.skin="question/gou2.png":n.skin="question/cuo.png",n.scaleX=3,n.scaleY=3,n.alpha=0,e=500*t,i.Tween.to(n,{scaleX:1,scaleY:1,alpha:1},500,Laya.Ease.linearNone,Laya.Handler.create(this,()=>{2==t&&Laya.systemTimer.once(500,this,this.showResult)}),e);let s=this._view["boxQ"+t].getChildByName("btnTrue"),a=this._view["boxQ"+t].getChildByName("btnFalse");s.mouseEnabled=!1,a.mouseEnabled=!1}this._view.btnSubmit.skin="question/2_1.png",this._view.btnSubmit.getChildAt(0).skin="question/2.png",this._view.btnSubmit.getChildAt(0).getChildAt(0).skin="question/tc.png",this._view.btnSubmit.mouseEnabled=!1}showResult(){this._view.btnSubmit.mouseEnabled=!0,this._isFinish=!0,this._view.boxResult.visible=!0;let e=!0,t=-1;for(let i=0;i<this._answerState.length;i++)if(this._answerState[i]!=this._data[i].answer){e=!1,t=i;break}if(this._reward={type:null,count:null,hat:""},e){if("zj"==i.channel?i.reportEvent("answer_result",{value:"成功"}):"wx"==i.channel&&i.TmCtrl.instance.tmSendEvent("answer_result",{value:"成功"}),this._view.imgTitle.skin="question/title.png",this._view.boxSuccess.visible=!0,this._view.boxFail.visible=!1,this._view.btnDouble.visible=!0,this._view.btnFail.visible=!1,i.sound.playSound("audioGame/question_success.mp3"),0==m.get("questionFirstSuccess",0)){let e=m.getHat();e?(this.updateHat(),this._view.labelHat.visible=!0,this._view.imgIcon.skin="question/hat.png",this._view.labelRewardCount.text="+1",this._reward.type=2,this._reward.count=1,this._reward.hat=e,i.msg.show("恭喜获得稀有帽子："+m.cfgHats[this._reward.hat].name)):(this._view.labelHat.visible=!1,this._view.imgIcon.skin="question/jb.png",this._reward.type=0,this._reward.count=Math.ceil(.05*m.touristTicket[3]+200),this._view.labelRewardCount.text="+"+this._reward.count,m.addGold(this._reward.count,1022),this._view.gold1.text=m.gold.toString(),this._view.gold2.text=m.gold.toString()),m.set("questionFirstSuccess",1)}else{let e=Math.random();if(e<.5)this._view.labelHat.visible=!1,this._view.imgIcon.skin="question/jb.png",this._reward.type=0,this._reward.count=Math.ceil(.05*m.touristTicket[3]+200),this._view.labelRewardCount.text="+"+this._reward.count,m.addGold(this._reward.count,1022),this._view.gold1.text=m.gold.toString(),this._view.gold2.text=m.gold.toString();else if(e<.8)this._view.labelHat.visible=!1,this._view.imgIcon.skin="main/icon_jew.png",this._view.labelRewardCount.text="+6",this._reward.type=1,this._reward.count=6,m.addJew(this._reward.count,1014);else{let e=m.getHat();e?(this.updateHat(),this._view.labelHat.visible=!0,this._view.imgIcon.skin="question/hat.png",this._view.labelRewardCount.text="+1",this._reward.type=2,this._reward.count=1,this._reward.hat=e,i.msg.show("恭喜获得稀有帽子："+m.cfgHats[this._reward.hat].name)):(this._view.labelHat.visible=!1,this._view.imgIcon.skin="question/jb.png",this._reward.type=0,this._reward.count=Math.ceil(.05*m.touristTicket[3]+200),this._view.labelRewardCount.text="+"+this._reward.count,m.addGold(this._reward.count,1022),this._view.gold1.text=m.gold.toString(),this._view.gold2.text=m.gold.toString())}}}else"zj"==i.channel?i.reportEvent("answer_result",{value:"失败"}):"wx"==i.channel&&i.TmCtrl.instance.tmSendEvent("answer_result",{value:"失败"}),this._view.imgTitle.skin="question/jxnl.png",this._view.boxSuccess.visible=!1,this._view.boxFail.visible=!0,this._view.btnDouble.visible=!1,this._view.btnFail.visible=!0,i.sound.playSound("audioGame/question_fail.mp3"),this._view.boxFail.getChildByName("labelQ").text=t+1+"."+this._data[t].question,this._currentSelectIndex=t;"zj"==i.channel?(fe.stopRecordVideo(),this._view.btnDouble.getChildAt(0).getChildAt(0).skin="question/video.png",this._view.btnFail.getChildAt(0).getChildAt(0).skin="question/video.png",this._view.btnResultClose.visible=!1,Laya.systemTimer.once(2e3,this,()=>{this._view.btnResultClose.visible=!0})):(this._view.btnDouble.getChildAt(0).getChildAt(0).skin="question/sp.png",this._view.btnFail.getChildAt(0).getChildAt(0).skin="question/sp.png",this._view.btnResultClose.visible=!0)}updateHat(){"zoo"==this._sceneName&&(g.shipCtrl.dealHatsArr(),g.shipCtrl.createHats())}onBtnResultClose(){this._view.boxResult.visible=!1,"qq"==i.channel||"wx"==i.channel?i.ad.showInsertAd():"zj"==i.channel&&1==ge.zjQuestionInsert?i.ad.showZjInsertAd():"vivo"==i.channel?ve.showAsBanner2("abea873d8eef4a7d904c27e005acebea",this._view.vivoActive):i.channel}onBtnDouble(){"zj"==i.channel?fe.ttShareAppMessage("video",this,this.getZjReward):"vivo"==i.channel?i.ad.showVivoVideo(this,this.getReward):"oppo"==i.channel?i.ad.showOPPOVideo(this,this.getReward):"yl"===i.channel?i.ad.showVideoAd(this,this.getReward,i.ylAd.knowledge):i.ad.showVideoAd(this,this.getReward)}getZjReward(e){0==e.code&&this.addReward()}getReward(e){e?this.addReward():g.videoTipCtrl.showTips()}addReward(){if(0==this._reward.type)m.addGold(this._reward.count,1022),this._view.gold1.text=m.gold.toString(),this._view.gold2.text=m.gold.toString();else if(1==this._reward.type)m.addJew(this._reward.count,1014);else if(2==this._reward.type){let e=m.getHat();if(e)this.updateHat(),i.msg.show("恭喜获得稀有帽子："+m.cfgHats[e].name);else{let e=Math.ceil(.05*m.touristTicket[3]+200);m.addGold(e,1022),this._view.gold1.text=m.gold.toString(),this._view.gold2.text=m.gold.toString()}}this._view.boxResult.visible=!1}onBtnFail(){"zj"==i.channel?fe.ttShareAppMessage("video",this,this.getZjFailReward):"vivo"==i.channel?i.ad.showVivoVideo(this,this.getFailReward):"oppo"==i.channel?i.ad.showOPPOVideo(this,this.getFailReward):"yl"===i.channel?i.ad.showVideoAd(this,this.getFailReward,i.ylAd.knowledge):i.ad.showVideoAd(this,this.getFailReward),this._view.boxResult.visible=!1}getZjFailReward(e){0==e.code&&(m.addGold(50,1022),this._view.gold1.text=m.gold.toString(),this._view.gold2.text=m.gold.toString())}getFailReward(e){e?(m.addGold(50,1022),this._view.gold1.text=m.gold.toString(),this._view.gold2.text=m.gold.toString()):g.videoTipCtrl.showTips()}onBtnKn(e){if(void 0!==e&&(this._currentSelectIndex=e),0==m.get("knowledge",0)){this.getKnowledge(!0),m.set("knowledge",1);for(let e=0;e<3;e++)this._view["boxQ"+e].getChildByName("btnKn").getChildAt(1).visible=!1}else"vivo"==i.channel?i.ad.showVivoVideo(this,this.getKnowledge):"oppo"==i.channel?i.ad.showOPPOVideo(this,this.getKnowledge):"yl"===i.channel?i.ad.showVideoAd(this,this.getKnowledge,i.ylAd.knowledge):("zj"==i.channel?i.reportEvent("ad_knowledge",{value:"点击"}):"wx"==i.channel&&i.TmCtrl.instance.tmSendEvent("ad_knowledge",{value:"点击"}),i.ad.showVideoAd(this,this.getKnowledge))}getKnowledge(e){e?("zj"==i.channel?i.reportEvent("ad_knowledge",{value:"完成"}):"wx"==i.channel&&i.TmCtrl.instance.tmSendEvent("ad_knowledge",{value:"完成"}),this._view.boxKn.visible=!0,this._view.labelQuestion.text=this._currentSelectIndex+1+"."+this._data[this._currentSelectIndex].question,this._view.labelAnswer.text="背景知识："+this._data[this._currentSelectIndex].knowledge):g.videoTipCtrl.showTips()}onBtnAddCoin(){}onBtnTrue(e){null==this._answerState[e]&&("zj"==i.channel?i.reportEvent("answer_pick ",{value:e+1}):"wx"==i.channel&&i.TmCtrl.instance.tmSendEvent("answer_pick",{value:e+1})),this._answerState[e]=1;let t=this._view["boxQ"+e].getChildByName("btnTrue"),n=this._view["boxQ"+e].getChildByName("btnFalse");t.getChildAt(0).visible=!0,n.getChildAt(0).visible&&(n.getChildAt(0).visible=!1),this.judgeAllQuestionAnswer()}onBtnFalse(e){null==this._answerState[e]&&("zj"==i.channel?i.reportEvent("answer_pick ",{value:e+1}):"wx"==i.channel&&i.TmCtrl.instance.tmSendEvent("answer_pick",{value:e+1})),this._answerState[e]=0;let t=this._view["boxQ"+e].getChildByName("btnTrue");this._view["boxQ"+e].getChildByName("btnFalse").getChildAt(0).visible=!0,t.getChildAt(0).visible&&(t.getChildAt(0).visible=!1),this.judgeAllQuestionAnswer()}judgeAllQuestionAnswer(){let e=!0;for(let t=0;t<this._answerState.length;t++)if(null==this._answerState[t]){e=!1;break}e&&(this._view.btnSubmit.skin="question/1_1.png",this._view.btnSubmit.getChildAt(0).skin="question/1.png",this._view.btnSubmit.getChildAt(0).getChildAt(0).skin="question/jj2.png",this._view.btnSubmit.mouseEnabled=!0)}onBtnCloseKn(){this._view.boxKn.visible=!1}updateView(){this._view.gold1.text=m.gold.toString(),this._view.gold2.text=m.gold.toString(),this._view.boxMain.visible=!0,this._view.boxAnswer.visible=!1,this._view.boxKn.visible=!1,this._view.boxPop.visible=!1,this._view.boxResult.visible=!1;let e=m.questionCount;5==e?(this._view.imgVideo.visible=!1,this._view.labelCount.text="每日免费5次",this._view.btnStart.skin="question/1_1.png",this._view.imgBg.skin="question/1.png",this._view.imgText.skin="question/ks2.png",this._view.btnStart.mouseEnabled=!0):(this._view.labelCount.text="还剩"+e+"次机会",e>0?("vivo"!=i.channel?(this._view.imgVideo.visible=!0,this._view.imgGold.visible=!1):(this._view.imgVideo.visible=!1,this._view.imgGold.visible=!0),this._view.btnStart.skin="question/1_1.png",this._view.imgBg.skin="question/1.png",this._view.imgText.skin="question/ks2.png",this._view.btnStart.mouseEnabled=!0,"zj"==i.channel?i.reportEvent("ad_answer",{value:"曝光"}):"wx"==i.channel&&i.TmCtrl.instance.tmSendEvent("ad_answer",{value:"曝光"})):(this._view.imgVideo.visible=!1,this._view.imgGold.visible=!1,this._view.btnStart.skin="question/3_1.png",this._view.imgBg.skin="question/3.png",this._view.imgText.skin="question/ks1.png",this._view.btnStart.mouseEnabled=!1),("zj"==i.channel||"none"==i.channel)&&m.questionCount+Fe.zjQuestion>5&&(this._view.imgVideo.visible=!1))}showQuestion(){"zj"==i.channel?i.reportEvent("answer",{value:"进入"}):"wx"==i.channel&&i.TmCtrl.instance.tmSendEvent("answer",{value:"进入"}),"zoo"==this._sceneName&&i.stage.addChild(this._view,i.Layer.MIDDLE),Laya.timer.callLater(this,this.updateView)}}g.questionCtrl=new Fe;class We extends i.BaseCtrl{constructor(){super()}start(){super.start(),this.bindAssets("res/atlas/btn.atlas",Laya.Loader.ATLAS,"zoo"),this.bindAssets("res/atlas/btn.atlas",Laya.Loader.ATLAS,"game")}beforeEnterScene(e){"zoo"!=this._sceneName&&"game"!=this._sceneName||(this._btnClose.clear(),this._btnClose=null,this._callBack=null,this._caller=null,this._view.removeSelf(),this._view.destroy(!0),this._view=null)}createChildren(e){"zoo"!=e&&"game"!=e||(this._view||(this._view=new n.main.VideoTipsUI,this._btnClose=new L(this._view.btnClose,null,null,-23,-10)),this._btnClose.on(Laya.Event.CLICK,this,this.onBack))}updateView(){}showTips(e=null,t=null,n=0){"zoo"!=this._sceneName&&"game"!=this._sceneName||i.stage.addChild(this._view,i.Layer.MIDDLE),0==n?(this._view.imgVideo.visible=!0,this._view.textTips.visible=!1):(this._view.imgVideo.visible=!1,this._view.textTips.visible=!0,"bd"==i.channel&&(1==n?this._view.textTips.text=We.TIPS[0]:2==n?this._view.textTips.text=We.TIPS[1]:3==n&&(this._view.textTips.text=We.TIPS[2]))),this._caller=e,this._callBack=t}onBack(){this._view.removeSelf(),this._caller&&this._callBack&&this._callBack.call(this._caller)}}We.TIPS=["很抱歉，系统识别您今日游戏时长已经超过90分钟，您的游戏将强制下线","很抱歉，系统识别您今日游戏时长已经超过180分钟，您的游戏将强制下线","休息时间到，系统规定未成年人在22:00-8:00不得提供游戏服务，游戏即将下线。","很抱歉，本游戏适合玩家年龄8岁以上才能进行充值哦！","很抱歉，系统识别到您这周累计付费已经达到50元，本周不能继续充值了。","很抱歉，系统识别到您这周累计付费已经达到100元，本周不能继续充值了。","很抱歉，系统识别到您本月累计付费已经达到200元，本月不能继续充值了。"],g.videoTipCtrl=new We;class Ze extends i.BaseCtrl{constructor(){super()}start(){super.start(),this.bindAssets("res/atlas/giftbag.atlas",Laya.Loader.ATLAS,"zoo")}beforeEnterScene(e){"zoo"==this._sceneName&&(this._btnDouble.clear(),this._btnDouble=null,this._btnClose.clear(),this._btnClose=null,this._view.btnNormal.off(Laya.Event.CLICK,this,this.onBtnNormal),this._view.imgMask.off(Laya.Event.MOUSE_DOWN,this,this.onBtnMask),this._view.removeSelf(),this._view.destroy(!0),this._view=null)}createChildren(e){"zoo"==e&&(this._view||(this._view=new n.main.FestivalActivityUI,this._btnDouble=new L(this._view.btnDouble,null,null,-41,-26),this._btnClose=new L(this._view.btnclose,null,null,-19,-10)),this._btnDouble.on(Laya.Event.CLICK,this,this.onBtnDouble),this._btnClose.on(Laya.Event.CLICK,this,this.onBtnClose),this._view.btnNormal.on(Laya.Event.CLICK,this,this.onBtnNormal,[1]),this._view.imgMask.on(Laya.Event.MOUSE_DOWN,this,this.onBtnMask))}onBtnMask(e){e.stopPropagation()}onBtnDouble(){"wx"==i.channel||"qq"==i.channel||"zj"==i.channel||"bd"==i.channel||"hw"===i.channel?("zj"===i.channel&&i.reportEvent("ad_luckyBag",{value:"播放"}),i.ad.showVideoAd(this,this.getReward)):"oppo"==i.channel?i.ad.showOPPOVideo(this,this.getReward):"vivo"==i.channel?i.ad.showVivoVideo(this,this.getReward):"yl"===i.channel?i.ad.showVideoAd(this,this.getReward,i.ylAd.gift):this.getReward(!0)}getReward(e){e&&("zj"===i.channel&&i.reportEvent("ad_luckyBag",{value:"成功"}),this.onBtnNormal(2))}onBtnClose(){g.shipCtrl.backToShip("festival"),this._view.removeSelf()}onBtnNormal(e=1){let t=Number(this._view.textGold.text)*e,n=Number(this._view.textDiamond.text)*e;if(this._view.imgHat.visible)for(let t=0;t<e;t++){let e=m.getHat();e&&(this.updateHat(),i.msg.show("恭喜获得稀有帽子："+m.cfgHats[e].name))}else i.msg.show("恭喜获得钻石："+n+" 金币："+t);m.addGold(t,1028),m.addJew(n,1016);let s=new Date,a=s.getFullYear(),o=s.getMonth()+1,h=s.getDate(),l=m.get("getFdRewardDay","");""!=l?l+=","+a+"-"+o+"-"+h:l=a+"-"+o+"-"+h,m.set("getFdRewardDay",l),this.onBtnClose()}updateHat(){"zoo"==this._sceneName&&(g.shipCtrl.dealHatsArr(),g.shipCtrl.createHats())}updateView(){let e=new Date,t=e.getMonth()+1,i=e.getDate();10==t&&1==i?(this._view.textGold.text="500",this._view.textDiamond.text="10",this._view.imgHat.visible=!0,this._view.boxReward.x=166):(this._view.textGold.text="200",this._view.textDiamond.text="5",this._view.imgHat.visible=!1,this._view.boxReward.x=286)}showFestivalActivity(){"zj"===i.channel&&i.reportEvent("ad_luckyBag",{value:"曝光"}),"zoo"==this._sceneName&&i.stage.addChild(this._view,i.Layer.MIDDLE),Laya.timer.callLater(this,this.updateView)}}g.festivalActivityCtrl=new Ze;new class{constructor(){this._logined=!1,window.Laya3D?Laya3D.init(e.width,e.height):Laya.init(e.width,e.height,Laya.WebGL),Laya.Physics&&Laya.Physics.enable(),Laya.DebugPanel&&Laya.DebugPanel.enable(),Laya.stage.scaleMode=e.scaleMode,Laya.stage.screenMode=e.screenMode,Laya.stage.alignV=e.alignV,Laya.stage.alignH=e.alignH,Laya.URL.exportSceneToJson=e.exportSceneToJson,(e.debug||"true"==Laya.Utils.getQueryString("debug"))&&Laya.enableDebugPanel(),e.physicsDebug&&Laya.PhysicsDebugDraw&&Laya.PhysicsDebugDraw.enable(),Laya.LocalStorage.getItem("zoozyClient"),Laya.stage.bgColor="#eceff7",i.init("hw"),"none"!==i.channel&&("oppo"==i.channel||"vivo"==i.channel||"bd"==i.channel||"hw"===i.channel?(i.hasRequsetLogin=!0,i.eventBus.event("LOGINFAIL")):(i.eventBus.once("LOGINED",this,this.onLogined),i.login("zoo"))),"bd"==i.channel&&Laya.Browser.window.swan.getAntiAddiction&&Laya.Browser.window.swan.getAntiAddiction().onAntiAddiction(this.onBdCallback),Laya.ResourceVersion.enable("version.json",Laya.Handler.create(this,this.onVersionLoaded),Laya.ResourceVersion.FILENAME_VERSION)}onBdCallback(e,t){10001==e?g.videoTipCtrl.showTips(this,this.exitGame,1):10002==e?g.videoTipCtrl.showTips(this,this.exitGame,2):10003==e&&g.videoTipCtrl.showTips(this,this.exitGame,3)}onClientComplete(e){Laya.LocalStorage.setItem("zoozyClient",void 0),m.client=void 0}onVersionLoaded(){Laya.AtlasInfoManager.enable("fileconfig.json",Laya.Handler.create(this,this.onConfigLoaded))}zjError(){u.upload(_.oppo_fail)}onConfigLoaded(){"oppo"==i.channel?(u.upload(_.yx_launch),window.qg.onError(this.zjError.bind(this)),i.eventBus.on("FAILED_LOAD",this,()=>{u.upload(_.down_fail)})):"bd"===i.channel&&i.reportEvent("yx_launch"),i.ver=9,i.bindSceneUI("zoo",n.main.ShipUI,["main/spSale.ani","res/atlas/main.atlas","main/button_patch.png","main/button_patchHilight0.png","main/button_patchHilight1.png","main/button_patchHilight2.png","main/button_patchHilight3.png","main/button_patchHilight4.png","main/button_patchHilight5.png"]),i.bindSceneUI("game",n.main.GameUI,["res/atlas/main.atlas"]),i.bindSceneUI("teach",n.main.TeachUI,["res/atlas/preload.atlas"]);let e=["cfgFile.json","preload/bg1.png","preload/bg2.png","preload/bg3.png","preload/img_bg_1.png","preload/img_star.png","preload/lo.png"];"zj"==i.channel||"none"==i.channel?(e.push("preload/muji.png"),e.push("preload/black.png")):"oppo"!=i.channel&&"vivo"!=i.channel||(e.push("preload/oppo_vivo.png"),e.push("preload/white.png")),i.preload(e,this,this.onPreloadLoaded,new c),this.zjLiay(),Ne.start(),b.start(),f.start(),g.shipCtrl.start(),g.gameCtrl.start(),g.upgradeCtrl.start(),g.animalMoveCtrl.start(),g.teachCtrl.start(),g.mapCtrl.start(),g.touristMoveCtrl.start(),g.shopCtrl.start(),g.hatCtrl.start(),g.settingCtrl.start(),g.prizeCtrl.start(),g.tipsCtrl.start(),g.endangeredAnimals.start(),g.freeJewCtrl.start(),g.dayMissionCtrl.start(),g.giftbagCtrl.start(),g.onedollarctrl.start(),g.questionCtrl.start(),g.videoTipCtrl.start(),g.festivalActivityCtrl.start(),i.channel!=i.Channel.zj&&(g.rankCtrl.start(),g.attentionCtrl.start(),g.inviteCtrl.start()),g.taskCtrl=new Oe}enterFirstScene(){i.stage.start("teach",["cfg/cfgWorld.json","cfg/cfgAnimals.json","cfg/cfgEnc.json","cfg/cfgGround.json","cfg/cfgZoneDef.json","cfg/cfgUpgradeKey.json","cfg/cfgUpgrade.json","cfg/cfgHats.json","cfg/cfgMission.json","cfg/cfgSpawn.json","cfg/cfgQuestion.json"],this,()=>{i.eventBus.once("USERDATA_INIT",this,this.checkZjLiar),m.init(),k.instance.init(),g.taskCtrl.init(),1==m.get("TEACH",0)&&(i.stage.firstScene="zoo")})}zjLiay(){if("zj"!==i.channel)return;let e=new Laya.HttpRequest;e.http.timeout=5e3,e.once(Laya.Event.ERROR,this,e=>{we.zjLiarFHLimit=0,we.zjLiarFHVal=1,we.zjLiarMGLimit=0,we.zjLiarMGVal=1,we.zjGameInsert=0,ge.zjQuestionInsert=0,Fe.zjQuestion=1,this.zjTry=4}),e.once(Laya.Event.COMPLETE,this,e=>{console.log(e),0==e.code&&e.data&&"1.0.1"==e.data.ver?(e=e.data,we.zjLiarFHVal=e.A,we.zjLiarFHLimit=e.B,we.zjLiarMGVal=e.C,we.zjLiarMGLimit=e.D,we.zjGameInsert=e.F||0,ge.zjQuestionInsert=e.G||0,Fe.zjQuestion=e.H||1,this.zjTry=e.I||4):(we.zjLiarFHLimit=0,we.zjLiarFHVal=1,we.zjLiarMGLimit=0,we.zjLiarMGVal=1,we.zjGameInsert=0,ge.zjQuestionInsert=0,Fe.zjQuestion=e.H||1,this.zjTry=e.I||4)}),e.send("https://zy-1257315588.file.myqcloud.com/zoo/zj/log.json?time="+Laya.Browser.now(),"","get","json")}initTm(){let e;"wx"==i.channel?e=wx:"qq"==i.channel&&(e=window.qq),e.tmSDK.init({hideRequestLog:!1,appVersion:"1.0.0"}),e.tmSDK.getAppJSONConfig&&(e.tmSDK.getAppJSONConfig("banner_config").then(e=>{console.log(e),e&&e.daymission&&(Ye.dayOpen=e.daymission.open||0,Ye.dayTime=e.daymission.time||.3,Ye.dayNum=e.daymission.num||2),e&&e.restart&&(we.restartOpen=e.restart.open||0,we.restartTime=e.restart.time||.3,we.restartNum=e.restart.num||2)}),e.tmSDK.getAppJSONConfig("video_config").then(e=>{console.log(e),e.A&&e.B&&e.C&&e.D?(we.zjLiarFHVal=e.A,we.zjLiarFHLimit=e.B,we.zjLiarMGVal=e.C,we.zjLiarMGLimit=e.D):(we.zjLiarFHLimit=0,we.zjLiarFHVal=1,we.zjLiarMGLimit=0,we.zjLiarMGVal=1)}),e.tmSDK.getAppJSONConfig("city_config").then(t=>{e.tmSDK.login&&e.tmSDK.login().then(e=>{if(console.log(e),e&&e.login_city){let i=e.login_city;if(console.log(t),1==t.open&&t.city&&t.city.length>0)for(let e=0;e<t.city.length;e++)if(t.city[e]==i){console.log("被清理了",i),Ye.dayOpen=0,we.restartOpen=0,we.zjLiarFHLimit=0,we.zjLiarMGLimit=0;break}}})}))}zjLiar(){m.set("zjLiarFHBig",0),m.set("zjLiarFHSmall",1),m.set("zjLiarMGBig",0),m.set("zjLiarMGSmall",1)}onLogined(e){this._data=e,this._logined=!0,"hw"==i.channel&&Laya.Browser.window.superSDK.getCustomData&&Laya.Browser.window.superSDK.getCustomData("getPlayerExtraInfo",{},function(e){1==e.code&&e.msg&&(e.msg.isRealName?e.msg.isAdult||(e.msg.playerDuration>=5400?g.videoTipCtrl.showTips(this,this.exitGame,1):Laya.systemTimer.loop(9e5,this,this.getPlayerExtraInfo)):i.msg.show("请进行实名认证，否则将进行防沉迷限制"))})}getPlayerExtraInfo(){Laya.Browser.window.superSDK.getCustomData&&Laya.Browser.window.superSDK.getCustomData("getPlayerExtraInfo",{},function(e){1==e.code&&e.msg&&(e.msg.isAdult||e.msg.playerDuration>=5400&&(Laya.systemTimer.clear(this,this.getPlayerExtraInfo),g.videoTipCtrl.showTips(this,this.exitGame,1)))})}exitGame(){"hw"==i.channel?Laya.Browser.window.conch&&Laya.Browser.window.conch.exit():"bd"==i.channel&&Laya.Browser.window.swan.exit&&Laya.Browser.window.swan.exit({success:function(){console.log("退出游戏")}})}checkZjLiar(){if(this.zjTry=this.zjTry||4,m.set("tryGift",this.zjTry),this._logined&&this._data){if(this.zjLiar(),"wx"==i.channel||"qq"==i.channel){let e=wx.getLaunchOptionsSync();e&&e.scene&&i.TmCtrl.instance.tmSendEvent("scene",{value:e.scene}),null!==this._data.child&&null!==this._data.reward&&(m.set("childnum",Number(this._data.child)),m.set("childreward",Number(this._data.reward)))}this._data=null,this._logined=null}}onPreloadLoaded(){"wx"==i.channel&&i.ad.init(null,null,["adunit-0aea70758e53c465"]),"oppo"==i.channel&&(qg.loadingComplete({}),u.init()),"wx"!=i.channel&&"qq"!=i.channel||this.initTm(),i.showShareMenu(),"oppo"!=i.channel&&"vivo"!=i.channel&&"hw"!==i.channel||ve.init(),i.assetsManger.init(Laya.loader.getRes("cfgFile.json"),""),i.assetsManger.setUrlBase(),this.enterFirstScene()}}}();