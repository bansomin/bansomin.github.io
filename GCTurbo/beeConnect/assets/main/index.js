window.__require=function e(t,i,n){function o(s,a){if(!i[s]){if(!t[s]){var c=s.split("/");if(c=c[c.length-1],!t[c]){var l="function"==typeof __require&&__require;if(!a&&l)return l(c,!0);if(r)return r(c,!0);throw new Error("Cannot find module '"+s+"'")}s=c}var h=i[s]={exports:{}};t[s][0].call(h.exports,function(e){return o(t[s][1][e]||e)},h,h.exports,e,t,i,n)}return i[s].exports}for(var r="function"==typeof __require&&__require,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(e,t,i){var n=e("./package.json").version,o="en",r="jp",s={jp:{play:"\u30b9\u30bf\u30fc\u30c8"},en:{play:"Play Now!"}},a=500;function c(){console.log("H5ad v"+n),this._isInitialised=!1,this._splashAdShown=!1}function l(e){for(var t in e=e||{})void 0===e[t]&&delete e[t];return e}function h(e,t){console.error(e),(t=t||{}).noBreak?t.noBreak():(t.beforeBreak&&t.beforeBreak(),t.afterBreak&&t.afterBreak())}function u(){if(!navigator.language)return r;var e=navigator.language.toLowerCase().substr(0,2);return s[e]?e:o}c.prototype.initialize=function(e){if(this._isInitialised)console.warn("h5ad: already initialized");else{this._isInitialised=!0,e&&void 0!==e.adBreakTimeout&&(a=e.adBreakTimeout),adConfig=window.adConfig=function(e){};var t=document.createElement("script");t.src="https://html5gameportal.com/embeds/wortal-1.0.0.js",t.async=!0,document.head.appendChild(t),t.addEventListener("load",()=>{window.initWortal(function(){adConfig({preloadAdBreaks:"on",sound:"on"}),console.log("Wortal setup complete!")})})}},c.prototype.onStart=function(e){if(e=e||{},this._isInitialised||this.initialize({adBreakTimeout:e.adBreakTimeout}),this._splashAdShown)console.warn("h5ad: onStart has already been called");else{this._splashAdShown=!0;var t="";t+=".splahContainer {",t+="    background-color: black;",t+="    position: absolute;",t+="    width: 100%;",t+="    height: 100%;",t+="    text-align: left;",t+="}",t+=".splahContainer .gameIcon {",t+="    position: relative;",t+="    width: 100px;",t+="    height: 100px;",t+="    background-size: 100%;",t+="    transform: translate(-50%, -100%);",t+="    left: 50%;",t+="    top: 31%;",t+="    border-radius: 10px;",t+="    border: 2px white solid;",t+="    border-radius: min(2vh,2vw);",t+="    border: min(0.7vw, 0.7vh) white solid;",t+="    width: min(30vw, 20vh);",t+="    height: min(30vw, 20vh);",t+="}",t+=".splahContainer .startButton {",t+="    background-color: rgb(255, 193, 7);",t+="    padding: 20px 30px;",t+="    border-radius: 13px;",t+="    transform: translate(-50%, 100%);",t+="    left: 50%;",t+="    top: 40%;",t+="    border: 5px solid white;",t+="    position: relative;",t+="    cursor: pointer;",t+="    font-size: 26px;",t+="    font-family: arial, verdana;",t+="    color: white;",t+="    text-align: center;",t+="    transition: all 0.1s;",t+="    width: min(50vw,27vh);",t+="    padding: min(3vw,3vh);",t+="    font-size: min(4vh,9vw);",t+="    border-radius: min(2vh,2vw);",t+="    border: min(1vw, 1vh) white solid;",t+="}",t+=".splahContainer .startButton:hover {",t+="    transform: translate(-50%, 100%) scale(1.1);",t+="    background-color: rgb(255 217 104);",t+="}";var i=document.createElement("style");i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t)),document.getElementsByTagName("head")[0].appendChild(i);var n=document.createElement("div");e.color&&(n.style.backgroundColor=e.color),n.className="splahContainer";var o=document.createElement("div");o.textContent=s[u()].play,o.className="startButton",n.appendChild(o);var r=document.createElement("div");r.className="gameIcon",e.icon&&(r.style.backgroundImage="url("+e.icon+")"),n.appendChild(r),document.body.appendChild(n),o.onclick=function(){afterBreakCallbackCalled=!1;var t=setTimeout(function(){afterBreakCallbackCalled||(afterBreakCallbackCalled=!0,e.afterBreak&&e.afterBreak())},a);try{adBreak(l({type:"start",name:e.name||"splash_screen",beforeAd:function(){clearTimeout(t)},afterAd:function(){afterBreakCallbackCalled||(afterBreakCallbackCalled=!0,e.afterBreak&&e.afterBreak())}}))}catch(t){h(t,e)}setTimeout(function(){document.body.removeChild(n)},200)}}},c.prototype.onNext=function(e){(e=e||{}).type="next",this.adBreak(e)},c.prototype.onBrowse=function(e){(e=e||{}).type="browse",this.adBreak(e)},c.prototype.onPause=function(e){(e=e||{}).type="pause",this.adBreak(e)},c.prototype.onReward=function(e){(e=e||{}).type="reward",this.adBreak(e)},c.prototype.adBreak=function(e){var t,i=(e=e||{}).type;if(-1===["next","browse","pause","reward"].indexOf(i))return console.error("H5ad: unknown type",i);t=setTimeout(function(){e.noBreak&&e.noBreak()},a);try{adBreak(l({type:i,name:e.name||i,beforeAd:function(){t&&clearTimeout(t),e.beforeBreak&&e.beforeBreak()},afterAd:e.afterBreak,beforeReward:e.beforeReward,adDismissed:"reward"===i?e.adDismissed||function(){}:void 0,adViewed:e.adViewed}))}catch(t){h(t,e)}},c.prototype.onMute=function(e){adConfig({sound:"off"})},c.prototype.onUnmute=function(e){adConfig({sound:"on"})},t.exports=new c},{"./package.json":2}],2:[function(e,t,i){t.exports={_args:[["git+https://github.com/gc-turbo/h5ad.git","/Users/changhao/proj/gitHub/GCTurbo/bee_connect"]],_from:"git+https://github.com/gc-turbo/h5ad.git",_id:"h5ad@git+https://github.com/gc-turbo/h5ad.git#8136cfb6634f3b0197dcf2863971e375f18578ee",_inBundle:!1,_integrity:"",_location:"/h5ad",_phantomChildren:{},_requested:{type:"git",raw:"git+https://github.com/gc-turbo/h5ad.git",rawSpec:"git+https://github.com/gc-turbo/h5ad.git",saveSpec:"git+https://github.com/gc-turbo/h5ad.git",fetchSpec:"https://github.com/gc-turbo/h5ad.git",gitCommittish:null},_requiredBy:["/"],_resolved:"git+https://github.com/gc-turbo/h5ad.git#8136cfb6634f3b0197dcf2863971e375f18578ee",_spec:"git+https://github.com/gc-turbo/h5ad.git",_where:"/Users/changhao/proj/gitHub/GCTurbo/bee_connect",author:{name:"GC Turbo"},bugs:{url:"https://github.com/gc-turbo/h5ad/issues"},description:"Ad API wrapper for GC Turbo hyper casual games",homepage:"https://github.com/gc-turbo/h5ad#readme",license:"",main:"index.js",name:"h5ad",repository:{type:"git",url:"git+https://github.com/gc-turbo/h5ad.git"},scripts:{},version:"1.1.3"}},{}],ComboBoxItem:[function(e,t,i){"use strict";cc._RF.push(t,"e3eb2OoYnVNLpiehtkwiOa4","ComboBoxItem"),cc.Class({extends:cc.Component,properties:{label:{default:null,type:cc.Label},_parentCtrl:null,_data:null},setData:function(e,t){this._parentCtrl=e,this._data=t,this.label.string=LocalizationHelper.getText("label_text."+t.languageName)},onClickItemBtn:function(e){this._parentCtrl.onClickItemBtn(),this._data.languageCode!=LocalizationHelper.language&&(LocalizationHelper.setLanguage(this._data.languageCode),this._parentCtrl.comboLabel.string=LocalizationHelper.getText("label_text."+this._data.languageName))}}),cc._RF.pop()},{}],ComboBox:[function(e,t,i){"use strict";cc._RF.push(t,"654288QCkNOzqcBu3xCbhmH","ComboBox");var n=["English","Japanese"],o=["en","ja"];cc.Class({extends:cc.Component,properties:{triangle:cc.Node,comboLabel:cc.Label,dropDown:cc.Node,vLayoutNode:cc.Node,contentNode:cc.Node,itemPrefab:cc.Prefab},onLoad:function(){this.isDropDown=!1},start:function(){this.comboLabel.string="en"==LocalizationHelper.language?LocalizationHelper.getText("label_text.English"):LocalizationHelper.getText("label_text.Japanese")},onClickItemBtn:function(e){this.rotateTriangle(),this.showHideDropDownBox(),this.isDropDown?this.isDropDown=!1:this.isDropDown=!0,e&&this.initItems()},rotateTriangle:function(){if(this.isDropDown){var e=cc.rotateTo(.5,-90).easing(cc.easeCubicActionOut());this.triangle.runAction(e)}else{var t=cc.rotateTo(.5,0).easing(cc.easeCubicActionOut());this.triangle.runAction(t)}},showHideDropDownBox:function(){this.isDropDown?this.dropDown.active=!1:this.dropDown.active=!0},initItems:function(){this.vLayoutNode.removeAllChildren();for(var e=0;e<n.length;e++){var t=cc.instantiate(this.itemPrefab);t.getComponent("ComboBoxItem").setData(this,{languageName:n[e],languageCode:o[e]}),this.vLayoutNode.addChild(t)}}}),cc._RF.pop()},{}],Grid:[function(e,t,i){"use strict";cc._RF.push(t,"83bcep2VlxDCKAZJVK1P+xd","Grid");var n=cc.Enum({default:"default",mask:"maskGroup"});cc.Class({extends:cc.Component,properties:{highLight:cc.Node},onLoad:function(){var e=this;this.node.on(cc.Node.EventType.TOUCH_START,function(){if(!e.mainScene._isTeach||e.node.group!=n.default)if(null!=e.data.honey)if(!0===e.mainScene.isRemoving)e.mainScene.removeSameColor(e.data);else{if(!0===e.mainScene.isMoving)return;e.mainScene.restoreHoney(),e.startHight(),e.mainScene.startMove(e.data)}else e.mainScene.endMove(e.data)}),this.highLightTimer=0,this.highLight.opacity=0},init:function(e,t){this.data=e,this.data.grid=this,this.mainScene=t},stopHight:function(){this.highLightTimer=0,this.highLight.opacity=0,this.node.group=n.default},startHight:function(){this.highLightTimer=Date.now(),this.currentTimer=Date.now(),this.highLight.opacity=0,this.increase=!0,this.node.group=n.mask},start:function(){},update:function(e){0!==this.highLightTimer&&Date.now()-this.currentTimer>=30&&(this.currentTimer=Date.now(),this.increase?(this.highLight.opacity+=10,this.highLight.opacity>=255&&(this.highLight.opacity=255,this.increase=!1)):(this.highLight.opacity-=10,this.highLight.opacity<=0&&(this.highLight.opacity=0,this.increase=!0)))}}),cc._RF.pop()},{}],Honey:[function(e,t,i){"use strict";cc._RF.push(t,"f3b51OYsdxJjqAs7sxNlfxm","Honey"),cc.Class({extends:cc.Component,properties:{num:cc.Node,bg:cc.Node,bg_1:cc.Node,bg_2:cc.Node,bg_3:cc.Node,bg_4:cc.Node,bg_5:cc.Node,bg_6:cc.Node,bg_7:cc.Node,bg_8:cc.Node,bg_9:cc.Node,bg_10:cc.Node,bg_default:cc.Node},start:function(){},setParent:function(e){this._parentCtrl=e},setLabel:function(e){switch(this.bg.active=this.bg_1.active=this.bg_2.active=this.bg_3.active=this.bg_4.active=this.bg_5.active=this.bg_6.active=this.bg_7.active=this.bg_8.active=this.bg_9.active=this.bg_10.active=this.bg_default.active=!1,e){case 1:this.bg.active=!0;break;case 2:this.bg_1.active=!0;break;case 4:this.bg_2.active=!0;break;case 8:this.bg_3.active=!0;break;case 16:this.bg_4.active=!0;break;case 32:this.bg_5.active=!0;break;case 64:this.bg_6.active=!0;break;case 128:this.bg_7.active=!0;break;case 256:this.bg_8.active=!0;break;case 512:this.bg_9.active=!0;break;case 1024:this.bg_10.active=!0;break;default:this.bg_default.active=!0}this.num.getComponent("NumList").setNum(e)},show:function(e,t,i){this.setLabel(t.num),this.node.parent=e,this.node.setPosition(t.pos),this.node.setScale(0,0),this.node.opacity=255,cc.Tween.stopAllByTarget(this.node);var n=1;this._parentCtrl&&(n=this._parentCtrl.getConfig().scale),cc.tween(this.node).to(1,{scale:n},{easing:"elasticOut"}).call(function(){null!=i&&i()}).start()},hide:function(){var e=this;this.node.setScale(1,1),cc.tween(this.node).to(.8,{scale:0},{easing:"elasticIn"}).call(function(){e.node.parent=null}).start()}}),cc._RF.pop()},{}],LanguageData:[function(e,t,i){"use strict";cc._RF.push(t,"31e138UXBhB5qwuxOaE7JZ1","LanguageData");var n=e("polyglot.min"),o=null;function r(e){return window.i18n.languages[e]}function s(e){e&&(o?o.replace(e):o=new n({phrases:e,allowMissing:!0}))}window.i18n||(window.i18n={languages:{},curLang:""}),t.exports={init:function(e){if(e!==window.i18n.curLang){var t=r(e)||{};window.i18n.curLang=e,s(t),this.inst=o}},t:function(e,t){if(o)return o.t(e,t)},inst:o,updateSceneRenderers:function(){for(var e=cc.director.getScene().children,t=[],i=0;i<e.length;++i){var n=e[i].getComponentsInChildren("LocalizedLabel");Array.prototype.push.apply(t,n)}for(var o=0;o<t.length;++o){var r=t[o];r.node.active&&r.updateLabel()}for(var s=[],a=0;a<e.length;++a){var c=e[a].getComponentsInChildren("LocalizedSprite");Array.prototype.push.apply(s,c)}for(var l=0;l<s.length;++l){var h=s[l];h.node.active&&h.updateSprite(window.i18n.curLang)}}},cc._RF.pop()},{"polyglot.min":"polyglot.min"}],LimitClick:[function(e,t,i){"use strict";cc._RF.push(t,"e5a03LHvglDpLirPzfiLGzz","LimitClick"),cc.Class({extends:cc.Component,properties:{_startTimer:0,_allowClick:!0},onLoad:function(){this.time=300},clickTime:function(e){return void 0!=e&&null!=e&&(this.time=e),!1!==this._allowClick&&(this._startTimer=Date.now(),this._allowClick=!1,!0)},update:function(){Date.now()-this._startTimer>=this.time&&(this._allowClick=!0)}}),cc._RF.pop()},{}],LocalizationHelper:[function(e,t,i){"use strict";cc._RF.push(t,"fe46fQs9fJFnZhJJkECJfLR","LocalizationHelper");var n=function(){function t(){this.languageData=null}var i=t.prototype;return i.init=function(){this.language=cc.sys.localStorage.getItem("beeconect_lang"),this.language||(this.language=this._getBrowserLanguage()),cc.sys.localStorage.setItem("beeconect_lang",this.language),this.languageData=e("LanguageData"),this.languageData.init(this.language)},i.getText=function(e){return this.languageData.t(e)},i.setLanguage=function(e){this.language=e,cc.sys.localStorage.setItem("beeconect_lang",this.language),this.languageData.init(this.language),this.languageData.updateSceneRenderers()},i._getBrowserLanguage=function(){var e,t,i=window.navigator,n=["language","browserLanguage","systemLanguage","userLanguage"];if(Array.isArray(i.languages))for(e=0;e<i.languages.length;e++)if((t=i.languages[e])&&t.length)return t.slice(0,2);for(e=0;e<n.length;e++)if((t=i[n[e]])&&t.length)return t.slice(0,2);return null},t}();t.exports=new n,window.LocalizationHelper=e("LocalizationHelper"),cc._RF.pop()},{LanguageData:"LanguageData",LocalizationHelper:"LocalizationHelper"}],LocalizedLabel:[function(e,t,i){"use strict";cc._RF.push(t,"85fa0KsWHVCBofvyuY2la/x","LocalizedLabel");var n=e("LanguageData");cc.Class({extends:cc.Component,editor:{executeInEditMode:!0,menu:"i18n/LocalizedLabel"},properties:{dataID:{get:function(){return this._dataID},set:function(e){this._dataID!==e&&(this._dataID=e,this.updateLabel())}},_dataID:""},onLoad:function(){n.inst||n.init(),this.fetchRender()},fetchRender:function(){var e=this.getComponent(cc.Label);if(e)return this.label=e,void this.updateLabel()},updateLabel:function(){this.label?n.t(this.dataID)&&(this.label.string=n.t(this.dataID)):cc.error("Failed to update localized label, label component is invalid!")}}),cc._RF.pop()},{LanguageData:"LanguageData"}],LocalizedSprite:[function(e,t,i){"use strict";cc._RF.push(t,"ec55bdFcLtEn5n7fz3twVni","LocalizedSprite");var n=e("SpriteFrameSet");cc.Class({extends:cc.Component,editor:{executeInEditMode:!0,inspector:"packages://i18n/inspector/localized-sprite.js",menu:"i18n/LocalizedSprite"},properties:{spriteFrameSet:{default:[],type:n}},onLoad:function(){this.fetchRender()},fetchRender:function(){var e=this.getComponent(cc.Sprite);if(e)return this.sprite=e,void this.updateSprite(window.i18n.curLang)},getSpriteFrameByLang:function(e){for(var t=0;t<this.spriteFrameSet.length;++t)if(this.spriteFrameSet[t].language===e)return this.spriteFrameSet[t].spriteFrame},updateSprite:function(e){if(this.sprite){var t=this.getSpriteFrameByLang(e);!t&&this.spriteFrameSet[0]&&(t=this.spriteFrameSet[0].spriteFrame),this.sprite.spriteFrame=t}else cc.error("Failed to update localized sprite, sprite component is invalid!")}}),cc._RF.pop()},{SpriteFrameSet:"SpriteFrameSet"}],MainGame:[function(e,t,i){"use strict";cc._RF.push(t,"91c5eTWfp9Ez55LTZEDxEG9","MainGame");var n=e("h5ad"),o=e("utils"),r=cc.Enum({default:"default",mask:"maskGroup"}),s={4:{scale:1.3,maxHiveNum:7,size:{width:83.2,height:96.2}},5:{scale:1,maxHiveNum:9,size:{width:64,height:74}}};cc.Class({extends:cc.Component,properties:{honeyPrefab:cc.Prefab,honeyList:[cc.Node],honeyPool:[cc.Node],gridPrefab:cc.Prefab,openList:[],closeList:[],gameOverNode:cc.Node,scoreLabel:cc.Label,coinLabel:cc.Label,gridsBgList:{default:[],type:cc.SpriteFrame},gridsBg:cc.Node,container:cc.Node,gameOverScoreLabel:cc.Label,honeyNumList:[cc.Node],tip:cc.Node,startNode:cc.Node,highestScoreLabel:cc.Label,highestScoreLabel1:cc.Label,skillNode:cc.Node,refreshCoin:25,remove1Coin:40,remove5Coin:75,removeColorCoin:150,refreshCoinLabel:cc.Label,remove1CoinLabel:cc.Label,remove5CoinLabel:cc.Label,removeColorCoinLabel:cc.Label,moveAudio:cc.AudioSource,mergeAudio:cc.AudioSource,endAudio:cc.AudioSource,skillAudio_1:cc.AudioSource,skillAudio_23:cc.AudioSource,skillAudio_4:cc.AudioSource,skillTip:cc.Node,muteBtn:cc.Node,unmuteBtn:cc.Node,languageToggle:cc.Node,tutorailNode:cc.Node,mCamera:{default:null,type:cc.Camera},tCamera:{default:null,type:cc.Camera},fingerNode:{default:null,type:cc.Node},loadingNode:{default:null,type:cc.Node},_isTeach:!1,_bestList:[],_endGrid:null,_megerNumber:0},showTip:function(){var e=this;!0!==this.isShowTip&&(this.tip.active=!0,this.tip.opacity=255,this.isShowTip=!0,this.tip.setScale(0,0),this.tip.setPosition(0,0),cc.tween(this.tip).to(1,{scale:1},{easing:"elasticOut"}).call(function(){setTimeout(function(){cc.tween(e.tip).to(.5,{position:cc.v2(0,450),opacity:0}).call(function(){e.isShowTip=!1}).start()},1e3)}).start())},onLoad:function(){"gs"==o.platform&&o.gs.gameReady(),LocalizationHelper.init(),o.gtaInit("321085","0033cb7f59e3cd9a32e9a1abd8807afa");var e={weblinkSource:o.getWeblinkSource(),gameName:o.getAppName(),version:"1.0.0"};o.gtaSetUserProperties(e),o.gtaPushEvent("gameSession",e),this.randomNumberList=[1,2,4,8],this.initGrids(),this.currentMoveGrid=null,this.gameOverNode.active=!1,this.currentScore=0,this.currentCoin=1e3,this.coinLabel.string=""+this.currentCoin,this.scoreLabel.string=LocalizationHelper.getText("label_text.score")+": "+this.currentScore,this.gameOverScoreLabel.string=this.currentScore,"gs"==o.platform&&o.gs.sendScore(this.currentScore);for(var t=0;t<5;t++)this.honeyNumList[t].setScale(0,0);this.gridsBg.active=!0,this.container.active=!0,this.gridsBg.getComponent(cc.Sprite).spriteFrame=this.gridsBgList[0],this.gridsBg.setScale(0,0),this.isRemoving=!1,this.tip.active=!1,this.isShowTip=!1,this.tip.opacity=255,this.tip.setScale(0,0),this.tip.setPosition(0,0),this.startNode.opacity=255,this.startNode.active=!0,this.highestScore=cc.sys.localStorage.getItem("highestScore"),null==this.highestScore&&(this.highestScore=0),this.highestScoreLabel.string=this.highestScoreLabel1.string=""+this.highestScore,this.skillNode.active=!1,this.refreshCoinLabel.string=""+this.refreshCoin,this.remove1CoinLabel.string=""+this.remove1Coin,this.remove5CoinLabel.string=""+this.remove5Coin,this.removeColorCoinLabel.string=""+this.removeColorCoin,this.skillTip.active=!1,this.currentTimer=Date.now(),this.limitClick=this.node.getComponent("LimitClick"),this.isMute=!1,this.muteBtn.active=!this.isMute,this.unmuteBtn.active=this.isMute,this._isTeach=!0,this.isMoving=!1,"gs"==o.platform?o.gs.rewardedAdOpportunity("rewardAD_start",!0,function(e){console.log("rewardAD_start:",e)}):n.onStart({icon:o.getResourceUrl("icon"),color:"#E88029",afterBreak:function(){var e=new Object;e.adType="Interstitial",e.gameName=o.getAppName(),e.weblinkSource=o.getWeblinkSource(),e.gameFeature="interstitialAD_start",o.gtaPushEvent("AdShowSuccess",e)},adBreakTimeout:3e3}),this.tutorailNode.active=!1},mute:function(){this.isMute=!0,this.muteBtn.active=!this.isMute,this.unmuteBtn.active=this.isMute,this.node.getComponent("cc.AudioSource").stop(),o.onMute()},unmute:function(){this.isMute=!1,this.muteBtn.active=!this.isMute,this.unmuteBtn.active=this.isMute,this.node.getComponent("cc.AudioSource").play(),o.onUnmute()},startGame:function(){var e=this;cc.tween(this.gridsBg).to(1,{scale:s[4].scale},{easing:"elasticOut"}).call(function(){e.preloadHoneyNum(!0),e.createRandomGrids(10)}).start()},startToturial:function(){if(this._isTeach){var e=this.getHoneyGrids();if(0!==e.length){this.tutorailNode.active=!0,e.sort(function(e,t){var i=e.hasOwnProperty("getGroup")?e.getGroup.length:1;return(t.hasOwnProperty("getGroup")?t.getGroup.length:1)-i});var t={array:[],maxCombine:0},i={array:[],maxCombine:0},n={array:[],maxCombine:0},o={array:[],maxCombine:0},s=[];s.push(t),s.push(i),s.push(n),s.push(o);for(var a=0;a<e.length;a++){var c=e[a];1==c.num?(t.array.push(c),c.getGroup&&c.getGroup.length>t.maxCombine&&(t.maxCombine=c.getGroup.length)):2==c.num?(i.array.push(c),c.getGroup&&c.getGroup.length>i.maxCombine&&(i.maxCombine=c.getGroup.length)):4==c.num?(n.array.push(c),c.getGroup&&c.getGroup.length>n.maxCombine&&(n.maxCombine=c.getGroup.length)):8==c.num&&(o.array.push(c),c.getGroup&&c.getGroup.length>o.maxCombine&&(o.maxCombine=c.getGroup.length))}s.sort(function(e,t){var i=e.maxCombine,n=t.maxCombine;return i==n?t.array.length-e.array.length:n-i});var l=this.getTargetArray(s.concat([]));l||(l=s[0]);var h=[];l.array[0].hasOwnProperty("getGroup")&&(h=h.concat(l.array[0].getGroup));for(var u=this.getCombineRoundNodeList(h),d=s[s.indexOf(l)].array,g=new Array,p=0;p<d.length;p++){var m=d[p];if(-1==h.indexOf(m)){for(var f=new Array,v=0;v<u.length;v++){var b=u[v],y=this.getPath(m,b);y&&(y.splice(0,0,m),f.push(y))}g.push(f)}}g.forEach(function(e){e.sort(function(e,t){return e.length-t.length})});var C=[];if(g.forEach(function(e){C.push(e[0])}),C.sort(function(e,t){return e.length-t.length}),this._bestList=C[0],this._bestList&&!(this._bestList.length<=0)){var w=this._bestList[0];w.honey&&this._isTeach&&(w.honey.group=r.mask),w.grid&&(this._isTeach&&(w.grid.node.group=r.mask),this.playFingerAnimation(!0,w.grid.node))}}}},stopToturial:function(){this._isTeach=!1,this.tutorailNode.active=!1;for(var e=0;e<this.gridList.length;e++){var t=this.gridList[e];t&&(t.node&&(t.node.group=r.default),t.honey&&(t.honey.group=r.default))}},getTargetArray:function(e){var t=e[0];if(!t)return null;if(t.array.length<=1||t.maxCombine<=1)return t;if(t.array.length<=t.maxCombine)try{this.getTargetArray(e.splice(0,1))}catch(e){console.error("ERROR:",e),this.stopToturial()}},getCombineRoundNodeList:function(e){for(var t=[],i=0;i<e.length;i++)for(var n=e[i],o=this.getRoundNode(n,!0),r=0;r<o.length;r++)o[r]&&null==o[r].honey&&-1==t.indexOf(o[r])&&t.push(o[r]);return t},onClickStartBtn:function(){var e=this;0!=this.limitClick.clickTime()&&(this.languageToggle.active=!1,cc.tween(this.startNode).to(1,{opacity:0}).call(function(){e.startNode.active=!1,e.startGame()}).start(),this.playBGMusic())},onClickSkillBtn:function(){var e=this;this.restoreHoney(),0!=this.limitClick.clickTime()&&!0!==this.skillNode.active&&(this.loadingNode.active=!0,"gs"==o.platform?o.gs.rewardedAdOpportunity("rewardAD_skill",!0,function(t){console.log("rewardAD_skill:",t),e.loadingNode.active=!1,e.openSkillsMenu()}):o.showAds("browse",!1,function(t){e.loadingNode.active=!1;var i=new Object;i.adType="Interstitial",i.gameName=o.getAppName(),i.gameFeature="interstitialAD_skill",i.weblinkSource=o.getWeblinkSource(),t?o.gtaPushEvent("AdShowSuccess",i):o.gtaPushEvent("AdShowFail",i),e.openSkillsMenu()}))},openSkillsMenu:function(){this.skillNode.active=!0,this.skillNode.setScale(0,0),cc.tween(this.skillNode).to(.8,{scale:1},{easing:"elasticOut"}).start()},onClickCloseSkill:function(e,t){var i=this;null!=e&&0==this.limitClick.clickTime()||(null!=this.currentMoveGrid&&this.currentMoveGrid.grid.startHight(),this.skillNode.setScale(1,1),cc.tween(this.skillNode).to(.2,{scale:0}).call(function(){i.skillNode.active=!1,null!=t&&t()}).start())},onClickRefresh:function(){var e=this;if(0!=this.limitClick.clickTime()){if(this.currentCoin<this.refreshCoin)return this.onClickCloseSkill(null,null),void this.showTip();this.currentCoin-=this.refreshCoin,this.coinLabel.string=""+this.currentCoin,this.onClickCloseSkill(null,function(){e.preloadHoneyNum(!1),!1===e.isMute&&setTimeout(function(){e.skillAudio_1.play(),e.skillAudio_1.volume=.5},400)})}},onClickRemoveOne:function(){var e=this;if(0!=this.limitClick.clickTime()){if(this.currentCoin<this.remove1Coin)return this.onClickCloseSkill(null,null),void this.showTip();this.currentCoin-=this.remove1Coin,this.coinLabel.string=""+this.currentCoin,this.onClickCloseSkill(null,function(){var t=e.getHoneyGrids();if(0!==t.length){var i=t[Math.floor(Math.random()*t.length)];i.honey.getComponent("Honey").hide(),i.honey=null,i.num=0,0===(t=e.getHoneyGrids()).length&&e.createRandomGrids(5),!1===e.isMute&&setTimeout(function(){e.skillAudio_23.volume=.5,e.skillAudio_23.play()},300)}})}},onClickRemoveFive:function(){var e=this;if(0!=this.limitClick.clickTime()){if(this.currentCoin<this.remove5Coin)return this.onClickCloseSkill(null,null),void this.showTip();this.currentCoin-=this.remove5Coin,this.coinLabel.string=""+this.currentCoin,this.onClickCloseSkill(null,function(){var t=e.getHoneyGrids();if(0!==t.length){for(var i=t.length<5?t.length:5;i>0;){var n=(t=e.getHoneyGrids())[Math.floor(Math.random()*t.length)];n.honey.getComponent("Honey").hide(),n.honey=null,n.num=0,i--}0===(t=e.getHoneyGrids()).length&&e.createRandomGrids(5),!1===e.isMute&&setTimeout(function(){e.skillAudio_23.volume=.5,e.skillAudio_23.play()},300)}})}},onClickRemoveSameColor:function(){if(0!=this.limitClick.clickTime()){if(this.currentCoin<this.removeColorCoin)return this.onClickCloseSkill(null,null),void this.showTip();this.currentCoin-=this.removeColorCoin,this.coinLabel.string=""+this.currentCoin,this.isRemoving=!0,this.onClickCloseSkill(null),this.addOpacity=!0,this.skillTip.opacity=0,this.skillTip.active=!0}},removeSameColor:function(e){this.skillTip.active=!1;for(var t=this.getSameColorGrids(e),i=0;i<t.length;i++){var n=t[i];n.honey.getComponent("Honey").hide(),n.honey=null,n.num=0}this.isRemoving=!1,0===(t=this.getHoneyGrids()).length&&this.createRandomGrids(5),!1===this.isMute&&this.skillAudio_4.play()},getSameColorGrids:function(e){for(var t=[],i=0;i<this.gridList.length;i++){var n=this.gridList[i];n.num===e.num&&t.push(n)}return t},getHoneyGrids:function(){for(var e=[],t=0;t<this.gridList.length;t++){var i=this.gridList[t];null!=i.honey&&e.push(i)}return e},preloadHoneyNum:function(e){var t=this;this.randomHoneyNumList=[];for(var i=0;i<5;i++){var n=this.randomNumberList[Math.floor(Math.random()*this.randomNumberList.length)];this.randomHoneyNumList.push(n)}if(e)for(var o=function(e){setTimeout(function(){t.honeyNumList[e].getComponent("Honey").setLabel(t.randomHoneyNumList[e]),cc.tween(t.honeyNumList[e]).to(.5,{scale:1},{easing:"elasticOut"}).start()},50*e)},r=0;r<5;r++)o(r);else for(var s=function(e){cc.tween(t.honeyNumList[e]).to(.5,{scale:0},{easing:"elasticIn"}).call(function(){setTimeout(function(){t.honeyNumList[e].getComponent("Honey").setLabel(t.randomHoneyNumList[e]),cc.tween(t.honeyNumList[e]).to(.5,{scale:1},{easing:"elasticOut"}).start()},50*e)}).start()},a=0;a<5;a++)s(a)},restarGameCallback:function(){var e=this;cc.tween(this.gameOverNode).to(1,{scale:0},{easing:"elasticIn"}).call(function(){e.gameOverNode.active=!1;for(var t=0;t<e.gridList.length;t++){var i=e.gridList[t];e.honeyPool.push(i.honey),i.honey.parent=null,i.honey=null,i.num=0}e.gameOverNode.active=!1,e.currentScore=100,e.scoreLabel.string=LocalizationHelper.getText("label_text.score")+": "+e.currentScore,e.gameOverScoreLabel.string=e.currentScore,"gs"==o.platform&&o.gs.sendScore(e.currentScore);for(var n=0;n<5;n++)e.honeyNumList[n].setScale(0,0);e.gridsBg.active=!0,e.container.active=!0,e.gridsBg.setScale(0,0),cc.tween(e.gridsBg).to(1,{scale:s[4].scale},{easing:"elasticOut"}).call(function(){e.preloadHoneyNum(!0),e.createRandomGrids(10)}).start()}).start(),this.isRemoving=!1,this.tip.active=!1,this.tip.opacity=255,this.isShowTip=!1,this.tip.setScale(0,0),this.tip.setPosition(0,0),this.playBGMusic()},playBGMusic:function(){var e=this;"gs"==o.platform?(this.node.getComponent("cc.AudioSource").volume=!this.isMute&&o.gs.isAudioEnabled()?.5:0,this.node.getComponent("cc.AudioSource").play(),this.node.getComponent("cc.AudioSource").loop=!0):(this.node.getComponent("cc.AudioSource").volume=this.isMute?0:.5,this.node.getComponent("cc.AudioSource").play(),this.node.getComponent("cc.AudioSource").loop=!0),o.gs.subscribeToAudioUpdates(function(t){e.node.getComponent("cc.AudioSource").volume=!e.isMute&&t?.5:0,e.node.getComponent("cc.AudioSource").play(),e.node.getComponent("cc.AudioSource").loop=!0})},restart:function(){var e=this;this.loadingNode.active=!0,"gs"==o.platform?o.gs.rewardedAdOpportunity("rewardAD_rePlay",!0,function(t){console.log("rewardAD_rePlay:",t),e.loadingNode.active=!1,e.restarGameCallback()}):o.showAds("reward",!0,function(t){e.loadingNode.active=!1;var i=new Object;i.adType="Reward",i.gameName=o.getAppName(),i.gameFeature="rewardAD_rePlay",i.weblinkSource=o.getWeblinkSource(),t?o.gtaPushEvent("AdShowSuccess",i):o.gtaPushEvent("AdShowFail",i),t&&e.restarGameCallback()})},initGrids:function(){this.grids=[];var e,t,i=s[4].maxHiveNum+4-1,n=-3*s[4].size.height/2,o=0;this.gridList=[];for(var r=0;r<s[4].maxHiveNum;r++){r<=3?(e=4+r,t=n-r*s[4].size.height/2):(e=i-r,t=(r-4)*s[4].size.height/2-238),this.grids[r]=[];for(var a=0;a<e;a++){this.grids[r][a]={row:r,col:a,pos:cc.v2(t+a*s[4].size.height,265-r*s[4].size.width),index:o,honey:null,num:0};var c=cc.instantiate(this.gridPrefab);c.parent=this.container,c.setPosition(this.grids[r][a].pos),c.getComponent("Grid").init(this.grids[r][a],this),o++,this.gridList.push(this.grids[r][a])}}},getList:function(e){for(var t=[],i=10===e?this._isTeach?[1,2,4,8]:this.randomNumberList.concat([]):this.randomHoneyNumList.concat([]),n=(i[[Math.floor(Math.random()*i.length)]],0);n<e;n++)t[n]=i[[Math.floor(Math.random()*i.length)]];return t},createRandomGrids:function(e){var t,i=this;this.previousDeleteGrids=null;var n=this.getNullGrids(),o=n.length>e?e:n.length;this.checkCount=o,this.currentCheckCount=0;for(var r=this.getList(e),s=function(e){var o=r[e];t=i.honeyPool.length>0?i.honeyPool.pop():cc.instantiate(i.honeyPrefab);var s=(n=i.getNullGrids())[Math.floor(Math.random()*n.length)];s.num=o,s.honey=t,t.getComponent("Honey").setParent(i),t.getComponent("Honey").show(i.container,s),setTimeout(function(){i.checkMerge(s)},1)},a=0;a<o;a++)s(a);5===e&&this.preloadHoneyNum(!1)},checkMerge:function(e){this.previousDeleteGrids&&this.previousDeleteGrids.indexOf(e)>=0?(this.currentCheckCount++,this.currentCheckCount>=this.checkCount&&(0===this.getNullGrids().length?this.gameOver():this.startToturial())):(this.previousDeleteGrids=this.getGroup(e),this.previousDeleteGrids.length>=4?(this.isMoving=!0,this.mergeHoney(e,this.previousDeleteGrids)):(this.currentCheckCount++,this.currentCheckCount>=this.checkCount&&(0===this.getNullGrids().length?this.gameOver():this.startToturial())))},gameOver:function(){"gs"==o.platform&&o.gs.gameOver(),this.gameOverNode.active=!0,this.gameOverNode.setScale(0,0),cc.tween(this.gameOverNode).to(1,{scale:1},{easing:"elasticOut"}).start(),!1===this.isMute&&(this.node.getComponent("cc.AudioSource").stop(),this.endAudio.volume=.5,this.endAudio.play())},getNullGrids:function(){for(var e=[],t=0;t<this.gridList.length;t++)null==this.gridList[t].honey&&e.push(this.gridList[t]);return e},startMove:function(e){this.currentMoveGrid=e,this.showToturial()},showToturial:function(){this._isTeach&&this.currentMoveGrid&&(!this._bestList||this._bestList.length<=0||(this._endGrid&&this._endGrid.grid&&this._endGrid.grid.stopHight(),this._endGrid=this._bestList[this._bestList.length-1],this._endGrid.grid.startHight(),this.playFingerAnimation(!0,this._endGrid.grid.node)))},playFingerAnimation:function(e,t){var i=this;if(void 0===e&&(e=!1),this.fingerNode.parent.active=e,e){var n=t.parent.convertToWorldSpaceAR(t.position),o=this.fingerNode.parent.parent.convertToNodeSpaceAR(n);this.fingerNode.getComponent(cc.Animation).pause(),cc.tween(this.fingerNode.parent).to(.2,{position:cc.v2(o.x,o.y)}).call(function(){i.fingerNode.getComponent(cc.Animation).resume()}).start()}},endMove:function(e){if(!(this._isTeach&&e&&e.honey&&e.honey.group==r.default)&&(this.playFingerAnimation(!1),this.currentMoveGrid)){if(this.honey=this.currentMoveGrid.honey,this.path=this.getPath(this.currentMoveGrid,e),null==this.path)return void this.restoreHoney();this.isMoving=!0,this.currentMoveGrid.honey=null,e.honey=this.honey,e.num=this.currentMoveGrid.num,this.currentMoveGrid.num=0;var t,i=cc.callFunc(function(){!1===this.isMute&&(this.moveAudio.volume=.5,this.moveAudio.play());var t=this.getGroup(e);t.length>=4?this.mergeHoney(e,t):(this.createRandomGrids(5),this.isMoving=!1,this._endGrid&&this._endGrid.grid&&this._endGrid.grid.stopHight(),this.honey.group=r.default)},this),n=[];if(this.path.length>1){for(var o=0;o<this.path.length;o++){var s=this.path[o].pos,a=cc.moveTo(.05,cc.v2(s.x,s.y));n.push(a)}n.push(i),t=cc.sequence(n),this.honey.runAction(t)}else{n=[cc.moveTo(.05,cc.v2(this.path[0].pos.x,this.path[0].pos.y)),i],t=cc.sequence(n),this.honey.runAction(t)}this.currentMoveGrid.grid.stopHight(),this.currentMoveGrid=null}},restoreHoney:function(){null!=this.currentMoveGrid&&this.currentMoveGrid.grid.stopHight()},mergeHoney:function(e,t){var i=this;this._megerNumber++;var n=4*e.num;e.mergeCount=t.length-1;for(var a=0;a<t.length;a++){var c=t[a];c!=e&&(cc.tween(c.honey).to(.5,{position:cc.v2(e.pos.x,e.pos.y)},{easing:"elasticIn"}).call(function(t){e.mergeCount--,t.parent=null,i.honeyPool.push(t),e.mergeCount<=0&&cc.tween(e.honey).to(.8,{scale:0},{easing:"elasticIn"}).call(function(){e.num=n,e.honey.getComponent("Honey").setLabel(n),e.honey.group=r.default,i._endGrid&&i._endGrid.grid&&i._endGrid.grid.stopHight(),!1===i.isMute&&(i.mergeAudio.volume=.5,i.mergeAudio.play()),cc.tween(e.honey).to(.8,{scale:s[4].scale},{easing:"elasticOut"}).call(function(){i.isMoving=!1,i.previousDeleteGrids=null,i.checkMerge(e),i._isTeach&&i._megerNumber>=2&&i.stopToturial()}).start()}).start()}).start(),c.honey=null,c.num=0)}this.currentCoin++,this.currentScore+=n,this.currentScore>this.highestScore&&(cc.sys.localStorage.setItem("highestScore",this.currentScore),this.highestScoreLabel.string=this.highestScoreLabel1.string=""+this.currentScore,o.gs.levelComplete(this.currentScore)),this.coinLabel.string=""+this.currentCoin,this.scoreLabel.string=LocalizationHelper.getText("label_text.score")+": "+this.currentScore,this.gameOverScoreLabel.string=this.currentScore},getPath:function(e,t){for(var i=0;i<this.gridList.length;i++){this.gridList[i].parentGrid=null}var n;for(this.openList=[e],this.closeList=[];;){var o=this.getMinNode(e,t);this.closeList.push(o),n=this.openList.indexOf(o),this.openList.splice(n,1);var r=this.getRoundNode(o);if(this.openList=this.openList.concat(r),o==t)for(var s=o,a=[];;){if(!s.parentGrid)return a.reverse();a.push(s),s=s.parentGrid}if(0===this.openList.length)return null}},filterGrid:function(e){var t=this.openList.indexOf(e),i=this.closeList.indexOf(e);return t<0&&i<0},getRoundNode:function(e,t){var i=e.row,n=e.col,o=i>0?this.grids[i-1]:null,r=this.grids[i],s=i<8?this.grids[i+1]:null,a=[];return r&&(n>0&&(t||null==r[n-1].honey&&this.filterGrid(r[n-1]))&&(1!=t&&(r[n-1].parentGrid=e),a.push(r[n-1])),n<r.length-1&&(t||null==r[n+1].honey&&this.filterGrid(r[n+1]))&&(1!=t&&(r[n+1].parentGrid=e),a.push(r[n+1]))),o&&(o.length>this.grids[i].length?(t||null==o[n].honey&&this.filterGrid(o[n]))&&(1!=t&&(o[n].parentGrid=e),a.push(o[n])):n>0&&(t||null==o[n-1].honey&&this.filterGrid(o[n-1]))&&(1!=t&&(o[n-1].parentGrid=e),a.push(o[n-1])),o.length>this.grids[i].length?(t||null==o[n+1].honey&&this.filterGrid(o[n+1]))&&(1!=t&&(o[n+1].parentGrid=e),a.push(o[n+1])):n<this.grids[i].length-1&&(t||null==o[n].honey&&this.filterGrid(o[n]))&&(1!=t&&(o[n].parentGrid=e),a.push(o[n]))),s&&(s.length>this.grids[i].length?(t||null==s[n].honey&&this.filterGrid(s[n]))&&(1!=t&&(s[n].parentGrid=e),a.push(s[n])):n>0&&(t||null==s[n-1].honey&&this.filterGrid(s[n-1]))&&(1!=t&&(s[n-1].parentGrid=e),a.push(s[n-1])),s.length>this.grids[i].length?(t||null==s[n+1].honey&&this.filterGrid(s[n+1]))&&(1!=t&&(s[n+1].parentGrid=e),a.push(s[n+1])):n<this.grids[i].length-1&&(t||null==s[n].honey&&this.filterGrid(s[n]))&&(1!=t&&(s[n].parentGrid=e),a.push(s[n]))),a},getMinNode:function(e,t){var i=this.openList[0],n=this.getValue(e,t,i);i.pathValue=n;for(var o=1;o<this.openList.length;o++){var r=this.getValue(e,t,this.openList[o]);this.openList[o].pathValue=r,r<n&&(i=this.openList[o],n=r)}return i},getValue:function(e,t,i){return this.getDis(e.pos,i.pos)+this.getDis(i.pos,t.pos)},getDis:function(e,t){var i=t.x-e.x,n=t.y-e.y;return Math.sqrt(i*i+n*n)},getGroup:function(e){for(var t,i=e,n=[],o=[e];;){t=this.getRoundNode(i,!0);for(var r=0;r<t.length;r++)t[r].num===e.num&&n.indexOf(t[r])<0&&o.indexOf(t[r])<0&&(n.push(t[r]),o.indexOf(t[r])<0&&o.push(t[r]));if(0===n.length)return e.getGroup=o,o;i=n.pop()}return null},getConfig:function(){return s[4]},update:function(e){!1!==this.skillTip.active&&Date.now()-this.currentTimer>=100&&(this.currentTimer=Date.now(),!0===this.addOpacity?this.skillTip.opacity+=20:this.skillTip.opacity-=20,this.skillTip.opacity>=255?this.addOpacity=!1:this.skillTip.opacity<=0&&(this.addOpacity=!0))}}),cc._RF.pop()},{h5ad:1,utils:"utils"}],NumComponent:[function(e,t,i){"use strict";cc._RF.push(t,"36b58uqOPROH7GPbzhscI7Q","NumComponent"),cc.Class({extends:cc.Component,properties:{numList:[cc.Node]},start:function(){},setContent:function(e){for(var t=0;t<this.numList.length;t++)this.numList[t].active=!1;this.numList[e].active=!0}}),cc._RF.pop()},{}],NumList:[function(e,t,i){"use strict";cc._RF.push(t,"cc492NrMmNPhLr7kAj2Pxw0","NumList"),cc.Class({extends:cc.Component,properties:{numList:[],numPrefab:cc.Prefab},start:function(){},setNum:function(e){for(var t=0;t<this.numList.length;t++)this.numList[t].active=!1;for(var i=(""+e).split(""),n=0;n<i.length;n++)if(n<this.numList.length)this.numList[n].active=!0,this.numList[n].getComponent("NumComponent").setContent(i[n]);else{var o=cc.instantiate(this.numPrefab);o.parent=this.node,o.getComponent("NumComponent").setContent(i[n]),this.numList.push(o)}switch(i.length){case 3:this.node.setScale(.9,.9);break;case 4:this.node.setScale(.6,.6);break;case 5:this.node.setScale(.45,.45);break;case 6:this.node.setScale(.4,.4);break;default:this.node.setScale(1,1)}i.length>=4||i.length}}),cc._RF.pop()},{}],SpriteFrameSet:[function(e,t,i){"use strict";cc._RF.push(t,"ecbd3Ze139EO6Y/mdovRqSS","SpriteFrameSet");var n=cc.Class({name:"SpriteFrameSet",properties:{language:"",spriteFrame:cc.SpriteFrame}});t.exports=n,cc._RF.pop()},{}],gamesnacks:[function(e,t,i){"use strict";cc._RF.push(t,"fe1fellwHVOt5y30ccJl63x","gamesnacks"),i.__esModule=!0,i.default=void 0;var n=e("utils"),o=function(){function e(e){void 0===e&&(e=null),this._timer=null,this._showAdFn=null,this._options={},this._tryTime=0,this.preloadAds()}var t=e.prototype;return t.gameReady=function(){console.log("gameReady"),window.GAMESNACKS&&window.GAMESNACKS.gameReady()},t.gameOver=function(){console.log("sengameOverdScore:"),window.GAMESNACKS&&window.GAMESNACKS.gameOver()},t.sendScore=function(e){console.log("sendScore:",e),window.GAMESNACKS&&window.GAMESNACKS.sendScore(e)},t.levelComplete=function(e){console.log("levelComplete:",e),window.GAMESNACKS&&window.GAMESNACKS.levelComplete(e)},t.isAudioEnabled=function(){return!window.GAMESNACKS||window.GAMESNACKS.isAudioEnabled()},t.subscribeToAudioUpdates=function(e){if(window.GAMESNACKS)return window.GAMESNACKS.subscribeToAudioUpdates(e)},t.preloadAds=function(e){var t=this;void 0===e&&(e=100),console.log("preloadAds:",this.preloadAds),window.GAMESNACKS&&(this._timer&&(clearInterval(this._timer),this._timer=null),this._showAdFn||(this._timer=setInterval(function(){if(console.log("preloading ads..."),t._tryTime++,t._tryTime>5)return clearInterval(t._timer),void(t._timer=null);t._showAdFn?(clearInterval(t._timer),t._timer=null):t.showAds()},100)))},t.rewardedAdOpportunity=function(e,t,i){console.log("rewardedAdOpportunity"),this._options={event:e,shouldPause:t,callback:i||function(){console.log("no callback")}},this._showAdFn?this._showAdFn():(this._options.callback&&this._options.callback(!1),this.preloadAds())},t.showAds=function(){var e=this;console.log("showAds"),window.GAMESNACKS&&window.GAMESNACKS.rewardedAdOpportunity({beforeReward:function(t){e._showAdFn=t},beforeBreak:function(){e._options.shouldPause&&(cc.director.pause(),cc.audioEngine.pauseAll())},adComplete:function(){n.gtaPushEvent("AdShowSuccess",{adType:"Rewarded",gameFeature:e._options.event}),e._showAdFn=null,e._tryTime=0,e.preloadAds(),e._options.callback&&e._options.callback(!0)},adDismissed:function(){n.gtaPushEvent("AdShowFail",{adType:"Rewarded",gameFeature:e._options.event}),e._showAdFn=null,e._tryTime=0,e.preloadAds(),e._options.callback&&e._options.callback(!1)},afterBreak:function(){e._options.shouldPause&&(cc.director.resume(),cc.audioEngine.resumeAll())}})},e}();i.default=o,t.exports=i.default,cc._RF.pop()},{utils:"utils"}],loading:[function(e,t,i){"use strict";cc._RF.push(t,"34e7aFW/uVFVIfXycZW6RWT","loading"),cc.Class({extends:cc.Component,properties:{cycleIcon:{default:null,type:cc.Node},heartIcon:{default:null,type:cc.Node},_timeout:null},onEnable:function(){if(this.cycleIcon){var e=this;this.cycleIcon.runAction(cc.repeatForever(cc.sequence(cc.callFunc(function(){e.cycleIcon.angle-=20}),cc.delayTime(.05))))}this.heartIcon&&this.heartIcon.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.3,0,1),cc.delayTime(.2),cc.scaleTo(.3,1,1),cc.delayTime(.2))))},startCountDown:function(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(function(){e&&e(),Global.panel.closeLoading()},t)},set:function(e,t){this[e]=t},get:function(e){return this[e]}}),cc._RF.pop()},{}],"polyglot.min":[function(e,t,i){"use strict";cc._RF.push(t,"0c57bENkHNHF5R1+cLnLXbj","polyglot.min"),function(e,n){"function"==typeof define&&define.amd?define([],function(){return n(e)}):"object"==typeof i?t.exports=n(e):e.Polyglot=n(e)}(void 0,function(e){function t(e){e=e||{},this.phrases={},this.extend(e.phrases||{}),this.currentLocale=e.locale||"en",this.allowMissing=!!e.allowMissing,this.warn=e.warn||c}function i(e){var t,i,n,o={};for(t in e)if(e.hasOwnProperty(t))for(n in i=e[t])o[i[n]]=t;return o}function n(e){return e.replace(/^\s+|\s+$/g,"")}function o(e,t,i){var o,r;return null!=i&&e?o=n((r=e.split(h))[s(t,i)]||r[0]):o=e,o}function r(e){var t=i(d);return t[e]||t.en}function s(e,t){return u[r(e)](t)}function a(e,t){for(var i in t)"_"!==i&&t.hasOwnProperty(i)&&(e=e.replace(new RegExp("%\\{"+i+"\\}","g"),t[i]));return e}function c(t){e.console&&e.console.warn&&e.console.warn("WARNING: "+t)}function l(e){var t={};for(var i in e)t[i]=e[i];return t}t.VERSION="0.4.3",t.prototype.locale=function(e){return e&&(this.currentLocale=e),this.currentLocale},t.prototype.extend=function(e,t){var i;for(var n in e)e.hasOwnProperty(n)&&(i=e[n],t&&(n=t+"."+n),"object"==typeof i?this.extend(i,n):this.phrases[n]=i)},t.prototype.clear=function(){this.phrases={}},t.prototype.replace=function(e){this.clear(),this.extend(e)},t.prototype.t=function(e,t){var i,n;return"number"==typeof(t=null==t?{}:t)&&(t={smart_count:t}),"string"==typeof this.phrases[e]?i=this.phrases[e]:"string"==typeof t._?i=t._:this.allowMissing?i=e:(this.warn('Missing translation for key: "'+e+'"'),n=e),"string"==typeof i&&(t=l(t),n=a(n=o(i,this.currentLocale,t.smart_count),t)),n},t.prototype.has=function(e){return e in this.phrases};var h="||||",u={chinese:function(e){return 0},german:function(e){return 1!==e?1:0},french:function(e){return e>1?1:0},russian:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},czech:function(e){return 1===e?0:e>=2&&e<=4?1:2},polish:function(e){return 1===e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},icelandic:function(e){return e%10!=1||e%100==11?1:0}},d={chinese:["fa","id","ja","ko","lo","ms","th","tr","zh"],german:["da","de","en","es","fi","el","he","hu","it","nl","no","pt","sv"],french:["fr","tl","pt-br"],russian:["hr","ru"],czech:["cs"],polish:["pl"],icelandic:["is"]};return t}),cc._RF.pop()},{}],utils:[function(e,t,i){"use strict";cc._RF.push(t,"82ffeyVbHNG26cEBEzkWINa","utils");var n=e("h5ad"),o=e("gamesnacks");t.exports.showAds=function(e,t,i){var o=new Object;o.type=e,o.beforeBreak=function(){console.log("beforeBreak"),t&&(cc.director.pause(),cc.audioEngine.pauseAll())},o.afterBreak=function(){console.log("afterBreak"),t&&(cc.director.resume(),cc.audioEngine.resumeAll()),"reward"!=e&&i&&i(!0)},"reward"==e&&(o.beforeReward=function(e){console.log("beforeReward"),e()}),o.adDismissed=function(){console.log("adDismissed"),i&&i(!1)},"reward"==e&&(o.adViewed=function(){console.log("adViewed"),i&&i(!0)}),o.noBreak=function(){console.log("noBreak"),t&&(cc.director.resume(),cc.audioEngine.resumeAll()),i&&i(!0)},n.adBreak(o)},t.exports.onMute=function(){n.onMute()},t.exports.onUnmute=function(){n.onUnmute()},t.exports.getResourceUrl=function(e){var t=cc.resources.getInfoWithPath(e),i=t.uuid;return t.nativeVer&&(i+="."+t.nativeVer),"./assets/resources/native/"+i.substr(0,2)+"/"+i+".png"},t.exports.gtaInit=function(e,t){console.log("init:",e+" ** "+t);var i={gameId:e,version:"1.0.0",debugLog:!0,amplitude:{apiKey:t,debugLog:!0}};gcTurboAnalytics.init(i)},t.exports.gtaSendBaseUserProperties=function(){var e=new Object;e.version="1.0.0",e.platform="gs"==(void 0).platform?"game_snacks":"other",gcTurboAnalytics.setUserProperties(e)},t.exports.gtaSetUserProperties=function(e){gcTurboAnalytics.setUserProperties(e)},t.exports.gtaPushEvent=function(e,t){gcTurboAnalytics.pushEvent(e,t)},t.exports.getAppName=function(){return"BeeConnect"},t.exports.getWeblinkSource=function(){return document?document.referrer||document.URL:"Unknown"},t.exports.deepClone=function(e){var t,i=function(e){return null===e?"Null":void 0===e?"Undefined":Object.prototype.toString.call(e).slice(8,-1)},n=i(e);if("Object"===n)t={};else{if("Array"!==n)return e;t=[]}for(var o in e){var r=e[o];"Object"==i(r)?t[o]=arguments.callee(r):"Array"==i(r)?t[o]=arguments.callee(r):t[o]=e[o]}return t},t.exports.platform="gs",t.exports.gs=new o,cc._RF.pop()},{gamesnacks:"gamesnacks",h5ad:1}]},{},["ComboBox","ComboBoxItem","Grid","Honey","LimitClick","LocalizationHelper","MainGame","NumComponent","NumList","gamesnacks","loading","utils","LanguageData","LocalizedLabel","LocalizedSprite","SpriteFrameSet","polyglot.min"]);