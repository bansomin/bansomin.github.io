window.__require=function t(e,i,n){function o(r,a){if(!i[r]){if(!e[r]){var c=r.split("/");if(c=c[c.length-1],!e[c]){var h="function"==typeof __require&&__require;if(!a&&h)return h(c,!0);if(s)return s(c,!0);throw new Error("Cannot find module '"+r+"'")}r=c}var l=i[r]={exports:{}};e[r][0].call(l.exports,function(t){return o(e[r][1][t]||t)},l,l.exports,t,e,i,n)}return i[r].exports}for(var s="function"==typeof __require&&__require,r=0;r<n.length;r++)o(n[r]);return o}({1:[function(t,e,i){var n=t("./package.json").version,o="en",s="jp",r={jp:{play:"\u30b9\u30bf\u30fc\u30c8"},en:{play:"Play Now!"}},a=500;function c(){console.log("H5ad v"+n),this._isInitialised=!1,this._splashAdShown=!1}function h(t){for(var e in t=t||{})void 0===t[e]&&delete t[e];return t}function l(t,e){console.error(t),(e=e||{}).noBreak?e.noBreak():(e.beforeBreak&&e.beforeBreak(),e.afterBreak&&e.afterBreak())}function u(){if(!navigator.language)return s;var t=navigator.language.toLowerCase().substr(0,2);return r[t]?t:o}c.prototype.initialize=function(t){if(this._isInitialised)console.warn("h5ad: already initialized");else{if(this._isInitialised=!0,t&&void 0!==t.adBreakTimeout&&(a=t.adBreakTimeout),!window.adsbygoogle){var e=document.createElement("script");e.src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js",e.setAttribute("data-ad-client","ca-pub-123456789"),e.setAttribute("data-adbreak-test","on"),e.async=!0,document.head.appendChild(e),window.adsbygoogle=window.adsbygoogle||[],adBreak=window.adBreak=function(t){console.log("adBreak:",t),window.adsbygoogle.push(t)},adConfig=window.adConfig=function(t){console.log("adConfig:",t),window.adsbygoogle.push(t)}}adConfig({preloadAdBreaks:"on",sound:"on"})}},c.prototype.onStart=function(t){if(t=t||{},this._isInitialised||this.initialize({adBreakTimeout:t.adBreakTimeout}),this._splashAdShown)console.warn("h5ad: onStart has already been called");else{this._splashAdShown=!0;var e="";e+=".splahContainer {",e+="    background-color: black;",e+="    position: absolute;",e+="    width: 100%;",e+="    height: 100%;",e+="    text-align: left;",e+="}",e+=".splahContainer .gameIcon {",e+="    position: relative;",e+="    width: 100px;",e+="    height: 100px;",e+="    background-size: 100%;",e+="    transform: translate(-50%, -100%);",e+="    left: 50%;",e+="    top: 31%;",e+="    border-radius: 10px;",e+="    border: 2px white solid;",e+="    border-radius: min(2vh,2vw);",e+="    border: min(0.7vw, 0.7vh) white solid;",e+="    width: min(30vw, 20vh);",e+="    height: min(30vw, 20vh);",e+="}",e+=".splahContainer .startButton {",e+="    background-color: rgb(255, 193, 7);",e+="    padding: 20px 30px;",e+="    border-radius: 13px;",e+="    transform: translate(-50%, 100%);",e+="    left: 50%;",e+="    top: 40%;",e+="    border: 5px solid white;",e+="    position: relative;",e+="    cursor: pointer;",e+="    font-size: 26px;",e+="    font-family: arial, verdana;",e+="    color: white;",e+="    text-align: center;",e+="    transition: all 0.1s;",e+="    width: min(50vw,27vh);",e+="    padding: min(3vw,3vh);",e+="    font-size: min(4vh,9vw);",e+="    border-radius: min(2vh,2vw);",e+="    border: min(1vw, 1vh) white solid;",e+="}",e+=".splahContainer .startButton:hover {",e+="    transform: translate(-50%, 100%) scale(1.1);",e+="    background-color: rgb(255 217 104);",e+="}";var i=document.createElement("style");i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e)),document.getElementsByTagName("head")[0].appendChild(i);var n=document.createElement("div");t.color&&(n.style.backgroundColor=t.color),n.className="splahContainer";var o=document.createElement("div");o.textContent=r[u()].play,o.className="startButton",n.appendChild(o);var s=document.createElement("div");s.className="gameIcon",t.icon&&(s.style.backgroundImage="url("+t.icon+")"),n.appendChild(s),document.body.appendChild(n),o.onclick=function(){afterBreakCallbackCalled=!1;var e=setTimeout(function(){afterBreakCallbackCalled||(afterBreakCallbackCalled=!0,t.afterBreak&&t.afterBreak())},a);try{adBreak(h({type:"start",name:t.name||"splash_screen",beforeAd:function(){clearTimeout(e)},afterAd:function(){afterBreakCallbackCalled||(afterBreakCallbackCalled=!0,t.afterBreak&&t.afterBreak())}}))}catch(e){l(e,t)}setTimeout(function(){document.body.removeChild(n)},200)}}},c.prototype.onNext=function(t){(t=t||{}).type="next",this.adBreak(t)},c.prototype.onBrowse=function(t){(t=t||{}).type="browse",this.adBreak(t)},c.prototype.onPause=function(t){(t=t||{}).type="pause",this.adBreak(t)},c.prototype.onReward=function(t){(t=t||{}).type="reward",this.adBreak(t)},c.prototype.adBreak=function(t){var e,i=(t=t||{}).type;if(-1===["next","browse","pause","reward"].indexOf(i))return console.error("H5ad: unknown type",i);e=setTimeout(function(){t.noBreak&&t.noBreak()},a);try{adBreak(h({type:i,name:t.name||i,beforeAd:function(){e&&clearTimeout(e),t.beforeBreak&&t.beforeBreak()},afterAd:t.afterBreak,beforeReward:t.beforeReward,adDismissed:"reward"===i?t.adDismissed||function(){}:void 0,adViewed:t.adViewed}))}catch(e){l(e,t)}},c.prototype.onMute=function(t){adConfig({sound:"off"})},c.prototype.onUnmute=function(t){adConfig({sound:"on"})},e.exports=new c},{"./package.json":2}],2:[function(t,e,i){e.exports={_args:[["git+https://github.com/gc-turbo/h5ad.git","F:\\Proj\\GitHub\\GCTurbo\\bee_connect"]],_from:"git+https://github.com/gc-turbo/h5ad.git",_id:"h5ad@git+https://github.com/gc-turbo/h5ad.git#8136cfb6634f3b0197dcf2863971e375f18578ee",_inBundle:!1,_integrity:"",_location:"/h5ad",_phantomChildren:{},_requested:{type:"git",raw:"git+https://github.com/gc-turbo/h5ad.git",rawSpec:"git+https://github.com/gc-turbo/h5ad.git",saveSpec:"git+https://github.com/gc-turbo/h5ad.git",fetchSpec:"https://github.com/gc-turbo/h5ad.git",gitCommittish:null},_requiredBy:["/"],_resolved:"git+https://github.com/gc-turbo/h5ad.git#8136cfb6634f3b0197dcf2863971e375f18578ee",_spec:"git+https://github.com/gc-turbo/h5ad.git",_where:"F:\\Proj\\GitHub\\GCTurbo\\bee_connect",author:{name:"GC Turbo"},bugs:{url:"https://github.com/gc-turbo/h5ad/issues"},description:"Ad API wrapper for GC Turbo hyper casual games",homepage:"https://github.com/gc-turbo/h5ad#readme",license:"",main:"index.js",name:"h5ad",repository:{type:"git",url:"git+https://github.com/gc-turbo/h5ad.git"},scripts:{},version:"1.1.2"}},{}],Grid:[function(t,e,i){"use strict";cc._RF.push(e,"83bcep2VlxDCKAZJVK1P+xd","Grid");var n=cc.Enum({default:"default",mask:"maskGroup"});cc.Class({extends:cc.Component,properties:{highLight:cc.Node},onLoad:function(){var t=this;this.node.on(cc.Node.EventType.TOUCH_START,function(){if(!t.mainScene._isTeach||t.node.group!=n.default)if(null!=t.data.honey)if(!0===t.mainScene.isRemoving)t.mainScene.removeSameColor(t.data);else{if(!0===t.mainScene.isMoving)return;t.mainScene.restoreHoney(),t.startHight(),t.mainScene.startMove(t.data)}else t.mainScene.endMove(t.data)}),this.highLightTimer=0,this.highLight.opacity=0},init:function(t,e){this.data=t,this.data.grid=this,this.mainScene=e},stopHight:function(){this.highLightTimer=0,this.highLight.opacity=0,this.node.group=n.default},startHight:function(){this.highLightTimer=Date.now(),this.currentTimer=Date.now(),this.highLight.opacity=0,this.increase=!0,this.node.group=n.mask},start:function(){},update:function(t){0!==this.highLightTimer&&Date.now()-this.currentTimer>=30&&(this.currentTimer=Date.now(),this.increase?(this.highLight.opacity+=10,this.highLight.opacity>=255&&(this.highLight.opacity=255,this.increase=!1)):(this.highLight.opacity-=10,this.highLight.opacity<=0&&(this.highLight.opacity=0,this.increase=!0)))}}),cc._RF.pop()},{}],Honey:[function(t,e,i){"use strict";cc._RF.push(e,"f3b51OYsdxJjqAs7sxNlfxm","Honey"),cc.Class({extends:cc.Component,properties:{num:cc.Node,bg:cc.Node,bg_1:cc.Node,bg_2:cc.Node,bg_3:cc.Node,bg_4:cc.Node,bg_5:cc.Node,bg_6:cc.Node,bg_7:cc.Node,bg_8:cc.Node,bg_9:cc.Node,bg_10:cc.Node,bg_default:cc.Node},start:function(){},setParent:function(t){this._parentCtrl=t},setLabel:function(t){switch(this.bg.active=this.bg_1.active=this.bg_2.active=this.bg_3.active=this.bg_4.active=this.bg_5.active=this.bg_6.active=this.bg_7.active=this.bg_8.active=this.bg_9.active=this.bg_10.active=this.bg_default.active=!1,t){case 1:this.bg.active=!0;break;case 2:this.bg_1.active=!0;break;case 4:this.bg_2.active=!0;break;case 8:this.bg_3.active=!0;break;case 16:this.bg_4.active=!0;break;case 32:this.bg_5.active=!0;break;case 64:this.bg_6.active=!0;break;case 128:this.bg_7.active=!0;break;case 256:this.bg_8.active=!0;break;case 512:this.bg_9.active=!0;break;case 1024:this.bg_10.active=!0;break;default:this.bg_default.active=!0}this.num.getComponent("NumList").setNum(t)},show:function(t,e,i){this.setLabel(e.num),this.node.parent=t,this.node.setPosition(e.pos),this.node.setScale(0,0),this.node.opacity=255,cc.Tween.stopAllByTarget(this.node);var n=1;this._parentCtrl&&(n=this._parentCtrl.getConfig().scale),cc.tween(this.node).to(1,{scale:n},{easing:"elasticOut"}).call(function(){null!=i&&i()}).start()},hide:function(){var t=this;this.node.setScale(1,1),cc.tween(this.node).to(.8,{scale:0},{easing:"elasticIn"}).call(function(){t.node.parent=null}).start()}}),cc._RF.pop()},{}],LimitClick:[function(t,e,i){"use strict";cc._RF.push(e,"e5a03LHvglDpLirPzfiLGzz","LimitClick"),cc.Class({extends:cc.Component,properties:{_startTimer:0,_allowClick:!0},onLoad:function(){this.time=300},clickTime:function(t){return void 0!=t&&null!=t&&(this.time=t),!1!==this._allowClick&&(this._startTimer=Date.now(),this._allowClick=!1,!0)},update:function(){Date.now()-this._startTimer>=this.time&&(this._allowClick=!0)}}),cc._RF.pop()},{}],MainGame:[function(t,e,i){"use strict";cc._RF.push(e,"91c5eTWfp9Ez55LTZEDxEG9","MainGame");var n=t("h5ad"),o=t("utils"),s=cc.Enum({default:"default",mask:"maskGroup"}),r={4:{scale:1.3,maxHiveNum:7,size:{width:83.2,height:96.2}},5:{scale:1,maxHiveNum:9,size:{width:64,height:74}}};cc.Class({extends:cc.Component,properties:{honeyPrefab:cc.Prefab,honeyList:[cc.Node],honeyPool:[cc.Node],gridPrefab:cc.Prefab,openList:[],closeList:[],gameOverNode:cc.Node,scoreLabel:cc.Label,coinLabel:cc.Label,gridsBgList:{default:[],type:cc.SpriteFrame},gridsBg:cc.Node,container:cc.Node,gameOverScoreLabel:cc.Label,honeyNumList:[cc.Node],tip:cc.Node,startNode:cc.Node,highestScoreLabel:cc.Label,highestScoreLabel1:cc.Label,skillNode:cc.Node,refreshCoin:25,remove1Coin:40,remove5Coin:75,removeColorCoin:150,refreshCoinLabel:cc.Label,remove1CoinLabel:cc.Label,remove5CoinLabel:cc.Label,removeColorCoinLabel:cc.Label,moveAudio:cc.AudioSource,mergeAudio:cc.AudioSource,endAudio:cc.AudioSource,skillAudio_1:cc.AudioSource,skillAudio_23:cc.AudioSource,skillAudio_4:cc.AudioSource,skillTip:cc.Node,tutorailNode:cc.Node,muteBtn:cc.Node,unmuteBtn:cc.Node,mCamera:{default:null,type:cc.Camera},tCamera:{default:null,type:cc.Camera},fingerNode:{default:null,type:cc.Node},loadingNode:{default:null,type:cc.Node},_isTeach:!1,_bestList:[],_endGrid:null,_megerNumber:0},showTip:function(){var t=this;!0!==this.isShowTip&&(this.tip.active=!0,this.tip.opacity=255,this.isShowTip=!0,this.tip.setScale(0,0),this.tip.setPosition(0,0),cc.tween(this.tip).to(1,{scale:1},{easing:"elasticOut"}).call(function(){setTimeout(function(){cc.tween(t.tip).to(.5,{position:cc.v2(0,450),opacity:0}).call(function(){t.isShowTip=!1}).start()},1e3)}).start())},onLoad:function(){o.gtaInit("321085","0033cb7f59e3cd9a32e9a1abd8807afa");var t={weblinkSource:o.getWeblinkSource(),gameName:o.getAppName(),version:"1.0.0"};o.gtaSetUserProperties(t),o.gtaPushEvent("gameSession",t),this.randomNumberList=[1,2,4,8],this.initGrids(),this.currentMoveGrid=null,this.gameOverNode.active=!1,this.currentScore=0,this.currentCoin=0,this.coinLabel.string=""+this.currentCoin,this.scoreLabel.string=this.currentScore,this.gameOverScoreLabel.string=this.currentScore;for(var e=0;e<5;e++)this.honeyNumList[e].setScale(0,0);this.gridsBg.active=!0,this.container.active=!0,this.gridsBg.getComponent(cc.Sprite).spriteFrame=this.gridsBgList[0],this.gridsBg.setScale(0,0),this.isRemoving=!1,this.tip.active=!1,this.isShowTip=!1,this.tip.opacity=255,this.tip.setScale(0,0),this.tip.setPosition(0,0),this.startNode.opacity=255,this.startNode.active=!0,this.highestScore=cc.sys.localStorage.getItem("highestScore"),null==this.highestScore&&(this.highestScore=0),this.highestScoreLabel.string=this.highestScoreLabel1.string=""+this.highestScore,this.skillNode.active=!1,this.refreshCoinLabel.string=""+this.refreshCoin,this.remove1CoinLabel.string=""+this.remove1Coin,this.remove5CoinLabel.string=""+this.remove5Coin,this.removeColorCoinLabel.string=""+this.removeColorCoin,this.skillTip.active=!1,this.currentTimer=Date.now(),this.limitClick=this.node.getComponent("LimitClick"),this.isMute=!1,this.muteBtn.active=!this.isMute,this.unmuteBtn.active=this.isMute,this._isTeach=!0,this.isMoving=!1,n.onStart({icon:o.getResourceUrl("icon"),color:"#E88029",afterBreak:function(){var t=new Object;t.adType="Interstitial",t.gameName=o.getAppName(),t.weblinkSource=o.getWeblinkSource(),t.gameFeature="interstitialAD_start",o.gtaPushEvent("AdShowSuccess",t)},adBreakTimeout:3e3}),this.tutorailNode.active=!1},mute:function(){this.isMute=!0,this.muteBtn.active=!this.isMute,this.unmuteBtn.active=this.isMute,this.node.getComponent("cc.AudioSource").stop(),o.onMute()},unmute:function(){this.isMute=!1,this.muteBtn.active=!this.isMute,this.unmuteBtn.active=this.isMute,this.node.getComponent("cc.AudioSource").play(),o.onUnmute()},startGame:function(){var t=this;cc.tween(this.gridsBg).to(1,{scale:r[4].scale},{easing:"elasticOut"}).call(function(){t.preloadHoneyNum(!0),t.createRandomGrids(10)}).start()},startToturial:function(){if(this._isTeach){var t=this.getHoneyGrids();if(0!==t.length){this.tutorailNode.active=!0,t.sort(function(t,e){var i=t.hasOwnProperty("getGroup")?t.getGroup.length:1;return(e.hasOwnProperty("getGroup")?e.getGroup.length:1)-i});var e={array:[],maxCombine:0},i={array:[],maxCombine:0},n={array:[],maxCombine:0},o={array:[],maxCombine:0},r=[];r.push(e),r.push(i),r.push(n),r.push(o);for(var a=0;a<t.length;a++){var c=t[a];1==c.num?(e.array.push(c),c.getGroup&&c.getGroup.length>e.maxCombine&&(e.maxCombine=c.getGroup.length)):2==c.num?(i.array.push(c),c.getGroup&&c.getGroup.length>i.maxCombine&&(i.maxCombine=c.getGroup.length)):4==c.num?(n.array.push(c),c.getGroup&&c.getGroup.length>n.maxCombine&&(n.maxCombine=c.getGroup.length)):8==c.num&&(o.array.push(c),c.getGroup&&c.getGroup.length>o.maxCombine&&(o.maxCombine=c.getGroup.length))}r.sort(function(t,e){var i=t.maxCombine,n=e.maxCombine;return i==n?e.array.length-t.array.length:n-i});var h=this.getTargetArray(r.concat([]));h||(h=r[0]);var l=[];h.array[0].hasOwnProperty("getGroup")&&(l=l.concat(h.array[0].getGroup));for(var u=this.getCombineRoundNodeList(l),d=r[r.indexOf(h)].array,g=new Array,p=0;p<d.length;p++){var m=d[p];if(-1==l.indexOf(m)){for(var f=new Array,v=0;v<u.length;v++){var b=u[v],y=this.getPath(m,b);y&&(y.splice(0,0,m),f.push(y))}g.push(f)}}g.forEach(function(t){t.sort(function(t,e){return t.length-e.length})});var C=[];if(g.forEach(function(t){C.push(t[0])}),C.sort(function(t,e){return t.length-e.length}),this._bestList=C[0],this._bestList&&!(this._bestList.length<=0)){var k=this._bestList[0];k.honey&&(k.honey.group=s.mask),k.grid&&(k.grid.node.group=s.mask,this.playFingerAnimation(!0,k.grid.node))}}}},stopToturial:function(){this._isTeach=!1,this.tutorailNode.active=!1},getTargetArray:function(t){var e=t[0];return e?e.array.length<=1||e.maxCombine<=1?e:void(e.array.length<=e.maxCombine&&this.getTargetArray(t.splice(0,1))):null},getCombineRoundNodeList:function(t){for(var e=[],i=0;i<t.length;i++)for(var n=t[i],o=this.getRoundNode(n,!0),s=0;s<o.length;s++)o[s]&&null==o[s].honey&&-1==e.indexOf(o[s])&&e.push(o[s]);return e},onClickStartBtn:function(){var t=this;0!=this.limitClick.clickTime()&&(cc.tween(this.startNode).to(1,{opacity:0}).call(function(){t.startNode.active=!1,t.startGame()}).start(),!1===this.isMute&&(this.node.getComponent("cc.AudioSource").volume=.5,this.node.getComponent("cc.AudioSource").play(),this.node.getComponent("cc.AudioSource").loop=!0))},onClickSkillBtn:function(){var t=this;0!=this.limitClick.clickTime()&&!0!==this.skillNode.active&&(this.loadingNode.active=!0,o.showAds("browse",!1,function(e){t.loadingNode.active=!1;var i=new Object;i.adType="Interstitial",i.gameName=o.getAppName(),i.gameFeature="interstitialAD_skill",i.weblinkSource=o.getWeblinkSource(),e?o.gtaPushEvent("AdShowSuccess",i):o.gtaPushEvent("AdShowFail",i),t.openSkillsMenu()}))},openSkillsMenu:function(){this.skillNode.active=!0,this.skillNode.setScale(0,0),cc.tween(this.skillNode).to(.8,{scale:1},{easing:"elasticOut"}).start()},onClickCloseSkill:function(t,e){var i=this;null!=t&&0==this.limitClick.clickTime()||(this.skillNode.setScale(1,1),cc.tween(this.skillNode).to(.2,{scale:0}).call(function(){i.skillNode.active=!1,null!=e&&e()}).start())},onClickRefresh:function(){var t=this;if(0!=this.limitClick.clickTime()){if(this.currentCoin<this.refreshCoin)return this.onClickCloseSkill(null,null),void this.showTip();this.currentCoin-=this.refreshCoin,this.coinLabel.string=""+this.currentCoin,this.onClickCloseSkill(null,function(){t.preloadHoneyNum(!1),!1===t.isMute&&setTimeout(function(){t.skillAudio_1.play(),t.skillAudio_1.volume=.5},400)})}},onClickRemoveOne:function(){var t=this;if(0!=this.limitClick.clickTime()){if(this.currentCoin<this.remove1Coin)return this.onClickCloseSkill(null,null),void this.showTip();this.currentCoin-=this.remove1Coin,this.coinLabel.string=""+this.currentCoin,this.onClickCloseSkill(null,function(){var e=t.getHoneyGrids();if(0!==e.length){var i=e[Math.floor(Math.random()*e.length)];i.honey.getComponent("Honey").hide(),i.honey=null,i.num=0,0===(e=t.getHoneyGrids()).length&&t.createRandomGrids(5),!1===t.isMute&&setTimeout(function(){t.skillAudio_23.volume=.5,t.skillAudio_23.play()},300)}})}},onClickRemoveFive:function(){var t=this;if(0!=this.limitClick.clickTime()){if(this.currentCoin<this.remove5Coin)return this.onClickCloseSkill(null,null),void this.showTip();this.currentCoin-=this.remove5Coin,this.coinLabel.string=""+this.currentCoin,this.onClickCloseSkill(null,function(){var e=t.getHoneyGrids();if(0!==e.length){for(var i=e.length<5?e.length:5;i>0;){var n=(e=t.getHoneyGrids())[Math.floor(Math.random()*e.length)];n.honey.getComponent("Honey").hide(),n.honey=null,n.num=0,i--}0===(e=t.getHoneyGrids()).length&&t.createRandomGrids(5),!1===t.isMute&&setTimeout(function(){t.skillAudio_23.volume=.5,t.skillAudio_23.play()},300)}})}},onClickRemoveSameColor:function(){if(0!=this.limitClick.clickTime()){if(this.currentCoin<this.removeColorCoin)return this.onClickCloseSkill(null,null),void this.showTip();this.currentCoin-=this.removeColorCoin,this.coinLabel.string=""+this.currentCoin,this.isRemoving=!0,this.onClickCloseSkill(null),this.addOpacity=!0,this.skillTip.opacity=0,this.skillTip.active=!0}},removeSameColor:function(t){this.skillTip.active=!1;for(var e=this.getSameColorGrids(t),i=0;i<e.length;i++){var n=e[i];n.honey.getComponent("Honey").hide(),n.honey=null,n.num=0}this.isRemoving=!1,0===(e=this.getHoneyGrids()).length&&this.createRandomGrids(5),!1===this.isMute&&this.skillAudio_4.play()},getSameColorGrids:function(t){for(var e=[],i=0;i<this.gridList.length;i++){var n=this.gridList[i];n.num===t.num&&e.push(n)}return e},getHoneyGrids:function(){for(var t=[],e=0;e<this.gridList.length;e++){var i=this.gridList[e];null!=i.honey&&t.push(i)}return t},preloadHoneyNum:function(t){var e=this;this.randomHoneyNumList=[];for(var i=0;i<5;i++){var n=this.randomNumberList[Math.floor(Math.random()*this.randomNumberList.length)];this.randomHoneyNumList.push(n)}if(t)for(var o=function(t){setTimeout(function(){e.honeyNumList[t].getComponent("Honey").setLabel(e.randomHoneyNumList[t]),cc.tween(e.honeyNumList[t]).to(.5,{scale:1},{easing:"elasticOut"}).start()},50*t)},s=0;s<5;s++)o(s);else for(var r=function(t){cc.tween(e.honeyNumList[t]).to(.5,{scale:0},{easing:"elasticIn"}).call(function(){setTimeout(function(){e.honeyNumList[t].getComponent("Honey").setLabel(e.randomHoneyNumList[t]),cc.tween(e.honeyNumList[t]).to(.5,{scale:1},{easing:"elasticOut"}).start()},50*t)}).start()},a=0;a<5;a++)r(a)},restarGameCallback:function(){var t=this;cc.tween(this.gameOverNode).to(1,{scale:0},{easing:"elasticIn"}).call(function(){t.gameOverNode.active=!1;for(var e=0;e<t.gridList.length;e++){var i=t.gridList[e];t.honeyPool.push(i.honey),i.honey.parent=null,i.honey=null,i.num=0}t.gameOverNode.active=!1,t.currentScore=0,t.scoreLabel.string=t.currentScore,t.gameOverScoreLabel.string=t.currentScore;for(var n=0;n<5;n++)t.honeyNumList[n].setScale(0,0);t.gridsBg.active=!0,t.container.active=!0,t.gridsBg.setScale(0,0),cc.tween(t.gridsBg).to(1,{scale:r[4].scale},{easing:"elasticOut"}).call(function(){t.preloadHoneyNum(!0),t.createRandomGrids(10)}).start()}).start(),this.isRemoving=!1,this.tip.active=!1,this.tip.opacity=255,this.isShowTip=!1,this.tip.setScale(0,0),this.tip.setPosition(0,0),!1===this.isMute&&(this.node.getComponent("cc.AudioSource").volume=.5,this.node.getComponent("cc.AudioSource").play(),this.node.getComponent("cc.AudioSource").loop=!0)},restart:function(){var t=this;this.loadingNode.active=!0,o.showAds("reward",!0,function(e){t.loadingNode.active=!1;var i=new Object;i.adType="Reward",i.gameName=o.getAppName(),i.gameFeature="rewardAD_rePlay",i.weblinkSource=o.getWeblinkSource(),e?o.gtaPushEvent("AdShowSuccess",i):o.gtaPushEvent("AdShowFail",i),e&&t.restarGameCallback()})},initGrids:function(){this.grids=[];var t,e,i=r[4].maxHiveNum+4-1,n=-3*r[4].size.height/2,o=0;this.gridList=[];for(var s=0;s<r[4].maxHiveNum;s++){s<=3?(t=4+s,e=n-s*r[4].size.height/2):(t=i-s,e=(s-4)*r[4].size.height/2-238),this.grids[s]=[];for(var a=0;a<t;a++){this.grids[s][a]={row:s,col:a,pos:cc.v2(e+a*r[4].size.height,265-s*r[4].size.width),index:o,honey:null,num:0};var c=cc.instantiate(this.gridPrefab);c.parent=this.container,c.setPosition(this.grids[s][a].pos),c.getComponent("Grid").init(this.grids[s][a],this),o++,this.gridList.push(this.grids[s][a])}}},getList:function(t){for(var e=[],i=10===t?this._isTeach?[1,2,4,8]:this.randomNumberList.concat([]):this.randomHoneyNumList.concat([]),n=(i[[Math.floor(Math.random()*i.length)]],0);n<t;n++)e[n]=i[[Math.floor(Math.random()*i.length)]];return e},createRandomGrids:function(t){var e,i=this;this.previousDeleteGrids=null;var n=this.getNullGrids(),o=n.length>t?t:n.length;this.checkCount=o,this.currentCheckCount=0;for(var s=this.getList(t),r=function(t){var o=s[t];e=i.honeyPool.length>0?i.honeyPool.pop():cc.instantiate(i.honeyPrefab);var r=(n=i.getNullGrids())[Math.floor(Math.random()*n.length)];r.num=o,r.honey=e,e.getComponent("Honey").setParent(i),e.getComponent("Honey").show(i.container,r),setTimeout(function(){i.checkMerge(r)},1)},a=0;a<o;a++)r(a);5===t&&this.preloadHoneyNum(!1)},checkMerge:function(t){this.previousDeleteGrids&&this.previousDeleteGrids.indexOf(t)>=0?(this.currentCheckCount++,this.currentCheckCount>=this.checkCount&&(0===this.getNullGrids().length?this.gameOver():this.startToturial())):(this.previousDeleteGrids=this.getGroup(t),this.previousDeleteGrids.length>=4?(this.isMoving=!0,this.mergeHoney(t,this.previousDeleteGrids)):(this.currentCheckCount++,this.currentCheckCount>=this.checkCount&&(0===this.getNullGrids().length?this.gameOver():this.startToturial())))},gameOver:function(){this.gameOverNode.active=!0,this.gameOverNode.setScale(0,0),cc.tween(this.gameOverNode).to(1,{scale:1},{easing:"elasticOut"}).start(),!1===this.isMute&&(this.node.getComponent("cc.AudioSource").stop(),this.endAudio.volume=.5,this.endAudio.play())},getNullGrids:function(){for(var t=[],e=0;e<this.gridList.length;e++)null==this.gridList[e].honey&&t.push(this.gridList[e]);return t},startMove:function(t){this.currentMoveGrid=t,this.showToturial()},showToturial:function(){this._isTeach&&this.currentMoveGrid&&(!this._bestList||this._bestList.length<=0||(this._endGrid&&this._endGrid.grid&&this._endGrid.grid.stopHight(),this._endGrid=this._bestList[this._bestList.length-1],this._endGrid.grid.startHight(),this.playFingerAnimation(!0,this._endGrid.grid.node)))},playFingerAnimation:function(t,e){var i=this;if(void 0===t&&(t=!1),this.fingerNode.parent.active=t,t){var n=e.parent.convertToWorldSpaceAR(e.position),o=this.fingerNode.parent.parent.convertToNodeSpaceAR(n);this.fingerNode.getComponent(cc.Animation).pause(),cc.tween(this.fingerNode.parent).to(.2,{position:cc.v2(o.x,o.y)}).call(function(){i.fingerNode.getComponent(cc.Animation).resume()}).start()}},endMove:function(t){if(!(this._isTeach&&t&&t.honey&&t.honey.group==s.default)&&(this.playFingerAnimation(!1),this.currentMoveGrid)){if(this.honey=this.currentMoveGrid.honey,this.path=this.getPath(this.currentMoveGrid,t),null==this.path)return void this.restoreHoney();this.isMoving=!0,this.currentMoveGrid.honey=null,t.honey=this.honey,t.num=this.currentMoveGrid.num,this.currentMoveGrid.num=0;var e,i=cc.callFunc(function(){!1===this.isMute&&(this.moveAudio.volume=.5,this.moveAudio.play());var e=this.getGroup(t);e.length>=4?this.mergeHoney(t,e):(this.createRandomGrids(5),this.isMoving=!1,this._endGrid&&this._endGrid.grid&&this._endGrid.grid.stopHight(),this.honey.group=s.default)},this),n=[];if(this.path.length>1){for(var o=0;o<this.path.length;o++){var r=this.path[o].pos,a=cc.moveTo(.05,cc.v2(r.x,r.y));n.push(a)}n.push(i),e=cc.sequence(n),this.honey.runAction(e)}else{n=[cc.moveTo(.05,cc.v2(this.path[0].pos.x,this.path[0].pos.y)),i],e=cc.sequence(n),this.honey.runAction(e)}this.currentMoveGrid.grid.stopHight(),this.currentMoveGrid=null}},restoreHoney:function(){null!=this.currentMoveGrid&&this.currentMoveGrid.grid.stopHight()},mergeHoney:function(t,e){var i=this;this._megerNumber++;var n=4*t.num;t.mergeCount=e.length-1;for(var o=0;o<e.length;o++){var a=e[o];a!=t&&(cc.tween(a.honey).to(.5,{position:cc.v2(t.pos.x,t.pos.y)},{easing:"elasticIn"}).call(function(e){t.mergeCount--,e.parent=null,i.honeyPool.push(e),t.mergeCount<=0&&cc.tween(t.honey).to(.8,{scale:0},{easing:"elasticIn"}).call(function(){t.num=n,t.honey.getComponent("Honey").setLabel(n),t.honey.group=s.default,i._endGrid&&i._endGrid.grid&&i._endGrid.grid.stopHight(),!1===i.isMute&&(i.mergeAudio.volume=.5,i.mergeAudio.play()),cc.tween(t.honey).to(.8,{scale:r[4].scale},{easing:"elasticOut"}).call(function(){i.isMoving=!1,i.previousDeleteGrids=null,i.checkMerge(t),i._isTeach&&i._megerNumber>=2&&i.stopToturial()}).start()}).start()}).start(),a.honey=null,a.num=0)}this.currentCoin++,this.currentScore+=n,this.currentScore>this.highestScore&&(cc.sys.localStorage.setItem("highestScore",this.currentScore),this.highestScoreLabel.string=this.highestScoreLabel1.string=""+this.currentScore),this.coinLabel.string=""+this.currentCoin,this.scoreLabel.string=this.currentScore,this.gameOverScoreLabel.string=this.currentScore},getPath:function(t,e){for(var i=0;i<this.gridList.length;i++){this.gridList[i].parentGrid=null}var n;for(this.openList=[t],this.closeList=[];;){var o=this.getMinNode(t,e);this.closeList.push(o),n=this.openList.indexOf(o),this.openList.splice(n,1);var s=this.getRoundNode(o);if(this.openList=this.openList.concat(s),o==e)for(var r=o,a=[];;){if(!r.parentGrid)return a.reverse();a.push(r),r=r.parentGrid}if(0===this.openList.length)return null}},filterGrid:function(t){var e=this.openList.indexOf(t),i=this.closeList.indexOf(t);return e<0&&i<0},getRoundNode:function(t,e){var i=t.row,n=t.col,o=i>0?this.grids[i-1]:null,s=this.grids[i],r=i<8?this.grids[i+1]:null,a=[];return s&&(n>0&&(e||null==s[n-1].honey&&this.filterGrid(s[n-1]))&&(1!=e&&(s[n-1].parentGrid=t),a.push(s[n-1])),n<s.length-1&&(e||null==s[n+1].honey&&this.filterGrid(s[n+1]))&&(1!=e&&(s[n+1].parentGrid=t),a.push(s[n+1]))),o&&(o.length>this.grids[i].length?(e||null==o[n].honey&&this.filterGrid(o[n]))&&(1!=e&&(o[n].parentGrid=t),a.push(o[n])):n>0&&(e||null==o[n-1].honey&&this.filterGrid(o[n-1]))&&(1!=e&&(o[n-1].parentGrid=t),a.push(o[n-1])),o.length>this.grids[i].length?(e||null==o[n+1].honey&&this.filterGrid(o[n+1]))&&(1!=e&&(o[n+1].parentGrid=t),a.push(o[n+1])):n<this.grids[i].length-1&&(e||null==o[n].honey&&this.filterGrid(o[n]))&&(1!=e&&(o[n].parentGrid=t),a.push(o[n]))),r&&(r.length>this.grids[i].length?(e||null==r[n].honey&&this.filterGrid(r[n]))&&(1!=e&&(r[n].parentGrid=t),a.push(r[n])):n>0&&(e||null==r[n-1].honey&&this.filterGrid(r[n-1]))&&(1!=e&&(r[n-1].parentGrid=t),a.push(r[n-1])),r.length>this.grids[i].length?(e||null==r[n+1].honey&&this.filterGrid(r[n+1]))&&(1!=e&&(r[n+1].parentGrid=t),a.push(r[n+1])):n<this.grids[i].length-1&&(e||null==r[n].honey&&this.filterGrid(r[n]))&&(1!=e&&(r[n].parentGrid=t),a.push(r[n]))),a},getMinNode:function(t,e){var i=this.openList[0],n=this.getValue(t,e,i);i.pathValue=n;for(var o=1;o<this.openList.length;o++){var s=this.getValue(t,e,this.openList[o]);this.openList[o].pathValue=s,s<n&&(i=this.openList[o],n=s)}return i},getValue:function(t,e,i){return this.getDis(t.pos,i.pos)+this.getDis(i.pos,e.pos)},getDis:function(t,e){var i=e.x-t.x,n=e.y-t.y;return Math.sqrt(i*i+n*n)},getGroup:function(t){for(var e,i=t,n=[],o=[t];;){e=this.getRoundNode(i,!0);for(var s=0;s<e.length;s++)e[s].num===t.num&&n.indexOf(e[s])<0&&o.indexOf(e[s])<0&&(n.push(e[s]),o.indexOf(e[s])<0&&o.push(e[s]));if(0===n.length)return t.getGroup=o,o;i=n.pop()}return null},getConfig:function(){return r[4]},update:function(t){!1!==this.skillTip.active&&Date.now()-this.currentTimer>=100&&(this.currentTimer=Date.now(),!0===this.addOpacity?this.skillTip.opacity+=20:this.skillTip.opacity-=20,this.skillTip.opacity>=255?this.addOpacity=!1:this.skillTip.opacity<=0&&(this.addOpacity=!0))}}),cc._RF.pop()},{h5ad:1,utils:"utils"}],NumComponent:[function(t,e,i){"use strict";cc._RF.push(e,"36b58uqOPROH7GPbzhscI7Q","NumComponent"),cc.Class({extends:cc.Component,properties:{numList:[cc.Node]},start:function(){},setContent:function(t){for(var e=0;e<this.numList.length;e++)this.numList[e].active=!1;this.numList[t].active=!0}}),cc._RF.pop()},{}],NumList:[function(t,e,i){"use strict";cc._RF.push(e,"cc492NrMmNPhLr7kAj2Pxw0","NumList"),cc.Class({extends:cc.Component,properties:{numList:[],numPrefab:cc.Prefab},start:function(){},setNum:function(t){for(var e=0;e<this.numList.length;e++)this.numList[e].active=!1;for(var i=(""+t).split(""),n=0;n<i.length;n++)if(n<this.numList.length)this.numList[n].active=!0,this.numList[n].getComponent("NumComponent").setContent(i[n]);else{var o=cc.instantiate(this.numPrefab);o.parent=this.node,o.getComponent("NumComponent").setContent(i[n]),this.numList.push(o)}switch(i.length){case 3:this.node.setScale(.9,.9);break;case 4:this.node.setScale(.6,.6);break;case 5:this.node.setScale(.45,.45);break;case 6:this.node.setScale(.4,.4);break;default:this.node.setScale(1,1)}i.length>=4||i.length}}),cc._RF.pop()},{}],loading:[function(t,e,i){"use strict";cc._RF.push(e,"34e7aFW/uVFVIfXycZW6RWT","loading"),cc.Class({extends:cc.Component,properties:{cycleIcon:{default:null,type:cc.Node},heartIcon:{default:null,type:cc.Node},_timeout:null},onEnable:function(){if(this.cycleIcon){var t=this;this.cycleIcon.runAction(cc.repeatForever(cc.sequence(cc.callFunc(function(){t.cycleIcon.angle-=20}),cc.delayTime(.05))))}this.heartIcon&&this.heartIcon.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.3,0,1),cc.delayTime(.2),cc.scaleTo(.3,1,1),cc.delayTime(.2))))},startCountDown:function(t,e){clearTimeout(this._timeout),this._timeout=setTimeout(function(){t&&t(),Global.panel.closeLoading()},e)},set:function(t,e){this[t]=e},get:function(t){return this[t]}}),cc._RF.pop()},{}],utils:[function(t,e,i){"use strict";cc._RF.push(e,"82ffeyVbHNG26cEBEzkWINa","utils");var n=t("h5ad");e.exports.showAds=function(t,e,i){var o=new Object;o.type=t,o.beforeBreak=function(){console.log("beforeBreak"),e&&(cc.director.pause(),cc.audioEngine.pauseAll())},o.afterBreak=function(){console.log("afterBreak"),e&&(cc.director.resume(),cc.audioEngine.resumeAll()),"reward"!=t&&i&&i(!0)},"reward"==t&&(o.beforeReward=function(t){console.log("beforeReward"),t()}),o.adDismissed=function(){console.log("adDismissed"),i&&i(!1)},"reward"==t&&(o.adViewed=function(){console.log("adViewed"),i&&i(!0)}),o.noBreak=function(){console.log("noBreak"),e&&(cc.director.resume(),cc.audioEngine.resumeAll()),i&&i(!0)},n.adBreak(o)},e.exports.onMute=function(){n.onMute()},e.exports.onUnmute=function(){n.onUnmute()},e.exports.getResourceUrl=function(t){var e=cc.resources.getInfoWithPath(t),i=e.uuid;return e.nativeVer&&(i+="."+e.nativeVer),"./assets/resources/native/"+i.substr(0,2)+"/"+i+".png"},e.exports.gtaInit=function(t,e){console.log("init:",t+" ** "+e);var i={gameId:t,version:"1.0.0",debugLog:!0,amplitude:{apiKey:e,debugLog:!0}};gcTurboAnalytics.init(i)},e.exports.gtaSendBaseUserProperties=function(){var t=new Object;t.version="1.0.0",gcTurboAnalytics.setUserProperties(t)},e.exports.gtaSetUserProperties=function(t){gcTurboAnalytics.setUserProperties(t)},e.exports.gtaPushEvent=function(t,e){gcTurboAnalytics.pushEvent(t,e)},e.exports.getAppName=function(){return"BeeConnect"},e.exports.getWeblinkSource=function(){return document?document.referrer||document.URL:"Unknown"},e.exports.deepClone=function(t){var e,i=function(t){return null===t?"Null":void 0===t?"Undefined":Object.prototype.toString.call(t).slice(8,-1)},n=i(t);if("Object"===n)e={};else{if("Array"!==n)return t;e=[]}for(var o in t){var s=t[o];"Object"==i(s)?e[o]=arguments.callee(s):"Array"==i(s)?e[o]=arguments.callee(s):e[o]=t[o]}return e},cc._RF.pop()},{h5ad:1}]},{},["Grid","Honey","LimitClick","MainGame","NumComponent","NumList","loading","utils"]);