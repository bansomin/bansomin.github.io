window.__require=function t(e,r,o){function n(s,a){if(!r[s]){if(!e[s]){var c=s.split("/");if(c=c[c.length-1],!e[c]){var p="function"==typeof __require&&__require;if(!a&&p)return p(c,!0);if(i)return i(c,!0);throw new Error("Cannot find module '"+s+"'")}s=c}var u=r[s]={exports:{}};e[s][0].call(u.exports,function(t){return n(e[s][1][t]||t)},u,u.exports,t,e,r,o)}return r[s].exports}for(var i="function"==typeof __require&&__require,s=0;s<o.length;s++)n(o[s]);return n}({BrightSaturaContrastAssemblerSprite:[function(t,e,r){"use strict";cc._RF.push(e,"39f91tJ+rdD7a8sTJznw93F","BrightSaturaContrastAssemblerSprite");var o=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),n=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(i<3?n(s):i>3?n(e,r,s):n(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(r,"__esModule",{value:!0});var i=t("./BrightSaturaContrastAssembler"),s=cc._decorator,a=s.ccclass,c=s.property,p=s.executeInEditMode,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._brightness=1,e._saturation=1,e._constrast=1,e}return o(e,t),Object.defineProperty(e.prototype,"brightness",{get:function(){return this._brightness},set:function(t){this._brightness=t,this.flushProperties()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"saturation",{get:function(){return this._saturation},set:function(t){this._saturation=t,this.flushProperties()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"constrast",{get:function(){return this._constrast},set:function(t){this._constrast=t,this.flushProperties()},enumerable:!1,configurable:!0}),e.prototype.onEnable=function(){t.prototype.onEnable.call(this),this.flushProperties()},e.prototype.flushProperties=function(){var t=this._assembler;t&&(t.brightness=this.brightness,t.constrast=this.constrast,t.saturation=this.saturation,this.setVertsDirty())},e.prototype._resetAssembler=function(){var t=this._assembler=new i.default;this.flushProperties(),t.init(this),this._updateColor()},n([c],e.prototype,"_brightness",void 0),n([c({type:cc.Float,range:[0,3],slide:!0})],e.prototype,"brightness",null),n([c],e.prototype,"_saturation",void 0),n([c({type:cc.Float,range:[0,3],slide:!0})],e.prototype,"saturation",null),n([c],e.prototype,"_constrast",void 0),n([c({type:cc.Float,range:[0,3],slide:!0})],e.prototype,"constrast",null),e=n([a,p],e)}(cc.Sprite);r.default=u,cc._RF.pop()},{"./BrightSaturaContrastAssembler":"BrightSaturaContrastAssembler"}],BrightSaturaContrastAssembler:[function(t,e,r){"use strict";cc._RF.push(e,"643a4aINe5NvYWLBXS8AkMb","BrightSaturaContrastAssembler");var o=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}();Object.defineProperty(r,"__esModule",{value:!0});var n=t("../../common/GTSimpleSpriteAssembler2D"),i=cc.gfx,s=new i.VertexFormat([{name:i.ATTR_POSITION,type:i.ATTR_TYPE_FLOAT32,num:2},{name:i.ATTR_UV0,type:i.ATTR_TYPE_FLOAT32,num:2},{name:i.ATTR_COLOR,type:i.ATTR_TYPE_UINT8,num:4,normalize:!0},{name:"a_brightness",type:i.ATTR_TYPE_FLOAT32,num:1},{name:"a_saturation",type:i.ATTR_TYPE_FLOAT32,num:1},{name:"a_constrast",type:i.ATTR_TYPE_FLOAT32,num:1}]),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.verticesCount=4,e.indicesCount=6,e.uvOffset=2,e.colorOffset=4,e.brightnessOffset=5,e.saturationOffset=6,e.constrastOffset=7,e.floatsPerVert=8,e.brightness=1,e.saturation=1,e.constrast=1,e}return o(e,t),e.prototype.initData=function(){var t=this._renderData;t.createFlexData(0,this.verticesCount,this.indicesCount,this.getVfmt());for(var e=t.iDatas[0],r=e.length/6,o=0,n=0;o<r;o++){var i=4*o;e[n++]=i,e[n++]=i+1,e[n++]=i+2,e[n++]=i+1,e[n++]=i+3,e[n++]=i+2}},e.prototype.getVfmt=function(){return s},e.prototype.getBuffer=function(){return cc.renderer._handle.getBuffer("mesh",this.getVfmt())},e.prototype.updateUVs=function(e){t.prototype.updateUVs.call(this,e);for(var r=this._renderData.vDatas[0],o=0;o<this.verticesCount;++o){var n=this.floatsPerVert*o;r[n+this.brightnessOffset]=this.brightness,r[n+this.saturationOffset]=this.saturation,r[n+this.constrastOffset]=this.constrast}},e}(n.default);r.default=a,cc._RF.pop()},{"../../common/GTSimpleSpriteAssembler2D":"GTSimpleSpriteAssembler2D"}],BrightSaturaContrastTest:[function(t,e,r){"use strict";cc._RF.push(e,"b4f05e15K9Bj72pJrMlUulO","BrightSaturaContrastTest");var o=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),n=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(i<3?n(s):i>3?n(e,r,s):n(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(r,"__esModule",{value:!0});var i=t("./BrightSaturaContrastAssembler/BrightSaturaContrastAssemblerSprite"),s=t("./BrightSaturaContrastUniform/BrightSaturaContrastUniform"),a=cc._decorator,c=a.ccclass,p=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bscAS=null,e.bscU=null,e}return o(e,t),e.prototype.sliderCallback=function(t,e){var r=3*t.progress;switch(e){case"b":this.bscU.brightness=this.bscAS.brightness=r;break;case"s":this.bscU.saturation=this.bscAS.saturation=r;break;case"c":this.bscU.constrast=this.bscAS.constrast=r}},n([p(i.default)],e.prototype,"bscAS",void 0),n([p(s.default)],e.prototype,"bscU",void 0),e=n([c],e)}(cc.Component);r.default=u,cc._RF.pop()},{"./BrightSaturaContrastAssembler/BrightSaturaContrastAssemblerSprite":"BrightSaturaContrastAssemblerSprite","./BrightSaturaContrastUniform/BrightSaturaContrastUniform":"BrightSaturaContrastUniform"}],BrightSaturaContrastUniform:[function(t,e,r){"use strict";cc._RF.push(e,"e1b90/rohdEk4SdmmEZANaD","BrightSaturaContrastUniform");var o=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),n=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(i<3?n(s):i>3?n(e,r,s):n(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(r,"__esModule",{value:!0});var i=cc._decorator,s=i.ccclass,a=i.property,c=i.executeInEditMode,p=i.requireComponent,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._sprite=null,e._brightness=1,e._saturation=1,e._constrast=1,e}return o(e,t),Object.defineProperty(e.prototype,"brightness",{get:function(){return this._brightness},set:function(t){this._brightness=t,this.updateProperties()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"saturation",{get:function(){return this._saturation},set:function(t){this._saturation=t,this.updateProperties()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"constrast",{get:function(){return this._constrast},set:function(t){this._constrast=t,this.updateProperties()},enumerable:!1,configurable:!0}),e.prototype.onEnable=function(){this._sprite||(this._sprite=this.getComponent(cc.Sprite)),this.updateProperties()},e.prototype.updateProperties=function(){this._sprite&&(this._sprite.getMaterial(0).setProperty("brightness",this._brightness),this._sprite.getMaterial(0).setProperty("saturation",this._saturation),this._sprite.getMaterial(0).setProperty("constrast",this._constrast))},n([a],e.prototype,"_brightness",void 0),n([a({type:cc.Float,range:[0,3],slide:!0})],e.prototype,"brightness",null),n([a],e.prototype,"_saturation",void 0),n([a({type:cc.Float,range:[0,3],slide:!0})],e.prototype,"saturation",null),n([a],e.prototype,"_constrast",void 0),n([a({type:cc.Float,range:[0,3],slide:!0})],e.prototype,"constrast",null),e=n([s,c,p(cc.Sprite)],e)}(cc.Component);r.default=u,cc._RF.pop()},{}],CaptureTest:[function(t,e,r){"use strict";cc._RF.push(e,"b242cccb9JMaISIAO+2SJsN","CaptureTest");var o=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),n=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(i<3?n(s):i>3?n(e,r,s):n(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(r,"__esModule",{value:!0});var i=t("./EncodeJPG"),s=cc._decorator,a=s.ccclass,c=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lb=null,e}return o(e,t),e.prototype.encodeJpgCapture=function(){this.lb.string="encodeJpgCapture \n\u7ed3\u679c\u89c1\u63a7\u5236\u53f0\u65e5\u5fd7 \n"+Date.now();var t=new cc.Node;t.zIndex=cc.macro.MAX_ZINDEX,t.parent=this.node.parent;var e=t.addComponent(cc.Camera);e.backgroundColor=cc.Color.TRANSPARENT,e.clearFlags=cc.Camera.ClearFlags.DEPTH|cc.Camera.ClearFlags.STENCIL|cc.Camera.ClearFlags.COLOR,e.cullingMask=4294967295;var r=new cc.RenderTexture,o=cc.game._renderContext;r.initWithSize(this.node.parent.width,this.node.parent.height,o.STENCIL_INDEX8),e.targetTexture=r,e.render(),e.enabled=!1;for(var n=r.readPixels(),s=r.width,a=r.height,c=new Uint8Array(s*a*4),p=4*s,u=0;u<a;u++)for(var f=(a-1-u)*s*4,l=0;l<p;l++)c[u*s*4+l]=n[f+l];var h={data:c,width:s,height:a},d=i.encodeJPG(h,50);cc.log("jpegImageData",d);var _=btoa(function(t){var e,r,o="";for(e=0,r=t.length;e<r;e+=1)o+=String.fromCharCode(t[e]);return o}(d.data));cc.warn("base64","data:image/jpg;base64,"+_),this.scheduleOnce(function(){t.destroy()},0)},e.prototype.canvasToDataURLCapture=function(){this.lb.string="canvas toDataURL \n\u7ed3\u679c\u89c1\u63a7\u5236\u53f0\u65e5\u5fd7 \n"+Date.now();var t=new cc.Node;t.parent=this.node.parent;var e=t.addComponent(cc.Camera);e.backgroundColor=cc.Color.TRANSPARENT,e.clearFlags=cc.Camera.ClearFlags.DEPTH|cc.Camera.ClearFlags.STENCIL|cc.Camera.ClearFlags.COLOR,e.cullingMask=4294967295;var r=new cc.RenderTexture,o=cc.game._renderContext;r.initWithSize(this.node.parent.width,this.node.parent.height,o.STENCIL_INDEX8),e.targetTexture=r,e.render();var n=r.readPixels(),i=document.createElement("canvas"),s=i.getContext("2d"),a=i.width=r.width,c=i.height=r.height;i.width=r.width,i.height=r.height;for(var p=4*a,u=0;u<c;u++){for(var f=c-1-u,l=s.createImageData(a,1),h=f*a*4,d=0;d<p;d++)l.data[d]=n[h+d];s.putImageData(l,0,u)}var _=i.toDataURL("image/jpeg");cc.warn("canvasToDataURLCapture",_),this.scheduleOnce(function(){t.destroy()},0)},e.prototype.onLoad=function(){cc.warn("\n/*\nhttps://mp.weixin.qq.com/s/Ht0kIbaeBEds_wUeUlu8JQ\n\n*/\n\n// \u6b22\u8fce\u5173\u6ce8\u5fae\u4fe1\u516c\u4f17\u53f7[\u767d\u7389\u65e0\u51b0]\n\n/**\n\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\n\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\n\u2588\u2588\u2588\u2588 \u2584\u2584\u2584\u2584\u2584 \u2588\u2580\u2588 \u2588\u2584\u2588\u2588\u2580\u2584 \u2584\u2584\u2588\u2588 \u2584\u2584\u2584\u2584\u2584 \u2588\u2588\u2588\u2588\n\u2588\u2588\u2588\u2588 \u2588   \u2588 \u2588\u2580\u2580\u2580\u2588 \u2580\u2584\u2580\u2580\u2580\u2588\u2584\u2580\u2588 \u2588   \u2588 \u2588\u2588\u2588\u2588\n\u2588\u2588\u2588\u2588 \u2588\u2584\u2584\u2584\u2588 \u2588\u2580 \u2588\u2580\u2580\u2580 \u2580\u2584\u2584 \u2584 \u2588 \u2588\u2584\u2584\u2584\u2588 \u2588\u2588\u2588\u2588\n\u2588\u2588\u2588\u2588\u2584\u2584\u2584\u2584\u2584\u2584\u2584\u2588\u2584\u2580 \u2580\u2584\u2588 \u2580\u2584\u2588\u2584\u2580 \u2588\u2584\u2584\u2584\u2584\u2584\u2584\u2584\u2588\u2588\u2588\u2588\n\u2588\u2588\u2588\u2588\u2584\u2584  \u2584\u2580\u2584\u2584 \u2584\u2580\u2584\u2580\u2580\u2584\u2584\u2584 \u2588 \u2588 \u2580 \u2580\u2584\u2588\u2584\u2580\u2588\u2588\u2588\u2588\n\u2588\u2588\u2588\u2588\u2580 \u2584  \u2588\u2584\u2588\u2580\u2588\u2584\u2588\u2580\u2588  \u2580\u2584 \u2588 \u2580 \u2584\u2584\u2588\u2588\u2580\u2588\u2588\u2588\u2588\u2588\n\u2588\u2588\u2588\u2588 \u2584\u2580\u2584\u2584\u2580\u2584 \u2588\u2584\u2584\u2588\u2584 \u2580\u2584\u2580 \u2580 \u2580 \u2580\u2580\u2580\u2584 \u2588\u2580\u2588\u2588\u2588\u2588\n\u2588\u2588\u2588\u2588\u2580 \u2588\u2588 \u2580\u2584 \u2584\u2588\u2588 \u2584\u2588\u2580\u2584 \u2588\u2588\u2580 \u2580 \u2588\u2584\u2588\u2584\u2580\u2588\u2588\u2588\u2588\u2588\n\u2588\u2588\u2588\u2588   \u2584\u2588\u2588\u2584\u2580 \u2588\u2580\u2584\u2580\u2584\u2580\u2584\u2584\u2584\u2584 \u2580\u2588\u2580 \u2580\u2580 \u2588\u2580\u2588\u2588\u2588\u2588\n\u2588\u2588\u2588\u2588 \u2588\u2584 \u2588 \u2584 \u2588\u2580 \u2588\u2580\u2584\u2588\u2584\u2584\u2584\u2584\u2580\u2584\u2584\u2588\u2584\u2584\u2584\u2584\u2580\u2588\u2588\u2588\u2588\u2588\n\u2588\u2588\u2588\u2588\u2584\u2588\u2584\u2588\u2584\u2588\u2584\u2588\u2580 \u2584\u2588\u2584   \u2580\u2584\u2588\u2588 \u2584\u2584\u2584 \u2580   \u2588\u2588\u2588\u2588\n\u2588\u2588\u2588\u2588 \u2584\u2584\u2584\u2584\u2584 \u2588\u2584\u2588\u2588 \u2584\u2588\u2580  \u2584   \u2588\u2584\u2588  \u2584\u2580\u2588\u2588\u2588\u2588\u2588\n\u2588\u2588\u2588\u2588 \u2588   \u2588 \u2588 \u2584\u2588\u2584 \u2580  \u2580\u2580\u2588\u2588 \u2584\u2584\u2584\u2584 \u2584\u2580 \u2588\u2588\u2588\u2588\n\u2588\u2588\u2588\u2588 \u2588\u2584\u2584\u2584\u2588 \u2588 \u2584\u2584\u2580 \u2584\u2588\u2584\u2588\u2584\u2588\u2584 \u2580\u2584   \u2584 \u2588\u2588\u2588\u2588\u2588\n\u2588\u2588\u2588\u2588\u2584\u2584\u2584\u2584\u2584\u2584\u2584\u2588\u2584\u2588\u2588\u2584\u2584\u2588\u2588\u2584\u2584\u2584\u2588\u2588\u2588\u2588\u2588\u2584\u2584\u2588\u2584\u2588\u2588\u2588\u2588\u2588\u2588\n\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\n\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\n    */\n            ")},n([c(cc.Label)],e.prototype,"lb",void 0),e=n([a],e)}(cc.Component);r.default=p,cc._RF.pop()},{"./EncodeJPG":"EncodeJPG"}],DissolveTest:[function(t,e,r){"use strict";cc._RF.push(e,"4ebf5+LjkdC7bEhwfIM9y46","DissolveTest");var o=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),n=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(i<3?n(s):i>3?n(e,r,s):n(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(r,"__esModule",{value:!0});var i=cc._decorator,s=i.ccclass,a=i.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sp_dissolve=[],e}return o(e,t),e.prototype.sliderCallback=function(t,e){var r=1*t.progress;this.sp_dissolve.forEach(function(t){t.getMaterial(0).setProperty("noiseThreshold",r)})},n([a([cc.Sprite])],e.prototype,"sp_dissolve",void 0),e=n([s],e)}(cc.Component);r.default=c,cc._RF.pop()},{}],EncodeJPG:[function(t,e,r){"use strict";function o(t){Math.round;var e,r,o,n,i,s=Math.floor,a=new Array(64),c=new Array(64),p=new Array(64),u=new Array(64),f=new Array(65535),l=new Array(65535),h=new Array(64),d=new Array(64),_=[],y=0,v=7,g=new Array(64),m=new Array(64),b=new Array(64),P=new Array(256),O=new Array(2048),T=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],R=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],A=[0,1,2,3,4,5,6,7,8,9,10,11],w=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],S=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],C=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],F=[0,1,2,3,4,5,6,7,8,9,10,11],D=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],x=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function j(t){for(var e=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],r=0;r<64;r++){var o=s((e[r]*t+50)/100);o<1?o=1:o>255&&(o=255),a[T[r]]=o}for(var n=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],i=0;i<64;i++){var f=s((n[i]*t+50)/100);f<1?f=1:f>255&&(f=255),c[T[i]]=f}for(var l=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],h=0,d=0;d<8;d++)for(var _=0;_<8;_++)p[h]=1/(a[T[h]]*l[d]*l[_]*8),u[h]=1/(c[T[h]]*l[d]*l[_]*8),h++}function M(t,e){for(var r=0,o=0,n=new Array,i=1;i<=16;i++){for(var s=1;s<=t[i];s++)n[e[o]]=[],n[e[o]][0]=r,n[e[o]][1]=i,o++,r++;r*=2}return n}function V(){for(var t=1,e=2,r=1;r<=15;r++){for(var o=t;o<e;o++)l[32767+o]=r,f[32767+o]=[],f[32767+o][1]=r,f[32767+o][0]=o;for(var n=-(e-1);n<=-t;n++)l[32767+n]=r,f[32767+n]=[],f[32767+n][1]=r,f[32767+n][0]=e-1+n;t<<=1,e<<=1}}function E(){for(var t=0;t<256;t++)O[t]=19595*t,O[t+256>>0]=38470*t,O[t+512>>0]=7471*t+32768,O[t+768>>0]=-11059*t,O[t+1024>>0]=-21709*t,O[t+1280>>0]=32768*t+8421375,O[t+1536>>0]=-27439*t,O[t+1792>>0]=-5329*t}function B(t){for(var e=t[0],r=t[1]-1;r>=0;)e&1<<r&&(y|=1<<v),r--,--v<0&&(255==y?(U(255),U(0)):U(y),v=7,y=0)}function U(t){_.push(t)}function L(t){U(t>>8&255),U(255&t)}function I(t,e){var r,o,n,i,s,a,c,p,u,f,l=0;for(u=0;u<8;++u){r=t[l],o=t[l+1],n=t[l+2],i=t[l+3],s=t[l+4],a=t[l+5],c=t[l+6];var d=r+(p=t[l+7]),_=r-p,y=o+c,v=o-c,g=n+a,m=n-a,b=i+s,P=i-s,O=d+b,T=d-b,R=y+g,A=y-g;t[l]=O+R,t[l+4]=O-R;var w=.707106781*(A+T);t[l+2]=T+w,t[l+6]=T-w;var S=.382683433*((O=P+m)-(A=v+_)),C=.5411961*O+S,F=1.306562965*A+S,D=.707106781*(R=m+v),x=_+D,j=_-D;t[l+5]=j+C,t[l+3]=j-C,t[l+1]=x+F,t[l+7]=x-F,l+=8}for(l=0,u=0;u<8;++u){r=t[l],o=t[l+8],n=t[l+16],i=t[l+24],s=t[l+32],a=t[l+40],c=t[l+48];var M=r+(p=t[l+56]),V=r-p,E=o+c,B=o-c,U=n+a,L=n-a,I=i+s,N=i-s,G=M+I,J=M-I,k=E+U,q=E-U;t[l]=G+k,t[l+32]=G-k;var W=.707106781*(q+J);t[l+16]=J+W,t[l+48]=J-W;var Y=.382683433*((G=N+L)-(q=B+V)),X=.5411961*G+Y,z=1.306562965*q+Y,H=.707106781*(k=L+B),K=V+H,Q=V-H;t[l+40]=Q+X,t[l+24]=Q-X,t[l+8]=K+z,t[l+56]=K-z,l++}for(u=0;u<64;++u)f=t[u]*e[u],h[u]=f>0?f+.5|0:f-.5|0;return h}function N(t){if(t){L(65505),69===t[0]&&120===t[1]&&105===t[2]&&102===t[3]?L(t.length+2):(L(t.length+5+2),U(69),U(120),U(105),U(102),U(0));for(var e=0;e<t.length;e++)U(t[e])}}function G(t,e){L(65472),L(17),U(8),L(e),L(t),U(3),U(1),U(17),U(0),U(2),U(17),U(1),U(3),U(17),U(1)}function J(){L(65499),L(132),U(0);for(var t=0;t<64;t++)U(a[t]);U(1);for(var e=0;e<64;e++)U(c[e])}function k(){L(65476),L(418),U(0);for(var t=0;t<16;t++)U(R[t+1]);for(var e=0;e<=11;e++)U(A[e]);U(16);for(var r=0;r<16;r++)U(w[r+1]);for(var o=0;o<=161;o++)U(S[o]);U(1);for(var n=0;n<16;n++)U(C[n+1]);for(var i=0;i<=11;i++)U(F[i]);U(17);for(var s=0;s<16;s++)U(D[s+1]);for(var a=0;a<=161;a++)U(x[a])}function q(t){void 0!==t&&t.constructor===Array&&t.forEach(function(t){if("string"==typeof t){L(65534);var e,r=t.length;for(L(r+2),e=0;e<r;e++)U(t.charCodeAt(e))}})}function W(t,e,r,o,n){for(var i,s=n[0],a=n[240],c=I(t,e),p=0;p<64;++p)d[T[p]]=c[p];var u=d[0]-r;r=d[0],0==u?B(o[0]):(B(o[l[i=32767+u]]),B(f[i]));for(var h=63;h>0&&0==d[h];h--);if(0==h)return B(s),r;for(var _,y=1;y<=h;){for(var v=y;0==d[y]&&y<=h;++y);var g=y-v;if(g>=16){_=g>>4;for(var m=1;m<=_;++m)B(a);g&=15}i=32767+d[y],B(n[(g<<4)+l[i]]),B(f[i]),y++}return 63!=h&&B(s),r}function Y(){for(var t=String.fromCharCode,e=0;e<256;e++)P[e]=t(e)}function X(t){if(t<=0&&(t=1),t>100&&(t=100),i!=t){j(t<50?Math.floor(5e3/t):Math.floor(200-2*t)),i=t}}this.encode=function(t,i){(new Date).getTime();i&&X(i),_=new Array,y=0,v=7,L(65496),L(65504),L(16),U(74),U(70),U(73),U(70),U(0),U(1),U(1),U(0),L(1),L(1),U(0),U(0),q(t.comments),N(t.exifBuffer),J(),G(t.width,t.height),k(),L(65498),L(12),U(3),U(1),U(0),U(2),U(17),U(3),U(17),U(0),U(63),U(0);var s=0,a=0,c=0;y=0,v=7,this.encode.displayName="_encode_";for(var f,l,h,d,P,T,R,A,w,S=t.data,C=t.width,F=t.height,D=4*C,x=0;x<F;){for(f=0;f<D;){for(T=P=D*x+f,R=-1,A=0,w=0;w<64;w++)T=P+(A=w>>3)*D+(R=4*(7&w)),x+A>=F&&(T-=D*(x+1+A-F)),f+R>=D&&(T-=f+R-D+4),l=S[T++],h=S[T++],d=S[T++],g[w]=(O[l]+O[h+256>>0]+O[d+512>>0]>>16)-128,m[w]=(O[l+768>>0]+O[h+1024>>0]+O[d+1280>>0]>>16)-128,b[w]=(O[l+1280>>0]+O[h+1536>>0]+O[d+1792>>0]>>16)-128;s=W(g,p,s,e,o),a=W(m,u,a,r,n),c=W(b,u,c,r,n),f+=32}x+=8}if(v>=0){var j=[];j[1]=v+1,j[0]=(1<<v+1)-1,B(j)}return L(65497),new Uint8Array(_)},function(){(new Date).getTime();t||(t=50),Y(),e=M(R,A),r=M(C,F),o=M(w,S),n=M(D,x),V(),E(),X(t),(new Date).getTime()}()}cc._RF.push(e,"76d910d2IxFvqGbKHrB690i","EncodeJPG"),Object.defineProperty(r,"__esModule",{value:!0}),r.encodeJPG=void 0,r.encodeJPG=function(t,e){return void 0===e&&(e=50),{data:new o(e).encode(t,e),width:t.width,height:t.height}},cc._RF.pop()},{}],GTAssembler2D:[function(t,e,r){"use strict";cc._RF.push(e,"d779c1vtRNPkJC/CpqlAJrQ","GTAssembler2D");var o=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}();Object.defineProperty(r,"__esModule",{value:!0});var n=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.verticesCount=4,e.indicesCount=6,e.floatsPerVert=5,e.uvOffset=2,e.colorOffset=4,e._renderData=null,e._local=null,e}return o(e,t),e.prototype.init=function(e){t.prototype.init.call(this,e),this._renderData=new cc.RenderData,this._renderData.init(this),this.initLocal(),this.initData()},Object.defineProperty(e.prototype,"verticesFloats",{get:function(){return this.verticesCount*this.floatsPerVert},enumerable:!1,configurable:!0}),e.prototype.initData=function(){this._renderData.createQuadData(0,this.verticesFloats,this.indicesCount)},e.prototype.initLocal=function(){this._local=[],this._local.length=4},e.prototype.updateColor=function(t,e){var r=this._renderData.uintVDatas[0];if(r){e=null!=e?e:t.node.color._val;for(var o=this.floatsPerVert,n=this.colorOffset,i=r.length;n<i;n+=o)r[n]=e}},e.prototype.getBuffer=function(){return cc.renderer._handle._meshBuffer},e.prototype.updateWorldVerts=function(t){this.updateWorldVertsWebGL(t)},e.prototype.updateWorldVertsWebGL=function(t){var e=this._local,r=this._renderData.vDatas[0],o=t.node._worldMatrix.m,n=o[0],i=o[1],s=o[4],a=o[5],c=o[12],p=o[13],u=e[0],f=e[2],l=e[1],h=e[3],d=1===n&&0===i&&0===s&&1===a,_=0,y=this.floatsPerVert;if(d)r[_]=u+c,r[_+1]=l+p,r[_+=y]=f+c,r[_+1]=l+p,r[_+=y]=u+c,r[_+1]=h+p,r[_+=y]=f+c,r[_+1]=h+p;else{var v=n*u,g=n*f,m=i*u,b=i*f,P=s*l,O=s*h,T=a*l,R=a*h;r[_]=v+P+c,r[_+1]=m+T+p,r[_+=y]=g+P+c,r[_+1]=b+T+p,r[_+=y]=v+O+c,r[_+1]=m+R+p,r[_+=y]=g+O+c,r[_+1]=b+R+p}},e.prototype.updateWorldVertsNative=function(t){var e=this._local,r=this._renderData.vDatas[0],o=this.floatsPerVert,n=e[0],i=e[2],s=e[1],a=e[3],c=0;r[c]=n,r[c+1]=s,r[c+=o]=i,r[c+1]=s,r[c+=o]=n,r[c+1]=a,r[c+=o]=i,r[c+1]=a},e.prototype.fillBuffers=function(t,e){e.worldMatDirty&&this.updateWorldVerts(t);var r=this._renderData,o=r.vDatas[0],n=r.iDatas[0],i=this.getBuffer(),s=i.request(this.verticesCount,this.indicesCount),a=s.byteOffset>>2,c=i._vData;o.length+a>c.length?c.set(o.subarray(0,c.length-a),a):c.set(o,a);for(var p=i._iData,u=s.indiceOffset,f=s.vertexOffset,l=0,h=n.length;l<h;l++)p[u++]=f+n[l]},e.prototype.packToDynamicAtlas=function(t,e){if(!e._original&&cc.dynamicAtlasManager&&e._texture.packable){var r=cc.dynamicAtlasManager.insertSpriteFrame(e);r&&e._setDynamicAtlasFrame(r)}var o=t._materials[0];o&&o.getProperty("texture")!==e._texture&&(t._vertsDirty=!0,t._updateMaterial())},e.prototype.updateUVs=function(t){for(var e=[0,0,1,0,0,1,1,1],r=this.uvOffset,o=this.floatsPerVert,n=this._renderData.vDatas[0],i=0;i<4;i++){var s=2*i,a=o*i+r;n[a]=e[s],n[a+1]=e[s+1]}},e.prototype.updateVerts=function(t){var e,r,o,n,i=t.node,s=i.width,a=i.height,c=i.anchorX*s,p=i.anchorY*a;e=-c,r=-p,o=s-c,n=a-p;var u=this._local;u[0]=e,u[1]=r,u[2]=o,u[3]=n,this.updateWorldVerts(t)},e.prototype.updateRenderData=function(t){t._vertsDirty&&(this.updateUVs(t),this.updateVerts(t),t._vertsDirty=!1)},e}(cc.Assembler);r.default=n,cc._RF.pop()},{}],GTSimpleSpriteAssembler2D:[function(t,e,r){"use strict";cc._RF.push(e,"71835KhIcdHOKRUuZwxuxiN","GTSimpleSpriteAssembler2D");var o=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}();Object.defineProperty(r,"__esModule",{value:!0});var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.updateRenderData=function(e){this.packToDynamicAtlas(e,e._spriteFrame),t.prototype.updateRenderData.call(this,e)},e.prototype.updateUVs=function(t){for(var e=t._spriteFrame.uv,r=this.uvOffset,o=this.floatsPerVert,n=this._renderData.vDatas[0],i=0;i<4;i++){var s=2*i,a=o*i+r;n[a]=e[s],n[a+1]=e[s+1]}},e.prototype.updateVerts=function(t){var e,r,o,n,i=t.node,s=i.width,a=i.height,c=i.anchorX*s,p=i.anchorY*a;if(t.trim)e=-c,r=-p,o=s-c,n=a-p;else{var u=t.spriteFrame,f=u._originalSize.width,l=u._originalSize.height,h=u._rect.width,d=u._rect.height,_=u._offset,y=s/f,v=a/l,g=_.x+(f-h)/2,m=_.x-(f-h)/2;e=g*y-c,r=(_.y+(l-d)/2)*v-p,o=s+m*y-c,n=a+(_.y-(l-d)/2)*v-p}var b=this._local;b[0]=e,b[1]=r,b[2]=o,b[3]=n,this.updateWorldVerts(t)},e}(t("./GTAssembler2D").default);r.default=n,cc._RF.pop()},{"./GTAssembler2D":"GTAssembler2D"}],GoToScene:[function(t,e,r){"use strict";cc._RF.push(e,"36bcaLAH0xPprqVrxzX0FT/","GoToScene");var o=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),n=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(i<3?n(s):i>3?n(e,r,s):n(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(r,"__esModule",{value:!0});var i=cc._decorator,s=i.ccclass,a=i.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sceneName="home",e}return o(e,t),e.prototype.onLoad=function(){this.node.on(cc.Node.EventType.TOUCH_END,this.gotoScene,this)},e.prototype.gotoScene=function(){cc.director.loadScene(this.sceneName)},n([a],e.prototype,"sceneName",void 0),e=n([s],e)}(cc.Component);r.default=c,cc._RF.pop()},{}],LiquidBox2dTest:[function(t,e,r){"use strict";cc._RF.push(e,"d1c1dIqiXhGe6Jt5QXa0MOB","LiquidBox2dTest");var o=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),n=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(i<3?n(s):i>3?n(e,r,s):n(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(r,"__esModule",{value:!0});var i,s=cc._decorator,a=s.ccclass,c=s.property,p=cc.PhysicsManager.PTM_RATIO,u=cc.gfx,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.meshRenderer=null,e.spriteFrame=null,e}return o(e,t),e.prototype.onLoad=function(){var t=cc.director.getPhysicsManager();t.enabled=!0,t.debugDrawFlags=7;var e=this.spriteFrame;if(e){var r=e.getTexture();r&&r.loaded?this.onSpriteFrameLoaded():e.once("load",this.onSpriteFrameLoaded,this)}},e.prototype.onSpriteFrameLoaded=function(){var t=this.spriteFrame.getTexture();this.meshRenderer.node.width=t.width,this.meshRenderer.node.height=t.height;var e=cc.director.getPhysicsManager()._world,r=new b2.ParticleSystemDef;r.radius=2/p,r.elasticStrength=1.1,i=e.CreateParticleSystem(r);var o=new b2.PolygonShape,n=new b2.ParticleGroupDef;o.SetAsBox(this.meshRenderer.node.width/2/p,this.meshRenderer.node.height/2/p),n.flags=b2.ParticleFlag.b2_elasticParticle,n.groupFlags=b2.ParticleGroupFlag.b2_solidParticleGroup;var s=this.meshRenderer.node.convertToWorldSpaceAR(cc.Vec2.ZERO).divSelf(p);n.position.Set(s.x,s.y),n.angularVelocity=Math.random()-.5,n.shape=o;i.CreateParticleGroup(n);var a=i.GetParticleCount(),c=i.GetPositionBuffer(),f=new cc.Mesh;f.init(new u.VertexFormat([{name:u.ATTR_POSITION,type:u.ATTR_TYPE_FLOAT32,num:2},{name:u.ATTR_UV0,type:u.ATTR_TYPE_FLOAT32,num:2}]),a,!0);var l=this.meshRenderer.getMaterial(0),h=this.spriteFrame.uv,d=h[0],_=h[6],y=h[3],v=h[5];l.setProperty("texture",t),l.setProperty("u_pointSize",4);for(var g=[],m=[],b=[],P=0;P<a;++P){var O=c[P].x*p,T=c[P].y*p,R=this.meshRenderer.node.convertToNodeSpaceAR(cc.v2(O,T));g.push(R);var A=this._lerp(d,_,(R.x+t.width/2)/t.width),w=this._lerp(y,v,(R.y+t.height/2)/t.height);b.push(cc.v2(A,w));var S=P;m.push(S)}f.setVertices(u.ATTR_POSITION,g),f.setVertices(u.ATTR_UV0,b),f.setPrimitiveType(u.PT_POINTS,0),f.setIndices(m),this.meshRenderer.mesh=f,cc.log("this.meshRenderer",this.meshRenderer),cc.log("vertexes",g),cc.log("uvs",b),cc.log("ids",m)},e.prototype._lerp=function(t,e,r){return t+r*(e-t)},e.prototype.lateUpdate=function(){if(i){for(var t=i.GetParticleCount(),e=i.GetPositionBuffer(),r=[],o=0;o<t;++o){var n=e[o].x*p,s=e[o].y*p,a=this.meshRenderer.node.convertToNodeSpaceAR(cc.v2(n,s));r.push(a)}this.meshRenderer.mesh.setVertices(u.ATTR_POSITION,r),this.meshRenderer.markForRender(!0)}},e.prototype.onDestroy=function(){cc.log("onDestroy"),cc.director.getPhysicsManager()._world.DestroyParticleSystem(i),i=null},n([c(cc.MeshRenderer)],e.prototype,"meshRenderer",void 0),n([c(cc.SpriteFrame)],e.prototype,"spriteFrame",void 0),e=n([a],e)}(cc.Component);r.default=f,cc._RF.pop()},{}],MeshPolygonSprite:[function(t,e,r){"use strict";cc._RF.push(e,"f082dK7mmJB7afrjpa3Fd7b","MeshPolygonSprite");var o=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),n=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(i<3?n(s):i>3?n(e,r,s):n(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(r,"__esModule",{value:!0});var i=cc.gfx,s=cc._decorator,a=s.ccclass,c=s.property,p=s.executeInEditMode,u=s.requireComponent,f=s.menu,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._offset=cc.v2(0,0),e._spriteFrame=null,e._vertexes=[cc.v2(0,0),cc.v2(0,100),cc.v2(100,100),cc.v2(100,0)],e.renderer=null,e.mesh=null,e._meshCache={},e}return o(e,t),Object.defineProperty(e.prototype,"offset",{get:function(){return this._offset},set:function(t){this._offset=t,this._updateMesh(),this._applyVertexes()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"spriteFrame",{get:function(){return this._spriteFrame},set:function(t){this._spriteFrame=t,this._refreshAll()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vertexes",{get:function(){return this._vertexes},set:function(t){this._vertexes=t,this._updateMesh(),this._applyVertexes()},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this._meshCache={};var t=this.node.getComponent(cc.MeshRenderer)||this.node.addComponent(cc.MeshRenderer);t.mesh=null,this.renderer=t;var e=cc.Material.getBuiltinMaterial("unlit");t.setMaterial(0,e)},e.prototype.onEnable=function(){this._refreshAll()},e.prototype._refreshAll=function(){this._updateMesh(),this._applySpriteFrame(),this._applyVertexes()},e.prototype._updateMesh=function(){var t=this._meshCache[this.vertexes.length];t||((t=new cc.Mesh).init(new i.VertexFormat([{name:i.ATTR_POSITION,type:i.ATTR_TYPE_FLOAT32,num:2},{name:i.ATTR_UV0,type:i.ATTR_TYPE_FLOAT32,num:2}]),this.vertexes.length,!0),this._meshCache[this.vertexes.length]=t),cc.log(t.nativeUrl),this.mesh=t},e.prototype._lerp=function(t,e,r){return t+r*(e-t)},e.prototype._applyVertexes=function(){var t=this.mesh;if(t.setVertices(i.ATTR_POSITION,this.vertexes),this._calculateUV(),this.vertexes.length>=3){var e=[],r=this.vertexes.map(function(t){return{x:t.x,y:t.y}}),o=new poly2tri.SweepContext(r,{cloneArrays:!0});try{o.triangulate(),o.getTriangles().forEach(function(t){t.getPoints().forEach(function(t){var o=r.indexOf(t);e.push(o)})})}catch(t){cc.error("poly2tri error",t)}0===e.length&&(cc.log("\u8ba1\u7b97\u9876\u70b9\u7d22\u5f15 \u5931\u8d25"),e.push.apply(e,this.vertexes.map(function(t,e){return e}))),t.setIndices(e),this.renderer.mesh=t}},e.prototype._calculateUV=function(){var t=this.mesh;if(this.spriteFrame){for(var e=this.spriteFrame.uv,r=this.spriteFrame.getTexture(),o=e[0],n=e[6],s=e[3],a=e[5],c=[],p=0,u=this.vertexes;p<u.length;p++){var f=u[p],l=this._lerp(o,n,(f.x+r.width/2+this.offset.x)/r.width),h=this._lerp(s,a,(f.y+r.height/2-this.offset.y)/r.height);c.push(cc.v2(l,h))}t.setVertices(i.ATTR_UV0,c)}},e.prototype._applySpriteFrame=function(){if(this.spriteFrame){var t=this.renderer.getMaterial(0),e=this.spriteFrame.getTexture();t.define("USE_DIFFUSE_TEXTURE",!0),t.setProperty("diffuseTexture",e)}},n([c],e.prototype,"_offset",void 0),n([c({type:cc.Vec2,tooltip:"\u4f4d\u7f6e\u504f\u79fb\u91cf"})],e.prototype,"offset",null),n([c],e.prototype,"_spriteFrame",void 0),n([c({type:cc.SpriteFrame,tooltip:"\u7cbe\u7075\u7684\u7cbe\u7075\u5e27"})],e.prototype,"spriteFrame",null),n([c],e.prototype,"_vertexes",void 0),n([c({type:cc.Vec2,tooltip:"\u9876\u70b9\u5750\u6807"})],e.prototype,"vertexes",null),e=n([a,p,u(cc.MeshRenderer),f("lamyoung.com/MeshPolygonSprite")],e)}(cc.Component);r.default=l,cc._RF.pop()},{}],Sprite2dLightTest:[function(t,e,r){"use strict";cc._RF.push(e,"7a81dFtSHFEzqrH1552t4PQ","Sprite2dLightTest");var o=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),n=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(i<3?n(s):i>3?n(e,r,s):n(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(r,"__esModule",{value:!0});var i=cc._decorator,s=i.ccclass,a=i.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mtl_sprite_2d_light=null,e._lightPos=new cc.Vec4(0,0,1,1),e}return o(e,t),e.prototype.sliderCallback=function(t,e){var r=e.split(","),o=r[0],n=r[1],i=r[2],s=Number(i),a=Number(n),c=t.progress*(s-a)+a;this._lightPos[o]=c,this.mtl_sprite_2d_light.setProperty("lightPos",this._lightPos)},n([a(cc.Material)],e.prototype,"mtl_sprite_2d_light",void 0),e=n([s],e)}(cc.Component);r.default=c,cc._RF.pop()},{}]},{},["GoToScene","GTAssembler2D","GTSimpleSpriteAssembler2D","BrightSaturaContrastAssembler","BrightSaturaContrastAssemblerSprite","BrightSaturaContrastTest","BrightSaturaContrastUniform","MeshPolygonSprite","LiquidBox2dTest","DissolveTest","Sprite2dLightTest","CaptureTest","EncodeJPG"]);