var NOTIFICATION=function(){var r={};function o(o,e,t){if("string"==typeof o&&"function"==typeof e&&void 0!==t){var f=r[o];if(void 0!==f)for(var a=0;a<f.length;a++){var c=f[a];if(c&&c.callback===e&&c.target===t){f.splice(a,1);break}}}else cc.error("GLOBAL_DEF.js: NOTIFICATION method 'off' param error!")}return{on:function(o,e,t){"string"==typeof o&&"function"==typeof e&&void 0!==t?(void 0===r[o]&&(r[o]=[]),r[o].push({callback:e,target:t})):cc.error("GLOBAL_DEF.js: NOTIFICATION method 'on' param error!")},once:function(o,e,t){"string"==typeof o&&"function"==typeof e&&void 0!==t?(void 0===r[o]&&(r[o]=[]),r[o].push({callback:e,target:t,once:!0})):cc.error("GLOBAL_DEF.js: NOTIFICATION method 'on' param error!")},emit:function(e,t){if("string"==typeof e){var f=r[e];if(void 0!==f)for(var a=0;a<f.length;a++){var c=f[a];c&&(c.callback.call(c.target,t),c.once&&o(e,c.callback,c.target))}}else cc.error("GLOBAL_DEF.js: NOTIFICATION method 'emit' param error!")},off:o,offByType:function(o){if("string"==typeof o){for(;r[o].length>1;)r[o].shift();r[o]=void 0}else cc.error("GLOBAL_DEF.js: NOTIFICATION method 'offByType' param error!")},offByTarget:function(o){if(void 0!==o){for(var e in r)for(var t=0;t<r[e].length;t++)if(r[e][t].target===o){r[e].splice(t,1),cc.log("off "+e);break}}else cc.error("GLOBAL_DEF.js: NOTIFICATION method 'offByTarget' param error!")}}}();